var Fusion={singleFile:true};var Jx={};Object.inheritFrom=function(B,E,C){var D;if(typeof E=="function"){D=E.prototype}else{D=E}for(property in D){if(typeof B[property]=="undefined"){B[property]=D[property]}}if(D.initialize){D.initialize.apply(B,C)}};(function(){var singleFile=(typeof Fusion=="object"&&Fusion.singleFile);window.Fusion={Tool:{},Widget:{},Event:{lastEventId:1},Lib:{},Layers:{},Constant:{},applicationDefinition:null,sRedirectScript:"",bForceRedirect:false,sScriptLang:"php",locale:"en",Strings:{},fusionURL:null,configuration:null,oBroker:null,aScripts:[],aLoadingScripts:[],loadState:null,UNLOADED:0,LOAD_CONFIG:1,LOAD_WIDGETS:2,LOAD_COMPLETE:3,UNKNOWN:0,INCHES:1,FEET:2,YARDS:3,MILES:4,NAUTICALMILES:5,MILLIMETERS:6,CENTIMETERS:7,METERS:8,KILOMETERS:9,DEGREES:10,DECIMALDEGREES:11,DMS:12,PIXELS:13,aUnitPerMeter:[1,39.37,3.2808,1.0936133,0.00062137,0.000539956803,1000,100,1,0.001,0.000009044,0.000009044,0.000009044,1],aMeterPerUnit:[1,0.0254,0.3048,0.9144,1609.344,1852,0.001,0.01,1,1000,111061.75033,111061.75033,111061.75033,1],aUnitNames:["Unknown","Inches","Feet","Yards","Miles","Nautical Miles","Millimeters","Centimeters","Meters","Kilometers","Degrees","Decimal Degrees","Degrees Minutes Seconds","Pixels"],aUnitAbbr:["unk","in","ft","yd","mi","nm","mm","cm","m","km","&deg;","&deg;","&deg;","px"],initialize:function(options){options=options||{};var sessionIdParam=this.getQueryParam("Session");this.sessionId=sessionIdParam||options.sessionId||this.sessionId;if(options.applicationDefinitionURL){this.applicationDefinitionURL=options.applicationDefinitionURL}else{var queryAppDef=this.getQueryParam("ApplicationDefinition");if(queryAppDef){this.applicationDefinitionURL=queryAppDef.split("+").join(" ");this.appDefJson=null}else{this.applicationDefinitionURL="ApplicationDefinition.xml"}}if(Fusion._singleFile){OpenLayers._getScriptLocation=function(){return Fusion.fusionURL+"lib/OpenLayers/"}}this.initializeLocale();var test=window.location.protocol+"//"+window.location.host;var configUrl="config.json";if(((this.fusionURL.indexOf("http://")<0)||(this.fusionURL.indexOf(test,0)==0))&&!(this.bForceRedirect)){this.sRedirectScript=""}else{this.sRedirectScript="redirect.php";configUrl+="&method=get"}if(Fusion.configuration){this.serverSet()}else{var options={onSuccess:OpenLayers.Function.bind(this.getConfigCB,this),onFailure:OpenLayers.Function.bind(this.serverFailed,this),method:"get"};this.ajaxRequest(configUrl,options)}},initializeLocale:function(locale){OpenLayers.Lang.setCode(locale?locale:window._FusionLocale);this.locale=OpenLayers.Lang.code;if(!OpenLayers.Lang[this.locale]){OpenLayers.Lang[this.locale]=OpenLayers.Lang[OpenLayers.Lang.defaultCode]}if(!Fusion.Strings[this.locale]){Fusion.Strings[this.locale]=Fusion.Strings[OpenLayers.Lang.defaultCode]}OpenLayers.Lang[this.locale]=OpenLayers.Util.extend(OpenLayers.Lang[this.locale],Fusion.Strings[this.locale])},setLoadState:function(state){this.loadState=state;switch(state){case this.LOAD_CONFIG:this.loadConfig();break;case this.LOAD_WIDGETS:this.loadQueuedScripts();break;case this.LOAD_COMPLETE:if(this.applicationDefinition){this.applicationDefinition.create();this.triggerEvent(Fusion.Event.FUSION_INITIALIZED)}else{Fusion.reportError(new Fusion.Error(Fusion.Error.FATAL,"failed to create AppDef object"))}break}},loadQueuedScripts:function(){if(this.aScripts.length==0){this.setLoadState(this.LOAD_COMPLETE);return }this.aLoadingScripts=[];for(var i=0;i<this.aScripts.length;i++){this.aLoadingScripts[i]=this.aScripts[i]}this.aScripts=[];var loadingScriptsTemp=[];for(var i=0;i<this.aLoadingScripts.length;i++){loadingScriptsTemp[i]=this.aLoadingScripts[i]}for(var i=0;i<loadingScriptsTemp.length;i++){document.getElementsByTagName("head")[0].appendChild(loadingScriptsTemp[i])}this.checkLoadInterval=window.setInterval(OpenLayers.Function.bind(this.checkLoadingScripts,this),500)},queueScript:function(url){if(!document.getElementById(url)&&!this.aScripts[url]){var script=document.createElement("script");script.defer=false;script.type="text/javascript";script.id=url;script.src=this.getFusionURL()+url;script.onload=OpenLayers.Function.bind(this.scriptLoaded,this,url);script.onerror=OpenLayers.Function.bind(this.scriptFailed,this,script.src);this.aScripts[url]=script;this.aScripts.push(script)}},scriptFailed:function(url){Fusion.reportError(new Fusion.Error(Fusion.Error.FATAL,OpenLayers.i18n("scriptFailed",{script:url})))},scriptLoaded:function(url){for(var i=0;i<this.aLoadingScripts.length;i++){if(this.aLoadingScripts[i].id==url){this.aLoadingScripts.splice(i,1)}}if(this.aLoadingScripts.length==0){window.clearInterval(this.checkLoadInterval);if(this.aScripts.length>0){this.loadQueuedScripts()}else{this.setLoadState(this.LOAD_COMPLETE)}}},checkLoadingScripts:function(){if(this.aLoadingScripts.length==0){window.clearInterval(this.checkLoadInterval);return }var agt=navigator.userAgent.toLowerCase();for(var i=this.aLoadingScripts.length-1;i>=0;i--){var s=this.aLoadingScripts[i];if(agt.indexOf("safari")!=-1){var widgetName=s.id.substring(s.id.lastIndexOf("/")+1,s.id.indexOf(".js"));var b;eval("b = typeof Fusion.Widget."+widgetName+' == "function";');if(b){this.scriptLoaded(s.id)}}else{if(s.readyState=="loaded"||s.readyState=="complete"){this.scriptLoaded(s.id)}}}},loadConfig:function(){var mapAgentUrl=this.getConfigurationItem("mapguide","mapAgentUrl");if(mapAgentUrl){this.oBroker=new Fusion.Lib.MGBroker();var url=mapAgentUrl;if(this.sRedirectScript){url=this.sRedirectScript+"?s="+url;this.oBroker.method="post"}else{this.oBroker.method="get"}this.oBroker.setSiteURL(url,"Anonymous","")}this.applicationDefinition=new Fusion.Lib.ApplicationDefinition(this.sessionId);if(Fusion.appDefJson){Fusion.setLoadState(Fusion.LOAD_WIDGETS)}},getConfigCB:function(r){if(r.responseText){eval("this.configuration="+r.responseText);this.serverSet()}else{alert(OpenLayers.i18n("configParseError"))}},serverSet:function(){var s=this.configuration.mapguide.webTierUrl;if(s){var nLength=s.length;var slastChar=s.charAt((nLength-1));if(slastChar!="/"){s=s+"/"}}else{var idx=this.fusionURL.lastIndexOf("fusion");if(idx==-1){s=this.fusionURL+"../"}else{s=this.fusionURL.substring(0,idx)}}this.configuration.mapguide.webTierUrl=s;this.configuration.mapguide.mapAgentUrl=s+"mapagent/mapagent.fcgi";this.setLoadState(this.LOAD_CONFIG)},serverFailed:function(r){alert(OpenLayers.i18n("configLoadError"))},ajaxRequest:function(scriptURL,options){var r=this.getRedirectScript();if(r!=""){r=r+"?s="}var url=r+this.getFusionURL()+scriptURL;if(!options.onException){options.onException=OpenLayers.Function.bind(this.ajaxException,this)}if(!options.contentType){options.contentType="application/x-www-form-urlencoded"}if(options.parameters&&typeof options.parameters=="string"){if(options.parameters.indexOf("?")<0){options.parameters="?"+options.parameters}}var temp=new OpenLayers.Ajax.Request(url,options)},ajaxException:function(r,e){this.reportError(new Fusion.Error(Fusion.Error.WARNING,OpenLayers.i18n("ajaxError",{exception:e.message,filename:e.fileName,line:e.lineNumber,response:r.transport.responseText})))},getXmlAsJson:function(url,callback){var options={method:"get",onSuccess:OpenLayers.Function.bind(this.xml2json,this,callback),onFailure:OpenLayers.Function.bind(this.ajaxException,this)};var temp=new OpenLayers.Ajax.Request(url,options)},parseJSON:function(str){var o;if(typeof (JSON)!="undefined"&&JSON.parse!=null){o=JSON.parse(str)}else{eval("o="+str)}return o},trim:function(str){return(typeof String.prototype.trim=="undefined")?str.replace(/^\s+|\s+$/g,""):str.trim()},xml2json:function(callback,r,json){if(json){var o;eval("o="+r.responseText);callback(o)}else{if(r.status>=400){var msg=r.transport.responseText;if(msg==""){msg=OpenLayers.i18n("serverNotAvailable")}Fusion.reportError(new Fusion.Error(Fusion.Error.FATAL,OpenLayers.i18n("invalidXMLDocument",{msg:msg,url:r.request.url})));return }var options={onSuccess:callback,method:"post",parameters:{xml:encodeURIComponent(r.responseText)}};var sl=Fusion.getScriptLanguage();Fusion.ajaxRequest("common/"+sl+"/Xml2JSON."+sl,options)}},getMapByName:function(name){var map=null;if(this.applicationDefinition){map=this.applicationDefinition.getMapByName(name)}return map},getMapById:function(id){var map=null;if(this.applicationDefinition){map=this.applicationDefinition.getMapById(id)}return map},getMapByIndice:function(indice){var map=null;if(this.applicationDefinition){map=this.applicationDefinition.getMapByIndice(indice)}return map},getWidgetById:function(id){var d=$(id);if(d&&d.widget){return d.widget}else{return null}},getWidgetsByType:function(type){var widgets=[];if(this.applicationDefinition){widgets=this.applicationDefinition.getWidgetsByType(type)}return widgets},getSearchDefinitions:function(){if(this.applicationDefinition){return this.applicationDefinition.searchDefinitions}else{return{}}},getSearchCategories:function(){if(this.applicationDefinition){return this.applicationDefinition.searchCategories}else{return{}}},getApplicationDefinitionURL:function(){return this.applicationDefinitionURL},getApplicationURL:function(){var path=window.location.pathname;var idx=path.lastIndexOf("/");if(idx>=0){path=path.substr(0,idx+1)}return window.location.protocol+"//"+window.location.host+path},getFusionURL:function(){return this.fusionURL},getConfigurationItem:function(arch,key){if(this.configuration[arch]&&(this.configuration[arch][key]!="undefined")){return this.configuration[arch][key]}return null},getScriptLanguage:function(){return this.configuration.general.scriptLanguage},getRedirectScript:function(){return this.sRedirectScript},getBroker:function(){return this.oBroker},require:function(url){this.queueScript(url)},reportError:function(o){this.triggerEvent(Fusion.Event.FUSION_ERROR,o)},unitFromName:function(unit){switch(unit.toLowerCase()){case"unknown":return Fusion.UNKNOWN;case"inches":case"inch":case"in":return Fusion.INCHES;case"feet":case"ft":return Fusion.FEET;case"yards":case"yard":case"yd":return Fusion.YARDS;case"miles":case"mile":case"mi":return Fusion.MILES;case"nautical miles":case"nautical mile":case"nm":return Fusion.NAUTICALMILES;case"millimeters":case"millimeter":case"mm":return Fusion.MILLIMETERS;case"centimeters":case"centimeter":case"cm":return Fusion.CENTIMETERS;case"meters":case"meter":case"m":return Fusion.METERS;case"kilometers":case"kilometer":case"km":return Fusion.KILOMETERS;case"degrees":case"degree":case"deg":return Fusion.DEGREES;case"decimal degrees":case"dd":return Fusion.DECIMALDEGREES;case"degrees minutes seconds":case"dms":return Fusion.DMS;case"pixels":case"pixel":case"px":return Fusion.PIXELS;default:return Fusion.UNKNOWN}},unitSystem:function(unit){switch(unit){case Fusion.INCHES:case Fusion.FEET:case Fusion.YARDS:case Fusion.MILES:case Fusion.NAUTICALMILES:return"imperial";case Fusion.MILLIMETERS:case Fusion.CENTIMETERS:case Fusion.METERS:case Fusion.KILOMETERS:return"metric";case Fusion.DEGREES:case Fusion.DECIMALDEGREES:case Fusion.DMS:return"deg";case Fusion.UNKNOWN:case Fusion.PIXELS:default:return"device"}},unitName:function(unit){if(unit>=Fusion.UNKNOWN&&unit<=Fusion.PIXELS){return(Fusion.aUnitNames[unit])}return"Unknown"},unitAbbr:function(unit){if(unit>=Fusion.UNKNOWN&&unit<=Fusion.PIXELS){return(Fusion.aUnitAbbr[unit])}return"Unk"},toMeter:function(unit,value){if(unit==Fusion.UNKNOWN){return value}if(unit>Fusion.UNKNOWN&&unit<Fusion.PIXELS){return(Fusion.aMeterPerUnit[unit]*value)}return false},fromMeter:function(unit,value){if(unit==Fusion.UNKNOWN){return value}if(unit>Fusion.UNKNOWN&&unit<Fusion.PIXELS){return(Fusion.aUnitPerMeter[unit]*value)}return false},convert:function(unitsIn,unitsOut,value){if(unitsIn>=Fusion.UNKNOWN&&unitsIn<Fusion.PIXELS&&unitsOut>=Fusion.UNKNOWN&&unitsOut<Fusion.PIXELS){return Fusion.fromMeter(unitsOut,Fusion.toMeter(unitsIn,value))}return false},initUnits:function(metersPerUnit){var eps=1000;if(Math.abs(metersPerUnit-Fusion.aMeterPerUnit[Fusion.DEGREES])<eps){Fusion.aMeterPerUnit[Fusion.DEGREES]=metersPerUnit;Fusion.aMeterPerUnit[Fusion.DECIMALDEGREES]=metersPerUnit;Fusion.aMeterPerUnit[Fusion.DMX]=metersPerUnit;var inverse=1/metersPerUnit;Fusion.aUnitPerMeter[Fusion.DEGREES]=inverse;Fusion.aUnitPerMeter[Fusion.DECIMALDEGREES]=inverse;Fusion.aUnitPerMeter[Fusion.DMX]=inverse;var inPerUnit=OpenLayers.INCHES_PER_UNIT.m*metersPerUnit;OpenLayers.INCHES_PER_UNIT.dd=inPerUnit;OpenLayers.INCHES_PER_UNIT.degrees=inPerUnit;OpenLayers.INCHES_PER_UNIT.Degree=inPerUnit}},getClosestUnits:function(metersPerUnit){var units="degrees";var minDiff=100000000;for(var key in OpenLayers.INCHES_PER_UNIT){var newDiff=Math.abs((metersPerUnit*39.3701)-OpenLayers.INCHES_PER_UNIT[key]);if(newDiff<minDiff){minDiff=newDiff;units=key}}return units},addWidgetStyleSheet:function(url){var lnk=document.createElement("link");var hd=document.getElementsByTagName("HEAD")[0];hd.insertBefore(lnk,Fusion._scriptObject);lnk.type="text/css";lnk.rel="stylesheet";lnk.href=Fusion.getFusionURL()+url},parseQueryString:function(){this.queryParams=[];var s=window.location.search;if(s!=""){s=s.substring(1);var p=s.split("&");for(var i=0;i<p.length;i++){var q=p[i].split("=");this.queryParams[q[0].toLowerCase()]=decodeURIComponent(q[1])}}return this.queryParams},getQueryParam:function(p){if(!this.queryParams){this.parseQueryString()}p=p.toLowerCase();if(this.queryParams[p]&&typeof this.queryParams[p]=="string"){return this.queryParams[p]}else{return""}},_scriptName:"lib/fusionSF",_getScriptLocation:function(){Fusion.fusionURL=null;var scriptName=Fusion._scriptName;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){var src=scripts[i].getAttribute("src");if(src){var index=src.lastIndexOf(scriptName);if(index>-1){Fusion._scriptObject=scripts[i];var img=document.createElement("img");img.src=src.slice(0,index)+"lib/a_pixel.png";var s=img.src;var n=s.lastIndexOf("lib/a_pixel.png");Fusion.fusionURL=s.slice(0,n);Fusion.aPixel=img;break}}}if(!this.fusionURL){alert("failed to determine fusionURL using script name "+Fusion._scriptName+".  Initialization aborted");return }return Fusion.fusionURL}};Fusion._singleFile=singleFile;var host=Fusion._getScriptLocation();Jx.aPixel=Fusion.aPixel;var getXmlHttpRequest=function(){try{return new XMLHttpRequest()}catch(e){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}}};var locale=navigator.language?navigator.language.substring(0,2):navigator.userLanguage.substring(0,2);var s=window.location.search;var idx=s.indexOf("locale=");if(idx>0){var temp=s.substring(idx+7);var idx2=temp.indexOf("&");locale=temp.substring(0,idx2<0?temp.length:idx2)}else{if(navigator.userAgent.indexOf("MSIE")>0){var xhr=getXmlHttpRequest();xhr.open("GET",Fusion.fusionURL+"common/php/GetLocale.php",false);xhr.send(null);if(xhr.status==200){var returnLocale=xhr.responseText;if(returnLocale.length>=2){locale=returnLocale.substring(0,2)}}}}window._FusionLocale=locale;if(!Fusion._singleFile){var coreScripts=["lib/jxLib/jxlib.uncompressed.js","lib/Proj4js/proj4js-combined.js","layers/MapGuide/php/csmap2proj4.js","lib/OpenLayers/OpenLayers.js","lib/EventMgr.js","lib/Error.js","lib/ApplicationDefinition.js","lib/MGBroker.js","lib/Widget.js","lib/Map.js","lib/MapMessage.js","layers/Layers.js","lib/Search.js","text/en.json"];if(locale!="en"){coreScripts.push("lib/OpenLayers/Lang/"+locale+".js");coreScripts.push("text/"+locale+".json")}var allScriptTags=new Array(coreScripts.length);for(var i=0;i<coreScripts.length;i++){allScriptTags[i]="<script src='"+host+coreScripts[i]+"'><\/script>"}document.write(allScriptTags.join(""))}var getAgentUrl=function(){var fusionURL=Fusion._getScriptLocation();var testUrl=window.location.protocol+"//"+window.location.host;var configUrl="config.json";if(((Fusion.fusionURL.indexOf("http://")<0)||(Fusion.fusionURL.indexOf(testUrl,0)==0))&&!(Fusion.bForceRedirect)){Fusion.sRedirectScript=""}else{Fusion.sRedirectScript="redirect.php";configUrl+="&method=get"}var r=Fusion.getRedirectScript();if(r!=""){r=r+"?s="}var fusionURL=r+Fusion.getFusionURL()+configUrl;var xhr=getXmlHttpRequest();xhr.open("GET",fusionURL,false);xhr.send(null);eval("Fusion.configuration="+xhr.responseText);var s=Fusion.configuration.mapguide.webTierUrl;if(s){var nLength=s.length;var slastChar=s.charAt((nLength-1));if(slastChar!="/"){s=s+"/"}}else{var idx=Fusion.fusionURL.lastIndexOf("fusion");if(idx==-1){s=Fusion.fusionURL+"../"}else{s=Fusion.fusionURL.substring(0,idx)}}Fusion.configuration.mapguide.mapAgentUrl=s+"mapagent/mapagent.fcgi";return Fusion.configuration.mapguide.mapAgentUrl};var addElement=function(element){if(!element){return }var src=element.textContent;if(!src){src=element.text}document.writeln('<script src="'+src+'"><\/script>')};var createSessionId=function(user,pass){var xhr=getXmlHttpRequest();var url=Fusion.fusionURL+"layers/MapGuide/php/CreateSession.php";if(user!=null&&user!=""){url+="?username="+user;if(pass!=null&&pass!=""){url+="&password="+pass}}xhr.open("GET",url,false);xhr.send(null);var o=Fusion.parseJSON(xhr.responseText);Fusion.sessionId=o.sessionId;var version=o.siteVersion;var bits=version.split(".");Fusion.siteVersion=new Array(parseInt(bits[0]),parseInt(bits[1]),parseInt(bits[2]),parseInt(bits[3]))};var appDefUrl=Fusion.getQueryParam("ApplicationDefinition");if(appDefUrl&&(appDefUrl.indexOf("Library")==0||appDefUrl.indexOf("Session")==0)){var fetchAppDef=function(appDefUrl,sessionId){var xhr=new getXmlHttpRequest();var mapAgentUrl=getAgentUrl();xhr.open("GET",mapAgentUrl+"?OPERATION=GETRESOURCECONTENT&VERSION=1.0.0&LOCALE=en&CLIENTAGENT=MapGuide+Developer&RESOURCEID="+appDefUrl+"&FORMAT=text%2Fxml&SESSION="+sessionId,false);xhr.send(null);var appDefXML=xhr.responseXML.documentElement;if(appDefXML){var googleElement=appDefXML.getElementsByTagName("GoogleScript")[0];var yahooElement=appDefXML.getElementsByTagName("YahooScript")[0];var veElement=appDefXML.getElementsByTagName("VirtualEarthScript")[0];var osmElement=appDefXML.getElementsByTagName("OpenStreetMapScript")[0];addElement(googleElement);addElement(yahooElement);addElement(veElement);addElement(osmElement)}};var getSiteVersion=function(sessionId){var xhr=new getXmlHttpRequest();var mapAgentUrl=getAgentUrl();xhr.open("GET",mapAgentUrl+"?OPERATION=GETSITEVERSION&VERSION=1.0.0&LOCALE=en&CLIENTAGENT=MapGuide+Developer&SESSION="+sessionId,false);xhr.send(null);var verXML=xhr.responseXML.documentElement;var el=verXML.getElementsByTagName("Version")[0];var version=el.textContent||el.text;var bits=version.split(".");return new Array(parseInt(bits[0]),parseInt(bits[1]),parseInt(bits[2]),parseInt(bits[3]))};var passedSessionId=Fusion.getQueryParam("Session");if(passedSessionId==null||passedSessionId==""){createSessionId(Fusion.getQueryParam("Username"),Fusion.getQueryParam("Password"))}else{Fusion.sessionId=passedSessionId;Fusion.siteVersion=getSiteVersion(passedSessionId)}fetchAppDef(appDefUrl,Fusion.sessionId)}})();var MooTools={version:"1.2.6",build:"a3be7a0ef5205eb655c4ee11e8cbedcb3f2ffa95"};var Native=function(L){L=L||{};var B=L.name;var J=L.legacy;var C=L.protect;var D=L.implement;var I=L.generics;var G=L.initialize;var H=L.afterImplement||function(){};var E=G||J;I=I!==false;E.constructor=Native;E.$family={name:"native"};if(J&&G){E.prototype=J.prototype}E.prototype.constructor=E;if(B){var F=B.toLowerCase();E.prototype.$family={name:F};Native.typize(E,F)}var K=function(O,M,P,N){if(!C||N||!O.prototype[M]){O.prototype[M]=P}if(I){Native.genericize(O,M,C)}H.call(O,M,P);return O};E.alias=function(O,M,Q){if(typeof O=="string"){var P=this.prototype[O];if((O=P)){return K(this,M,O,Q)}}for(var N in O){this.alias(N,O[N],M)}return this};E.implement=function(N,M,P){if(typeof N=="string"){return K(this,N,M,P)}for(var O in N){K(this,O,N[O],M)}return this};if(D){E.implement(D)}return E};Native.genericize=function(C,D,B){if((!B||!C[D])&&typeof C.prototype[D]=="function"){C[D]=function(){var E=Array.prototype.slice.call(arguments);return C.prototype[D].apply(E.shift(),E)}}};Native.implement=function(E,D){for(var C=0,B=E.length;C<B;C++){E[C].implement(D)}};Native.typize=function(B,C){if(!B.type){B.type=function(D){return($type(D)===C)}}};(function(){var B={Array:Array,Date:Date,Function:Function,Number:Number,RegExp:RegExp,String:String};for(var H in B){new Native({name:H,initialize:B[H],protect:true})}var E={"boolean":Boolean,"native":Native,object:Object};for(var D in E){Native.typize(E[D],D)}var G={Array:["concat","indexOf","join","lastIndexOf","pop","push","reverse","shift","slice","sort","splice","toString","unshift","valueOf"],String:["charAt","charCodeAt","concat","indexOf","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","valueOf"]};for(var F in G){for(var C=G[F].length;C--;){Native.genericize(B[F],G[F][C],true)}}})();var Hash=new Native({name:"Hash",initialize:function(B){if($type(B)=="hash"){B=$unlink(B.getClean())}for(var C in B){this[C]=B[C]}return this}});Hash.implement({forEach:function(C,D){for(var B in this){if(this.hasOwnProperty(B)){C.call(D,this[B],B,this)}}},getClean:function(){var C={};for(var B in this){if(this.hasOwnProperty(B)){C[B]=this[B]}}return C},getLength:function(){var C=0;for(var B in this){if(this.hasOwnProperty(B)){C++}}return C}});Hash.alias("forEach","each");Array.implement({forEach:function(D,E){for(var C=0,B=this.length;C<B;C++){D.call(E,this[C],C,this)}}});Array.alias("forEach","each");function $A(C){if(C.item){var B=C.length,D=new Array(B);while(B--){D[B]=C[B]}return D}return Array.prototype.slice.call(C)}function $arguments(B){return function(){return arguments[B]}}function $chk(B){return !!(B||B===0)}function $clear(B){clearTimeout(B);clearInterval(B);return null}function $defined(B){return(B!=undefined)}function $each(D,C,E){var B=$type(D);((B=="arguments"||B=="collection"||B=="array")?Array:Hash).each(D,C,E)}function $empty(){}function $extend(D,B){for(var C in (B||{})){D[C]=B[C]}return D}function $H(B){return new Hash(B)}function $lambda(B){return($type(B)=="function")?B:function(){return B}}function $merge(){var B=Array.slice(arguments);B.unshift({});return $mixin.apply(null,B)}function $mixin(F){for(var E=1,B=arguments.length;E<B;E++){var C=arguments[E];if($type(C)!="object"){continue}for(var D in C){var H=C[D],G=F[D];F[D]=(G&&$type(H)=="object"&&$type(G)=="object")?$mixin(G,H):$unlink(H)}}return F}function $pick(){for(var C=0,B=arguments.length;C<B;C++){if(arguments[C]!=undefined){return arguments[C]}}return null}function $random(C,B){return Math.floor(Math.random()*(B-C+1)+C)}function $splat(C){var B=$type(C);return(B)?((B!="array"&&B!="arguments")?[C]:C):[]}var $time=Date.now||function(){return +new Date};function $try(){for(var C=0,B=arguments.length;C<B;C++){try{return arguments[C]()}catch(D){}}return null}function $type(B){if(B==undefined){return false}if(B.$family){return(B.$family.name=="number"&&!isFinite(B))?false:B.$family.name}if(B.nodeName){switch(B.nodeType){case 1:return"element";case 3:return(/\S/).test(B.nodeValue)?"textnode":"whitespace"}}else{if(typeof B.length=="number"){if(B.callee){return"arguments"}else{if(B.item){return"collection"}}}}return typeof B}function $unlink(D){var C;switch($type(D)){case"object":C={};for(var F in D){C[F]=$unlink(D[F])}break;case"hash":C=new Hash(D);break;case"array":C=[];for(var E=0,B=D.length;E<B;E++){C[E]=$unlink(D[E])}break;default:return D}return C}var Browser=$merge({Engine:{name:"unknown",version:0},Platform:{name:(window.orientation!=undefined)?"ipod":(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase()},Features:{xpath:!!(document.evaluate),air:!!(window.runtime),query:!!(document.querySelector)},Plugins:{},Engines:{presto:function(){return(!window.opera)?false:((arguments.callee.caller)?960:((document.getElementsByClassName)?950:925))},trident:function(){return(!window.ActiveXObject)?false:((window.XMLHttpRequest)?((document.querySelectorAll)?6:5):4)},webkit:function(){return(navigator.taintEnabled)?false:((Browser.Features.xpath)?((Browser.Features.query)?525:420):419)},gecko:function(){return(!document.getBoxObjectFor&&window.mozInnerScreenX==null)?false:((document.getElementsByClassName)?19:18)}}},Browser||{});Browser.Platform[Browser.Platform.name]=true;Browser.detect=function(){for(var C in this.Engines){var B=this.Engines[C]();if(B){this.Engine={name:C,version:B};this.Engine[C]=this.Engine[C+B]=true;break}}return{name:C,version:B}};Browser.detect();Browser.Request=function(){return $try(function(){return new XMLHttpRequest()},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})};Browser.Features.xhr=!!(Browser.Request());Browser.Plugins.Flash=(function(){var B=($try(function(){return navigator.plugins["Shockwave Flash"].description},function(){return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")})||"0 r0").match(/\d+/g);return{version:parseInt(B[0]||0+"."+B[1],10)||0,build:parseInt(B[2],10)||0}})();function $exec(C){if(!C){return C}if(window.execScript){window.execScript(C)}else{var B=document.createElement("script");B.setAttribute("type","text/javascript");B[(Browser.Engine.webkit&&Browser.Engine.version<420)?"innerText":"text"]=C;document.head.appendChild(B);document.head.removeChild(B)}return C}Native.UID=1;var $uid=(Browser.Engine.trident)?function(B){return(B.uid||(B.uid=[Native.UID++]))[0]}:function(B){return B.uid||(B.uid=Native.UID++)};var Window=new Native({name:"Window",legacy:(Browser.Engine.trident)?null:window.Window,initialize:function(B){$uid(B);if(!B.Element){B.Element=$empty;if(Browser.Engine.webkit){B.document.createElement("iframe")}B.Element.prototype=(Browser.Engine.webkit)?window["[[DOMElement.prototype]]"]:{}}B.document.window=B;return $extend(B,Window.Prototype)},afterImplement:function(C,B){window[C]=Window.Prototype[C]=B}});Window.Prototype={$family:{name:"window"}};new Window(window);var Document=new Native({name:"Document",legacy:(Browser.Engine.trident)?null:window.Document,initialize:function(B){$uid(B);B.head=B.getElementsByTagName("head")[0];B.html=B.getElementsByTagName("html")[0];if(Browser.Engine.trident&&Browser.Engine.version<=4){$try(function(){B.execCommand("BackgroundImageCache",false,true)})}if(Browser.Engine.trident){B.window.attachEvent("onunload",function(){B.window.detachEvent("onunload",arguments.callee);B.head=B.html=B.window=null})}return $extend(B,Document.Prototype)},afterImplement:function(C,B){document[C]=Document.Prototype[C]=B}});Document.Prototype={$family:{name:"document"}};new Document(document);Array.implement({every:function(D,E){for(var C=0,B=this.length;C<B;C++){if(!D.call(E,this[C],C,this)){return false}}return true},filter:function(E,F){var D=[];for(var C=0,B=this.length;C<B;C++){if(E.call(F,this[C],C,this)){D.push(this[C])}}return D},clean:function(){return this.filter($defined)},indexOf:function(D,E){var B=this.length;for(var C=(E<0)?Math.max(0,B+E):E||0;C<B;C++){if(this[C]===D){return C}}return -1},map:function(E,F){var D=[];for(var C=0,B=this.length;C<B;C++){D[C]=E.call(F,this[C],C,this)}return D},some:function(D,E){for(var C=0,B=this.length;C<B;C++){if(D.call(E,this[C],C,this)){return true}}return false},associate:function(D){var E={},C=Math.min(this.length,D.length);for(var B=0;B<C;B++){E[D[B]]=this[B]}return E},link:function(D){var B={};for(var F=0,C=this.length;F<C;F++){for(var E in D){if(D[E](this[F])){B[E]=this[F];delete D[E];break}}}return B},contains:function(B,C){return this.indexOf(B,C)!=-1},extend:function(D){for(var C=0,B=D.length;C<B;C++){this.push(D[C])}return this},getLast:function(){return(this.length)?this[this.length-1]:null},getRandom:function(){return(this.length)?this[$random(0,this.length-1)]:null},include:function(B){if(!this.contains(B)){this.push(B)}return this},combine:function(D){for(var C=0,B=D.length;C<B;C++){this.include(D[C])}return this},erase:function(C){for(var B=this.length;B--;B){if(this[B]===C){this.splice(B,1)}}return this},empty:function(){this.length=0;return this},flatten:function(){var E=[];for(var C=0,B=this.length;C<B;C++){var D=$type(this[C]);if(!D){continue}E=E.concat((D=="array"||D=="collection"||D=="arguments")?Array.flatten(this[C]):this[C])}return E},hexToRgb:function(C){if(this.length!=3){return null}var B=this.map(function(D){if(D.length==1){D+=D}return D.toInt(16)});return(C)?B:"rgb("+B+")"},rgbToHex:function(E){if(this.length<3){return null}if(this.length==4&&this[3]==0&&!E){return"transparent"}var C=[];for(var B=0;B<3;B++){var D=(this[B]-0).toString(16);C.push((D.length==1)?"0"+D:D)}return(E)?C:"#"+C.join("")}});try{delete Function.prototype.bind}catch(e){}Function.implement({extend:function(B){for(var C in B){this[C]=B[C]}return this},create:function(C){var B=this;C=C||{};return function(E){var D=C.arguments;D=(D!=undefined)?$splat(D):Array.slice(arguments,(C.event)?1:0);if(C.event){D=[E||window.event].extend(D)}var F=function(){return B.apply(C.bind||null,D)};if(C.delay){return setTimeout(F,C.delay)}if(C.periodical){return setInterval(F,C.periodical)}if(C.attempt){return $try(F)}return F()}},run:function(B,C){return this.apply(C,$splat(B))},pass:function(B,C){return this.create({bind:C,arguments:B})},bind:function(C,B){return this.create({bind:C,arguments:B})},bindWithEvent:function(C,B){return this.create({bind:C,arguments:B,event:true})},attempt:function(B,C){return this.create({bind:C,arguments:B,attempt:true})()},delay:function(C,D,B){return this.create({bind:D,arguments:B,delay:C})()},periodical:function(D,C,B){return this.create({bind:C,arguments:B,periodical:D})()}});Number.implement({limit:function(C,B){return Math.min(B,Math.max(C,this))},round:function(B){B=Math.pow(10,B||0);return Math.round(this*B)/B},times:function(C,D){for(var B=0;B<this;B++){C.call(D,B,this)}},toFloat:function(){return parseFloat(this)},toInt:function(B){return parseInt(this,B||10)}});Number.alias("times","each");(function(C){var B={};C.each(function(D){if(!Number[D]){B[D]=function(){return Math[D].apply(null,[this].concat($A(arguments)))}}});Number.implement(B)})(["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","sin","sqrt","tan"]);try{delete String.prototype.contains}catch(e){}String.implement({test:function(B,C){return((typeof B=="string")?new RegExp(B,C):B).test(this)},contains:function(B,C){return(C)?(C+this+C).indexOf(C+B+C)>-1:this.indexOf(B)>-1},trim:function(){return this.replace(/^\s+|\s+$/g,"")},clean:function(){return this.replace(/\s+/g," ").trim()},camelCase:function(){return this.replace(/-\D/g,function(B){return B.charAt(1).toUpperCase()})},hyphenate:function(){return this.replace(/[A-Z]/g,function(B){return("-"+B.charAt(0).toLowerCase())})},capitalize:function(){return this.replace(/\b[a-z]/g,function(B){return B.toUpperCase()})},escapeRegExp:function(){return this.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},toInt:function(B){return parseInt(this,B||10)},toFloat:function(){return parseFloat(this)},hexToRgb:function(C){var B=this.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);return(B)?B.slice(1).hexToRgb(C):null},rgbToHex:function(C){var B=this.match(/\d{1,3}/g);return(B)?B.rgbToHex(C):null},stripScripts:function(C){var B="";var D=this.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(){B+=arguments[1]+"\n";return""});if(C===true){$exec(B)}else{if($type(C)=="function"){C(B,D)}}return D},substitute:function(B,C){return this.replace(C||(/\\?\{([^{}]+)\}/g),function(E,D){if(E.charAt(0)=="\\"){return E.slice(1)}return(B[D]!=undefined)?B[D]:""})}});Hash.implement({has:Object.prototype.hasOwnProperty,keyOf:function(C){for(var B in this){if(this.hasOwnProperty(B)&&this[B]===C){return B}}return null},hasValue:function(B){return(Hash.keyOf(this,B)!==null)},extend:function(B){Hash.each(B||{},function(D,C){Hash.set(this,C,D)},this);return this},combine:function(B){Hash.each(B||{},function(D,C){Hash.include(this,C,D)},this);return this},erase:function(B){if(this.hasOwnProperty(B)){delete this[B]}return this},get:function(B){return(this.hasOwnProperty(B))?this[B]:null},set:function(B,C){if(!this[B]||this.hasOwnProperty(B)){this[B]=C}return this},empty:function(){Hash.each(this,function(C,B){delete this[B]},this);return this},include:function(B,C){if(this[B]==undefined){this[B]=C}return this},map:function(C,D){var B=new Hash;Hash.each(this,function(F,E){B.set(E,C.call(D,F,E,this))},this);return B},filter:function(C,D){var B=new Hash;Hash.each(this,function(F,E){if(C.call(D,F,E,this)){B.set(E,F)}},this);return B},every:function(C,D){for(var B in this){if(this.hasOwnProperty(B)&&!C.call(D,this[B],B)){return false}}return true},some:function(C,D){for(var B in this){if(this.hasOwnProperty(B)&&C.call(D,this[B],B)){return true}}return false},getKeys:function(){var B=[];Hash.each(this,function(D,C){B.push(C)});return B},getValues:function(){var B=[];Hash.each(this,function(C){B.push(C)});return B},toQueryString:function(B){var C=[];Hash.each(this,function(G,F){if(B){F=B+"["+F+"]"}var E;switch($type(G)){case"object":E=Hash.toQueryString(G,F);break;case"array":var D={};G.each(function(I,H){D[H]=I});E=Hash.toQueryString(D,F);break;default:E=F+"="+encodeURIComponent(G)}if(G!=undefined){C.push(E)}});return C.join("&")}});Hash.alias({keyOf:"indexOf",hasValue:"contains"});var Event=new Native({name:"Event",initialize:function(B,G){G=G||window;var L=G.document;B=B||G.event;if(B.$extended){return B}this.$extended=true;var K=B.type;var H=B.target||B.srcElement;while(H&&H.nodeType==3){H=H.parentNode}if(K.test(/key/)){var C=B.which||B.keyCode;var N=Event.Keys.keyOf(C);if(K=="keydown"){var E=C-111;if(E>0&&E<13){N="f"+E}}N=N||String.fromCharCode(C).toLowerCase()}else{if(K.match(/(click|mouse|menu)/i)){L=(!L.compatMode||L.compatMode=="CSS1Compat")?L.html:L.body;var J={x:B.pageX||B.clientX+L.scrollLeft,y:B.pageY||B.clientY+L.scrollTop};var D={x:(B.pageX)?B.pageX-G.pageXOffset:B.clientX,y:(B.pageY)?B.pageY-G.pageYOffset:B.clientY};if(K.match(/DOMMouseScroll|mousewheel/)){var I=(B.wheelDelta)?B.wheelDelta/120:-(B.detail||0)/3}var F=(B.which==3)||(B.button==2);var M=null;if(K.match(/over|out/)){switch(K){case"mouseover":M=B.relatedTarget||B.fromElement;break;case"mouseout":M=B.relatedTarget||B.toElement}if(!(function(){while(M&&M.nodeType==3){M=M.parentNode}return true}).create({attempt:Browser.Engine.gecko})()){M=false}}}}return $extend(this,{event:B,type:K,page:J,client:D,rightClick:F,wheel:I,relatedTarget:M,target:H,code:C,key:N,shift:B.shiftKey,control:B.ctrlKey,alt:B.altKey,meta:B.metaKey})}});Event.Keys=new Hash({enter:13,up:38,down:40,left:37,right:39,esc:27,space:32,backspace:8,tab:9,"delete":46});Event.implement({stop:function(){return this.stopPropagation().preventDefault()},stopPropagation:function(){if(this.event.stopPropagation){this.event.stopPropagation()}else{this.event.cancelBubble=true}return this},preventDefault:function(){if(this.event.preventDefault){this.event.preventDefault()}else{this.event.returnValue=false}return this}});function Class(C){if(C instanceof Function){C={initialize:C}}var B=function(){Object.reset(this);if(B._prototyping){return this}this._current=$empty;var D=(this.initialize)?this.initialize.apply(this,arguments):this;delete this._current;delete this.caller;return D}.extend(this);B.implement(C);B.constructor=Class;B.prototype.constructor=B;return B}Function.prototype.protect=function(){this._protected=true;return this};Object.reset=function(B,D){if(D==null){for(var G in B){Object.reset(B,G)}return B}delete B[D];switch($type(B[D])){case"object":var E=function(){};E.prototype=B[D];var C=new E;B[D]=Object.reset(C);break;case"array":B[D]=$unlink(B[D]);break}return B};new Native({name:"Class",initialize:Class}).extend({instantiate:function(C){C._prototyping=true;var B=new C;delete C._prototyping;return B},wrap:function(B,C,D){if(D._origin){D=D._origin}return function(){if(D._protected&&this._current==null){throw new Error('The method "'+C+'" cannot be called.')}var F=this.caller,G=this._current;this.caller=G;this._current=arguments.callee;var E=D.apply(this,arguments);this._current=G;this.caller=F;return E}.extend({_owner:B,_origin:D,_name:C})}});Class.implement({implement:function(B,E){if($type(B)=="object"){for(var F in B){this.implement(F,B[F])}return this}var G=Class.Mutators[B];if(G){E=G.call(this,E);if(E==null){return this}}var D=this.prototype;switch($type(E)){case"function":if(E._hidden){return this}D[B]=Class.wrap(this,B,E);break;case"object":var C=D[B];if($type(C)=="object"){$mixin(C,E)}else{D[B]=$unlink(E)}break;case"array":D[B]=$unlink(E);break;default:D[B]=E}return this}});Class.Mutators={Extends:function(B){this.parent=B;this.prototype=Class.instantiate(B);this.implement("parent",function(){var C=this.caller._name,D=this.caller._owner.parent.prototype[C];if(!D){throw new Error('The method "'+C+'" has no parent.')}return D.apply(this,arguments)}.protect())},Implements:function(B){$splat(B).each(function(C){if(C instanceof Function){C=Class.instantiate(C)}this.implement(C)},this)}};var Chain=new Class({$chain:[],chain:function(){this.$chain.extend(Array.flatten(arguments));return this},callChain:function(){return(this.$chain.length)?this.$chain.shift().apply(this,arguments):false},clearChain:function(){this.$chain.empty();return this}});var Events=new Class({$events:{},addEvent:function(D,C,B){D=Events.removeOn(D);if(C!=$empty){this.$events[D]=this.$events[D]||[];this.$events[D].include(C);if(B){C.internal=true}}return this},addEvents:function(B){for(var C in B){this.addEvent(C,B[C])}return this},fireEvent:function(D,C,B){D=Events.removeOn(D);if(!this.$events||!this.$events[D]){return this}this.$events[D].each(function(E){E.create({bind:this,delay:B,"arguments":C})()},this);return this},removeEvent:function(C,B){C=Events.removeOn(C);if(!this.$events[C]){return this}if(!B.internal){this.$events[C].erase(B)}return this},removeEvents:function(D){var E;if($type(D)=="object"){for(E in D){this.removeEvent(E,D[E])}return this}if(D){D=Events.removeOn(D)}for(E in this.$events){if(D&&D!=E){continue}var C=this.$events[E];for(var B=C.length;B--;B){this.removeEvent(E,C[B])}}return this}});Events.removeOn=function(B){return B.replace(/^on([A-Z])/,function(C,D){return D.toLowerCase()})};var Options=new Class({setOptions:function(){this.options=$merge.run([this.options].extend(arguments));if(!this.addEvent){return this}for(var B in this.options){if($type(this.options[B])!="function"||!(/^on[A-Z]/).test(B)){continue}this.addEvent(B,this.options[B]);delete this.options[B]}return this}});var Element=new Native({name:"Element",legacy:window.Element,initialize:function(B,C){var D=Element.Constructors.get(B);if(D){return D(C)}if(typeof B=="string"){return document.newElement(B,C)}return document.id(B).set(C)},afterImplement:function(B,C){Element.Prototype[B]=C;if(Array[B]){return }Elements.implement(B,function(){var D=[],H=true;for(var F=0,E=this.length;F<E;F++){var G=this[F][B].apply(this[F],arguments);D.push(G);if(H){H=($type(G)=="element")}}return(H)?new Elements(D):D})}});Element.Prototype={$family:{name:"element"}};Element.Constructors=new Hash;var IFrame=new Native({name:"IFrame",generics:false,initialize:function(){var G=Array.link(arguments,{properties:Object.type,iframe:$defined});var E=G.properties||{};var D=document.id(G.iframe);var F=E.onload||$empty;delete E.onload;E.id=E.name=$pick(E.id,E.name,D?(D.id||D.name):"IFrame_"+$time());D=new Element(D||"iframe",E);var C=function(){var H=$try(function(){return D.contentWindow.location.host});if(!H||H==window.location.host){var I=new Window(D.contentWindow);new Document(D.contentWindow.document);$extend(I.Element.prototype,Element.Prototype)}F.call(D.contentWindow,D.contentWindow.document)};var B=$try(function(){return D.contentWindow});((B&&B.document.body)||window.frames[E.id])?C():D.addListener("load",C);return D}});var Elements=new Native({initialize:function(G,C){C=$extend({ddup:true,cash:true},C);G=G||[];if(C.ddup||C.cash){var H={},F=[];for(var D=0,B=G.length;D<B;D++){var E=document.id(G[D],!C.cash);if(C.ddup){if(H[E.uid]){continue}H[E.uid]=true}if(E){F.push(E)}}G=F}return(C.cash)?$extend(G,this):G}});Elements.implement({filter:function(B,C){if(!B){return this}return new Elements(Array.filter(this,(typeof B=="string")?function(D){return D.match(B)}:B,C))}});(function(){var E;try{var B=document.createElement("<input name=x>");E=(B.name=="x")}catch(C){}var D=function(F){return(""+F).replace(/&/g,"&amp;").replace(/"/g,"&quot;")};Document.implement({newElement:function(F,G){if(G&&G.checked!=null){G.defaultChecked=G.checked}if(E&&G){F="<"+F;if(G.name){F+=' name="'+D(G.name)+'"'}if(G.type){F+=' type="'+D(G.type)+'"'}F+=">";delete G.name;delete G.type}return this.id(this.createElement(F)).set(G)},newTextNode:function(F){return this.createTextNode(F)},getDocument:function(){return this},getWindow:function(){return this.window},id:(function(){var F={string:function(I,H,G){I=G.getElementById(I);return(I)?F.element(I,H):null},element:function(G,J){$uid(G);if(!J&&!G.$family&&!(/^object|embed$/i).test(G.tagName)){var H=Element.Prototype;for(var I in H){G[I]=H[I]}}return G},object:function(H,I,G){if(H.toElement){return F.element(H.toElement(G),I)}return null}};F.textnode=F.whitespace=F.window=F.document=$arguments(0);return function(H,J,I){if(H&&H.$family&&H.uid){return H}var G=$type(H);return(F[G])?F[G](H,J,I||document):null}})()})})();if(window.$==null){Window.implement({$:function(B,C){return document.id(B,C,this.document)}})}Window.implement({$$:function(B){if(arguments.length==1&&typeof B=="string"){return this.document.getElements(B)}var G=[];var D=Array.flatten(arguments);for(var E=0,C=D.length;E<C;E++){var F=D[E];switch($type(F)){case"element":G.push(F);break;case"string":G.extend(this.document.getElements(F,true))}}return new Elements(G)},getDocument:function(){return this.document},getWindow:function(){return this}});Native.implement([Element,Document],{getElement:function(B,C){return document.id(this.getElements(B,true)[0]||null,C)},getElements:function(B,E){B=B.split(",");var D=[];var C=(B.length>1);B.each(function(F){var G=this.getElementsByTagName(F.trim());(C)?D.extend(G):D=G},this);return new Elements(D,{ddup:C,cash:!E})}});(function(){var I={},G={};var J={input:"checked",option:"selected",textarea:(Browser.Engine.webkit&&Browser.Engine.version<420)?"innerHTML":"value"};var D=function(M){return(G[M]||(G[M]={}))};var H=function(O,M){if(!O){return }var N=O.uid;if(M!==true){M=false}if(Browser.Engine.trident){if(O.clearAttributes){var Q=M&&O.cloneNode(false);O.clearAttributes();if(Q){O.mergeAttributes(Q)}}else{if(O.removeEvents){O.removeEvents()}}if((/object/i).test(O.tagName)){for(var P in O){if(typeof O[P]=="function"){O[P]=$empty}}Element.dispose(O)}}if(!N){return }I[N]=G[N]=null};var E=function(){Hash.each(I,H);if(Browser.Engine.trident){$A(document.getElementsByTagName("object")).each(H)}if(window.CollectGarbage){CollectGarbage()}I=G=null};var K=function(O,M,T,N,Q,S){var P=O[T||M];var R=[];while(P){if(P.nodeType==1&&(!N||Element.match(P,N))){if(!Q){return document.id(P,S)}R.push(P)}P=P[M]}return(Q)?new Elements(R,{ddup:false,cash:!S}):null};var F={html:"innerHTML","class":"className","for":"htmlFor",defaultValue:"defaultValue",text:(Browser.Engine.trident||(Browser.Engine.webkit&&Browser.Engine.version<420))?"innerText":"textContent"};var C=["compact","nowrap","ismap","declare","noshade","checked","disabled","readonly","multiple","selected","noresize","defer"];var L=["value","type","defaultValue","accessKey","cellPadding","cellSpacing","colSpan","frameBorder","maxLength","readOnly","rowSpan","tabIndex","useMap"];C=C.associate(C);Hash.extend(F,C);Hash.extend(F,L.associate(L.map(String.toLowerCase)));var B={before:function(N,M){if(M.parentNode){M.parentNode.insertBefore(N,M)}},after:function(N,M){if(!M.parentNode){return }var O=M.nextSibling;(O)?M.parentNode.insertBefore(N,O):M.parentNode.appendChild(N)},bottom:function(N,M){M.appendChild(N)},top:function(N,M){var O=M.firstChild;(O)?M.insertBefore(N,O):M.appendChild(N)}};B.inside=B.bottom;Hash.each(B,function(M,N){N=N.capitalize();Element.implement("inject"+N,function(O){M(this,document.id(O,true));return this});Element.implement("grab"+N,function(O){M(document.id(O,true),this);return this})});Element.implement({set:function(P,N){switch($type(P)){case"object":for(var O in P){this.set(O,P[O])}break;case"string":var M=Element.Properties.get(P);(M&&M.set)?M.set.apply(this,Array.slice(arguments,1)):this.setProperty(P,N)}return this},get:function(N){var M=Element.Properties.get(N);return(M&&M.get)?M.get.apply(this,Array.slice(arguments,1)):this.getProperty(N)},erase:function(N){var M=Element.Properties.get(N);(M&&M.erase)?M.erase.apply(this):this.removeProperty(N);return this},setProperty:function(N,O){var M=F[N];if(O==undefined){return this.removeProperty(N)}if(M&&C[N]){O=!!O}(M)?this[M]=O:this.setAttribute(N,""+O);return this},setProperties:function(M){for(var N in M){this.setProperty(N,M[N])}return this},getProperty:function(N){var M=F[N];var O=(M)?this[M]:this.getAttribute(N,2);return(C[N])?!!O:(M)?O:O||null},getProperties:function(){var M=$A(arguments);return M.map(this.getProperty,this).associate(M)},removeProperty:function(N){var M=F[N];(M)?this[M]=(M&&C[N])?false:"":this.removeAttribute(N);return this},removeProperties:function(){Array.each(arguments,this.removeProperty,this);return this},hasClass:function(M){return this.className.contains(M," ")},addClass:function(M){if(!this.hasClass(M)){this.className=(this.className+" "+M).clean()}return this},removeClass:function(M){this.className=this.className.replace(new RegExp("(^|\\s)"+M+"(?:\\s|$)"),"$1");return this},toggleClass:function(M){return this.hasClass(M)?this.removeClass(M):this.addClass(M)},adopt:function(){Array.flatten(arguments).each(function(M){M=document.id(M,true);if(M){this.appendChild(M)}},this);return this},appendText:function(N,M){return this.grab(this.getDocument().newTextNode(N),M)},grab:function(N,M){B[M||"bottom"](document.id(N,true),this);return this},inject:function(N,M){B[M||"bottom"](this,document.id(N,true));return this},replaces:function(M){M=document.id(M,true);M.parentNode.replaceChild(this,M);return this},wraps:function(N,M){N=document.id(N,true);return this.replaces(N).grab(N,M)},getPrevious:function(M,N){return K(this,"previousSibling",null,M,false,N)},getAllPrevious:function(M,N){return K(this,"previousSibling",null,M,true,N)},getNext:function(M,N){return K(this,"nextSibling",null,M,false,N)},getAllNext:function(M,N){return K(this,"nextSibling",null,M,true,N)},getFirst:function(M,N){return K(this,"nextSibling","firstChild",M,false,N)},getLast:function(M,N){return K(this,"previousSibling","lastChild",M,false,N)},getParent:function(M,N){return K(this,"parentNode",null,M,false,N)},getParents:function(M,N){return K(this,"parentNode",null,M,true,N)},getSiblings:function(M,N){return this.getParent().getChildren(M,N).erase(this)},getChildren:function(M,N){return K(this,"nextSibling","firstChild",M,true,N)},getWindow:function(){return this.ownerDocument.window},getDocument:function(){return this.ownerDocument},getElementById:function(P,O){var N=this.ownerDocument.getElementById(P);if(!N){return null}for(var M=N.parentNode;M!=this;M=M.parentNode){if(!M){return null}}return document.id(N,O)},getSelected:function(){return new Elements($A(this.options).filter(function(M){return M.selected}))},getComputedStyle:function(N){if(this.currentStyle){return this.currentStyle[N.camelCase()]}var M=this.getDocument().defaultView.getComputedStyle(this,null);return(M)?M.getPropertyValue([N.hyphenate()]):null},toQueryString:function(){var M=[];this.getElements("input, select, textarea",true).each(function(N){if(!N.name||N.disabled||N.type=="submit"||N.type=="reset"||N.type=="file"){return }var O=(N.tagName.toLowerCase()=="select")?Element.getSelected(N).map(function(P){return P.value}):((N.type=="radio"||N.type=="checkbox")&&!N.checked)?null:N.value;$splat(O).each(function(P){if(typeof P!="undefined"){M.push(N.name+"="+encodeURIComponent(P))}})});return M.join("&")},clone:function(P,M){P=P!==false;var S=this.cloneNode(P);var O=function(W,V){if(!M){W.removeAttribute("id")}if(Browser.Engine.trident){W.clearAttributes();W.mergeAttributes(V);W.removeAttribute("uid");if(W.options){var Y=W.options,T=V.options;for(var U=Y.length;U--;){Y[U].selected=T[U].selected}}}var Z=J[V.tagName.toLowerCase()];if(Z&&V[Z]){W[Z]=V[Z]}};if(P){var Q=S.getElementsByTagName("*"),R=this.getElementsByTagName("*");for(var N=Q.length;N--;){O(Q[N],R[N])}}O(S,this);return document.id(S)},destroy:function(){Element.empty(this);Element.dispose(this);H(this,true);return null},empty:function(){$A(this.childNodes).each(function(M){Element.destroy(M)});return this},dispose:function(){return(this.parentNode)?this.parentNode.removeChild(this):this},hasChild:function(M){M=document.id(M,true);if(!M){return false}if(Browser.Engine.webkit&&Browser.Engine.version<420){return $A(this.getElementsByTagName(M.tagName)).contains(M)}return(this.contains)?(this!=M&&this.contains(M)):!!(this.compareDocumentPosition(M)&16)},match:function(M){return(!M||(M==this)||(Element.get(this,"tag")==M))}});Native.implement([Element,Window,Document],{addListener:function(P,O){if(P=="unload"){var M=O,N=this;O=function(){N.removeListener("unload",O);M()}}else{I[this.uid]=this}if(this.addEventListener){this.addEventListener(P,O,false)}else{this.attachEvent("on"+P,O)}return this},removeListener:function(N,M){if(this.removeEventListener){this.removeEventListener(N,M,false)}else{this.detachEvent("on"+N,M)}return this},retrieve:function(N,M){var P=D(this.uid),O=P[N];if(M!=undefined&&O==undefined){O=P[N]=M}return $pick(O)},store:function(N,M){var O=D(this.uid);O[N]=M;return this},eliminate:function(M){var N=D(this.uid);delete N[M];return this}});window.addListener("unload",E)})();Element.Properties=new Hash;Element.Properties.style={set:function(B){this.style.cssText=B},get:function(){return this.style.cssText},erase:function(){this.style.cssText=""}};Element.Properties.tag={get:function(){return this.tagName.toLowerCase()}};Element.Properties.html=(function(){var G=true;try{var B=document.createElement("tr");B.innerHTML="<td>x";B=B.firstChild;G=!(B.nodeName=="TD"&&B.innerHTML=="x")}catch(E){}if(!G){return{set:function(){this.innerHTML=Array.flatten(arguments).join("")}}}var F=document.createElement("div");var C={table:[1,"<table>","</table>"],select:[1,"<select>","</select>"],tbody:[2,"<table><tbody>","</tbody></table>"],tr:[3,"<table><tbody><tr>","</tr></tbody></table>"]};C.thead=C.tfoot=C.tbody;var D={set:function(){var I=Array.flatten(arguments).join("");var J=C[this.get("tag")];if(J){var K=F;K.innerHTML=J[1]+I+J[2];for(var H=J[0];H--;){K=K.firstChild}this.empty().adopt(K.childNodes)}else{this.innerHTML=I}}};D.erase=D.set;return D})();if(Browser.Engine.webkit&&Browser.Engine.version<420){Element.Properties.text={get:function(){if(this.innerText){return this.innerText}var B=this.ownerDocument.newElement("div",{html:this.innerHTML}).inject(this.ownerDocument.body);var C=B.innerText;B.destroy();return C}}}Element.Properties.events={set:function(B){this.addEvents(B)}};Native.implement([Element,Window,Document],{addEvent:function(F,H){var I=this.retrieve("events",{});I[F]=I[F]||{keys:[],values:[]};if(I[F].keys.contains(H)){return this}I[F].keys.push(H);var G=F,B=Element.Events.get(F),D=H,J=this;if(B){if(B.onAdd){B.onAdd.call(this,H)}if(B.condition){D=function(K){if(B.condition.call(this,K)){return H.call(this,K)}return true}}G=B.base||G}var E=function(){return H.call(J)};var C=Element.NativeEvents[G];if(C){if(C==2){E=function(K){K=new Event(K,J.getWindow());if(D.call(J,K)===false){K.stop()}}}this.addListener(G,E)}I[F].values.push(E);return this},removeEvent:function(D,C){var B=this.retrieve("events");if(!B||!B[D]){return this}var G=B[D].keys.indexOf(C);if(G==-1){return this}B[D].keys.splice(G,1);var F=B[D].values.splice(G,1)[0];var E=Element.Events.get(D);if(E){if(E.onRemove){E.onRemove.call(this,C)}D=E.base||D}return(Element.NativeEvents[D])?this.removeListener(D,F):this},addEvents:function(B){for(var C in B){this.addEvent(C,B[C])}return this},removeEvents:function(B){var D;if($type(B)=="object"){for(D in B){this.removeEvent(D,B[D])}return this}var C=this.retrieve("events");if(!C){return this}if(!B){for(D in C){this.removeEvents(D)}this.eliminate("events")}else{if(C[B]){while(C[B].keys[0]){this.removeEvent(B,C[B].keys[0])}C[B]=null}}return this},fireEvent:function(E,C,B){var D=this.retrieve("events");if(!D||!D[E]){return this}D[E].keys.each(function(F){F.create({bind:this,delay:B,"arguments":C})()},this);return this},cloneEvents:function(E,B){E=document.id(E);var D=E.retrieve("events");if(!D){return this}if(!B){for(var C in D){this.cloneEvents(E,C)}}else{if(D[B]){D[B].keys.each(function(F){this.addEvent(B,F)},this)}}return this}});try{if(typeof HTMLElement!="undefined"){HTMLElement.prototype.fireEvent=Element.prototype.fireEvent}}catch(e){}Element.NativeEvents={click:2,dblclick:2,mouseup:2,mousedown:2,contextmenu:2,mousewheel:2,DOMMouseScroll:2,mouseover:2,mouseout:2,mousemove:2,selectstart:2,selectend:2,keydown:2,keypress:2,keyup:2,focus:2,blur:2,change:2,reset:2,select:2,submit:2,load:1,unload:1,beforeunload:2,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,error:1,abort:1,scroll:1};(function(){var B=function(C){var D=C.relatedTarget;if(D==undefined){return true}if(D===false){return false}return($type(this)!="document"&&D!=this&&D.prefix!="xul"&&!this.hasChild(D))};Element.Events=new Hash({mouseenter:{base:"mouseover",condition:B},mouseleave:{base:"mouseout",condition:B},mousewheel:{base:(Browser.Engine.gecko)?"DOMMouseScroll":"mousewheel"}})})();Element.Properties.styles={set:function(B){this.setStyles(B)}};Element.Properties.opacity={set:function(B,C){if(!C){if(B==0){if(this.style.visibility!="hidden"){this.style.visibility="hidden"}}else{if(this.style.visibility!="visible"){this.style.visibility="visible"}}}if(!this.currentStyle||!this.currentStyle.hasLayout){this.style.zoom=1}if(Browser.Engine.trident){this.style.filter=(B==1)?"":"alpha(opacity="+B*100+")"}this.style.opacity=B;this.store("opacity",B)},get:function(){return this.retrieve("opacity",1)}};Element.implement({setOpacity:function(B){return this.set("opacity",B,true)},getOpacity:function(){return this.get("opacity")},setStyle:function(C,B){switch(C){case"opacity":return this.set("opacity",parseFloat(B));case"float":C=(Browser.Engine.trident)?"styleFloat":"cssFloat"}C=C.camelCase();if($type(B)!="string"){var D=(Element.Styles.get(C)||"@").split(" ");B=$splat(B).map(function(F,E){if(!D[E]){return""}return($type(F)=="number")?D[E].replace("@",Math.round(F)):F}).join(" ")}else{if(B==String(Number(B))){B=Math.round(B)}}this.style[C]=B;return this},getStyle:function(H){switch(H){case"opacity":return this.get("opacity");case"float":H=(Browser.Engine.trident)?"styleFloat":"cssFloat"}H=H.camelCase();var B=this.style[H];if(!$chk(B)){B=[];for(var G in Element.ShortStyles){if(H!=G){continue}for(var F in Element.ShortStyles[G]){B.push(this.getStyle(F))}return B.join(" ")}B=this.getComputedStyle(H)}if(B){B=String(B);var D=B.match(/rgba?\([\d\s,]+\)/);if(D){B=B.replace(D[0],D[0].rgbToHex())}}if(Browser.Engine.presto||(Browser.Engine.trident&&!$chk(parseInt(B,10)))){if(H.test(/^(height|width)$/)){var C=(H=="width")?["left","right"]:["top","bottom"],E=0;C.each(function(I){E+=this.getStyle("border-"+I+"-width").toInt()+this.getStyle("padding-"+I).toInt()},this);return this["offset"+H.capitalize()]-E+"px"}if((Browser.Engine.presto)&&String(B).test("px")){return B}if(H.test(/(border(.+)Width|margin|padding)/)){return"0px"}}return B},setStyles:function(C){for(var B in C){this.setStyle(B,C[B])}return this},getStyles:function(){var B={};Array.flatten(arguments).each(function(C){B[C]=this.getStyle(C)},this);return B}});Element.Styles=new Hash({left:"@px",top:"@px",bottom:"@px",right:"@px",width:"@px",height:"@px",maxWidth:"@px",maxHeight:"@px",minWidth:"@px",minHeight:"@px",backgroundColor:"rgb(@, @, @)",backgroundPosition:"@px @px",color:"rgb(@, @, @)",fontSize:"@px",letterSpacing:"@px",lineHeight:"@px",clip:"rect(@px @px @px @px)",margin:"@px @px @px @px",padding:"@px @px @px @px",border:"@px @ rgb(@, @, @) @px @ rgb(@, @, @) @px @ rgb(@, @, @)",borderWidth:"@px @px @px @px",borderStyle:"@ @ @ @",borderColor:"rgb(@, @, @) rgb(@, @, @) rgb(@, @, @) rgb(@, @, @)",zIndex:"@",zoom:"@",fontWeight:"@",textIndent:"@px",opacity:"@"});Element.ShortStyles={margin:{},padding:{},border:{},borderWidth:{},borderStyle:{},borderColor:{}};["Top","Right","Bottom","Left"].each(function(H){var G=Element.ShortStyles;var C=Element.Styles;["margin","padding"].each(function(I){var J=I+H;G[I][J]=C[J]="@px"});var F="border"+H;G.border[F]=C[F]="@px @ rgb(@, @, @)";var E=F+"Width",B=F+"Style",D=F+"Color";G[F]={};G.borderWidth[E]=G[F][E]=C[E]="@px";G.borderStyle[B]=G[F][B]=C[B]="@";G.borderColor[D]=G[F][D]=C[D]="rgb(@, @, @)"});(function(){Element.implement({scrollTo:function(I,J){if(C(this)){this.getWindow().scrollTo(I,J)}else{this.scrollLeft=I;this.scrollTop=J}return this},getSize:function(){if(C(this)){return this.getWindow().getSize()}return{x:this.offsetWidth,y:this.offsetHeight}},getScrollSize:function(){if(C(this)){return this.getWindow().getScrollSize()}return{x:this.scrollWidth,y:this.scrollHeight}},getScroll:function(){if(C(this)){return this.getWindow().getScroll()}return{x:this.scrollLeft,y:this.scrollTop}},getScrolls:function(){var J=this,I={x:0,y:0};while(J&&!C(J)){I.x+=J.scrollLeft;I.y+=J.scrollTop;J=J.parentNode}return I},getOffsetParent:function(){var I=this;if(C(I)){return null}if(!Browser.Engine.trident){return I.offsetParent}while((I=I.parentNode)&&!C(I)){if(E(I,"position")!="static"){return I}}return null},getOffsets:function(){if(this.getBoundingClientRect){var K=this.getBoundingClientRect(),N=document.id(this.getDocument().documentElement),Q=N.getScroll(),L=this.getScrolls(),J=this.getScroll(),I=(E(this,"position")=="fixed");return{x:K.left.toInt()+L.x-J.x+((I)?0:Q.x)-N.clientLeft,y:K.top.toInt()+L.y-J.y+((I)?0:Q.y)-N.clientTop}}var M=this,O={x:0,y:0};if(C(this)){return O}while(M&&!C(M)){O.x+=M.offsetLeft;O.y+=M.offsetTop;if(Browser.Engine.gecko){if(!G(M)){O.x+=D(M);O.y+=H(M)}var P=M.parentNode;if(P&&E(P,"overflow")!="visible"){O.x+=D(P);O.y+=H(P)}}else{if(M!=this&&Browser.Engine.webkit){O.x+=D(M);O.y+=H(M)}}M=M.offsetParent}if(Browser.Engine.gecko&&!G(this)){O.x-=D(this);O.y-=H(this)}return O},getPosition:function(L){if(C(this)){return{x:0,y:0}}var M=this.getOffsets(),J=this.getScrolls();var I={x:M.x-J.x,y:M.y-J.y};var K=(L&&(L=document.id(L)))?L.getPosition():{x:0,y:0};return{x:I.x-K.x,y:I.y-K.y}},getCoordinates:function(K){if(C(this)){return this.getWindow().getCoordinates()}var I=this.getPosition(K),J=this.getSize();var L={left:I.x,top:I.y,width:J.x,height:J.y};L.right=L.left+L.width;L.bottom=L.top+L.height;return L},computePosition:function(I){return{left:I.x-F(this,"margin-left"),top:I.y-F(this,"margin-top")}},setPosition:function(I){return this.setStyles(this.computePosition(I))}});Native.implement([Document,Window],{getSize:function(){if(Browser.Engine.presto||Browser.Engine.webkit){var J=this.getWindow();return{x:J.innerWidth,y:J.innerHeight}}var I=B(this);return{x:I.clientWidth,y:I.clientHeight}},getScroll:function(){var J=this.getWindow(),I=B(this);return{x:J.pageXOffset||I.scrollLeft,y:J.pageYOffset||I.scrollTop}},getScrollSize:function(){var J=B(this),I=this.getSize();return{x:Math.max(J.scrollWidth,I.x),y:Math.max(J.scrollHeight,I.y)}},getPosition:function(){return{x:0,y:0}},getCoordinates:function(){var I=this.getSize();return{top:0,left:0,bottom:I.y,right:I.x,height:I.y,width:I.x}}});var E=Element.getComputedStyle;function F(I,J){return E(I,J).toInt()||0}function G(I){return E(I,"-moz-box-sizing")=="border-box"}function H(I){return F(I,"border-top-width")}function D(I){return F(I,"border-left-width")}function C(I){return(/^(?:body|html)$/i).test(I.tagName)}function B(I){var J=I.getDocument();return(!J.compatMode||J.compatMode=="CSS1Compat")?J.html:J.body}})();Element.alias("setPosition","position");Native.implement([Window,Document,Element],{getHeight:function(){return this.getSize().y},getWidth:function(){return this.getSize().x},getScrollTop:function(){return this.getScroll().y},getScrollLeft:function(){return this.getScroll().x},getScrollHeight:function(){return this.getScrollSize().y},getScrollWidth:function(){return this.getScrollSize().x},getTop:function(){return this.getPosition().y},getLeft:function(){return this.getPosition().x}});Native.implement([Document,Element],{getElements:function(I,H){I=I.split(",");var D,F={};for(var E=0,C=I.length;E<C;E++){var B=I[E],G=Selectors.Utils.search(this,B,F);if(E!=0&&G.item){G=$A(G)}D=(E==0)?G:(D.item)?$A(D).concat(G):D.concat(G)}return new Elements(D,{ddup:(I.length>1),cash:!H})}});Element.implement({match:function(C){if(!C||(C==this)){return true}var E=Selectors.Utils.parseTagAndID(C);var B=E[0],F=E[1];if(!Selectors.Filters.byID(this,F)||!Selectors.Filters.byTag(this,B)){return false}var D=Selectors.Utils.parseSelector(C);return(D)?Selectors.Utils.filter(this,D,{}):true}});var Selectors={Cache:{nth:{},parsed:{}}};Selectors.RegExps={id:(/#([\w-]+)/),tag:(/^(\w+|\*)/),quick:(/^(\w+|\*)$/),splitter:(/\s*([+>~\s])\s*([a-zA-Z#.*:\[])/g),combined:(/\.([\w-]+)|\[(\w+)(?:([!*^$~|]?=)(["']?)([^\4]*?)\4)?\]|:([\w-]+)(?:\(["']?(.*?)?["']?\)|$)/g)};Selectors.Utils={chk:function(C,D){if(!D){return true}var B=$uid(C);if(!D[B]){return D[B]=true}return false},parseNthArgument:function(G){if(Selectors.Cache.nth[G]){return Selectors.Cache.nth[G]}var D=G.match(/^([+-]?\d*)?([a-z]+)?([+-]?\d*)?$/);if(!D){return false}var F=parseInt(D[1],10);var C=(F||F===0)?F:1;var E=D[2]||false;var B=parseInt(D[3],10)||0;if(C!=0){B--;while(B<1){B+=C}while(B>=C){B-=C}}else{C=B;E="index"}switch(E){case"n":D={a:C,b:B,special:"n"};break;case"odd":D={a:2,b:0,special:"n"};break;case"even":D={a:2,b:1,special:"n"};break;case"first":D={a:0,special:"index"};break;case"last":D={special:"last-child"};break;case"only":D={special:"only-child"};break;default:D={a:(C-1),special:"index"}}return Selectors.Cache.nth[G]=D},parseSelector:function(F){if(Selectors.Cache.parsed[F]){return Selectors.Cache.parsed[F]}var E,I={classes:[],pseudos:[],attributes:[]};while((E=Selectors.RegExps.combined.exec(F))){var J=E[1],H=E[2],G=E[3],C=E[5],D=E[6],K=E[7];if(J){I.classes.push(J)}else{if(D){var B=Selectors.Pseudo.get(D);if(B){I.pseudos.push({parser:B,argument:K})}else{I.attributes.push({name:D,operator:"=",value:K})}}else{if(H){I.attributes.push({name:H,operator:G,value:C})}}}}if(!I.classes.length){delete I.classes}if(!I.attributes.length){delete I.attributes}if(!I.pseudos.length){delete I.pseudos}if(!I.classes&&!I.attributes&&!I.pseudos){I=null}return Selectors.Cache.parsed[F]=I},parseTagAndID:function(C){var B=C.match(Selectors.RegExps.tag);var D=C.match(Selectors.RegExps.id);return[(B)?B[1]:"*",(D)?D[1]:false]},filter:function(G,D,F){var E;if(D.classes){for(E=D.classes.length;E--;E){var H=D.classes[E];if(!Selectors.Filters.byClass(G,H)){return false}}}if(D.attributes){for(E=D.attributes.length;E--;E){var C=D.attributes[E];if(!Selectors.Filters.byAttribute(G,C.name,C.operator,C.value)){return false}}}if(D.pseudos){for(E=D.pseudos.length;E--;E){var B=D.pseudos[E];if(!Selectors.Filters.byPseudo(G,B.parser,B.argument,F)){return false}}}return true},getByTagAndID:function(C,B,E){if(E){var D=(C.getElementById)?C.getElementById(E,true):Element.getElementById(C,E,true);return(D&&Selectors.Filters.byTag(D,B))?[D]:[]}else{return C.getElementsByTagName(B)}},search:function(J,I,O){var C=[];var D=I.trim().replace(Selectors.RegExps.splitter,function(a,Z,Y){C.push(Z);return":)"+Y}).split(":)");var K,F,V;for(var U=0,Q=D.length;U<Q;U++){var T=D[U];if(U==0&&Selectors.RegExps.quick.test(T)){K=J.getElementsByTagName(T);continue}var B=C[U-1];var L=Selectors.Utils.parseTagAndID(T);var W=L[0],M=L[1];if(U==0){K=Selectors.Utils.getByTagAndID(J,W,M)}else{var E={},H=[];for(var S=0,R=K.length;S<R;S++){H=Selectors.Getters[B](H,K[S],W,M,E)}K=H}var G=Selectors.Utils.parseSelector(T);if(G){F=[];for(var P=0,N=K.length;P<N;P++){V=K[P];if(Selectors.Utils.filter(V,G,O)){F.push(V)}}K=F}}return K}};Selectors.Getters={" ":function(I,H,J,B,F){var E=Selectors.Utils.getByTagAndID(H,J,B);for(var D=0,C=E.length;D<C;D++){var G=E[D];if(Selectors.Utils.chk(G,F)){I.push(G)}}return I},">":function(I,H,J,B,G){var D=Selectors.Utils.getByTagAndID(H,J,B);for(var F=0,E=D.length;F<E;F++){var C=D[F];if(C.parentNode==H&&Selectors.Utils.chk(C,G)){I.push(C)}}return I},"+":function(D,C,B,F,E){while((C=C.nextSibling)){if(C.nodeType==1){if(Selectors.Utils.chk(C,E)&&Selectors.Filters.byTag(C,B)&&Selectors.Filters.byID(C,F)){D.push(C)}break}}return D},"~":function(D,C,B,F,E){while((C=C.nextSibling)){if(C.nodeType==1){if(!Selectors.Utils.chk(C,E)){break}if(Selectors.Filters.byTag(C,B)&&Selectors.Filters.byID(C,F)){D.push(C)}}}return D}};Selectors.Filters={byTag:function(C,B){return(B=="*"||(C.tagName&&C.tagName.toLowerCase()==B))},byID:function(B,C){return(!C||(B.id&&B.id==C))},byClass:function(C,B){return(C.className&&C.className.contains&&C.className.contains(B," "))},byPseudo:function(B,E,D,C){return E.call(B,D,C)},byAttribute:function(D,E,C,F){var B=Element.prototype.getProperty.call(D,E);if(!B){return(C=="!=")}if(!C||F==undefined){return true}switch(C){case"=":return(B==F);case"*=":return(B.contains(F));case"^=":return(B.substr(0,F.length)==F);case"$=":return(B.substr(B.length-F.length)==F);case"!=":return(B!=F);case"~=":return B.contains(F," ");case"|=":return B.contains(F,"-")}return false}};Selectors.Pseudo=new Hash({checked:function(){return this.checked},empty:function(){return !(this.innerText||this.textContent||"").length},not:function(B){return !Element.match(this,B)},contains:function(B){return(this.innerText||this.textContent||"").contains(B)},"first-child":function(){return Selectors.Pseudo.index.call(this,0)},"last-child":function(){var B=this;while((B=B.nextSibling)){if(B.nodeType==1){return false}}return true},"only-child":function(){var C=this;while((C=C.previousSibling)){if(C.nodeType==1){return false}}var B=this;while((B=B.nextSibling)){if(B.nodeType==1){return false}}return true},"nth-child":function(H,F){H=(H==undefined)?"n":H;var D=Selectors.Utils.parseNthArgument(H);if(D.special!="n"){return Selectors.Pseudo[D.special].call(this,D.a,F)}var G=0;F.positions=F.positions||{};var E=$uid(this);if(!F.positions[E]){var C=this;while((C=C.previousSibling)){if(C.nodeType!=1){continue}G++;var B=F.positions[$uid(C)];if(B!=undefined){G=B+G;break}}F.positions[E]=G}return(F.positions[E]%D.a==D.b)},index:function(B){var C=this,D=0;while((C=C.previousSibling)){if(C.nodeType==1&&++D>B){return false}}return(D==B)},even:function(C,B){return Selectors.Pseudo["nth-child"].call(this,"2n+1",B)},odd:function(C,B){return Selectors.Pseudo["nth-child"].call(this,"2n",B)},selected:function(){return this.selected},enabled:function(){return(this.disabled===false)}});Element.Events.domready={onAdd:function(B){if(Browser.loaded){B.call(this)}}};(function(){var C=function(){if(Browser.loaded){return }Browser.loaded=true;window.fireEvent("domready");document.fireEvent("domready")};window.addEvent("load",C);if(Browser.Engine.trident){var B=document.createElement("div");(function(){($try(function(){B.doScroll();return document.id(B).inject(document.body).set("html","temp").dispose()}))?C():arguments.callee.delay(50)})()}else{if(Browser.Engine.webkit&&Browser.Engine.version<525){(function(){(["loaded","complete"].contains(document.readyState))?C():arguments.callee.delay(50)})()}else{document.addEvent("DOMContentLoaded",C)}}})();var JSON=new Hash(this.JSON&&{stringify:JSON.stringify,parse:JSON.parse}).extend({$specialChars:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},$replaceChars:function(B){return JSON.$specialChars[B]||"\\u00"+Math.floor(B.charCodeAt()/16).toString(16)+(B.charCodeAt()%16).toString(16)},encode:function(C){switch($type(C)){case"string":return'"'+C.replace(/[\x00-\x1f\\"]/g,JSON.$replaceChars)+'"';case"array":return"["+String(C.map(JSON.encode).clean())+"]";case"object":case"hash":var B=[];Hash.each(C,function(F,E){var D=JSON.encode(F);if(D){B.push(JSON.encode(E)+":"+D)}});return"{"+B+"}";case"number":case"boolean":return String(C);case false:return"null"}return null},decode:function(string,secure){if($type(string)!="string"||!string.length){return null}if(secure&&!(/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(string.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""))){return null}return eval("("+string+")")}});var Cookie=new Class({Implements:Options,options:{path:false,domain:false,duration:false,secure:false,document:document},initialize:function(C,B){this.key=C;this.setOptions(B)},write:function(C){C=encodeURIComponent(C);if(this.options.domain){C+="; domain="+this.options.domain}if(this.options.path){C+="; path="+this.options.path}if(this.options.duration){var B=new Date();B.setTime(B.getTime()+this.options.duration*24*60*60*1000);C+="; expires="+B.toGMTString()}if(this.options.secure){C+="; secure"}this.options.document.cookie=this.key+"="+C;return this},read:function(){var B=this.options.document.cookie.match("(?:^|;)\\s*"+this.key.escapeRegExp()+"=([^;]*)");return(B)?decodeURIComponent(B[1]):null},dispose:function(){new Cookie(this.key,$merge(this.options,{duration:-1})).write("");return this}});Cookie.write=function(C,D,B){return new Cookie(C,B).write(D)};Cookie.read=function(B){return new Cookie(B).read()};Cookie.dispose=function(C,B){return new Cookie(C,B).dispose()};var Swiff=new Class({Implements:[Options],options:{id:null,height:1,width:1,container:null,properties:{},params:{quality:"high",allowScriptAccess:"always",wMode:"transparent",swLiveConnect:true},callBacks:{},vars:{}},toElement:function(){return this.object},initialize:function(M,N){this.instance="Swiff_"+$time();this.setOptions(N);N=this.options;var C=this.id=N.id||this.instance;var B=document.id(N.container);Swiff.CallBacks[this.instance]={};var F=N.params,H=N.vars,G=N.callBacks;var I=$extend({height:N.height,width:N.width},N.properties);var L=this;for(var E in G){Swiff.CallBacks[this.instance][E]=(function(O){return function(){return O.apply(L.object,arguments)}})(G[E]);H[E]="Swiff.CallBacks."+this.instance+"."+E}F.flashVars=Hash.toQueryString(H);if(Browser.Engine.trident){I.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000";F.movie=M}else{I.type="application/x-shockwave-flash";I.data=M}var K='<object id="'+C+'"';for(var J in I){K+=" "+J+'="'+I[J]+'"'}K+=">";for(var D in F){if(F[D]){K+='<param name="'+D+'" value="'+F[D]+'" />'}}K+="</object>";this.object=((B)?B.empty():new Element("div")).set("html",K).firstChild},replaces:function(B){B=document.id(B,true);B.parentNode.replaceChild(this.toElement(),B);return this},inject:function(B){document.id(B,true).appendChild(this.toElement());return this},remote:function(){return Swiff.remote.apply(Swiff,[this.toElement()].extend(arguments))}});Swiff.CallBacks={};Swiff.remote=function(obj,fn){var rs=obj.CallFunction('<invoke name="'+fn+'" returntype="javascript">'+__flash__argumentsToXML(arguments,2)+"</invoke>");return eval(rs)};var Fx=new Class({Implements:[Chain,Events,Options],options:{fps:50,unit:false,duration:500,link:"ignore"},initialize:function(B){this.subject=this.subject||this;this.setOptions(B);this.options.duration=Fx.Durations[this.options.duration]||this.options.duration.toInt();var C=this.options.wait;if(C===false){this.options.link="cancel"}},getTransition:function(){return function(B){return -(Math.cos(Math.PI*B)-1)/2}},step:function(){var B=$time();if(B<this.time+this.options.duration){var C=this.transition((B-this.time)/this.options.duration);this.set(this.compute(this.from,this.to,C))}else{this.set(this.compute(this.from,this.to,1));this.complete()}},set:function(B){return B},compute:function(D,C,B){return Fx.compute(D,C,B)},check:function(){if(!this.timer){return true}switch(this.options.link){case"cancel":this.cancel();return true;case"chain":this.chain(this.caller.bind(this,arguments));return false}return false},start:function(C,B){if(!this.check(C,B)){return this}this.from=C;this.to=B;this.time=0;this.transition=this.getTransition();this.startTimer();this.onStart();return this},complete:function(){if(this.stopTimer()){this.onComplete()}return this},cancel:function(){if(this.stopTimer()){this.onCancel()}return this},onStart:function(){this.fireEvent("start",this.subject)},onComplete:function(){this.fireEvent("complete",this.subject);if(!this.callChain()){this.fireEvent("chainComplete",this.subject)}},onCancel:function(){this.fireEvent("cancel",this.subject).clearChain()},pause:function(){this.stopTimer();return this},resume:function(){this.startTimer();return this},stopTimer:function(){if(!this.timer){return false}this.time=$time()-this.time;this.timer=$clear(this.timer);return true},startTimer:function(){if(this.timer){return false}this.time=$time()-this.time;this.timer=this.step.periodical(Math.round(1000/this.options.fps),this);return true}});Fx.compute=function(D,C,B){return(C-D)*B+D};Fx.Durations={"short":250,normal:500,"long":1000};Fx.CSS=new Class({Extends:Fx,prepare:function(E,F,C){C=$splat(C);var D=C[1];if(!$chk(D)){C[1]=C[0];C[0]=E.getStyle(F)}var B=C.map(this.parse);return{from:B[0],to:B[1]}},parse:function(B){B=$lambda(B)();B=(typeof B=="string")?B.split(" "):$splat(B);return B.map(function(D){D=String(D);var C=false;Fx.CSS.Parsers.each(function(G,F){if(C){return }var E=G.parse(D);if($chk(E)){C={value:E,parser:G}}});C=C||{value:D,parser:Fx.CSS.Parsers.String};return C})},compute:function(E,D,C){var B=[];(Math.min(E.length,D.length)).times(function(F){B.push({value:E[F].parser.compute(E[F].value,D[F].value,C),parser:E[F].parser})});B.$family={name:"fx:css:value"};return B},serve:function(D,C){if($type(D)!="fx:css:value"){D=this.parse(D)}var B=[];D.each(function(E){B=B.concat(E.parser.serve(E.value,C))});return B},render:function(B,E,D,C){B.setStyle(E,this.serve(D,C))},search:function(B){if(Fx.CSS.Cache[B]){return Fx.CSS.Cache[B]}var C={};Array.each(document.styleSheets,function(F,E){var D=F.href;if(D&&D.contains("://")&&!D.contains(document.domain)){return }var G=F.rules||F.cssRules;Array.each(G,function(J,H){if(!J.style){return }var I=(J.selectorText)?J.selectorText.replace(/^\w+/,function(K){return K.toLowerCase()}):null;if(!I||!I.test("^"+B+"$")){return }Element.Styles.each(function(L,K){if(!J.style[K]||Element.ShortStyles[K]){return }L=String(J.style[K]);C[K]=(L.test(/^rgb/))?L.rgbToHex():L})})});return Fx.CSS.Cache[B]=C}});Fx.CSS.Cache={};Fx.CSS.Parsers=new Hash({Color:{parse:function(B){if(B.match(/^#[0-9a-f]{3,6}$/i)){return B.hexToRgb(true)}return((B=B.match(/(\d+),\s*(\d+),\s*(\d+)/)))?[B[1],B[2],B[3]]:false},compute:function(D,C,B){return D.map(function(F,E){return Math.round(Fx.compute(D[E],C[E],B))})},serve:function(B){return B.map(Number)}},Number:{parse:parseFloat,compute:Fx.compute,serve:function(C,B){return(B)?C+B:C}},String:{parse:$lambda(false),compute:$arguments(1),serve:$arguments(0)}});Fx.Tween=new Class({Extends:Fx.CSS,initialize:function(C,B){this.element=this.subject=document.id(C);this.parent(B)},set:function(C,B){if(arguments.length==1){B=C;C=this.property||this.options.property}this.render(this.element,C,B,this.options.unit);return this},start:function(D,F,E){if(!this.check(D,F,E)){return this}var C=Array.flatten(arguments);this.property=this.options.property||C.shift();var B=this.prepare(this.element,this.property,C);return this.parent(B.from,B.to)}});Element.Properties.tween={set:function(B){var C=this.retrieve("tween");if(C){C.cancel()}return this.eliminate("tween").store("tween:options",$extend({link:"cancel"},B))},get:function(B){if(B||!this.retrieve("tween")){if(B||!this.retrieve("tween:options")){this.set("tween",B)}this.store("tween",new Fx.Tween(this,this.retrieve("tween:options")))}return this.retrieve("tween")}};Element.implement({tween:function(B,D,C){this.get("tween").start(arguments);return this},fade:function(D){var F=this.get("tween"),E="opacity",B;D=$pick(D,"toggle");switch(D){case"in":F.start(E,1);break;case"out":F.start(E,0);break;case"show":F.set(E,1);break;case"hide":F.set(E,0);break;case"toggle":var C=this.retrieve("fade:flag",this.get("opacity")==1);F.start(E,(C)?0:1);this.store("fade:flag",!C);B=true;break;default:F.start(E,arguments)}if(!B){this.eliminate("fade:flag")}return this},highlight:function(D,B){if(!B){B=this.retrieve("highlight:original",this.getStyle("background-color"));B=(B=="transparent")?"#fff":B}var C=this.get("tween");C.start("background-color",D||"#ffff88",B).chain(function(){this.setStyle("background-color",this.retrieve("highlight:original"));C.callChain()}.bind(this));return this}});Fx.Morph=new Class({Extends:Fx.CSS,initialize:function(C,B){this.element=this.subject=document.id(C);this.parent(B)},set:function(B){if(typeof B=="string"){B=this.search(B)}for(var C in B){this.render(this.element,C,B[C],this.options.unit)}return this},compute:function(F,E,D){var B={};for(var C in F){B[C]=this.parent(F[C],E[C],D)}return B},start:function(C){if(!this.check(C)){return this}if(typeof C=="string"){C=this.search(C)}var F={},E={};for(var D in C){var B=this.prepare(this.element,D,C[D]);F[D]=B.from;E[D]=B.to}return this.parent(F,E)}});Element.Properties.morph={set:function(B){var C=this.retrieve("morph");if(C){C.cancel()}return this.eliminate("morph").store("morph:options",$extend({link:"cancel"},B))},get:function(B){if(B||!this.retrieve("morph")){if(B||!this.retrieve("morph:options")){this.set("morph",B)}this.store("morph",new Fx.Morph(this,this.retrieve("morph:options")))}return this.retrieve("morph")}};Element.implement({morph:function(B){this.get("morph").start(B);return this}});Fx.implement({getTransition:function(){var B=this.options.transition||Fx.Transitions.Sine.easeInOut;if(typeof B=="string"){var C=B.split(":");B=Fx.Transitions;B=B[C[0]]||B[C[0].capitalize()];if(C[1]){B=B["ease"+C[1].capitalize()+(C[2]?C[2].capitalize():"")]}}return B}});Fx.Transition=function(C,B){B=$splat(B);return $extend(C,{easeIn:function(D){return C(D,B)},easeOut:function(D){return 1-C(1-D,B)},easeInOut:function(D){return(D<=0.5)?C(2*D,B)/2:(2-C(2*(1-D),B))/2}})};Fx.Transitions=new Hash({linear:$arguments(0)});Fx.Transitions.extend=function(B){for(var C in B){Fx.Transitions[C]=new Fx.Transition(B[C])}};Fx.Transitions.extend({Pow:function(C,B){return Math.pow(C,B[0]||6)},Expo:function(B){return Math.pow(2,8*(B-1))},Circ:function(B){return 1-Math.sin(Math.acos(B))},Sine:function(B){return 1-Math.sin((1-B)*Math.PI/2)},Back:function(C,B){B=B[0]||1.618;return Math.pow(C,2)*((B+1)*C-B)},Bounce:function(E){var D;for(var C=0,B=1;1;C+=B,B/=2){if(E>=(7-4*C)/11){D=B*B-Math.pow((11-6*C-11*E)/4,2);break}}return D},Elastic:function(C,B){return Math.pow(2,10*--C)*Math.cos(20*C*Math.PI*(B[0]||1)/3)}});["Quad","Cubic","Quart","Quint"].each(function(C,B){Fx.Transitions[C]=new Fx.Transition(function(D){return Math.pow(D,[B+2])})});var Request=new Class({Implements:[Chain,Events,Options],options:{url:"",data:"",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"},async:true,format:false,method:"post",link:"ignore",isSuccess:null,emulation:true,urlEncoded:true,encoding:"utf-8",evalScripts:false,evalResponse:false,noCache:false},initialize:function(B){this.xhr=new Browser.Request();this.setOptions(B);this.options.isSuccess=this.options.isSuccess||this.isSuccess;this.headers=new Hash(this.options.headers)},onStateChange:function(){if(this.xhr.readyState!=4||!this.running){return }this.running=false;this.status=0;$try(function(){this.status=this.xhr.status}.bind(this));this.xhr.onreadystatechange=$empty;if(this.options.isSuccess.call(this,this.status)){this.response={text:this.xhr.responseText,xml:this.xhr.responseXML};this.success(this.response.text,this.response.xml)}else{this.response={text:null,xml:null};this.failure()}},isSuccess:function(){return((this.status>=200)&&(this.status<300))},processScripts:function(B){if(this.options.evalResponse||(/(ecma|java)script/).test(this.getHeader("Content-type"))){return $exec(B)}return B.stripScripts(this.options.evalScripts)},success:function(C,B){this.onSuccess(this.processScripts(C),B)},onSuccess:function(){this.fireEvent("complete",arguments).fireEvent("success",arguments).callChain()},failure:function(){this.onFailure()},onFailure:function(){this.fireEvent("complete").fireEvent("failure",this.xhr)},setHeader:function(B,C){this.headers.set(B,C);return this},getHeader:function(B){return $try(function(){return this.xhr.getResponseHeader(B)}.bind(this))},check:function(){if(!this.running){return true}switch(this.options.link){case"cancel":this.cancel();return true;case"chain":this.chain(this.caller.bind(this,arguments));return false}return false},send:function(L){if(!this.check(L)){return this}this.running=true;var J=$type(L);if(J=="string"||J=="element"){L={data:L}}var E=this.options;L=$extend({data:E.data,url:E.url,method:E.method},L);var H=L.data,C=String(L.url),B=L.method.toLowerCase();switch($type(H)){case"element":H=document.id(H).toQueryString();break;case"object":case"hash":H=Hash.toQueryString(H)}if(this.options.format){var K="format="+this.options.format;H=(H)?K+"&"+H:K}if(this.options.emulation&&!["get","post"].contains(B)){var I="_method="+B;H=(H)?I+"&"+H:I;B="post"}if(this.options.urlEncoded&&B=="post"){var D=(this.options.encoding)?"; charset="+this.options.encoding:"";this.headers.set("Content-type","application/x-www-form-urlencoded"+D)}if(this.options.noCache){var G="noCache="+new Date().getTime();H=(H)?G+"&"+H:G}var F=C.lastIndexOf("/");if(F>-1&&(F=C.indexOf("#"))>-1){C=C.substr(0,F)}if(H&&B=="get"){C=C+(C.contains("?")?"&":"?")+H;H=null}this.xhr.open(B.toUpperCase(),C,this.options.async);this.xhr.onreadystatechange=this.onStateChange.bind(this);this.headers.each(function(N,M){try{this.xhr.setRequestHeader(M,N)}catch(O){this.fireEvent("exception",[M,N])}},this);this.fireEvent("request");this.xhr.send(H);if(!this.options.async){this.onStateChange()}return this},cancel:function(){if(!this.running){return this}this.running=false;this.xhr.abort();this.xhr.onreadystatechange=$empty;this.xhr=new Browser.Request();this.fireEvent("cancel");return this}});(function(){var B={};["get","post","put","delete","GET","POST","PUT","DELETE"].each(function(C){B[C]=function(){var D=Array.link(arguments,{url:String.type,data:$defined});return this.send($extend(D,{method:C}))}});Request.implement(B)})();Element.Properties.send={set:function(B){var C=this.retrieve("send");if(C){C.cancel()}return this.eliminate("send").store("send:options",$extend({data:this,link:"cancel",method:this.get("method")||"post",url:this.get("action")},B))},get:function(B){if(B||!this.retrieve("send")){if(B||!this.retrieve("send:options")){this.set("send",B)}this.store("send",new Request(this.retrieve("send:options")))}return this.retrieve("send")}};Element.implement({send:function(B){var C=this.get("send");C.send({data:this,url:B||C.options.url});return this}});Request.HTML=new Class({Extends:Request,options:{update:false,append:false,evalScripts:true,filter:false},processHTML:function(D){var C=D.match(/<body[^>]*>([\s\S]*?)<\/body>/i);D=(C)?C[1]:D;var B=new Element("div");return $try(function(){var E="<root>"+D+"</root>",H;if(Browser.Engine.trident){H=new ActiveXObject("Microsoft.XMLDOM");H.async=false;H.loadXML(E)}else{H=new DOMParser().parseFromString(E,"text/xml")}E=H.getElementsByTagName("root")[0];if(!E){return null}for(var G=0,F=E.childNodes.length;G<F;G++){var I=Element.clone(E.childNodes[G],true,true);if(I){B.grab(I)}}return B})||B.set("html",D)},success:function(E){var D=this.options,C=this.response;C.html=E.stripScripts(function(F){C.javascript=F});var B=this.processHTML(C.html);C.tree=B.childNodes;C.elements=B.getElements("*");if(D.filter){C.tree=C.elements.filter(D.filter)}if(D.update){document.id(D.update).empty().set("html",C.html)}else{if(D.append){document.id(D.append).adopt(B.getChildren())}}if(D.evalScripts){$exec(C.javascript)}this.onSuccess(C.tree,C.elements,C.html,C.javascript)}});Element.Properties.load={set:function(B){var C=this.retrieve("load");if(C){C.cancel()}return this.eliminate("load").store("load:options",$extend({data:this,link:"cancel",update:this,method:"get"},B))},get:function(B){if(B||!this.retrieve("load")){if(B||!this.retrieve("load:options")){this.set("load",B)}this.store("load",new Request.HTML(this.retrieve("load:options")))}return this.retrieve("load")}};Element.implement({load:function(){this.get("load").send(Array.link(arguments,{data:Object.type,url:String.type}));return this}});Request.JSON=new Class({Extends:Request,options:{secure:true},initialize:function(B){this.parent(B);this.headers.extend({Accept:"application/json","X-Request":"JSON"})},success:function(B){this.response.json=JSON.decode(B,this.options.secure);this.onSuccess(this.response.json,B)}});MooTools.More={version:"1.2.5.1",build:"254884f2b83651bf95260eed5c6cceb838e22d8e"};(function(){var B={language:"en-US",languages:{"en-US":{}},cascades:["en-US"]};var C;MooTools.lang=new Events();$extend(MooTools.lang,{setLanguage:function(D){if(!B.languages[D]){return this}B.language=D;this.load();this.fireEvent("langChange",D);return this},load:function(){var D=this.cascade(this.getCurrentLanguage());C={};$each(D,function(F,E){C[E]=this.lambda(F)},this)},getCurrentLanguage:function(){return B.language},addLanguage:function(D){B.languages[D]=B.languages[D]||{};return this},cascade:function(F){var D=(B.languages[F]||{}).cascades||[];D.combine(B.cascades);D.erase(F).push(F);var E=D.map(function(G){return B.languages[G]},this);return $merge.apply(this,E)},lambda:function(D){(D||{}).get=function(F,E){return $lambda(D[F]).apply(this,$splat(E))};return D},get:function(F,E,D){if(C&&C[F]){return(E?C[F].get(E,D):C[F])}},set:function(E,F,D){this.addLanguage(E);langData=B.languages[E];if(!langData[F]){langData[F]={}}$extend(langData[F],D);if(E==this.getCurrentLanguage()){this.load();this.fireEvent("langChange",E)}return this},list:function(){return Hash.getKeys(B.languages)}})})();(function(){var D=this;var C=function(){if(D.console&&console.log){try{console.log.apply(console,arguments)}catch(E){console.log(Array.slice(arguments))}}else{Log.logged.push(arguments)}return this};var B=function(){this.logged.push(arguments);return this};this.Log=new Class({logged:[],log:B,resetLog:function(){this.logged.empty();return this},enableLog:function(){this.log=C;this.logged.each(function(E){this.log.apply(this,E)},this);return this.resetLog()},disableLog:function(){this.log=B;return this}});Log.extend(new Log).enableLog();Log.logger=function(){return this.log.apply(this,arguments)}})();Class.refactor=function(C,B){$each(B,function(F,E){var D=C.prototype[E];if(D&&(D=D._origin?D._origin:D)&&typeof F=="function"){C.implement(E,function(){var G=this.previous;this.previous=D;var H=F.apply(this,arguments);this.previous=G;return H})}else{C.implement(E,F)}});return C};Class.Mutators.Binds=function(B){return B};Class.Mutators.initialize=function(B){return function(){$splat(this.Binds).each(function(C){var D=this[C];if(D){this[C]=D.bind(this)}},this);return B.apply(this,arguments)}};Class.Occlude=new Class({occlude:function(D,C){C=document.id(C||this.element);var B=C.retrieve(D||this.property);if(B&&!$defined(this.occluded)){return this.occluded=B}this.occluded=false;C.store(D||this.property,this);return this.occluded}});(function(){var B={wait:function(C){return this.chain(function(){this.callChain.delay($pick(C,500),this)}.bind(this))}};Chain.implement(B);if(window.Fx){Fx.implement(B);["Css","Tween","Elements"].each(function(C){if(Fx[C]){Fx[C].implement(B)}})}Element.implement({chains:function(C){$splat($pick(C,["tween","morph","reveal"])).each(function(D){D=this.get(D);if(!D){return }D.setOptions({link:"chain"})},this);return this},pauseFx:function(D,C){this.chains(C).get($pick(C,"tween")).wait(D);return this}})})();Array.implement({min:function(){return Math.min.apply(null,this)},max:function(){return Math.max.apply(null,this)},average:function(){return this.length?this.sum()/this.length:0},sum:function(){var B=0,C=this.length;if(C){do{B+=this[--C]}while(C)}return B},unique:function(){return[].combine(this)},shuffle:function(){for(var C=this.length;C&&--C;){var B=this[C],D=Math.floor(Math.random()*(C+1));this[C]=this[D];this[D]=B}return this}});(function(){var J=this.Date;if(!J.now){J.now=$time}J.Methods={ms:"Milliseconds",year:"FullYear",min:"Minutes",mo:"Month",sec:"Seconds",hr:"Hours"};["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds","Time","TimezoneOffset","Week","Timezone","GMTOffset","DayOfYear","LastMonth","LastDayOfMonth","UTCDate","UTCDay","UTCFullYear","AMPM","Ordinal","UTCHours","UTCMilliseconds","UTCMinutes","UTCMonth","UTCSeconds","UTCMilliseconds"].each(function(Q){J.Methods[Q.toLowerCase()]=Q});var E=function(R,Q){return new Array(Q-String(R).length+1).join("0")+R};J.implement({set:function(T,R){switch($type(T)){case"object":for(var S in T){this.set(S,T[S])}break;case"string":T=T.toLowerCase();var Q=J.Methods;if(Q[T]){this["set"+Q[T]](R)}}return this},get:function(R){R=R.toLowerCase();var Q=J.Methods;if(Q[R]){return this["get"+Q[R]]()}return null},clone:function(){return new J(this.get("time"))},increment:function(Q,S){Q=Q||"day";S=$pick(S,1);switch(Q){case"year":return this.increment("month",S*12);case"month":var R=this.get("date");this.set("date",1).set("mo",this.get("mo")+S);return this.set("date",R.min(this.get("lastdayofmonth")));case"week":return this.increment("day",S*7);case"day":return this.set("date",this.get("date")+S)}if(!J.units[Q]){throw new Error(Q+" is not a supported interval")}return this.set("time",this.get("time")+S*J.units[Q]())},decrement:function(Q,R){return this.increment(Q,-1*$pick(R,1))},isLeapYear:function(){return J.isLeapYear(this.get("year"))},clearTime:function(){return this.set({hr:0,min:0,sec:0,ms:0})},diff:function(R,Q){if($type(R)=="string"){R=J.parse(R)}return((R-this)/J.units[Q||"day"](3,3)).round()},getLastDayOfMonth:function(){return J.daysInMonth(this.get("mo"),this.get("year"))},getDayOfYear:function(){return(J.UTC(this.get("year"),this.get("mo"),this.get("date")+1)-J.UTC(this.get("year"),0,1))/J.units.day()},getWeek:function(){return(this.get("dayofyear")/7).ceil()},getOrdinal:function(Q){return J.getMsg("ordinal",Q||this.get("date"))},getTimezone:function(){return this.toString().replace(/^.*? ([A-Z]{3}).[0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},getGMTOffset:function(){var Q=this.get("timezoneOffset");return((Q>0)?"-":"+")+E((Q.abs()/60).floor(),2)+E(Q%60,2)},setAMPM:function(Q){Q=Q.toUpperCase();var R=this.get("hr");if(R>11&&Q=="AM"){return this.decrement("hour",12)}else{if(R<12&&Q=="PM"){return this.increment("hour",12)}}return this},getAMPM:function(){return(this.get("hr")<12)?"AM":"PM"},parse:function(Q){this.set("time",J.parse(Q));return this},isValid:function(Q){return !isNaN((Q||this).valueOf())},format:function(Q){if(!this.isValid()){return"invalid date"}Q=Q||"%x %X";Q=L[Q.toLowerCase()]||Q;var R=this;return Q.replace(/%([a-z%])/gi,function(T,S){switch(S){case"a":return J.getMsg("days")[R.get("day")].substr(0,3);case"A":return J.getMsg("days")[R.get("day")];case"b":return J.getMsg("months")[R.get("month")].substr(0,3);case"B":return J.getMsg("months")[R.get("month")];case"c":return R.toString();case"d":return E(R.get("date"),2);case"D":return R.get("date");case"e":return R.get("date");case"H":return E(R.get("hr"),2);case"I":return((R.get("hr")%12)||12);case"j":return E(R.get("dayofyear"),3);case"m":return E((R.get("mo")+1),2);case"M":return E(R.get("min"),2);case"o":return R.get("ordinal");case"p":return J.getMsg(R.get("ampm"));case"s":return Math.round(R/1000);case"S":return E(R.get("seconds"),2);case"U":return E(R.get("week"),2);case"w":return R.get("day");case"x":return R.format(J.getMsg("shortDate"));case"X":return R.format(J.getMsg("shortTime"));case"y":return R.get("year").toString().substr(2);case"Y":return R.get("year");case"T":return R.get("GMTOffset");case"Z":return R.get("Timezone");case"z":return E(R.get("ms"),3)}return S})},toISOString:function(){return this.format("iso8601")}});J.alias("toISOString","toJSON");J.alias("diff","compare");J.alias("format","strftime");var L={db:"%Y-%m-%d %H:%M:%S",compact:"%Y%m%dT%H%M%S",iso8601:"%Y-%m-%dT%H:%M:%S%T",rfc822:"%a, %d %b %Y %H:%M:%S %Z","short":"%d %b %H:%M","long":"%B %d, %Y %H:%M"};var H=[];var F=J.parse;var O=function(T,V,S){var R=-1;var U=J.getMsg(T+"s");switch($type(V)){case"object":R=U[V.get(T)];break;case"number":R=U[V];if(!R){throw new Error("Invalid "+T+" index: "+V)}break;case"string":var Q=U.filter(function(W){return this.test(W)},new RegExp("^"+V,"i"));if(!Q.length){throw new Error("Invalid "+T+" string")}if(Q.length>1){throw new Error("Ambiguous "+T)}R=Q[0]}return(S)?U.indexOf(R):R};J.extend({getMsg:function(R,Q){return MooTools.lang.get("Date",R,Q)},units:{ms:$lambda(1),second:$lambda(1000),minute:$lambda(60000),hour:$lambda(3600000),day:$lambda(86400000),week:$lambda(608400000),month:function(R,Q){var S=new J;return J.daysInMonth($pick(R,S.get("mo")),$pick(Q,S.get("year")))*86400000},year:function(Q){Q=Q||new J().get("year");return J.isLeapYear(Q)?31622400000:31536000000}},daysInMonth:function(R,Q){return[31,J.isLeapYear(Q)?29:28,31,30,31,30,31,31,30,31,30,31][R]},isLeapYear:function(Q){return((Q%4===0)&&(Q%100!==0))||(Q%400===0)},parse:function(S){var R=$type(S);if(R=="number"){return new J(S)}if(R!="string"){return S}S=S.clean();if(!S.length){return null}var Q;H.some(function(U){var T=U.re.exec(S);return(T)?(Q=U.handler(T)):false});return Q||new J(F(S))},parseDay:function(Q,R){return O("day",Q,R)},parseMonth:function(R,Q){return O("month",R,Q)},parseUTC:function(R){var Q=new J(R);var S=J.UTC(Q.get("year"),Q.get("mo"),Q.get("date"),Q.get("hr"),Q.get("min"),Q.get("sec"),Q.get("ms"));return new J(S)},orderIndex:function(Q){return J.getMsg("dateOrder").indexOf(Q)+1},defineFormat:function(Q,R){L[Q]=R},defineFormats:function(Q){for(var R in Q){J.defineFormat(R,Q[R])}},parsePatterns:H,defineParser:function(Q){H.push((Q.re&&Q.handler)?Q:M(Q))},defineParsers:function(){Array.flatten(arguments).each(J.defineParser)},define2DigitYearStart:function(Q){I=Q%100;N=Q-I}});var N=1900;var I=70;var K=function(Q){return new RegExp("(?:"+J.getMsg(Q).map(function(R){return R.substr(0,3)}).join("|")+")[a-z]*")};var B=function(Q){switch(Q){case"x":return((J.orderIndex("month")==1)?"%m[-./]%d":"%d[-./]%m")+"([-./]%y)?";case"X":return"%H([.:]%M)?([.:]%S([.:]%s)?)? ?%p? ?%T?"}return null};var P={d:/[0-2]?[0-9]|3[01]/,H:/[01]?[0-9]|2[0-3]/,I:/0?[1-9]|1[0-2]/,M:/[0-5]?\d/,s:/\d+/,o:/[a-z]*/,p:/[ap]\.?m\.?/,y:/\d{2}|\d{4}/,Y:/\d{4}/,T:/Z|[+-]\d{2}(?::?\d{2})?/};P.m=P.I;P.S=P.M;var D;var C=function(Q){D=Q;P.a=P.A=K("days");P.b=P.B=K("months");H.each(function(S,R){if(S.format){H[R]=M(S.format)}})};var M=function(S){if(!D){return{format:S}}var Q=[];var R=(S.source||S).replace(/%([a-z])/gi,function(U,T){return B(T)||U}).replace(/\((?!\?)/g,"(?:").replace(/ (?!\?|\*)/g,",? ").replace(/%([a-z%])/gi,function(U,T){var V=P[T];if(!V){return T}Q.push(T);return"("+V.source+")"}).replace(/\[a-z\]/gi,"[a-z\\u00c0-\\uffff]");return{format:S,re:new RegExp("^"+R+"$","i"),handler:function(W){W=W.slice(1).associate(Q);var T=new J().clearTime(),V=W.y||W.Y;if(V!=null){G.call(T,"y",V)}if("d" in W){G.call(T,"d",1)}if("m" in W||"b" in W||"B" in W){G.call(T,"m",1)}for(var U in W){G.call(T,U,W[U])}return T}}};var G=function(Q,R){if(!R){return this}switch(Q){case"a":case"A":return this.set("day",J.parseDay(R,true));case"b":case"B":return this.set("mo",J.parseMonth(R,true));case"d":return this.set("date",R);case"H":case"I":return this.set("hr",R);case"m":return this.set("mo",R-1);case"M":return this.set("min",R);case"p":return this.set("ampm",R.replace(/\./g,""));case"S":return this.set("sec",R);case"s":return this.set("ms",("0."+R)*1000);case"w":return this.set("day",R);case"Y":return this.set("year",R);case"y":R=+R;if(R<100){R+=N+(R<I?100:0)}return this.set("year",R);case"T":if(R=="Z"){R="+00"}var S=R.match(/([+-])(\d{2}):?(\d{2})?/);S=(S[1]+"1")*(S[2]*60+(+S[3]||0))+this.getTimezoneOffset();return this.set("time",this-S*60000)}return this};J.defineParsers("%Y([-./]%m([-./]%d((T| )%X)?)?)?","%Y%m%d(T%H(%M%S?)?)?","%x( %X)?","%d%o( %b( %Y)?)?( %X)?","%b( %d%o)?( %Y)?( %X)?","%Y %b( %d%o( %X)?)?","%o %b %d %X %T %Y");MooTools.lang.addEvent("langChange",function(Q){if(MooTools.lang.get("Date")){C(Q)}}).fireEvent("langChange",MooTools.lang.getCurrentLanguage())})();Date.implement({timeDiffInWords:function(B){return Date.distanceOfTimeInWords(this,B||new Date)},timeDiff:function(H,C){if(H==null){H=new Date}var G=((H-this)/1000).toInt();if(!G){return"0s"}var B={s:60,m:60,h:24,d:365,y:0};var F,E=[];for(var D in B){if(!G){break}if((F=B[D])){E.unshift((G%F)+D);G=(G/F).toInt()}else{E.unshift(G+D)}}return E.join(C||":")}});Date.alias("timeDiffInWords","timeAgoInWords");Date.extend({distanceOfTimeInWords:function(C,B){return Date.getTimePhrase(((B-C)/1000).toInt())},getTimePhrase:function(G){var E=(G<0)?"Until":"Ago";if(G<0){G*=-1}var C={minute:60,hour:60,day:24,week:7,month:52/12,year:12,eon:Infinity};var F="lessThanMinute";for(var D in C){var B=C[D];if(G<1.5*B){if(G>0.75*B){F=D}break}G/=B;F=D+"s"}return Date.getMsg(F+E,G).substitute({delta:G.round()})}});Date.defineParsers({re:/^(?:tod|tom|yes)/i,handler:function(B){var C=new Date().clearTime();switch(B[0]){case"tom":return C.increment();case"yes":return C.decrement();default:return C}}},{re:/^(next|last) ([a-z]+)$/i,handler:function(E){var F=new Date().clearTime();var C=F.getDay();var D=Date.parseDay(E[2],true);var B=D-C;if(D<=C){B+=7}if(E[1]=="last"){B-=7}return F.set("date",F.getDate()+B)}});Hash.implement({getFromPath:function(B){var C=this.getClean();B.replace(/\[([^\]]+)\]|\.([^.[]+)|[^[.]+/g,function(D){if(!C){return null}var E=arguments[2]||arguments[1]||arguments[0];C=(E in C)?C[E]:null;return D});return C},cleanValues:function(B){B=B||$defined;this.each(function(D,C){if(!B(D)){this.erase(C)}},this);return this},run:function(){var B=arguments;this.each(function(D,C){if($type(D)=="function"){D.run(B)}})}});(function(){var D={a:"[]",A:"[]",c:"[]",C:"[]",d:"[]",D:"[]",e:"[]",E:"[]",g:"[]",G:"[]",i:"[]",I:"[]",l:"[]",L:"[]",n:"[]",N:"[]",o:"[]",O:"[]",r:"[]",R:"[]",s:"[]",S:"[]",t:"[]",T:"[]",ue:"[]",UE:"[]",u:"[]",U:"[]",y:"[]",Y:"[]",z:"[]",Z:"[]",th:"[]",TH:"[]",dh:"[]",DH:"[]",ss:"[]",oe:"[]",OE:"[]",ae:"[]",AE:"[]"},C={" ":"[\xa0\u2002\u2003\u2009]","*":"[\xb7]","'":"[\u2018\u2019]",'"':"[\u201c\u201d]","...":"[\u2026]","-":"[\u2013]","--":"[\u2014]","&raquo;":"[\uFFFD]"};function B(G,H){var F=G;for(key in H){F=F.replace(new RegExp(H[key],"g"),key)}return F}function E(F,G){F=F||"";var H=G?"<"+F+"(?!\\w)[^>]*>([\\s\\S]*?)</"+F+"(?!\\w)>":"</?"+F+"([^>]+)?>";reg=new RegExp(H,"gi");return reg}String.implement({standardize:function(){return B(this,D)},repeat:function(F){return new Array(F+1).join(this)},pad:function(G,I,F){if(this.length>=G){return this}var H=(I==null?" ":""+I).repeat(G-this.length).substr(0,G-this.length);if(!F||F=="right"){return this+H}if(F=="left"){return H+this}return H.substr(0,(H.length/2).floor())+this+H.substr(0,(H.length/2).ceil())},getTags:function(F,G){return this.match(E(F,G))||[]},stripTags:function(F,G){return this.replace(E(F,G),"")},tidy:function(){return B(this,C)}})})();String.implement({parseQueryString:function(E,B){if(E==null){E=true}if(B==null){B=true}var D=this.split(/[&;]/),C={};if(D.length){D.each(function(J){var F=J.indexOf("="),G=F<0?[""]:J.substr(0,F).match(/([^\]\[]+|(\B)(?=\]))/g),H=B?decodeURIComponent(J.substr(F+1)):J.substr(F+1),I=C;G.each(function(L,K){if(E){L=decodeURIComponent(L)}var M=I[L];if(K<G.length-1){I=I[L]=M||{}}else{if($type(M)=="array"){M.push(H)}else{I[L]=$defined(M)?[M,H]:H}}})})}return C},cleanQueryString:function(B){return this.split("&").filter(function(F){var C=F.indexOf("="),D=C<0?"":F.substr(0,C),E=F.substr(C+1);return B?B.run([D,E]):$chk(E)}).join("&")}});var URI=new Class({Implements:Options,options:{},regex:/^(?:(\w+):)?(?:\/\/(?:(?:([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)?(\.\.?$|(?:[^?#\/]*\/)*)([^?#]*)(?:\?([^#]*))?(?:#(.*))?/,parts:["scheme","user","password","host","port","directory","file","query","fragment"],schemes:{http:80,https:443,ftp:21,rtsp:554,mms:1755,file:0},initialize:function(C,B){this.setOptions(B);var D=this.options.base||URI.base;if(!C){C=D}if(C&&C.parsed){this.parsed=$unlink(C.parsed)}else{this.set("value",C.href||C.toString(),D?new URI(D):false)}},parse:function(D,C){var B=D.match(this.regex);if(!B){return false}B.shift();return this.merge(B.associate(this.parts),C)},merge:function(C,B){if((!C||!C.scheme)&&(!B||!B.scheme)){return false}if(B){this.parts.every(function(D){if(C[D]){return false}C[D]=B[D]||"";return true})}C.port=C.port||this.schemes[C.scheme.toLowerCase()];C.directory=C.directory?this.parseDirectory(C.directory,B?B.directory:""):"/";return C},parseDirectory:function(C,D){C=(C.substr(0,1)=="/"?"":(D||"/"))+C;if(!C.test(URI.regs.directoryDot)){return C}var B=[];C.replace(URI.regs.endSlash,"").split("/").each(function(E){if(E==".."&&B.length>0){B.pop()}else{if(E!="."){B.push(E)}}});return B.join("/")+"/"},combine:function(B){return B.value||B.scheme+"://"+(B.user?B.user+(B.password?":"+B.password:"")+"@":"")+(B.host||"")+(B.port&&B.port!=this.schemes[B.scheme]?":"+B.port:"")+(B.directory||"/")+(B.file||"")+(B.query?"?"+B.query:"")+(B.fragment?"#"+B.fragment:"")},set:function(C,E,D){if(C=="value"){var B=E.match(URI.regs.scheme);if(B){B=B[1]}if(B&&!$defined(this.schemes[B.toLowerCase()])){this.parsed={scheme:B,value:E}}else{this.parsed=this.parse(E,(D||this).parsed)||(B?{scheme:B,value:E}:{value:E})}}else{if(C=="data"){this.setData(E)}else{this.parsed[C]=E}}return this},get:function(B,C){switch(B){case"value":return this.combine(this.parsed,C?C.parsed:false);case"data":return this.getData()}return this.parsed[B]||""},go:function(){document.location.href=this.toString()},toURI:function(){return this},getData:function(D,C){var B=this.get(C||"query");if(!$chk(B)){return D?null:{}}var E=B.parseQueryString();return D?E[D]:E},setData:function(B,D,C){if(typeof B=="string"){data=this.getData();data[arguments[0]]=arguments[1];B=data}else{if(D){B=$merge(this.getData(),B)}}return this.set(C||"query",Hash.toQueryString(B))},clearData:function(B){return this.set(B||"query","")}});URI.prototype.toString=URI.prototype.valueOf=function(){return this.get("value")};URI.regs={endSlash:/\/$/,scheme:/^(\w+):/,directoryDot:/\.\/|\.$/};URI.base=new URI(document.getElements("base[href]",true).getLast(),{base:document.location});String.implement({toURI:function(B){return new URI(this,B)}});URI=Class.refactor(URI,{combine:function(G,F){if(!F||G.scheme!=F.scheme||G.host!=F.host||G.port!=F.port){return this.previous.apply(this,arguments)}var B=G.file+(G.query?"?"+G.query:"")+(G.fragment?"#"+G.fragment:"");if(!F.directory){return(G.directory||(G.file?"":"./"))+B}var E=F.directory.split("/"),D=G.directory.split("/"),H="",I;var C=0;for(I=0;I<E.length&&I<D.length&&E[I]==D[I];I++){}for(C=0;C<E.length-I-1;C++){H+="../"}for(C=I;C<D.length-1;C++){H+=D[C]+"/"}return(H||(G.file?"":"./"))+B},toAbsolute:function(B){B=new URI(B);if(B){B.set("directory","").set("file","")}return this.toRelative(B)},toRelative:function(B){return this.get("value",new URI(B))}});Element.implement({tidy:function(){this.set("value",this.get("value").tidy())},getTextInRange:function(C,B){return this.get("value").substring(C,B)},getSelectedText:function(){if(this.setSelectionRange){return this.getTextInRange(this.getSelectionStart(),this.getSelectionEnd())}return document.selection.createRange().text},getSelectedRange:function(){if($defined(this.selectionStart)){return{start:this.selectionStart,end:this.selectionEnd}}var F={start:0,end:0};var B=this.getDocument().selection.createRange();if(!B||B.parentElement()!=this){return F}var D=B.duplicate();if(this.type=="text"){F.start=0-D.moveStart("character",-100000);F.end=F.start+B.text.length}else{var C=this.get("value");var E=C.length;D.moveToElementText(this);D.setEndPoint("StartToEnd",B);if(D.text.length){E-=C.match(/[\n\r]*$/)[0].length}F.end=E-D.text.length;D.setEndPoint("StartToStart",B);F.start=E-D.text.length}return F},getSelectionStart:function(){return this.getSelectedRange().start},getSelectionEnd:function(){return this.getSelectedRange().end},setCaretPosition:function(B){if(B=="end"){B=this.get("value").length}this.selectRange(B,B);return this},getCaretPosition:function(){return this.getSelectedRange().start},selectRange:function(F,B){if(this.setSelectionRange){this.focus();this.setSelectionRange(F,B)}else{var D=this.get("value");var E=D.substr(F,B-F).replace(/\r/g,"").length;F=D.substr(0,F).replace(/\r/g,"").length;var C=this.createTextRange();C.collapse(true);C.moveEnd("character",F+E);C.moveStart("character",F);C.select()}return this},insertAtCursor:function(C,B){var E=this.getSelectedRange();var D=this.get("value");this.set("value",D.substring(0,E.start)+C+D.substring(E.end,D.length));if($pick(B,true)){this.selectRange(E.start,E.start+C.length)}else{this.setCaretPosition(E.start+C.length)}return this},insertAroundCursor:function(C,B){C=$extend({before:"",defaultMiddle:"",after:""},C);var D=this.getSelectedText()||C.defaultMiddle;var H=this.getSelectedRange();var G=this.get("value");if(H.start==H.end){this.set("value",G.substring(0,H.start)+C.before+D+C.after+G.substring(H.end,G.length));this.selectRange(H.start+C.before.length,H.end+C.before.length+D.length)}else{var E=G.substring(H.start,H.end);this.set("value",G.substring(0,H.start)+C.before+E+C.after+G.substring(H.end,G.length));var F=H.start+C.before.length;if($pick(B,true)){this.selectRange(F,F+E.length)}else{this.setCaretPosition(F+G.length)}}return this}});Elements.from=function(F,E){if($pick(E,true)){F=F.stripScripts()}var C,D=F.match(/^\s*<(t[dhr]|tbody|tfoot|thead)/i);if(D){C=new Element("table");var B=D[1].toLowerCase();if(["td","th","tr"].contains(B)){C=new Element("tbody").inject(C);if(B!="tr"){C=new Element("tr").inject(C)}}}return(C||new Element("div")).set("html",F).getChildren()};(function(E,F){var D=/(.*?):relay\(((?:\(.*?\)|.)+)\)$/,C=/[+>~\s]/,G=function(H){var I=H.match(D);return !I?{event:H}:{event:I[1],selector:I[2]}},B=function(M,H){var K=M.target;if(C.test(H=H.trim())){var J=this.getElements(H);for(var I=J.length;I--;){var L=J[I];if(K==L||L.hasChild(K)){return L}}}else{for(;K&&K!=this;K=K.parentNode){if(Element.match(K,H)){return document.id(K)}}}return null};Element.implement({addEvent:function(L,K){var J=G(L);if(J.selector){var I=this.retrieve("delegation:_delegateMonitors",{});if(!I[L]){var H=function(N){var M=B.call(this,N,J.selector);if(M){this.fireEvent(L,[N,M],0,M)}}.bind(this);I[L]=H;E.call(this,J.event,H)}}return E.apply(this,arguments)},removeEvent:function(L,K){var J=G(L);if(J.selector){var I=this.retrieve("events");if(!I||!I[L]||(K&&!I[L].keys.contains(K))){return this}if(K){F.apply(this,[L,K])}else{F.apply(this,L)}I=this.retrieve("events");if(I&&I[L]&&I[L].keys.length==0){var H=this.retrieve("delegation:_delegateMonitors",{});F.apply(this,[J.event,H[L]]);delete H[L]}return this}return F.apply(this,arguments)},fireEvent:function(L,I,H,N){var J=this.retrieve("events");var M,K;if(I){M=I[0];K=I[1]}if(!J||!J[L]){return this}J[L].keys.each(function(O){O.create({bind:N||this,delay:H,arguments:I})()},this);return this}})})(Element.prototype.addEvent,Element.prototype.removeEvent);try{if(typeof HTMLElement!="undefined"){HTMLElement.prototype.fireEvent=Element.prototype.fireEvent}}catch(e){}Element.implement({measure:function(F){var H=function(I){return !!(!I||I.offsetHeight||I.offsetWidth)};if(H(this)){return F.apply(this)}var E=this.getParent(),G=[],C=[];while(!H(E)&&E!=document.body){C.push(E.expose());E=E.getParent()}var D=this.expose();var B=F.apply(this);D();C.each(function(I){I()});return B},expose:function(){if(this.getStyle("display")!="none"){return $empty}var B=this.style.cssText;this.setStyles({display:"block",position:"absolute",visibility:"hidden"});return function(){this.style.cssText=B}.bind(this)},getDimensions:function(B){B=$merge({computeSize:false},B);var F={};var E=function(H,G){return(G.computeSize)?H.getComputedSize(G):H.getSize()};var C=this.getParent("body");if(C&&this.getStyle("display")=="none"){F=this.measure(function(){return E(this,B)})}else{if(C){try{F=E(this,B)}catch(D){}}else{F={x:0,y:0}}}return $chk(F.x)?$extend(F,{width:F.x,height:F.y}):$extend(F,{x:F.width,y:F.height})},getComputedSize:function(B){if(B&&B.plains){B.planes=B.plains}B=$merge({styles:["padding","border"],planes:{height:["top","bottom"],width:["left","right"]},mode:"both"},B);var D={width:0,height:0};switch(B.mode){case"vertical":delete D.width;delete B.planes.width;break;case"horizontal":delete D.height;delete B.planes.height;break}var C=[];$each(B.planes,function(G,H){G.each(function(I){B.styles.each(function(J){C.push((J=="border")?J+"-"+I+"-width":J+"-"+I)})})});var F={};C.each(function(G){F[G]=this.getComputedStyle(G)},this);var E=[];$each(B.planes,function(G,H){var I=H.capitalize();D["total"+I]=D["computed"+I]=0;G.each(function(J){D["computed"+J.capitalize()]=0;C.each(function(L,K){if(L.test(J)){F[L]=F[L].toInt()||0;D["total"+I]=D["total"+I]+F[L];D["computed"+J.capitalize()]=D["computed"+J.capitalize()]+F[L]}if(L.test(J)&&H!=L&&(L.test("border")||L.test("padding"))&&!E.contains(L)){E.push(L);D["computed"+I]=D["computed"+I]-F[L]}})})});["Width","Height"].each(function(H){var G=H.toLowerCase();if(!$chk(D[G])){return }D[G]=D[G]+this["offset"+H]+D["computed"+H];D["total"+H]=D[G]+D["total"+H];delete D["computed"+H]},this);return $extend(F,D)}});(function(){var B=false,C=false;var D=function(){var E=new Element("div").setStyles({position:"fixed",top:0,right:0}).inject(document.body);B=(E.offsetTop===0);E.dispose();C=true};Element.implement({pin:function(I,G){if(!C){D()}if(this.getStyle("display")=="none"){return this}var K,L=window.getScroll();if(I!==false){K=this.getPosition(B?document.body:this.getOffsetParent());if(!this.retrieve("pin:_pinned")){var H={top:K.y-L.y,left:K.x-L.x};if(B&&!G){this.setStyle("position","fixed").setStyles(H)}else{var M=this.getOffsetParent(),J=this.getPosition(M),N=this.getStyles("left","top");if(M&&N.left=="auto"||N.top=="auto"){this.setPosition(J)}if(this.getStyle("position")=="static"){this.setStyle("position","absolute")}J={x:N.left.toInt()-L.x,y:N.top.toInt()-L.y};var F=function(){if(!this.retrieve("pin:_pinned")){return }var O=window.getScroll();this.setStyles({left:J.x+O.x,top:J.y+O.y})}.bind(this);this.store("pin:_scrollFixer",F);window.addEvent("scroll",F)}this.store("pin:_pinned",true)}}else{if(!this.retrieve("pin:_pinned")){return this}var M=this.getParent(),E=(M.getComputedStyle("position")!="static"?M:M.getOffsetParent());K=this.getPosition(E);this.store("pin:_pinned",false);var F=this.retrieve("pin:_scrollFixer");if(!F){this.setStyles({position:"absolute",top:K.y+L.y,left:K.x+L.x})}else{this.store("pin:_scrollFixer",null);window.removeEvent("scroll",F)}this.removeClass("isPinned")}return this},unpin:function(){return this.pin(false)},togglepin:function(){return this.pin(!this.retrieve("pin:_pinned"))}})})();(function(){var B=Element.prototype.position;Element.implement({position:function(H){if(H&&($defined(H.x)||$defined(H.y))){return B?B.apply(this,arguments):this}$each(H||{},function(V,U){if(!$defined(V)){delete H[U]}});H=$merge({relativeTo:document.body,position:{x:"center",y:"center"},edge:false,offset:{x:0,y:0},returnPos:false,relFixedPosition:false,ignoreMargins:false,ignoreScroll:false,allowNegative:false},H);var S={x:0,y:0},F=false;var D=this.measure(function(){return document.id(this.getOffsetParent())});if(D&&D!=this.getDocument().body){S=D.measure(function(){return this.getPosition()});F=D!=document.id(H.relativeTo);H.offset.x=H.offset.x-S.x;H.offset.y=H.offset.y-S.y}var T=function(U){if($type(U)!="string"){return U}U=U.toLowerCase();var V={};if(U.test("left")){V.x="left"}else{if(U.test("right")){V.x="right"}else{V.x="center"}}if(U.test("upper")||U.test("top")){V.y="top"}else{if(U.test("bottom")){V.y="bottom"}else{V.y="center"}}return V};H.edge=T(H.edge);H.position=T(H.position);if(!H.edge){if(H.position.x=="center"&&H.position.y=="center"){H.edge={x:"center",y:"center"}}else{H.edge={x:"left",y:"top"}}}this.setStyle("position","absolute");var G=document.id(H.relativeTo)||document.body,E=G==document.body?window.getScroll():G.getPosition(),M=E.y,I=E.x;var O=this.getDimensions({computeSize:true,styles:["padding","border","margin"]});var K={},P=H.offset.y,R=H.offset.x,L=window.getSize();switch(H.position.x){case"left":K.x=I+R;break;case"right":K.x=I+R+G.offsetWidth;break;default:K.x=I+((G==document.body?L.x:G.offsetWidth)/2)+R;break}switch(H.position.y){case"top":K.y=M+P;break;case"bottom":K.y=M+P+G.offsetHeight;break;default:K.y=M+((G==document.body?L.y:G.offsetHeight)/2)+P;break}if(H.edge){var C={};switch(H.edge.x){case"left":C.x=0;break;case"right":C.x=-O.x-O.computedRight-O.computedLeft;break;default:C.x=-(O.totalWidth/2);break}switch(H.edge.y){case"top":C.y=0;break;case"bottom":C.y=-O.y-O.computedTop-O.computedBottom;break;default:C.y=-(O.totalHeight/2);break}K.x+=C.x;K.y+=C.y}K={left:((K.x>=0||F||H.allowNegative)?K.x:0).toInt(),top:((K.y>=0||F||H.allowNegative)?K.y:0).toInt()};var J={left:"x",top:"y"};["minimum","maximum"].each(function(U){["left","top"].each(function(V){var W=H[U]?H[U][J[V]]:null;if(W!=null&&((U=="minimum")?K[V]<W:K[V]>W)){K[V]=W}})});if(G.getStyle("position")=="fixed"||H.relFixedPosition){var N=window.getScroll();K.top+=N.y;K.left+=N.x}var Q=G.getScroll();if(H.ignoreScroll){K.top-=Q.y;K.left-=Q.x}else{K.top+=Q.y;K.left+=Q.x}if(H.ignoreMargins){K.left+=(H.edge.x=="right"?O["margin-right"]:H.edge.x=="center"?-O["margin-left"]+((O["margin-right"]+O["margin-left"])/2):-O["margin-left"]);K.top+=(H.edge.y=="bottom"?O["margin-bottom"]:H.edge.y=="center"?-O["margin-top"]+((O["margin-bottom"]+O["margin-top"])/2):-O["margin-top"])}K.left=Math.ceil(K.left);K.top=Math.ceil(K.top);if(H.returnPos){return K}else{this.setStyles(K)}return this}})})();Element.implement({isDisplayed:function(){return this.getStyle("display")!="none"},isVisible:function(){var B=this.offsetWidth,C=this.offsetHeight;return(B==0&&C==0)?false:(B>0&&C>0)?true:this.style.display!="none"},toggle:function(){return this[this.isDisplayed()?"hide":"show"]()},hide:function(){var C;try{C=this.getStyle("display")}catch(B){}if(C=="none"){return this}return this.store("element:_originalDisplay",C||"").setStyle("display","none")},show:function(B){if(!B&&this.isDisplayed()){return this}B=B||this.retrieve("element:_originalDisplay")||"block";return this.setStyle("display",(B=="none")?"block":B)},swapClass:function(B,C){return this.removeClass(B).addClass(C)}});Document.implement({clearSelection:function(){if(document.selection&&document.selection.empty){document.selection.empty()}else{if(window.getSelection){var B=window.getSelection();if(B&&B.removeAllRanges){B.removeAllRanges()}}}}});if(!window.Form){window.Form={}}(function(){Form.Request=new Class({Binds:["onSubmit","onFormValidate"],Implements:[Options,Events,Class.Occlude],options:{requestOptions:{evalScripts:true,useSpinner:true,emulation:false,link:"ignore"},sendButtonClicked:true,extraData:{},resetForm:true},property:"form.request",initialize:function(C,D,B){this.element=document.id(C);if(this.occlude()){return this.occluded}this.update=document.id(D);this.setOptions(B);this.makeRequest();if(this.options.resetForm){this.request.addEvent("success",function(){$try(function(){this.element.reset()}.bind(this));if(window.OverText){OverText.update()}}.bind(this))}this.attach()},toElement:function(){return this.element},makeRequest:function(){this.request=new Request.HTML($merge({update:this.update,emulation:false,spinnerTarget:this.element,method:this.element.get("method")||"post"},this.options.requestOptions)).addEvents({success:function(C,E,D,B){["complete","success"].each(function(F){this.fireEvent(F,[this.update,C,E,D,B])},this)}.bind(this),failure:function(){this.fireEvent("complete",arguments).fireEvent("failure",arguments)}.bind(this),exception:function(){this.fireEvent("failure",arguments)}.bind(this)})},attach:function(B){B=$pick(B,true);method=B?"addEvent":"removeEvent";this.element[method]("click:relay(button, input[type=submit])",this.saveClickedButton.bind(this));var C=this.element.retrieve("validator");if(C){C[method]("onFormValidate",this.onFormValidate)}else{this.element[method]("submit",this.onSubmit)}},detach:function(){this.attach(false);return this},enable:function(){this.attach();return this},disable:function(){this.detach();return this},onFormValidate:function(C,B,E){if(!E){return }var D=this.element.retrieve("validator");if(C||(D&&!D.options.stopOnFailure)){if(E&&E.stop){E.stop()}this.send()}},onSubmit:function(C){var B=this.element.retrieve("validator");if(B){this.element.removeEvent("submit",this.onSubmit);B.addEvent("onFormValidate",this.onFormValidate);this.element.validate();return }if(C){C.stop()}this.send()},saveClickedButton:function(B,C){if(!this.options.sendButtonClicked){return }if(!C.get("name")){return }this.options.extraData[C.get("name")]=C.get("value")||true;this.clickedCleaner=function(){delete this.options.extraData[C.get("name")];this.clickedCleaner=$empty}.bind(this)},clickedCleaner:$empty,send:function(){var C=this.element.toQueryString().trim();var B=$H(this.options.extraData).toQueryString();if(C){C+="&"+B}else{C=B}this.fireEvent("send",[this.element,C.parseQueryString()]);this.request.send({data:C,url:this.element.get("action")});this.clickedCleaner();return this}});Element.Properties.formRequest={set:function(){var B=Array.link(arguments,{options:Object.type,update:Element.type,updateId:String.type});var D=B.update||B.updateId;var C=this.retrieve("form.request");if(D){if(C){C.update=document.id(D)}this.store("form.request:update",D)}if(B.options){if(C){C.setOptions(B.options)}this.store("form.request:options",B.options)}return this},get:function(){var B=Array.link(arguments,{options:Object.type,update:Element.type,updateId:String.type});var C=B.update||B.updateId;if(B.options||C||!this.retrieve("form.request")){if(B.options||!this.retrieve("form.request:options")){this.set("form.request",B.options)}if(C){this.set("form.request",C)}this.store("form.request",new Form.Request(this,this.retrieve("form.request:update"),this.retrieve("form.request:options")))}return this.retrieve("form.request")}};Element.implement({formUpdate:function(C,B){this.get("formRequest",C,B).send();return this}})})();Form.Request.Append=new Class({Extends:Form.Request,options:{useReveal:true,revealOptions:{},inject:"bottom"},makeRequest:function(){this.request=new Request.HTML($merge({url:this.element.get("action"),method:this.element.get("method")||"post",spinnerTarget:this.element},this.options.requestOptions,{evalScripts:false})).addEvents({success:function(C,H,G,B){var D;var E=Elements.from(G);if(E.length==1){D=E[0]}else{D=new Element("div",{styles:{display:"none"}}).adopt(E)}D.inject(this.update,this.options.inject);if(this.options.requestOptions.evalScripts){$exec(B)}this.fireEvent("beforeEffect",D);var F=function(){this.fireEvent("success",[D,this.update,C,H,G,B])}.bind(this);if(this.options.useReveal){D.get("reveal",this.options.revealOptions).chain(F);D.reveal()}else{F()}}.bind(this),failure:function(B){this.fireEvent("failure",B)}.bind(this)})}});if(!window.Form){window.Form={}}var InputValidator=new Class({Implements:[Options],options:{errorMsg:"Validation failed.",test:function(B){return true}},initialize:function(C,B){this.setOptions(B);this.className=C},test:function(C,B){if(document.id(C)){return this.options.test(document.id(C),B||this.getProps(C))}else{return false}},getError:function(D,B){var C=this.options.errorMsg;if($type(C)=="function"){C=C(document.id(D),B||this.getProps(D))}return C},getProps:function(B){if(!document.id(B)){return{}}return B.get("validatorProps")}});Element.Properties.validatorProps={set:function(B){return this.eliminate("validatorProps").store("validatorProps",B)},get:function(B){if(B){this.set(B)}if(this.retrieve("validatorProps")){return this.retrieve("validatorProps")}if(this.getProperty("validatorProps")){try{this.store("validatorProps",JSON.decode(this.getProperty("validatorProps")))}catch(D){return{}}}else{var C=this.get("class").split(" ").filter(function(E){return E.test(":")});if(!C.length){this.store("validatorProps",{})}else{B={};C.each(function(E){var F=E.split(":");if(F[1]){try{B[F[0]]=JSON.decode(F[1])}catch(G){}}});this.store("validatorProps",B)}}return this.retrieve("validatorProps")}};Form.Validator=new Class({Implements:[Options,Events],Binds:["onSubmit"],options:{fieldSelectors:"input, select, textarea",ignoreHidden:true,ignoreDisabled:true,useTitles:false,evaluateOnSubmit:true,evaluateFieldsOnBlur:true,evaluateFieldsOnChange:true,serial:true,stopOnFailure:true,warningPrefix:function(){return Form.Validator.getMsg("warningPrefix")||"Warning: "},errorPrefix:function(){return Form.Validator.getMsg("errorPrefix")||"Error: "}},initialize:function(C,B){this.setOptions(B);this.element=document.id(C);this.element.store("validator",this);this.warningPrefix=$lambda(this.options.warningPrefix)();this.errorPrefix=$lambda(this.options.errorPrefix)();if(this.options.evaluateOnSubmit){this.element.addEvent("submit",this.onSubmit)}if(this.options.evaluateFieldsOnBlur||this.options.evaluateFieldsOnChange){this.watchFields(this.getFields())}},toElement:function(){return this.element},getFields:function(){return(this.fields=this.element.getElements(this.options.fieldSelectors))},watchFields:function(B){B.each(function(C){if(this.options.evaluateFieldsOnBlur){C.addEvent("blur",this.validationMonitor.pass([C,false],this))}if(this.options.evaluateFieldsOnChange){C.addEvent("change",this.validationMonitor.pass([C,true],this))}},this)},validationMonitor:function(){$clear(this.timer);this.timer=this.validateField.delay(50,this,arguments)},onSubmit:function(B){if(!this.validate(B)&&B){B.preventDefault()}else{this.reset()}},reset:function(){this.getFields().each(this.resetField,this);return this},validate:function(C){var B=this.getFields().map(function(D){return this.validateField(D,true)},this).every(function(D){return D});this.fireEvent("formValidate",[B,this.element,C]);if(this.options.stopOnFailure&&!B&&C){C.preventDefault()}return B},validateField:function(J,B){if(this.paused){return true}J=document.id(J);var E=!J.hasClass("validation-failed");var G,I;if(this.options.serial&&!B){G=this.element.getElement(".validation-failed");I=this.element.getElement(".warning")}if(J&&(!G||B||J.hasClass("validation-failed")||(G&&!this.options.serial))){var D=J.className.split(" ").some(function(K){return this.getValidator(K)},this);var H=[];J.className.split(" ").each(function(K){if(K&&!this.test(K,J)){H.include(K)}},this);E=H.length===0;if(D&&!J.hasClass("warnOnly")){if(E){J.addClass("validation-passed").removeClass("validation-failed");this.fireEvent("elementPass",J)}else{J.addClass("validation-failed").removeClass("validation-passed");this.fireEvent("elementFail",[J,H])}}if(!I){var F=J.className.split(" ").some(function(K){if(K.test("^warn-")||J.hasClass("warnOnly")){return this.getValidator(K.replace(/^warn-/,""))}else{return null}},this);J.removeClass("warning");var C=J.className.split(" ").map(function(K){if(K.test("^warn-")||J.hasClass("warnOnly")){return this.test(K.replace(/^warn-/,""),J,true)}else{return null}},this)}}return E},test:function(C,E,F){E=document.id(E);if((this.options.ignoreHidden&&!E.isVisible())||(this.options.ignoreDisabled&&E.get("disabled"))){return true}var B=this.getValidator(C);F=$pick(F,false);if(E.hasClass("warnOnly")){F=true}var D=E.hasClass("ignoreValidation")||(B?B.test(E):true);if(B&&E.isVisible()){this.fireEvent("elementValidate",[D,E,C,F])}if(F){return true}return D},resetField:function(B){B=document.id(B);if(B){B.className.split(" ").each(function(C){if(C.test("^warn-")){C=C.replace(/^warn-/,"")}B.removeClass("validation-failed");B.removeClass("warning");B.removeClass("validation-passed")},this)}return this},stop:function(){this.paused=true;return this},start:function(){this.paused=false;return this},ignoreField:function(B,C){B=document.id(B);if(B){this.enforceField(B);if(C){B.addClass("warnOnly")}else{B.addClass("ignoreValidation")}}return this},enforceField:function(B){B=document.id(B);if(B){B.removeClass("warnOnly").removeClass("ignoreValidation")}return this}});Form.Validator.getMsg=function(B){return MooTools.lang.get("Form.Validator",B)};Form.Validator.adders={validators:{},add:function(C,B){this.validators[C]=new InputValidator(C,B);if(!this.initialize){this.implement({validators:this.validators})}},addAllThese:function(B){$A(B).each(function(C){this.add(C[0],C[1])},this)},getValidator:function(B){return this.validators[B.split(":")[0]]}};$extend(Form.Validator,Form.Validator.adders);Form.Validator.implement(Form.Validator.adders);Form.Validator.add("IsEmpty",{errorMsg:false,test:function(B){if(B.type=="select-one"||B.type=="select"){return !(B.selectedIndex>=0&&B.options[B.selectedIndex].value!="")}else{return((B.get("value")==null)||(B.get("value").length==0))}}});Form.Validator.addAllThese([["required",{errorMsg:function(){return Form.Validator.getMsg("required")},test:function(B){return !Form.Validator.getValidator("IsEmpty").test(B)}}],["minLength",{errorMsg:function(B,C){if($type(C.minLength)){return Form.Validator.getMsg("minLength").substitute({minLength:C.minLength,length:B.get("value").length})}else{return""}},test:function(B,C){if($type(C.minLength)){return(B.get("value").length>=$pick(C.minLength,0))}else{return true}}}],["maxLength",{errorMsg:function(B,C){if($type(C.maxLength)){return Form.Validator.getMsg("maxLength").substitute({maxLength:C.maxLength,length:B.get("value").length})}else{return""}},test:function(B,C){return(B.get("value").length<=$pick(C.maxLength,10000))}}],["validate-integer",{errorMsg:Form.Validator.getMsg.pass("integer"),test:function(B){return Form.Validator.getValidator("IsEmpty").test(B)||(/^(-?[1-9]\d*|0)$/).test(B.get("value"))}}],["validate-numeric",{errorMsg:Form.Validator.getMsg.pass("numeric"),test:function(B){return Form.Validator.getValidator("IsEmpty").test(B)||(/^-?(?:0$0(?=\d*\.)|[1-9]|0)\d*(\.\d+)?$/).test(B.get("value"))}}],["validate-digits",{errorMsg:Form.Validator.getMsg.pass("digits"),test:function(B){return Form.Validator.getValidator("IsEmpty").test(B)||(/^[\d() .:\-\+#]+$/.test(B.get("value")))}}],["validate-alpha",{errorMsg:Form.Validator.getMsg.pass("alpha"),test:function(B){return Form.Validator.getValidator("IsEmpty").test(B)||(/^[a-zA-Z]+$/).test(B.get("value"))}}],["validate-alphanum",{errorMsg:Form.Validator.getMsg.pass("alphanum"),test:function(B){return Form.Validator.getValidator("IsEmpty").test(B)||!(/\W/).test(B.get("value"))}}],["validate-date",{errorMsg:function(B,C){if(Date.parse){var D=C.dateFormat||"%x";return Form.Validator.getMsg("dateSuchAs").substitute({date:new Date().format(D)})}else{return Form.Validator.getMsg("dateInFormatMDY")}},test:function(B,C){if(Form.Validator.getValidator("IsEmpty").test(B)){return true}var G;if(Date.parse){var F=C.dateFormat||"%x";G=Date.parse(B.get("value"));var E=G.format(F);if(E!="invalid date"){B.set("value",E)}return !isNaN(G)}else{var D=/^(\d{2})\/(\d{2})\/(\d{4})$/;if(!D.test(B.get("value"))){return false}G=new Date(B.get("value").replace(D,"$1/$2/$3"));return(parseInt(RegExp.$1,10)==(1+G.getMonth()))&&(parseInt(RegExp.$2,10)==G.getDate())&&(parseInt(RegExp.$3,10)==G.getFullYear())}}}],["validate-email",{errorMsg:Form.Validator.getMsg.pass("email"),test:function(B){return Form.Validator.getValidator("IsEmpty").test(B)||(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i).test(B.get("value"))}}],["validate-url",{errorMsg:Form.Validator.getMsg.pass("url"),test:function(B){return Form.Validator.getValidator("IsEmpty").test(B)||(/^(https?|ftp|rmtp|mms):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i).test(B.get("value"))}}],["validate-currency-dollar",{errorMsg:Form.Validator.getMsg.pass("currencyDollar"),test:function(B){return Form.Validator.getValidator("IsEmpty").test(B)||(/^\$?\-?([1-9]{1}[0-9]{0,2}(\,[0-9]{3})*(\.[0-9]{0,2})?|[1-9]{1}\d*(\.[0-9]{0,2})?|0(\.[0-9]{0,2})?|(\.[0-9]{1,2})?)$/).test(B.get("value"))}}],["validate-one-required",{errorMsg:Form.Validator.getMsg.pass("oneRequired"),test:function(B,C){var D=document.id(C["validate-one-required"])||B.getParent(C["validate-one-required"]);return D.getElements("input").some(function(E){if(["checkbox","radio"].contains(E.get("type"))){return E.get("checked")}return E.get("value")})}}]]);Element.Properties.validator={set:function(B){var C=this.retrieve("validator");if(C){C.setOptions(B)}return this.store("validator:options",B)},get:function(B){if(B||!this.retrieve("validator")){if(B||!this.retrieve("validator:options")){this.set("validator",B)}this.store("validator",new Form.Validator(this,this.retrieve("validator:options")))}return this.retrieve("validator")}};Element.implement({validate:function(B){if(B){this.set("validator",B)}return this.get("validator",B).validate()}});var FormValidator=Form.Validator;Form.Validator.Inline=new Class({Extends:Form.Validator,options:{showError:function(B){if(B.reveal){B.reveal()}else{B.setStyle("display","block")}},hideError:function(B){if(B.dissolve){B.dissolve()}else{B.setStyle("display","none")}},scrollToErrorsOnSubmit:true,scrollToErrorsOnBlur:false,scrollToErrorsOnChange:false,scrollFxOptions:{transition:"quad:out",offset:{y:-20}}},initialize:function(C,B){this.parent(C,B);this.addEvent("onElementValidate",function(H,G,F,I){var E=this.getValidator(F);if(!H&&E.getError(G)){if(I){G.addClass("warning")}var D=this.makeAdvice(F,G,E.getError(G),I);this.insertAdvice(D,G);this.showAdvice(F,G)}else{this.hideAdvice(F,G)}})},makeAdvice:function(E,G,D,H){var F=(H)?this.warningPrefix:this.errorPrefix;F+=(this.options.useTitles)?G.title||D:D;var B=(H)?"warning-advice":"validation-advice";var C=this.getAdvice(E,G);if(C){C=C.set("html",F)}else{C=new Element("div",{html:F,styles:{display:"none"},id:"advice-"+E.split(":")[0]+"-"+this.getFieldId(G)}).addClass(B)}G.store("advice-"+E,C);return C},getFieldId:function(B){return B.id?B.id:B.id="input_"+B.name},showAdvice:function(C,D){var B=this.getAdvice(C,D);if(B&&!D.retrieve(this.getPropName(C))&&(B.getStyle("display")=="none"||B.getStyle("visiblity")=="hidden"||B.getStyle("opacity")==0)){D.store(this.getPropName(C),true);this.options.showError(B);this.fireEvent("showAdvice",[D,B,C])}},hideAdvice:function(C,D){var B=this.getAdvice(C,D);if(B&&D.retrieve(this.getPropName(C))){D.store(this.getPropName(C),false);this.options.hideError(B);this.fireEvent("hideAdvice",[D,B,C])}},getPropName:function(B){return"advice"+B},resetField:function(B){B=document.id(B);if(!B){return this}this.parent(B);B.className.split(" ").each(function(C){this.hideAdvice(C,B)},this);return this},getAllAdviceMessages:function(E,D){var C=[];if(E.hasClass("ignoreValidation")&&!D){return C}var B=E.className.split(" ").some(function(H){var F=H.test("^warn-")||E.hasClass("warnOnly");if(F){H=H.replace(/^warn-/,"")}var G=this.getValidator(H);if(!G){return }C.push({message:G.getError(E),warnOnly:F,passed:G.test(),validator:G})},this);return C},getAdvice:function(B,C){return C.retrieve("advice-"+B)},insertAdvice:function(B,D){var C=D.get("validatorProps");if(!C.msgPos||!document.id(C.msgPos)){if(D.type.toLowerCase()=="radio"){D.getParent().adopt(B)}else{B.inject(document.id(D),"after")}}else{document.id(C.msgPos).grab(B)}},validateField:function(H,G,C){var B=this.parent(H,G);if(((this.options.scrollToErrorsOnSubmit&&C===undefined)||C)&&!B){var D=document.id(this).getElement(".validation-failed");var E=document.id(this).getParent();while(E!=document.body&&E.getScrollSize().y==E.getSize().y){E=E.getParent()}var F=E.retrieve("fvScroller");if(!F&&window.Fx&&Fx.Scroll){F=new Fx.Scroll(E,this.options.scrollFxOptions);E.store("fvScroller",F)}if(D){if(F){F.toElement(D)}else{E.scrollTo(E.getScroll().x,D.getPosition(E).y-20)}}}return B},watchFields:function(B){B.each(function(C){if(this.options.evaluateFieldsOnBlur){C.addEvent("blur",this.validationMonitor.pass([C,false,this.options.scrollToErrorsOnBlur],this))}if(this.options.evaluateFieldsOnChange){C.addEvent("change",this.validationMonitor.pass([C,true,this.options.scrollToErrorsOnChange],this))}},this)}});Form.Validator.addAllThese([["validate-enforce-oncheck",{test:function(B,C){var D=B.getParent("form").retrieve("validator");if(!D){return true}(C.toEnforce||document.id(C.enforceChildrenOf).getElements("input, select, textarea")).map(function(E){if(B.checked){D.enforceField(E)}else{D.ignoreField(E);D.resetField(E)}});return true}}],["validate-ignore-oncheck",{test:function(B,C){var D=B.getParent("form").retrieve("validator");if(!D){return true}(C.toIgnore||document.id(C.ignoreChildrenOf).getElements("input, select, textarea")).each(function(E){if(B.checked){D.ignoreField(E);D.resetField(E)}else{D.enforceField(E)}});return true}}],["validate-nospace",{errorMsg:function(){return Form.Validator.getMsg("noSpace")},test:function(B,C){return !B.get("value").test(/\s/)}}],["validate-toggle-oncheck",{test:function(C,D){var E=C.getParent("form").retrieve("validator");if(!E){return true}var B=D.toToggle||document.id(D.toToggleChildrenOf).getElements("input, select, textarea");if(!C.checked){B.each(function(F){E.ignoreField(F);E.resetField(F)})}else{B.each(function(F){E.enforceField(F)})}return true}}],["validate-reqchk-bynode",{errorMsg:function(){return Form.Validator.getMsg("reqChkByNode")},test:function(B,C){return(document.id(C.nodeId).getElements(C.selector||"input[type=checkbox], input[type=radio]")).some(function(D){return D.checked})}}],["validate-required-check",{errorMsg:function(B,C){return C.useTitle?B.get("title"):Form.Validator.getMsg("requiredChk")},test:function(B,C){return !!B.checked}}],["validate-reqchk-byname",{errorMsg:function(B,C){return Form.Validator.getMsg("reqChkByName").substitute({label:C.label||B.get("type")})},test:function(C,E){var D=E.groupName||C.get("name");var B=$$(document.getElementsByName(D)).some(function(H,G){return H.checked});var F=C.getParent("form").retrieve("validator");if(B&&F){F.resetField(C)}return B}}],["validate-match",{errorMsg:function(B,C){return Form.Validator.getMsg("match").substitute({matchName:C.matchName||document.id(C.matchInput).get("name")})},test:function(C,D){var E=C.get("value");var B=document.id(D.matchInput)&&document.id(D.matchInput).get("value");return E&&B?E==B:true}}],["validate-after-date",{errorMsg:function(B,C){return Form.Validator.getMsg("afterDate").substitute({label:C.afterLabel||(C.afterElement?Form.Validator.getMsg("startDate"):Form.Validator.getMsg("currentDate"))})},test:function(C,D){var E=document.id(D.afterElement)?Date.parse(document.id(D.afterElement).get("value")):new Date();var B=Date.parse(C.get("value"));return B&&E?B>=E:true}}],["validate-before-date",{errorMsg:function(B,C){return Form.Validator.getMsg("beforeDate").substitute({label:C.beforeLabel||(C.beforeElement?Form.Validator.getMsg("endDate"):Form.Validator.getMsg("currentDate"))})},test:function(C,D){var E=Date.parse(C.get("value"));var B=document.id(D.beforeElement)?Date.parse(document.id(D.beforeElement).get("value")):new Date();return B&&E?B>=E:true}}],["validate-custom-required",{errorMsg:function(){return Form.Validator.getMsg("required")},test:function(B,C){return B.get("value")!=C.emptyValue}}],["validate-same-month",{errorMsg:function(B,C){var D=document.id(C.sameMonthAs)&&document.id(C.sameMonthAs).get("value");var E=B.get("value");if(E!=""){return Form.Validator.getMsg(D?"sameMonth":"startMonth")}},test:function(B,C){var E=Date.parse(B.get("value"));var D=Date.parse(document.id(C.sameMonthAs)&&document.id(C.sameMonthAs).get("value"));return E&&D?E.format("%B")==D.format("%B"):true}}],["validate-cc-num",{errorMsg:function(B){var C=B.get("value").replace(/[^0-9]/g,"");return Form.Validator.getMsg("creditcard").substitute({length:C.length})},test:function(D){if(Form.Validator.getValidator("IsEmpty").test(D)){return true}var H=D.get("value");H=H.replace(/[^0-9]/g,"");var B=false;if(H.test(/^4[0-9]{12}([0-9]{3})?$/)){B="Visa"}else{if(H.test(/^5[1-5]([0-9]{14})$/)){B="Master Card"}else{if(H.test(/^3[47][0-9]{13}$/)){B="American Express"}else{if(H.test(/^6011[0-9]{12}$/)){B="Discover"}}}}if(B){var E=0;var F=0;for(var C=H.length-1;C>=0;--C){F=H.charAt(C).toInt();if(F==0){continue}if((H.length-C)%2==0){F+=F}if(F>9){F=F.toString().charAt(0).toInt()+F.toString().charAt(1).toInt()}E+=F}if((E%10)==0){return true}}var G="";while(H!=""){G+=" "+H.substr(0,4);H=H.substr(4)}D.getParent("form").retrieve("validator").ignoreField(D);D.set("value",G.clean());D.getParent("form").retrieve("validator").enforceField(D);return false}}]]);var OverText=new Class({Implements:[Options,Events,Class.Occlude],Binds:["reposition","assert","focus","hide"],options:{element:"label",positionOptions:{position:"upperLeft",edge:"upperLeft",offset:{x:4,y:2}},poll:false,pollInterval:250,wrap:false},property:"OverText",initialize:function(C,B){this.element=document.id(C);if(this.occlude()){return this.occluded}this.setOptions(B);this.attach(this.element);OverText.instances.push(this);if(this.options.poll){this.poll()}return this},toElement:function(){return this.element},attach:function(){var B=this.options.textOverride||this.element.get("alt")||this.element.get("title");if(!B){return }this.text=new Element(this.options.element,{"class":"overTxtLabel",styles:{lineHeight:"normal",position:"absolute",cursor:"text"},html:B,events:{click:this.hide.pass(this.options.element=="label",this)}}).inject(this.element,"after");if(this.options.element=="label"){if(!this.element.get("id")){this.element.set("id","input_"+new Date().getTime())}this.text.set("for",this.element.get("id"))}if(this.options.wrap){this.textHolder=new Element("div",{styles:{lineHeight:"normal",position:"relative"},"class":"overTxtWrapper"}).adopt(this.text).inject(this.element,"before")}return this.enable()},destroy:function(){this.element.eliminate("OverTextDiv").eliminate("OverText");this.disable();if(this.text){this.text.destroy()}if(this.textHolder){this.textHolder.destroy()}return this},disable:function(){this.element.removeEvents({focus:this.focus,blur:this.assert,change:this.assert});window.removeEvent("resize",this.reposition);this.hide(true,true);return this},enable:function(){this.element.addEvents({focus:this.focus,blur:this.assert,change:this.assert});window.addEvent("resize",this.reposition);this.assert(true);this.reposition();return this},wrap:function(){if(this.options.element=="label"){if(!this.element.get("id")){this.element.set("id","input_"+new Date().getTime())}this.text.set("for",this.element.get("id"))}},startPolling:function(){this.pollingPaused=false;return this.poll()},poll:function(B){if(this.poller&&!B){return this}var C=function(){if(!this.pollingPaused){this.assert(true)}}.bind(this);if(B){$clear(this.poller)}else{this.poller=C.periodical(this.options.pollInterval,this)}return this},stopPolling:function(){this.pollingPaused=true;return this.poll(true)},focus:function(){if(this.text&&(!this.text.isDisplayed()||this.element.get("disabled"))){return }this.hide()},hide:function(D,B){if(this.text&&(this.text.isDisplayed()&&(!this.element.get("disabled")||B))){this.text.hide();this.fireEvent("textHide",[this.text,this.element]);this.pollingPaused=true;if(!D){try{this.element.fireEvent("focus");this.element.focus()}catch(C){}}}return this},show:function(){if(this.text&&!this.text.isDisplayed()){this.text.show();this.reposition();this.fireEvent("textShow",[this.text,this.element]);this.pollingPaused=false}return this},assert:function(B){this[this.test()?"show":"hide"](B)},test:function(){var B=this.element.get("value");return !B},reposition:function(){this.assert(true);if(!this.element.isVisible()){return this.stopPolling().hide()}if(this.text&&this.test()){this.text.position($merge(this.options.positionOptions,{relativeTo:this.element}))}return this}});OverText.instances=[];$extend(OverText,{each:function(B){return OverText.instances.map(function(D,C){if(D.element&&D.text){return B.apply(OverText,[D,C])}return null})},update:function(){return OverText.each(function(B){return B.reposition()})},hideAll:function(){return OverText.each(function(B){return B.hide(true,true)})},showAll:function(){return OverText.each(function(B){return B.show()})}});if(window.Fx&&Fx.Reveal){Fx.Reveal.implement({hideInputs:Browser.Engine.trident?"select, input, textarea, object, embed, .overTxtLabel":false})}Fx.Elements=new Class({Extends:Fx.CSS,initialize:function(C,B){this.elements=this.subject=$$(C);this.parent(B)},compute:function(H,I,J){var D={};for(var E in H){var B=H[E],F=I[E],G=D[E]={};for(var C in B){G[C]=this.parent(B[C],F[C],J)}}return D},set:function(C){for(var D in C){if(!this.elements[D]){continue}var B=C[D];for(var E in B){this.render(this.elements[D],E,B[E],this.options.unit)}}return this},start:function(D){if(!this.check(D)){return this}var I={},J={};for(var E in D){if(!this.elements[E]){continue}var G=D[E],B=I[E]={},H=J[E]={};for(var C in G){var F=this.prepare(this.elements[E],C,G[C]);B[C]=F.from;H[C]=F.to}}return this.parent(I,J)}});Fx.Accordion=new Class({Extends:Fx.Elements,options:{fixedHeight:false,fixedWidth:false,display:0,show:false,height:true,width:false,opacity:true,alwaysHide:false,trigger:"click",initialDisplayFx:true,returnHeightToAuto:true},initialize:function(){var D=Array.link(arguments,{container:Element.type,options:Object.type,togglers:$defined,elements:$defined});this.parent(D.elements,D.options);this.togglers=$$(D.togglers);this.previous=-1;this.internalChain=new Chain();if(this.options.alwaysHide){this.options.wait=true}if($chk(this.options.show)){this.options.display=false;this.previous=this.options.show}if(this.options.start){this.options.display=false;this.options.show=false}this.effects={};if(this.options.opacity){this.effects.opacity="fullOpacity"}if(this.options.width){this.effects.width=this.options.fixedWidth?"fullWidth":"offsetWidth"}if(this.options.height){this.effects.height=this.options.fixedHeight?"fullHeight":"scrollHeight"}for(var C=0,B=this.togglers.length;C<B;C++){this.addSection(this.togglers[C],this.elements[C])}this.elements.each(function(F,E){if(this.options.show===E){this.fireEvent("active",[this.togglers[E],F])}else{for(var G in this.effects){F.setStyle(G,0)}}},this);if($chk(this.options.display)||this.options.initialDisplayFx===false){this.display(this.options.display,this.options.initialDisplayFx)}if(this.options.fixedHeight!==false){this.options.returnHeightToAuto=false}this.addEvent("complete",this.internalChain.callChain.bind(this.internalChain))},addSection:function(F,D){F=document.id(F);D=document.id(D);var G=this.togglers.contains(F);this.togglers.include(F);this.elements.include(D);var B=this.togglers.indexOf(F);var C=this.display.bind(this,B);F.store("accordion:display",C);F.addEvent(this.options.trigger,C);if(this.options.height){D.setStyles({"padding-top":0,"border-top":"none","padding-bottom":0,"border-bottom":"none"})}if(this.options.width){D.setStyles({"padding-left":0,"border-left":"none","padding-right":0,"border-right":"none"})}D.fullOpacity=1;if(this.options.fixedWidth){D.fullWidth=this.options.fixedWidth}if(this.options.fixedHeight){D.fullHeight=this.options.fixedHeight}D.setStyle("overflow","hidden");if(!G){for(var E in this.effects){D.setStyle(E,0)}}return this},removeSection:function(F,C){var B=this.togglers.indexOf(F);var D=this.elements[B];var E=function(){this.togglers.erase(F);this.elements.erase(D);this.detach(F)}.bind(this);if(this.now==B||C!=undefined){this.display($pick(C,B-1>=0?B-1:0)).chain(E)}else{E()}return this},detach:function(C){var B=function(D){D.removeEvent(this.options.trigger,D.retrieve("accordion:display"))}.bind(this);if(!C){this.togglers.each(B)}else{B(C)}return this},display:function(B,C){if(!this.check(B,C)){return this}C=$pick(C,true);B=($type(B)=="element")?this.elements.indexOf(B):B;if(B==this.previous&&!this.options.alwaysHide){return this}if(this.options.returnHeightToAuto){var E=this.elements[this.previous];if(E&&!this.selfHidden){for(var D in this.effects){E.setStyle(D,E[this.effects[D]])}}}if((this.timer&&this.options.wait)||(B===this.previous&&!this.options.alwaysHide)){return this}this.previous=B;var F={};this.elements.each(function(I,H){F[H]={};var G;if(H!=B){G=true}else{if(this.options.alwaysHide&&((I.offsetHeight>0&&this.options.height)||I.offsetWidth>0&&this.options.width)){G=true;this.selfHidden=true}}this.fireEvent(G?"background":"active",[this.togglers[H],I]);for(var J in this.effects){F[H][J]=G?0:I[this.effects[J]]}},this);this.internalChain.clearChain();this.internalChain.chain(function(){if(this.options.returnHeightToAuto&&!this.selfHidden){var G=this.elements[B];if(G){G.setStyle("height","auto")}}}.bind(this));return C?this.start(F):this.set(F)}});var Accordion=new Class({Extends:Fx.Accordion,initialize:function(){this.parent.apply(this,arguments);var B=Array.link(arguments,{container:Element.type});this.container=B.container},addSection:function(D,C,F){D=document.id(D);C=document.id(C);var E=this.togglers.contains(D);var B=this.togglers.length;if(B&&(!E||F)){F=$pick(F,B-1);D.inject(this.togglers[F],"before");C.inject(D,"after")}else{if(this.container&&!E){D.inject(this.container);C.inject(this.container)}}return this.parent.apply(this,arguments)}});Fx.Move=new Class({Extends:Fx.Morph,options:{relativeTo:document.body,position:"center",edge:false,offset:{x:0,y:0}},start:function(B){var C=this.element,D=C.getStyles("top","left");if(D.top=="auto"||D.left=="auto"){C.setPosition(C.getPosition(C.getOffsetParent()))}return this.parent(C.position($merge(this.options,B,{returnPos:true})))}});Element.Properties.move={set:function(B){var C=this.retrieve("move");if(C){C.cancel()}return this.eliminate("move").store("move:options",$extend({link:"cancel"},B))},get:function(B){if(B||!this.retrieve("move")){if(B||!this.retrieve("move:options")){this.set("move",B)}this.store("move",new Fx.Move(this,this.retrieve("move:options")))}return this.retrieve("move")}};Element.implement({move:function(B){this.get("move").start(B);return this}});Fx.Reveal=new Class({Extends:Fx.Morph,options:{link:"cancel",styles:["padding","border","margin"],transitionOpacity:!Browser.Engine.trident4,mode:"vertical",display:function(){return this.element.get("tag")!="tr"?"block":"table-row"},hideInputs:Browser.Engine.trident?"select, input, textarea, object, embed":false,opacity:1},dissolve:function(){try{if(!this.hiding&&!this.showing){if(this.element.getStyle("display")!="none"){this.hiding=true;this.showing=false;this.hidden=true;this.cssText=this.element.style.cssText;var E=this.element.getComputedSize({styles:this.options.styles,mode:this.options.mode});this.element.setStyle("display",$lambda(this.options.display).apply(this));if(this.options.transitionOpacity){E.opacity=this.options.opacity}var C={};$each(E,function(G,F){C[F]=[G,0]},this);this.element.setStyle("overflow","hidden");var B=this.options.hideInputs?this.element.getElements(this.options.hideInputs):null;this.$chain.unshift(function(){if(this.hidden){this.hiding=false;$each(E,function(G,F){E[F]=G},this);this.element.style.cssText=this.cssText;this.element.setStyle("display","none");if(B){B.setStyle("visibility","visible")}}this.fireEvent("hide",this.element);this.callChain()}.bind(this));if(B){B.setStyle("visibility","hidden")}this.start(C)}else{this.callChain.delay(10,this);this.fireEvent("complete",this.element);this.fireEvent("hide",this.element)}}else{if(this.options.link=="chain"){this.chain(this.dissolve.bind(this))}else{if(this.options.link=="cancel"&&!this.hiding){this.cancel();this.dissolve()}}}}catch(D){this.hiding=false;this.element.setStyle("display","none");this.callChain.delay(10,this);this.fireEvent("complete",this.element);this.fireEvent("hide",this.element)}return this},reveal:function(){try{if(!this.showing&&!this.hiding){if(this.element.getStyle("display")=="none"){this.showing=true;this.hiding=this.hidden=false;var E;this.cssText=this.element.style.cssText;this.element.measure(function(){E=this.element.getComputedSize({styles:this.options.styles,mode:this.options.mode})}.bind(this));$each(E,function(G,F){E[F]=G});if($chk(this.options.heightOverride)){E.height=this.options.heightOverride.toInt()}if($chk(this.options.widthOverride)){E.width=this.options.widthOverride.toInt()}if(this.options.transitionOpacity){this.element.setStyle("opacity",0);E.opacity=this.options.opacity}var C={height:0,display:$lambda(this.options.display).apply(this)};$each(E,function(G,F){C[F]=0});this.element.setStyles($merge(C,{overflow:"hidden"}));var B=this.options.hideInputs?this.element.getElements(this.options.hideInputs):null;if(B){B.setStyle("visibility","hidden")}this.start(E);this.$chain.unshift(function(){this.element.style.cssText=this.cssText;this.element.setStyle("display",$lambda(this.options.display).apply(this));if(!this.hidden){this.showing=false}if(B){B.setStyle("visibility","visible")}this.callChain();this.fireEvent("show",this.element)}.bind(this))}else{this.callChain();this.fireEvent("complete",this.element);this.fireEvent("show",this.element)}}else{if(this.options.link=="chain"){this.chain(this.reveal.bind(this))}else{if(this.options.link=="cancel"&&!this.showing){this.cancel();this.reveal()}}}}catch(D){this.element.setStyles({display:$lambda(this.options.display).apply(this),visiblity:"visible",opacity:this.options.opacity});this.showing=false;this.callChain.delay(10,this);this.fireEvent("complete",this.element);this.fireEvent("show",this.element)}return this},toggle:function(){if(this.element.getStyle("display")=="none"){this.reveal()}else{this.dissolve()}return this},cancel:function(){this.parent.apply(this,arguments);this.element.style.cssText=this.cssText;this.hiding=false;this.showing=false;return this}});Element.Properties.reveal={set:function(B){var C=this.retrieve("reveal");if(C){C.cancel()}return this.eliminate("reveal").store("reveal:options",B)},get:function(B){if(B||!this.retrieve("reveal")){if(B||!this.retrieve("reveal:options")){this.set("reveal",B)}this.store("reveal",new Fx.Reveal(this,this.retrieve("reveal:options")))}return this.retrieve("reveal")}};Element.Properties.dissolve=Element.Properties.reveal;Element.implement({reveal:function(B){this.get("reveal",B).reveal();return this},dissolve:function(B){this.get("reveal",B).dissolve();return this},nix:function(){var B=Array.link(arguments,{destroy:Boolean.type,options:Object.type});this.get("reveal",B.options).dissolve().chain(function(){this[B.destroy?"destroy":"dispose"]()}.bind(this));return this},wink:function(){var C=Array.link(arguments,{duration:Number.type,options:Object.type});var B=this.get("reveal",C.options);B.reveal().chain(function(){(function(){B.dissolve()}).delay(C.duration||2000)})}});Fx.Scroll=new Class({Extends:Fx,options:{offset:{x:0,y:0},wheelStops:true},initialize:function(C,B){this.element=this.subject=document.id(C);this.parent(B);var E=this.cancel.bind(this,false);if($type(this.element)!="element"){this.element=document.id(this.element.getDocument().body)}var D=this.element;if(this.options.wheelStops){this.addEvent("start",function(){D.addEvent("mousewheel",E)},true);this.addEvent("complete",function(){D.removeEvent("mousewheel",E)},true)}},set:function(){var B=Array.flatten(arguments);if(Browser.Engine.gecko){B=[Math.round(B[0]),Math.round(B[1])]}this.element.scrollTo(B[0]+this.options.offset.x,B[1]+this.options.offset.y)},compute:function(D,C,B){return[0,1].map(function(E){return Fx.compute(D[E],C[E],B)})},start:function(D,H){if(!this.check(D,H)){return this}var F=this.element.getScrollSize(),C=this.element.getScroll(),E={x:D,y:H};for(var G in E){var B=F[G];if($chk(E[G])){E[G]=($type(E[G])=="number")?E[G]:B}else{E[G]=C[G]}E[G]+=this.options.offset[G]}return this.parent([C.x,C.y],[E.x,E.y])},toTop:function(){return this.start(false,0)},toLeft:function(){return this.start(0,false)},toRight:function(){return this.start("right",false)},toBottom:function(){return this.start(false,"bottom")},toElement:function(C){var B=document.id(C).getPosition(this.element);return this.start(B.x,B.y)},scrollIntoView:function(D,F,E){F=F?$splat(F):["x","y"];var I={};D=document.id(D);var G=D.getPosition(this.element);var J=D.getSize();var H=this.element.getScroll();var B=this.element.getSize();var C={x:G.x+J.x,y:G.y+J.y};["x","y"].each(function(K){if(F.contains(K)){if(C[K]>H[K]+B[K]){I[K]=C[K]-B[K]}if(G[K]<H[K]){I[K]=G[K]}}if(I[K]==null){I[K]=H[K]}if(E&&E[K]){I[K]=I[K]+E[K]}},this);if(I.x!=H.x||I.y!=H.y){this.start(I.x,I.y)}return this},scrollToCenter:function(D,F,E){F=F?$splat(F):["x","y"];D=$(D);var I={},G=D.getPosition(this.element),J=D.getSize(),H=this.element.getScroll(),B=this.element.getSize(),C={x:G.x+J.x,y:G.y+J.y};["x","y"].each(function(K){if(F.contains(K)){I[K]=G[K]-(B[K]-J[K])/2}if(I[K]==null){I[K]=H[K]}if(E&&E[K]){I[K]=I[K]+E[K]}},this);if(I.x!=H.x||I.y!=H.y){this.start(I.x,I.y)}return this}});Fx.Slide=new Class({Extends:Fx,options:{mode:"vertical",wrapper:false,hideOverflow:true,resetHeight:false},initialize:function(C,B){this.addEvent("complete",function(){this.open=(this.wrapper["offset"+this.layout.capitalize()]!=0);if(this.open&&this.options.resetHeight){this.wrapper.setStyle("height","")}if(this.open&&Browser.Engine.webkit419){this.element.dispose().inject(this.wrapper)}},true);this.element=this.subject=document.id(C);this.parent(B);var E=this.element.retrieve("wrapper");var D=this.element.getStyles("margin","position","overflow");if(this.options.hideOverflow){D=$extend(D,{overflow:"hidden"})}if(this.options.wrapper){E=document.id(this.options.wrapper).setStyles(D)}this.wrapper=E||new Element("div",{styles:D}).wraps(this.element);this.element.store("wrapper",this.wrapper).setStyle("margin",0);this.now=[];this.open=true},vertical:function(){this.margin="margin-top";this.layout="height";this.offset=this.element.offsetHeight},horizontal:function(){this.margin="margin-left";this.layout="width";this.offset=this.element.offsetWidth},set:function(B){this.element.setStyle(this.margin,B[0]);this.wrapper.setStyle(this.layout,B[1]);return this},compute:function(D,C,B){return[0,1].map(function(E){return Fx.compute(D[E],C[E],B)})},start:function(C,F){if(!this.check(C,F)){return this}this[F||this.options.mode]();var E=this.element.getStyle(this.margin).toInt();var D=this.wrapper.getStyle(this.layout).toInt();var B=[[E,D],[0,this.offset]];var H=[[E,D],[-this.offset,0]];var G;switch(C){case"in":G=B;break;case"out":G=H;break;case"toggle":G=(D==0)?B:H}return this.parent(G[0],G[1])},slideIn:function(B){return this.start("in",B)},slideOut:function(B){return this.start("out",B)},hide:function(B){this[B||this.options.mode]();this.open=false;return this.set([-this.offset,0])},show:function(B){this[B||this.options.mode]();this.open=true;return this.set([0,this.offset])},toggle:function(B){return this.start("toggle",B)}});Element.Properties.slide={set:function(C){var B=this.retrieve("slide");if(B){B.cancel()}return this.eliminate("slide").store("slide:options",$extend({link:"cancel"},C))},get:function(B){if(B||!this.retrieve("slide")){if(B||!this.retrieve("slide:options")){this.set("slide",B)}this.store("slide",new Fx.Slide(this,this.retrieve("slide:options")))}return this.retrieve("slide")}};Element.implement({slide:function(E,F){E=E||"toggle";var C=this.get("slide"),B;switch(E){case"hide":C.hide(F);break;case"show":C.show(F);break;case"toggle":var D=this.retrieve("slide:flag",C.open);C[D?"slideOut":"slideIn"](F);this.store("slide:flag",!D);B=true;break;default:C.start(E,F)}if(!B){this.eliminate("slide:flag")}return this}});var SmoothScroll=Fx.SmoothScroll=new Class({Extends:Fx.Scroll,initialize:function(C,D){D=D||document;this.doc=D.getDocument();var E=D.getWindow();this.parent(this.doc,C);this.links=$$(this.options.links||this.doc.links);var B=E.location.href.match(/^[^#]*/)[0]+"#";this.links.each(function(G){if(G.href.indexOf(B)!=0){return }var F=G.href.substr(B.length);if(F){this.useLink(G,F)}},this);if(!Browser.Engine.webkit419){this.addEvent("complete",function(){E.location.hash=this.anchor},true)}},useLink:function(D,B){var C;D.addEvent("click",function(E){if(C!==false&&!C){C=document.id(B)||this.doc.getElement("a[name="+B+"]")}if(C){E.preventDefault();this.anchor=B;this.toElement(C).chain(function(){this.fireEvent("scrolledTo",[D,C])}.bind(this));D.blur()}}.bind(this))}});Fx.Sort=new Class({Extends:Fx.Elements,options:{mode:"vertical"},initialize:function(C,B){this.parent(C,B);this.elements.each(function(D){if(D.getStyle("position")=="static"){D.setStyle("position","relative")}});this.setDefaultOrder()},setDefaultOrder:function(){this.currentOrder=this.elements.map(function(C,B){return B})},sort:function(F){if($type(F)!="array"){return false}var J=0,B=0,D={},I={},E=this.options.mode=="vertical";var G=this.elements.map(function(N,L){var M=N.getComputedSize({styles:["border","padding","margin"]});var O;if(E){O={top:J,margin:M["margin-top"],height:M.totalHeight};J+=O.height-M["margin-top"]}else{O={left:B,margin:M["margin-left"],width:M.totalWidth};B+=O.width}var K=E?"top":"left";I[L]={};var P=N.getStyle(K).toInt();I[L][K]=P||0;return O},this);this.set(I);F=F.map(function(K){return K.toInt()});if(F.length!=this.elements.length){this.currentOrder.each(function(K){if(!F.contains(K)){F.push(K)}});if(F.length>this.elements.length){F.splice(this.elements.length-1,F.length-this.elements.length)}}var C=J=B=0;F.each(function(M,K){var L={};if(E){L.top=J-G[M].top-C;J+=G[M].height}else{L.left=B-G[M].left;B+=G[M].width}C=C+G[M].margin;D[M]=L},this);var H={};$A(F).sort().each(function(K){H[K]=D[K]});this.start(H);this.currentOrder=F;return this},rearrangeDOM:function(B){B=B||this.currentOrder;var C=this.elements[0].getParent();var D=[];this.elements.setStyle("opacity",0);B.each(function(E){D.push(this.elements[E].inject(C).setStyles({top:0,left:0}))},this);this.elements.setStyle("opacity",1);this.elements=$$(D);this.setDefaultOrder();return this},getDefaultOrder:function(){return this.elements.map(function(C,B){return B})},forward:function(){return this.sort(this.getDefaultOrder())},backward:function(){return this.sort(this.getDefaultOrder().reverse())},reverse:function(){return this.sort(this.currentOrder.reverse())},sortByElements:function(B){return this.sort(B.map(function(C){return this.elements.indexOf(C)},this))},swap:function(D,C){if($type(D)=="element"){D=this.elements.indexOf(D)}if($type(C)=="element"){C=this.elements.indexOf(C)}var B=$A(this.currentOrder);B[this.currentOrder.indexOf(D)]=C;B[this.currentOrder.indexOf(C)]=D;return this.sort(B)}});var Drag=new Class({Implements:[Events,Options],options:{snap:6,unit:"px",grid:false,style:true,limit:false,handle:false,invert:false,preventDefault:false,stopPropagation:false,modifiers:{x:"left",y:"top"}},initialize:function(){var C=Array.link(arguments,{options:Object.type,element:$defined});this.element=document.id(C.element);this.document=this.element.getDocument();this.setOptions(C.options||{});var B=$type(this.options.handle);this.handles=((B=="array"||B=="collection")?$$(this.options.handle):document.id(this.options.handle))||this.element;this.mouse={now:{},pos:{}};this.value={start:{},now:{}};this.selection=(Browser.Engine.trident)?"selectstart":"mousedown";this.bound={start:this.start.bind(this),check:this.check.bind(this),drag:this.drag.bind(this),stop:this.stop.bind(this),cancel:this.cancel.bind(this),eventStop:$lambda(false)};this.attach()},attach:function(){this.handles.addEvent("mousedown",this.bound.start);return this},detach:function(){this.handles.removeEvent("mousedown",this.bound.start);return this},start:function(F){if(F.rightClick){return }if(this.options.preventDefault){F.preventDefault()}if(this.options.stopPropagation){F.stopPropagation()}this.mouse.start=F.page;this.fireEvent("beforeStart",this.element);var B=this.options.limit;this.limit={x:[],y:[]};var E=this.element.getStyles("left","right","top","bottom");this._invert={x:this.options.modifiers.x=="left"&&E.left=="auto"&&!isNaN(E.right.toInt())&&(this.options.modifiers.x="right"),y:this.options.modifiers.y=="top"&&E.top=="auto"&&!isNaN(E.bottom.toInt())&&(this.options.modifiers.y="bottom")};var H,G;for(H in this.options.modifiers){if(!this.options.modifiers[H]){continue}var D=this.element.getStyle(this.options.modifiers[H]);if(D&&!D.match(/px$/)){if(!G){G=this.element.getCoordinates(this.element.getOffsetParent())}D=G[this.options.modifiers[H]]}if(this.options.style){this.value.now[H]=(D||0).toInt()}else{this.value.now[H]=this.element[this.options.modifiers[H]]}if(this.options.invert){this.value.now[H]*=-1}if(this._invert[H]){this.value.now[H]*=-1}this.mouse.pos[H]=F.page[H]-this.value.now[H];if(B&&B[H]){for(var C=2;C--;C){if($chk(B[H][C])){this.limit[H][C]=$lambda(B[H][C])()}}}}if($type(this.options.grid)=="number"){this.options.grid={x:this.options.grid,y:this.options.grid}}this.document.addEvents({mousemove:this.bound.check,mouseup:this.bound.cancel});this.document.addEvent(this.selection,this.bound.eventStop)},check:function(B){if(this.options.preventDefault){B.preventDefault()}var C=Math.round(Math.sqrt(Math.pow(B.page.x-this.mouse.start.x,2)+Math.pow(B.page.y-this.mouse.start.y,2)));if(C>this.options.snap){this.cancel();this.document.addEvents({mousemove:this.bound.drag,mouseup:this.bound.stop});this.fireEvent("start",[this.element,B]).fireEvent("snap",this.element)}},drag:function(B){if(this.options.preventDefault){B.preventDefault()}this.mouse.now=B.page;for(var C in this.options.modifiers){if(!this.options.modifiers[C]){continue}this.value.now[C]=this.mouse.now[C]-this.mouse.pos[C];if(this.options.invert){this.value.now[C]*=-1}if(this._invert[C]){this.value.now[C]*=-1}if(this.options.limit&&this.limit[C]){if($chk(this.limit[C][1])&&(this.value.now[C]>this.limit[C][1])){this.value.now[C]=this.limit[C][1]}else{if($chk(this.limit[C][0])&&(this.value.now[C]<this.limit[C][0])){this.value.now[C]=this.limit[C][0]}}}if(this.options.grid[C]){this.value.now[C]-=((this.value.now[C]-(this.limit[C][0]||0))%this.options.grid[C])}if(this.options.style){this.element.setStyle(this.options.modifiers[C],this.value.now[C]+this.options.unit)}else{this.element[this.options.modifiers[C]]=this.value.now[C]}}this.fireEvent("drag",[this.element,B])},cancel:function(B){this.document.removeEvent("mousemove",this.bound.check);this.document.removeEvent("mouseup",this.bound.cancel);if(B){this.document.removeEvent(this.selection,this.bound.eventStop);this.fireEvent("cancel",this.element)}},stop:function(B){this.document.removeEvent(this.selection,this.bound.eventStop);this.document.removeEvent("mousemove",this.bound.drag);this.document.removeEvent("mouseup",this.bound.stop);if(B){this.fireEvent("complete",[this.element,B])}}});Element.implement({makeResizable:function(B){var C=new Drag(this,$merge({modifiers:{x:"width",y:"height"}},B));this.store("resizer",C);return C.addEvent("drag",function(){this.fireEvent("resize",C)}.bind(this))}});Drag.Move=new Class({Extends:Drag,options:{droppables:[],container:false,precalculate:false,includeMargins:true,checkDroppables:true},initialize:function(C,B){this.parent(C,B);C=this.element;this.droppables=$$(this.options.droppables);this.container=document.id(this.options.container);if(this.container&&$type(this.container)!="element"){this.container=document.id(this.container.getDocument().body)}if(this.options.style){if(this.options.modifiers.x=="left"&&this.options.modifiers.y=="top"){var G,D=document.id(C.getOffsetParent());if(D){G=D.getStyles("border-top-width","border-left-width")}var E=C.getStyles("left","top");if(D&&(E.left=="auto"||E.top=="auto")){var F=C.getPosition(D);F.x=F.x-(G["border-left-width"]?G["border-left-width"].toInt():0);F.y=F.y-(G["border-top-width"]?G["border-top-width"].toInt():0);C.setPosition(F)}}if(C.getStyle("position")=="static"){C.setStyle("position","absolute")}}this.addEvent("start",this.checkDroppables,true);this.overed=null},start:function(B){if(this.container){this.options.limit=this.calculateLimit()}if(this.options.precalculate){this.positions=this.droppables.map(function(C){return C.getCoordinates()})}this.parent(B)},calculateLimit:function(){var E=document.id(this.element.getOffsetParent())||document.body,I=this.container.getCoordinates(E),H={},D={},C={},K={},G={},M={};["top","right","bottom","left"].each(function(Q){H[Q]=this.container.getStyle("border-"+Q).toInt();C[Q]=this.element.getStyle("border-"+Q).toInt();D[Q]=this.element.getStyle("margin-"+Q).toInt();K[Q]=this.container.getStyle("margin-"+Q).toInt();M[Q]=E.getStyle("padding-"+Q).toInt();G[Q]=E.getStyle("border-"+Q).toInt()},this);var F=this.element.offsetWidth+D.left+D.right,P=this.element.offsetHeight+D.top+D.bottom,J=0,L=0,O=I.right-H.right-F,B=I.bottom-H.bottom-P;if(this.options.includeMargins){J+=D.left;L+=D.top}else{O+=D.right;B+=D.bottom}if(this.element.getStyle("position")=="relative"){var N=this.element.getCoordinates(E);N.left-=this.element.getStyle("left").toInt();N.top-=this.element.getStyle("top").toInt();J+=H.left-N.left;L+=H.top-N.top;O+=D.left-N.left;B+=D.top-N.top;if(this.container!=E){J+=K.left+M.left;L+=(Browser.Engine.trident4?0:K.top)+M.top}}else{J-=D.left;L-=D.top;if(this.container==E){O-=H.left;B-=H.top}else{J+=I.left+H.left-G.left;L+=I.top+H.top-G.top;O-=G.left;B-=G.top}}return{x:[J,O],y:[L,B]}},checkAgainst:function(D,C){D=(this.positions)?this.positions[C]:D.getCoordinates();var B=this.mouse.now;return(B.x>D.left&&B.x<D.right&&B.y<D.bottom&&B.y>D.top)},checkDroppables:function(){var B=this.droppables.filter(this.checkAgainst,this).getLast();if(this.overed!=B){if(this.overed){this.fireEvent("leave",[this.element,this.overed])}if(B){this.fireEvent("enter",[this.element,B])}this.overed=B}},drag:function(B){this.parent(B);if(this.options.checkDroppables&&this.droppables.length){this.checkDroppables()}},stop:function(B){this.checkDroppables();this.fireEvent("drop",[this.element,this.overed,B]);this.overed=null;return this.parent(B)}});Element.implement({makeDraggable:function(B){var C=new Drag.Move(this,B);this.store("dragger",C);return C}});var Slider=new Class({Implements:[Events,Options],Binds:["clickedElement","draggedKnob","scrolledElement"],options:{onTick:function(B){if(this.options.snap){B=this.toPosition(this.step)}this.knob.setStyle(this.property,B)},initialStep:0,snap:false,offset:0,range:false,wheel:false,steps:100,mode:"horizontal"},initialize:function(G,B,F){this.setOptions(F);this.element=document.id(G);this.knob=document.id(B);this.previousChange=this.previousEnd=this.step=-1;var H,C={},E={x:false,y:false};switch(this.options.mode){case"vertical":this.axis="y";this.property="top";H="offsetHeight";break;case"horizontal":this.axis="x";this.property="left";H="offsetWidth"}this.full=this.element.measure(function(){this.half=this.knob[H]/2;return this.element[H]-this.knob[H]+(this.options.offset*2)}.bind(this));this.setRange(this.options.range);this.knob.setStyle("position","relative").setStyle(this.property,-this.options.offset);E[this.axis]=this.property;C[this.axis]=[-this.options.offset,this.full-this.options.offset];var D={snap:0,limit:C,modifiers:E,onDrag:this.draggedKnob,onStart:this.draggedKnob,onBeforeStart:(function(){this.isDragging=true}).bind(this),onCancel:function(){this.isDragging=false}.bind(this),onComplete:function(){this.isDragging=false;this.draggedKnob();this.end()}.bind(this)};if(this.options.snap){D.grid=Math.ceil(this.stepWidth);D.limit[this.axis][1]=this.full}this.drag=new Drag(this.knob,D);this.attach();if(this.options.initialStep!=null){this.set(this.options.initialStep)}},attach:function(){this.element.addEvent("mousedown",this.clickedElement);if(this.options.wheel){this.element.addEvent("mousewheel",this.scrolledElement)}this.drag.attach();return this},detach:function(){this.element.removeEvent("mousedown",this.clickedElement);this.element.removeEvent("mousewheel",this.scrolledElement);this.drag.detach();return this},set:function(B){if(!((this.range>0)^(B<this.min))){B=this.min}if(!((this.range>0)^(B>this.max))){B=this.max}this.step=Math.round(B);this.checkStep();this.fireEvent("tick",this.toPosition(this.step));this.end();return this},setRange:function(B,C){this.min=$pick(B[0],0);this.max=$pick(B[1],this.options.steps);this.range=this.max-this.min;this.steps=this.options.steps||this.full;this.stepSize=Math.abs(this.range)/this.steps;this.stepWidth=this.stepSize*this.full/Math.abs(this.range);this.set($pick(C,this.step).floor(this.min).max(this.max));return this},clickedElement:function(D){if(this.isDragging||D.target==this.knob){return }var C=this.range<0?-1:1;var B=D.page[this.axis]-this.element.getPosition()[this.axis]-this.half;B=B.limit(-this.options.offset,this.full-this.options.offset);this.step=Math.round(this.min+C*this.toStep(B));this.checkStep();this.fireEvent("tick",B);this.end()},scrolledElement:function(B){var C=(this.options.mode=="horizontal")?(B.wheel<0):(B.wheel>0);this.set(C?this.step-this.stepSize:this.step+this.stepSize);B.stop()},draggedKnob:function(){var C=this.range<0?-1:1;var B=this.drag.value.now[this.axis];B=B.limit(-this.options.offset,this.full-this.options.offset);this.step=Math.round(this.min+C*this.toStep(B));this.checkStep()},checkStep:function(){if(this.previousChange!=this.step){this.previousChange=this.step;this.fireEvent("change",this.step)}},end:function(){if(this.previousEnd!==this.step){this.previousEnd=this.step;this.fireEvent("complete",this.step+"")}},toStep:function(B){var C=(B+this.options.offset)*this.stepSize/this.full*this.steps;return this.options.steps?Math.round(C-=C%this.stepSize):C},toPosition:function(B){return(this.full*Math.abs(this.min-B))/(this.steps*this.stepSize)-this.options.offset}});var Sortables=new Class({Implements:[Events,Options],options:{snap:4,opacity:1,clone:false,revert:false,handle:false,constrain:false,preventDefault:false},initialize:function(B,C){this.setOptions(C);this.elements=[];this.lists=[];this.idle=true;this.addLists($$(document.id(B)||B));if(!this.options.clone){this.options.revert=false}if(this.options.revert){this.effect=new Fx.Morph(null,$merge({duration:250,link:"cancel"},this.options.revert))}},attach:function(){this.addLists(this.lists);return this},detach:function(){this.lists=this.removeLists(this.lists);return this},addItems:function(){Array.flatten(arguments).each(function(B){this.elements.push(B);var C=B.retrieve("sortables:start",this.start.bindWithEvent(this,B));(this.options.handle?B.getElement(this.options.handle)||B:B).addEvent("mousedown",C)},this);return this},addLists:function(){Array.flatten(arguments).each(function(B){this.lists.push(B);this.addItems(B.getChildren())},this);return this},removeItems:function(){return $$(Array.flatten(arguments).map(function(B){this.elements.erase(B);var C=B.retrieve("sortables:start");(this.options.handle?B.getElement(this.options.handle)||B:B).removeEvent("mousedown",C);return B},this))},removeLists:function(){return $$(Array.flatten(arguments).map(function(B){this.lists.erase(B);this.removeItems(B.getChildren());return B},this))},getClone:function(C,B){if(!this.options.clone){return new Element(B.tagName).inject(document.body)}if($type(this.options.clone)=="function"){return this.options.clone.call(this,C,B,this.list)}var D=B.clone(true).setStyles({margin:"0px",position:"absolute",visibility:"hidden",width:B.getStyle("width")});if(D.get("html").test("radio")){D.getElements("input[type=radio]").each(function(E,F){E.set("name","clone_"+F);if(E.get("checked")){B.getElements("input[type=radio]")[F].set("checked",true)}})}return D.inject(this.list).setPosition(B.getPosition(B.getOffsetParent()))},getDroppables:function(){var B=this.list.getChildren();if(!this.options.constrain){B=this.lists.concat(B).erase(this.list)}return B.erase(this.clone).erase(this.element)},insert:function(D,C){var B="inside";if(this.lists.contains(C)){this.list=C;this.drag.droppables=this.getDroppables()}else{B=this.element.getAllPrevious().contains(C)?"before":"after"}this.element.inject(C,B);this.fireEvent("sort",[this.element,this.clone])},start:function(C,B){if(!this.idle||C.rightClick||["button","input"].contains(document.id(C.target).get("tag"))){return }this.idle=false;this.element=B;this.opacity=B.get("opacity");this.list=B.getParent();this.clone=this.getClone(C,B);this.drag=new Drag.Move(this.clone,{preventDefault:this.options.preventDefault,snap:this.options.snap,container:this.options.constrain&&this.element.getParent(),droppables:this.getDroppables(),onSnap:function(){C.stop();this.clone.setStyle("visibility","visible");this.element.set("opacity",this.options.opacity||0);this.fireEvent("start",[this.element,this.clone])}.bind(this),onEnter:this.insert.bind(this),onCancel:this.reset.bind(this),onComplete:this.end.bind(this)});this.clone.inject(this.element,"before");this.drag.start(C)},end:function(){this.drag.detach();this.element.set("opacity",this.opacity);if(this.effect){var B=this.element.getStyles("width","height");var C=this.clone.computePosition(this.element.getPosition(this.clone.getOffsetParent()));this.effect.element=this.clone;this.effect.start({top:C.top,left:C.left,width:B.width,height:B.height,opacity:0.25}).chain(this.reset.bind(this))}else{this.reset()}},reset:function(){this.idle=true;this.clone.destroy();this.fireEvent("complete",this.element)},serialize:function(){var D=Array.link(arguments,{modifier:Function.type,index:$defined});var C=this.lists.map(function(E){return E.getChildren().map(D.modifier||function(F){return F.get("id")},this)},this);var B=D.index;if(this.lists.length==1){B=0}return $chk(B)&&B>=0&&B<this.lists.length?C[B]:C}});Request.JSONP=new Class({Implements:[Chain,Events,Options,Log],options:{url:"",data:{},retries:0,timeout:0,link:"ignore",callbackKey:"callback",injectScript:document.head},initialize:function(B){this.setOptions(B);if(this.options.log){this.enableLog()}this.running=false;this.requests=0;this.triesRemaining=[]},check:function(){if(!this.running){return true}switch(this.options.link){case"cancel":this.cancel();return true;case"chain":this.chain(this.caller.bind(this,arguments));return false}return false},send:function(D){if(!$chk(arguments[1])&&!this.check(D)){return this}var F=$type(D),B=this.options,C=$chk(arguments[1])?arguments[1]:this.requests++;if(F=="string"||F=="element"){D={data:D}}D=$extend({data:B.data,url:B.url},D);if(!$chk(this.triesRemaining[C])){this.triesRemaining[C]=this.options.retries}var E=this.triesRemaining[C];(function(){var G=this.getScript(D);this.log("JSONP retrieving script with url: "+G.get("src"));this.fireEvent("request",G);this.running=true;(function(){if(E){this.triesRemaining[C]=E-1;if(G){G.destroy();this.send(D,C).fireEvent("retry",this.triesRemaining[C])}}else{if(this.running&&G&&this.options.timeout){G.destroy();this.cancel().fireEvent("failure")}}}).delay(this.options.timeout,this)}).delay(Browser.Engine.trident?50:0,this);return this},cancel:function(){if(!this.running){return this}this.running=false;this.fireEvent("cancel");return this},getScript:function(D){var C=Request.JSONP.counter,E;Request.JSONP.counter++;switch($type(D.data)){case"element":E=document.id(D.data).toQueryString();break;case"object":case"hash":E=Hash.toQueryString(D.data)}var F=D.url+(D.url.test("\\?")?"&":"?")+(D.callbackKey||this.options.callbackKey)+"=Request.JSONP.request_map.request_"+C+(E?"&"+E:"");if(F.length>2083){this.log("JSONP "+F+" will fail in Internet Explorer, which enforces a 2083 bytes length limit on URIs")}var B=new Element("script",{type:"text/javascript",src:F});Request.JSONP.request_map["request_"+C]=function(){this.success(arguments,B)}.bind(this);return B.inject(this.options.injectScript)},success:function(C,B){if(!this.running){return false}if(B){B.destroy()}this.running=false;this.log("JSONP successfully retrieved: ",C);this.fireEvent("complete",C).fireEvent("success",C).callChain()}});Request.JSONP.counter=0;Request.JSONP.request_map={};Request.Queue=new Class({Implements:[Options,Events],Binds:["attach","request","complete","cancel","success","failure","exception"],options:{stopOnFailure:true,autoAdvance:true,concurrent:1,requests:{}},initialize:function(B){if(B){var C=B.requests;delete B.requests}this.setOptions(B);this.requests=new Hash;this.queue=[];this.reqBinders={};if(C){this.addRequests(C)}},addRequest:function(B,C){this.requests.set(B,C);this.attach(B,C);return this},addRequests:function(B){$each(B,function(D,C){this.addRequest(C,D)},this);return this},getName:function(B){return this.requests.keyOf(B)},attach:function(B,C){if(C._groupSend){return this}["request","complete","cancel","success","failure","exception"].each(function(D){if(!this.reqBinders[B]){this.reqBinders[B]={}}this.reqBinders[B][D]=function(){this["on"+D.capitalize()].apply(this,[B,C].extend(arguments))}.bind(this);C.addEvent(D,this.reqBinders[B][D])},this);C._groupSend=C.send;C.send=function(D){this.send(B,D);return C}.bind(this);return this},removeRequest:function(C){var B=$type(C)=="object"?this.getName(C):C;if(!B&&$type(B)!="string"){return this}C=this.requests.get(B);if(!C){return this}["request","complete","cancel","success","failure","exception"].each(function(D){C.removeEvent(D,this.reqBinders[B][D])},this);C.send=C._groupSend;delete C._groupSend;return this},getRunning:function(){return this.requests.filter(function(B){return B.running})},isRunning:function(){return !!(this.getRunning().getKeys().length)},send:function(C,B){var D=function(){this.requests.get(C)._groupSend(B);this.queue.erase(D)}.bind(this);D.name=C;if(this.getRunning().getKeys().length>=this.options.concurrent||(this.error&&this.options.stopOnFailure)){this.queue.push(D)}else{D()}return this},hasNext:function(B){return(!B)?!!this.queue.length:!!this.queue.filter(function(C){return C.name==B}).length},resume:function(){this.error=false;(this.options.concurrent-this.getRunning().getKeys().length).times(this.runNext,this);return this},runNext:function(B){if(!this.queue.length){return this}if(!B){this.queue[0]()}else{var C;this.queue.each(function(D){if(!C&&D.name==B){C=true;D()}})}return this},runAll:function(){this.queue.each(function(B){B()});return this},clear:function(B){if(!B){this.queue.empty()}else{this.queue=this.queue.map(function(C){if(C.name!=B){return C}else{return false}}).filter(function(C){return C})}return this},cancel:function(B){this.requests.get(B).cancel();return this},onRequest:function(){this.fireEvent("request",arguments)},onComplete:function(){this.fireEvent("complete",arguments);if(!this.queue.length){this.fireEvent("end")}},onCancel:function(){if(this.options.autoAdvance&&!this.error){this.runNext()}this.fireEvent("cancel",arguments)},onSuccess:function(){if(this.options.autoAdvance&&!this.error){this.runNext()}this.fireEvent("success",arguments)},onFailure:function(){this.error=true;if(!this.options.stopOnFailure&&this.options.autoAdvance){this.runNext()}this.fireEvent("failure",arguments)},onException:function(){this.error=true;if(!this.options.stopOnFailure&&this.options.autoAdvance){this.runNext()}this.fireEvent("exception",arguments)}});Request.implement({options:{initialDelay:5000,delay:5000,limit:60000},startTimer:function(C){var B=function(){if(!this.running){this.send({data:C})}};this.timer=B.delay(this.options.initialDelay,this);this.lastDelay=this.options.initialDelay;this.completeCheck=function(D){$clear(this.timer);this.lastDelay=(D)?this.options.delay:(this.lastDelay+this.options.delay).min(this.options.limit);this.timer=B.delay(this.lastDelay,this)};return this.addEvent("complete",this.completeCheck)},stopTimer:function(){$clear(this.timer);return this.removeEvent("complete",this.completeCheck)}});var Asset={javascript:function(G,E){E=$extend({onload:$empty,document:document,check:$lambda(true)},E);if(E.onLoad){E.onload=E.onLoad;delete E.onLoad}var C=new Element("script",{src:G,type:"text/javascript"});var F=E.onload.bind(C),B=E.check,H=E.document;delete E.onload;delete E.check;delete E.document;C.addEvents({load:F,readystatechange:function(){if(["loaded","complete"].contains(this.readyState)){F()}}}).set(E);if(Browser.Engine.webkit419){var D=(function(){if(!$try(B)){return }$clear(D);F()}).periodical(50)}return C.inject(H.head)},css:function(C,B){B=B||{};var D=B.onload||B.onLoad;if(D){B.events=B.events||{};B.events.load=D;delete B.onload;delete B.onLoad}return new Element("link",$merge({rel:"stylesheet",media:"screen",type:"text/css",href:C},B)).inject(document.head)},image:function(D,C){C=$merge({onload:$empty,onabort:$empty,onerror:$empty},C);var E=new Image();var B=document.id(E)||new Element("img");["load","abort","error"].each(function(F){var H="on"+F;var G=F.capitalize();if(C["on"+G]){C[H]=C["on"+G];delete C["on"+G]}var I=C[H];delete C[H];E[H]=function(){if(!E){return }if(!B.parentNode){B.width=E.width;B.height=E.height}E=E.onload=E.onabort=E.onerror=null;I.delay(1,B,B);B.fireEvent(F,B,1)}});E.src=B.src=D;if(E&&E.complete){E.onload.delay(1)}return B.set(C)},images:function(E,D){D=$merge({onComplete:$empty,onProgress:$empty,onError:$empty,properties:{}},D);E=$splat(E);var B=[];var C=0;return new Elements(E.map(function(G,F){return Asset.image(G,$extend(D.properties,{onload:function(){D.onProgress.call(this,C,F);C++;if(C==E.length){D.onComplete()}},onerror:function(){D.onError.call(this,C,F);C++;if(C==E.length){D.onComplete()}}}))}))}};var Color=new Native({initialize:function(C,D){if(arguments.length>=3){D="rgb";C=Array.slice(arguments,0,3)}else{if(typeof C=="string"){if(C.match(/rgb/)){C=C.rgbToHex().hexToRgb(true)}else{if(C.match(/hsb/)){C=C.hsbToRgb()}else{C=C.hexToRgb(true)}}}}D=D||"rgb";switch(D){case"hsb":var B=C;C=C.hsbToRgb();C.hsb=B;break;case"hex":C=C.hexToRgb(true);break}C.rgb=C.slice(0,3);C.hsb=C.hsb||C.rgbToHsb();C.hex=C.rgbToHex();return $extend(C,this)}});Color.implement({mix:function(){var B=Array.slice(arguments);var D=($type(B.getLast())=="number")?B.pop():50;var C=this.slice();B.each(function(E){E=new Color(E);for(var F=0;F<3;F++){C[F]=Math.round((C[F]/100*(100-D))+(E[F]/100*D))}});return new Color(C,"rgb")},invert:function(){return new Color(this.map(function(B){return 255-B}))},setHue:function(B){return new Color([B,this.hsb[1],this.hsb[2]],"hsb")},setSaturation:function(B){return new Color([this.hsb[0],B,this.hsb[2]],"hsb")},setBrightness:function(B){return new Color([this.hsb[0],this.hsb[1],B],"hsb")}});var $RGB=function(D,C,B){return new Color([D,C,B],"rgb")};var $HSB=function(D,C,B){return new Color([D,C,B],"hsb")};var $HEX=function(B){return new Color(B,"hex")};Array.implement({rgbToHsb:function(){var C=this[0],D=this[1],K=this[2],H=0;var J=Math.max(C,D,K),F=Math.min(C,D,K);var L=J-F;var I=J/255,G=(J!=0)?L/J:0;if(G!=0){var E=(J-C)/L;var B=(J-D)/L;var M=(J-K)/L;if(C==J){H=M-B}else{if(D==J){H=2+E-M}else{H=4+B-E}}H/=6;if(H<0){H++}}return[Math.round(H*360),Math.round(G*100),Math.round(I*100)]},hsbToRgb:function(){var D=Math.round(this[2]/100*255);if(this[1]==0){return[D,D,D]}else{var B=this[0]%360;var F=B%60;var G=Math.round((this[2]*(100-this[1]))/10000*255);var E=Math.round((this[2]*(6000-this[1]*F))/600000*255);var C=Math.round((this[2]*(6000-this[1]*(60-F)))/600000*255);switch(Math.floor(B/60)){case 0:return[D,C,G];case 1:return[E,D,G];case 2:return[G,D,C];case 3:return[G,E,D];case 4:return[C,G,D];case 5:return[D,G,E]}}return false}});String.implement({rgbToHsb:function(){var B=this.match(/\d{1,3}/g);return(B)?B.rgbToHsb():null},hsbToRgb:function(){var B=this.match(/\d{1,3}/g);return(B)?B.hsbToRgb():null}});var Group=new Class({initialize:function(){this.instances=Array.flatten(arguments);this.events={};this.checker={}},addEvent:function(C,B){this.checker[C]=this.checker[C]||{};this.events[C]=this.events[C]||[];if(this.events[C].contains(B)){return false}else{this.events[C].push(B)}this.instances.each(function(D,E){D.addEvent(C,this.check.bind(this,[C,D,E]))},this);return this},check:function(D,B,C){this.checker[D][C]=true;var E=this.instances.every(function(G,F){return this.checker[D][F]||false},this);if(!E){return }this.checker[D]={};this.events[D].each(function(F){F.call(this,this.instances,B)},this)}});Hash.Cookie=new Class({Extends:Cookie,options:{autoSave:true},initialize:function(C,B){this.parent(C,B);this.load()},save:function(){var B=JSON.encode(this.hash);if(!B||B.length>4096){return false}if(B=="{}"){this.dispose()}else{this.write(B)}return true},load:function(){this.hash=new Hash(JSON.decode(this.read(),true));return this}});Hash.each(Hash.prototype,function(C,B){if(typeof C=="function"){Hash.Cookie.implement(B,function(){var D=C.apply(this.hash,arguments);if(this.options.autoSave){this.save()}return D})}});var IframeShim=new Class({Implements:[Options,Events,Class.Occlude],options:{className:"iframeShim",src:'javascript:false;document.write("");',display:false,zIndex:null,margin:0,offset:{x:0,y:0},browsers:(Browser.Engine.trident4||(Browser.Engine.gecko&&!Browser.Engine.gecko19&&Browser.Platform.mac))},property:"IframeShim",initialize:function(C,B){this.element=document.id(C);if(this.occlude()){return this.occluded}this.setOptions(B);this.makeShim();return this},makeShim:function(){if(this.options.browsers){var D=this.element.getStyle("zIndex").toInt();if(!D){D=1;var C=this.element.getStyle("position");if(C=="static"||!C){this.element.setStyle("position","relative")}this.element.setStyle("zIndex",D)}D=($chk(this.options.zIndex)&&D>this.options.zIndex)?this.options.zIndex:D-1;if(D<0){D=1}this.shim=new Element("iframe",{src:this.options.src,scrolling:"no",frameborder:0,styles:{zIndex:D,position:"absolute",border:"none",filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"},"class":this.options.className}).store("IframeShim",this);var B=(function(){this.shim.inject(this.element,"after");this[this.options.display?"show":"hide"]();this.fireEvent("inject")}).bind(this);if(!IframeShim.ready){window.addEvent("load",B)}else{B()}}else{this.position=this.hide=this.show=this.dispose=$lambda(this)}},position:function(){if(!IframeShim.ready||!this.shim){return this}var B=this.element.measure(function(){return this.getSize()});if(this.options.margin!=undefined){B.x=B.x-(this.options.margin*2);B.y=B.y-(this.options.margin*2);this.options.offset.x+=this.options.margin;this.options.offset.y+=this.options.margin}this.shim.set({width:B.x,height:B.y}).position({relativeTo:this.element,offset:this.options.offset});return this},hide:function(){if(this.shim){this.shim.setStyle("display","none")}return this},show:function(){if(this.shim){this.shim.setStyle("display","block")}return this.position()},dispose:function(){if(this.shim){this.shim.dispose()}return this},destroy:function(){if(this.shim){this.shim.destroy()}return this}});window.addEvent("load",function(){IframeShim.ready=true});var HtmlTable=new Class({Implements:[Options,Events,Class.Occlude],options:{properties:{cellpadding:0,cellspacing:0,border:0},rows:[],headers:[],footers:[]},property:"HtmlTable",initialize:function(){var B=Array.link(arguments,{options:Object.type,table:Element.type});this.setOptions(B.options);this.element=B.table||new Element("table",this.options.properties);if(this.occlude()){return this.occluded}this.build()},build:function(){this.element.store("HtmlTable",this);this.body=document.id(this.element.tBodies[0])||new Element("tbody").inject(this.element);$$(this.body.rows);if(this.options.headers.length){this.setHeaders(this.options.headers)}else{this.thead=document.id(this.element.tHead)}if(this.thead){this.head=document.id(this.thead.rows[0])}if(this.options.footers.length){this.setFooters(this.options.footers)}this.tfoot=document.id(this.element.tFoot);if(this.tfoot){this.foot=document.id(this.tfoot.rows[0])}this.options.rows.each(function(B){this.push(B)},this);["adopt","inject","wraps","grab","replaces","dispose"].each(function(B){this[B]=this.element[B].bind(this.element)},this)},toElement:function(){return this.element},empty:function(){this.body.empty();return this},set:function(E,B){var D=(E=="headers")?"tHead":"tFoot";this[D.toLowerCase()]=(document.id(this.element[D])||new Element(D.toLowerCase()).inject(this.element,"top")).empty();var C=this.push(B,{},this[D.toLowerCase()],E=="headers"?"th":"td");if(E=="headers"){this.head=document.id(this.thead.rows[0])}else{this.foot=document.id(this.thead.rows[0])}return C},setHeaders:function(B){this.set("headers",B);return this},setFooters:function(B){this.set("footers",B);return this},push:function(F,C,E,B){if($type(F)=="element"&&F.get("tag")=="tr"){F.inject(E||this.body);return{tr:F,tds:F.getChildren("td")}}var D=F.map(function(I){var J=new Element(B||"td",I?I.properties:{}),H=(I?I.content:"")||I,G=document.id(H);if($type(H)!="string"&&G){J.adopt(G)}else{J.set("html",H)}return J});return{tr:new Element("tr",C).inject(E||this.body).adopt(D),tds:D}}});HtmlTable=Class.refactor(HtmlTable,{options:{classZebra:"table-tr-odd",zebra:true},initialize:function(){this.previous.apply(this,arguments);if(this.occluded){return this.occluded}if(this.options.zebra){this.updateZebras()}},updateZebras:function(){Array.each(this.body.rows,this.zebra,this)},zebra:function(C,B){return C[((B%2)?"remove":"add")+"Class"](this.options.classZebra)},push:function(){var B=this.previous.apply(this,arguments);if(this.options.zebra){this.updateZebras()}return B}});HtmlTable=Class.refactor(HtmlTable,{options:{sortIndex:0,sortReverse:false,parsers:[],defaultParser:"string",classSortable:"table-sortable",classHeadSort:"table-th-sort",classHeadSortRev:"table-th-sort-rev",classNoSort:"table-th-nosort",classGroupHead:"table-tr-group-head",classGroup:"table-tr-group",classCellSort:"table-td-sort",classSortSpan:"table-th-sort-span",sortable:false},initialize:function(){this.previous.apply(this,arguments);if(this.occluded){return this.occluded}this.sorted={index:null,dir:1};this.bound={headClick:this.headClick.bind(this)};this.sortSpans=new Elements();if(this.options.sortable){this.enableSort();if(this.options.sortIndex!=null){this.sort(this.options.sortIndex,this.options.sortReverse)}}},attachSorts:function(B){this.element.removeEvents("click:relay(th)");this.element[$pick(B,true)?"addEvent":"removeEvent"]("click:relay(th)",this.bound.headClick)},setHeaders:function(){this.previous.apply(this,arguments);if(this.sortEnabled){this.detectParsers()}},detectParsers:function(D){if(!this.head){return }var B=this.options.parsers,C=this.body.rows;this.parsers=$$(this.head.cells).map(function(E,F){if(!D&&(E.hasClass(this.options.classNoSort)||E.retrieve("htmltable-parser"))){return E.retrieve("htmltable-parser")}var G=new Element("div");$each(E.childNodes,function(K){G.adopt(K)});G.inject(E);var I=new Element("span",{html:"&#160;","class":this.options.classSortSpan}).inject(G,"top");this.sortSpans.push(I);var J=B[F],H;switch($type(J)){case"function":J={convert:J};H=true;break;case"string":J=J;H=true;break}if(!H){HtmlTable.Parsers.some(function(O){var M=O.match;if(!M){return false}for(var N=0,L=C.length;N<L;N++){var K=document.id(C[N].cells[F]);var P=K?K.get("html").clean():"";if(P&&M.test(P)){J=O;return true}}})}if(!J){J=this.options.defaultParser}E.store("htmltable-parser",J);return J},this)},headClick:function(D,C){if(!this.head||C.hasClass(this.options.classNoSort)){return }var B=Array.indexOf(this.head.cells,C);this.sort(B);return false},sort:function(G,I,L){if(!this.head){return }L=!!(L);var K=this.options.classCellSort;var N=this.options.classGroup,S=this.options.classGroupHead;if(!L){if(G!=null){if(this.sorted.index==G){this.sorted.reverse=!(this.sorted.reverse)}else{if(this.sorted.index!=null){this.sorted.reverse=false;this.head.cells[this.sorted.index].removeClass(this.options.classHeadSort).removeClass(this.options.classHeadSortRev)}else{this.sorted.reverse=true}this.sorted.index=G}}else{G=this.sorted.index}if(I!=null){this.sorted.reverse=I}var E=document.id(this.head.cells[G]);if(E){E.addClass(this.options.classHeadSort);if(this.sorted.reverse){E.addClass(this.options.classHeadSortRev)}else{E.removeClass(this.options.classHeadSortRev)}}this.body.getElements("td").removeClass(this.options.classCellSort)}var D=this.parsers[G];if($type(D)=="string"){D=HtmlTable.Parsers.get(D)}if(!D){return }if(!Browser.Engine.trident){var C=this.body.getParent();this.body.dispose()}var R=Array.map(this.body.rows,function(V,T){var U=D.convert.call(document.id(V.cells[G]));return{position:T,value:U,toString:function(){return U.toString()}}},this);R.reverse(true);R.sort(function(U,T){if(U.value===T.value){return 0}return U.value>T.value?1:-1});if(!this.sorted.reverse){R.reverse(true)}var O=R.length,J=this.body;var M,Q,B,H;while(O){var P=R[--O];Q=P.position;var F=J.rows[Q];if(F.disabled){continue}if(!L){if(H===P.value){F.removeClass(S).addClass(N)}else{H=P.value;F.removeClass(N).addClass(S)}if(this.options.zebra){this.zebra(F,O)}F.cells[G].addClass(K)}J.appendChild(F);for(M=0;M<O;M++){if(R[M].position>Q){R[M].position--}}}R=null;if(C){C.grab(J)}return this.fireEvent("sort",[J,G])},reSort:function(){if(this.sortEnabled){this.sort.call(this,this.sorted.index,this.sorted.reverse)}return this},enableSort:function(){this.element.addClass(this.options.classSortable);this.attachSorts(true);this.detectParsers();this.sortEnabled=true;return this},disableSort:function(){this.element.removeClass(this.options.classSortable);this.attachSorts(false);this.sortSpans.each(function(B){B.destroy()});this.sortSpans.empty();this.sortEnabled=false;return this}});HtmlTable.Parsers=new Hash({date:{match:/^\d{2}[-\/ ]\d{2}[-\/ ]\d{2,4}$/,convert:function(){var B=Date.parse(this.get("text").stripTags());return $type(B)=="date"?B.format("db"):""},type:"date"},"input-checked":{match:/ type="(radio|checkbox)" /,convert:function(){return this.getElement("input").checked}},"input-value":{match:/<input/,convert:function(){return this.getElement("input").value}},number:{match:/^\d+[^\d.,]*$/,convert:function(){return this.get("text").stripTags().toInt()},number:true},numberLax:{match:/^[^\d]+\d+$/,convert:function(){return this.get("text").replace(/[^-?^0-9]/,"").stripTags().toInt()},number:true},"float":{match:/^[\d]+\.[\d]+/,convert:function(){return this.get("text").replace(/[^-?^\d.]/,"").stripTags().toFloat()},number:true},floatLax:{match:/^[^\d]+[\d]+\.[\d]+$/,convert:function(){return this.get("text").replace(/[^-?^\d.]/,"").stripTags()},number:true},string:{match:null,convert:function(){return this.get("text").stripTags()}},title:{match:null,convert:function(){return this.title}}});HtmlTable.defineParsers=function(B){HtmlTable.Parsers=new Hash(B).combine(HtmlTable.Parsers)};HtmlTable=Class.refactor(HtmlTable,{options:{useKeyboard:true,classRowSelected:"table-tr-selected",classRowHovered:"table-tr-hovered",classSelectable:"table-selectable",shiftForMultiSelect:true,allowMultiSelect:true,selectable:false},initialize:function(){this.previous.apply(this,arguments);if(this.occluded){return this.occluded}this._selectedRows=new Elements();this._bound={mouseleave:this._mouseleave.bind(this),clickRow:this._clickRow.bind(this)};if(this.options.selectable){this.enableSelect()}},enableSelect:function(){this._selectEnabled=true;this._attachSelects();this.element.addClass(this.options.classSelectable)},disableSelect:function(){this._selectEnabled=false;this._attachSelects(false);this.element.removeClass(this.options.classSelectable)},push:function(){var B=this.previous.apply(this,arguments);this._updateSelects();return B},toggleRow:function(B){return this.isSelected(B)?this.deselectRow.apply(this,arguments):this.selectRow.apply(this,arguments)},selectRow:function(C,B){if(this.isSelected(C)||(!B&&!this.body.getChildren().contains(C))){return }if(!this.options.allowMultiSelect){this.selectNone()}if(!this.isSelected(C)){this._selectedRows.push(C);C.addClass(this.options.classRowSelected);this.fireEvent("rowFocus",[C,this._selectedRows])}this._focused=C;document.clearSelection();return this},isSelected:function(B){return this._selectedRows.contains(B)},deselectRow:function(C,B){if(!this.isSelected(C)||(!B&&!this.body.getChildren().contains(C))){return }this._selectedRows.erase(C);C.removeClass(this.options.classRowSelected);this.fireEvent("rowUnfocus",[C,this._selectedRows]);return this},selectAll:function(B){if(!B&&!this.options.allowMultiSelect){return }this.selectRange(0,this.body.rows.length,B);return this},selectNone:function(){return this.selectAll(true)},selectRange:function(C,B,G){if(!this.options.allowMultiSelect&&!G){return }var H=G?"deselectRow":"selectRow",F=$A(this.body.rows);if($type(C)=="element"){C=F.indexOf(C)}if($type(B)=="element"){B=F.indexOf(B)}B=B<F.length-1?B:F.length-1;if(B<C){var E=C;C=B;B=E}for(var D=C;D<=B;D++){this[H](F[D],true)}return this},deselectRange:function(C,B){this.selectRange(C,B,true)},_enterRow:function(B){if(this._hovered){this._hovered=this._leaveRow(this._hovered)}this._hovered=B.addClass(this.options.classRowHovered)},_leaveRow:function(B){B.removeClass(this.options.classRowHovered)},_updateSelects:function(){Array.each(this.body.rows,function(B){var C=B.retrieve("binders");if((C&&this._selectEnabled)||(!C&&!this._selectEnabled)){return }if(!C){C={mouseenter:this._enterRow.bind(this,[B]),mouseleave:this._leaveRow.bind(this,[B])};B.store("binders",C).addEvents(C)}else{B.removeEvents(C)}},this)},_shiftFocus:function(C,B){if(!this._focused){return this.selectRow(this.body.rows[0],B)}var D=this._getRowByOffset(C);if(D===null||this._focused==this.body.rows[D]){return this}this.toggleRow(this.body.rows[D],B)},_clickRow:function(B,C){var D=(B.shift||B.meta||B.control)&&this.options.shiftForMultiSelect;if(!D&&!(B.rightClick&&this.isSelected(C)&&this.options.allowMultiSelect)){this.selectNone()}if(B.rightClick){this.selectRow(C)}else{this.toggleRow(C)}if(B.shift){this.selectRange(this._rangeStart||this.body.rows[0],C,this._rangeStart?!this.isSelected(C):true);this._focused=C}this._rangeStart=C},_getRowByOffset:function(C){if(!this._focused){return 0}var B=Array.indexOf(this.body.rows,this._focused)+C;if(B<0){B=null}if(B>=this.body.rows.length){B=null}return B},_attachSelects:function(E){E=$pick(E,true);var H=E?"addEvents":"removeEvents";this.element[H]({mouseleave:this._bound.mouseleave});this.body[H]({"click:relay(tr)":this._bound.clickRow,"contextmenu:relay(tr)":this._bound.clickRow});if(this.options.useKeyboard||this.keyboard){if(!this.keyboard){var G,F;var D=function(J){var I=function(K){$clear(G);K.preventDefault();var L=this.body.rows[this._getRowByOffset(J)];if(K.shift&&L&&this.isSelected(L)){this.deselectRow(this._focused);this._focused=L}else{if(L&&(!this.options.allowMultiSelect||!K.shift)){this.selectNone()}this._shiftFocus(J,K)}if(F){G=I.delay(100,this,K)}else{G=(function(){F=true;I(K)}).delay(400)}}.bind(this);return I}.bind(this);var C=function(){$clear(G);F=false};this.keyboard=new Keyboard({events:{"keydown:shift+up":D(-1),"keydown:shift+down":D(1),"keyup:shift+up":C,"keyup:shift+down":C,"keyup:up":C,"keyup:down":C},active:true});var B="";if(this.options.allowMultiSelect&&this.options.shiftForMultiSelect&&this.options.useKeyboard){B=" (Shift multi-selects)."}this.keyboard.addShortcuts({"Select Previous Row":{keys:"up",shortcut:"up arrow",handler:D(-1),description:"Select the previous row in the table."+B},"Select Next Row":{keys:"down",shortcut:"down arrow",handler:D(1),description:"Select the next row in the table."+B}})}this.keyboard[E?"activate":"deactivate"]()}this._updateSelects()},_mouseleave:function(){if(this._hovered){this._leaveRow(this._hovered)}}});(function(){var B=this.Keyboard=new Class({Extends:Events,Implements:[Options,Log],options:{defaultEventType:"keydown",active:false,manager:null,events:{},nonParsedEvents:["activate","deactivate","onactivate","ondeactivate","changed","onchanged"]},initialize:function(G){if(G&&G.manager){this.manager=G.manager;delete G.manager}this.setOptions(G);this.setup()},setup:function(){this.addEvents(this.options.events);if(B.manager&&!this.manager){B.manager.manage(this)}if(this.options.active){this.activate()}},handle:function(I,H){if(I.preventKeyboardPropagation){return }var G=!!this.manager;if(G&&this.activeKB){this.activeKB.handle(I,H);if(I.preventKeyboardPropagation){return }}this.fireEvent(H,I);if(!G&&this.activeKB){this.activeKB.handle(I,H)}},addEvent:function(I,H,G){return this.parent(B.parse(I,this.options.defaultEventType,this.options.nonParsedEvents),H,G)},removeEvent:function(H,G){return this.parent(B.parse(H,this.options.defaultEventType,this.options.nonParsedEvents),G)},toggleActive:function(){return this[this.active?"deactivate":"activate"]()},activate:function(G){if(G){if(G.isActive()){return this}if(this.activeKB&&G!=this.activeKB){this.previous=this.activeKB;this.previous.fireEvent("deactivate")}this.activeKB=G.fireEvent("activate");B.manager.fireEvent("changed")}else{if(this.manager){this.manager.activate(this)}}return this},isActive:function(){return this.manager?this.manager.activeKB==this:B.manager==this},deactivate:function(G){if(G){if(G===this.activeKB){this.activeKB=null;G.fireEvent("deactivate");B.manager.fireEvent("changed")}}else{if(this.manager){this.manager.deactivate(this)}}return this},relinquish:function(){if(this.isActive()&&this.manager&&this.manager.previous){this.manager.activate(this.manager.previous)}},manage:function(G){if(G.manager&&G.manager!=B.manager&&this!=B.manager){G.manager.drop(G)}this.instances.push(G);G.manager=this;if(!this.activeKB){this.activate(G)}},_disable:function(G){if(this.activeKB==G){this.activeKB=null}},drop:function(G){this._disable(G);this.instances.erase(G);B.manager.manage(G);if(this.activeKB==G&&this.previous&&this.instances.contains(this.previous)){this.activate(this.previous)}},instances:[],trace:function(){B.trace(this)},each:function(G){B.each(this,G)}});var C={};var D=["shift","control","alt","meta"];var F=/^(?:shift|control|ctrl|alt|meta)$/;B.parse=function(I,H,L){if(L&&L.contains(I.toLowerCase())){return I}I=I.toLowerCase().replace(/^(keyup|keydown):/,function(N,M){H=M;return""});if(!C[I]){var G,K={};I.split("+").each(function(M){if(F.test(M)){K[M]=true}else{G=M}});K.control=K.control||K.ctrl;var J=[];D.each(function(M){if(K[M]){J.push(M)}});if(G){J.push(G)}C[I]=J.join("+")}return H+":"+C[I]};B.each=function(G,H){var I=G||B.manager;while(I){H.run(I);I=I.activeKB}};B.stop=function(G){G.preventKeyboardPropagation=true};B.manager=new B({active:true});B.trace=function(G){G=G||B.manager;G.enableLog();G.log("the following items have focus: ");B.each(G,function(H){G.log(document.id(H.widget)||H.wiget||H)})};var E=function(H){var G=[];D.each(function(I){if(H[I]){G.push(I)}});if(!F.test(H.key)){G.push(H.key)}B.manager.handle(H,H.type+":"+G.join("+"))};document.addEvents({keyup:E,keydown:E});Event.Keys.extend({shift:16,control:17,alt:18,capslock:20,pageup:33,pagedown:34,end:35,home:36,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":Browser.Engine.gecko?109:189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222})})();Keyboard.prototype.options.nonParsedEvents.combine(["rebound","onrebound"]);Keyboard.implement({addShortcut:function(C,B){this.shortcuts=this.shortcuts||[];this.shortcutIndex=this.shortcutIndex||{};B.getKeyboard=$lambda(this);B.name=C;this.shortcutIndex[C]=B;this.shortcuts.push(B);if(B.keys){this.addEvent(B.keys,B.handler)}return this},addShortcuts:function(C){for(var B in C){this.addShortcut(B,C[B])}return this},removeShortcut:function(C){var B=this.getShortcut(C);if(B&&B.keys){this.removeEvent(B.keys,B.handler);delete this.shortcutIndex[C];this.shortcuts.erase(B)}return this},removeShortcuts:function(B){B.each(this.removeShortcut,this);return this},getShortcuts:function(){return this.shortcuts||[]},getShortcut:function(B){return(this.shortcutIndex||{})[B]}});Keyboard.rebind=function(C,B){$splat(B).each(function(D){D.getKeyboard().removeEvent(D.keys,D.handler);D.getKeyboard().addEvent(C,D.handler);D.keys=C;D.getKeyboard().fireEvent("rebound")})};Keyboard.getActiveShortcuts=function(C){var B=[],D=[];Keyboard.each(C,[].push.bind(B));B.each(function(E){D.extend(E.getShortcuts())});return D};Keyboard.getShortcut=function(D,C,E){E=E||{};var B=E.many?[]:null,F=E.many?function(H){var G=H.getShortcut(D);if(G){B.push(G)}}:function(G){if(!B){B=G.getShortcut(D)}};Keyboard.each(C,F);return B};Keyboard.getShortcuts=function(C,B){return Keyboard.getShortcut(C,B,{many:true})};var Mask=new Class({Implements:[Options,Events],Binds:["position"],options:{style:{},"class":"mask",maskMargins:false,useIframeShim:true,iframeShimOptions:{}},initialize:function(C,B){this.target=document.id(C)||document.id(document.body);this.target.store("Mask",this);this.setOptions(B);this.render();this.inject()},render:function(){this.element=new Element("div",{"class":this.options["class"],id:this.options.id||"mask-"+$time(),styles:$merge(this.options.style,{display:"none"}),events:{click:function(){this.fireEvent("click");if(this.options.hideOnClick){this.hide()}}.bind(this)}});this.hidden=true},toElement:function(){return this.element},inject:function(C,B){B=B||this.options.inject?this.options.inject.where:""||this.target==document.body?"inside":"after";C=C||this.options.inject?this.options.inject.target:""||this.target;this.element.inject(C,B);if(this.options.useIframeShim){this.shim=new IframeShim(this.element,this.options.iframeShimOptions);this.addEvents({show:this.shim.show.bind(this.shim),hide:this.shim.hide.bind(this.shim),destroy:this.shim.destroy.bind(this.shim)})}},position:function(){this.resize(this.options.width,this.options.height);this.element.position({relativeTo:this.target,position:"topLeft",ignoreMargins:!this.options.maskMargins,ignoreScroll:this.target==document.body});return this},resize:function(B,F){var C={styles:["padding","border"]};if(this.options.maskMargins){C.styles.push("margin")}var E=this.target.getComputedSize(C);if(this.target==document.body){var D=window.getScrollSize();if(E.totalHeight<D.y){E.totalHeight=D.y}if(E.totalWidth<D.x){E.totalWidth=D.x}}this.element.setStyles({width:$pick(B,E.totalWidth,E.x),height:$pick(F,E.totalHeight,E.y)});return this},show:function(){if(!this.hidden){return this}window.addEvent("resize",this.position);this.position();this.showMask.apply(this,arguments);return this},showMask:function(){this.element.setStyle("display","block");this.hidden=false;this.fireEvent("show")},hide:function(){if(this.hidden){return this}window.removeEvent("resize",this.position);this.hideMask.apply(this,arguments);if(this.options.destroyOnHide){return this.destroy()}return this},hideMask:function(){this.element.setStyle("display","none");this.hidden=true;this.fireEvent("hide")},toggle:function(){this[this.hidden?"show":"hide"]()},destroy:function(){this.hide();this.element.destroy();this.fireEvent("destroy");this.target.eliminate("mask")}});Element.Properties.mask={set:function(C){var B=this.retrieve("mask");return this.eliminate("mask").store("mask:options",C)},get:function(B){if(B||!this.retrieve("mask")){if(this.retrieve("mask")){this.retrieve("mask").destroy()}if(B||!this.retrieve("mask:options")){this.set("mask",B)}this.store("mask",new Mask(this,this.retrieve("mask:options")))}return this.retrieve("mask")}};Element.implement({mask:function(B){this.get("mask",B).show();return this},unmask:function(){this.get("mask").hide();return this}});var Scroller=new Class({Implements:[Events,Options],options:{area:20,velocity:1,onChange:function(B,C){this.element.scrollTo(B,C)},fps:50},initialize:function(C,B){this.setOptions(B);this.element=document.id(C);this.docBody=document.id(this.element.getDocument().body);this.listener=($type(this.element)!="element")?this.docBody:this.element;this.timer=null;this.bound={attach:this.attach.bind(this),detach:this.detach.bind(this),getCoords:this.getCoords.bind(this)}},start:function(){this.listener.addEvents({mouseenter:this.bound.attach,mouseleave:this.bound.detach})},stop:function(){this.listener.removeEvents({mouseenter:this.bound.attach,mouseleave:this.bound.detach});this.detach();this.timer=$clear(this.timer)},attach:function(){this.listener.addEvent("mousemove",this.bound.getCoords)},detach:function(){this.listener.removeEvent("mousemove",this.bound.getCoords);this.timer=$clear(this.timer)},getCoords:function(B){this.page=(this.listener.get("tag")=="body")?B.client:B.page;if(!this.timer){this.timer=this.scroll.periodical(Math.round(1000/this.options.fps),this)}},scroll:function(){var D=this.element.getSize(),B=this.element.getScroll(),I=this.element!=this.docBody?this.element.getOffsets():{x:0,y:0},E=this.element.getScrollSize(),H={x:0,y:0},F=this.options.area.top||this.options.area,C=this.options.area.bottom||this.options.area;for(var G in this.page){if(this.page[G]<(F+I[G])&&B[G]!=0){H[G]=(this.page[G]-F-I[G])*this.options.velocity}else{if(this.page[G]+C>(D[G]+I[G])&&B[G]+D[G]!=E[G]){H[G]=(this.page[G]-D[G]+C-I[G])*this.options.velocity}}H[G]=H[G].round()}if(H.y||H.x){this.fireEvent("change",[B.x+H.x,B.y+H.y])}}});(function(){var B=function(D,C){return(D)?($type(D)=="function"?D(C):C.get(D)):""};this.Tips=new Class({Implements:[Events,Options],options:{onShow:function(){this.tip.setStyle("display","block")},onHide:function(){this.tip.setStyle("display","none")},title:"title",text:function(C){return C.get("rel")||C.get("href")},showDelay:100,hideDelay:100,className:"tip-wrap",offset:{x:16,y:16},windowPadding:{x:0,y:0},fixed:false},initialize:function(){var C=Array.link(arguments,{options:Object.type,elements:$defined});this.setOptions(C.options);if(C.elements){this.attach(C.elements)}this.container=new Element("div",{"class":"tip"})},toElement:function(){if(this.tip){return this.tip}return this.tip=new Element("div",{"class":this.options.className,styles:{position:"absolute",top:0,left:0}}).adopt(new Element("div",{"class":"tip-top"}),this.container,new Element("div",{"class":"tip-bottom"}))},attach:function(C){$$(C).each(function(E){var G=B(this.options.title,E),F=B(this.options.text,E);E.erase("title").store("tip:native",G).retrieve("tip:title",G);E.retrieve("tip:text",F);this.fireEvent("attach",[E]);var D=["enter","leave"];if(!this.options.fixed){D.push("move")}D.each(function(I){var H=E.retrieve("tip:"+I);if(!H){H=this["element"+I.capitalize()].bindWithEvent(this,E)}E.store("tip:"+I,H).addEvent("mouse"+I,H)},this)},this);return this},detach:function(C){$$(C).each(function(E){["enter","leave","move"].each(function(F){E.removeEvent("mouse"+F,E.retrieve("tip:"+F)).eliminate("tip:"+F)});this.fireEvent("detach",[E]);if(this.options.title=="title"){var D=E.retrieve("tip:native");if(D){E.set("title",D)}}},this);return this},elementEnter:function(D,C){this.container.empty();["title","text"].each(function(F){var E=C.retrieve("tip:"+F);if(E){this.fill(new Element("div",{"class":"tip-"+F}).inject(this.container),E)}},this);$clear(this.timer);this.timer=(function(){this.show(C);this.position((this.options.fixed)?{page:C.getPosition()}:D)}).delay(this.options.showDelay,this)},elementLeave:function(D,C){$clear(this.timer);this.timer=this.hide.delay(this.options.hideDelay,this,C);this.fireForParent(D,C)},fireForParent:function(D,C){C=C.getParent();if(!C||C==document.body){return }if(C.retrieve("tip:enter")){C.fireEvent("mouseenter",D)}else{this.fireForParent(D,C)}},elementMove:function(D,C){this.position(D)},position:function(F){if(!this.tip){document.id(this)}var D=window.getSize(),C=window.getScroll(),G={x:this.tip.offsetWidth,y:this.tip.offsetHeight},E={x:"left",y:"top"},H={};for(var I in E){H[E[I]]=F.page[I]+this.options.offset[I];if((H[E[I]]+G[I]-C[I])>D[I]-this.options.windowPadding[I]){H[E[I]]=F.page[I]-this.options.offset[I]-G[I]}}this.tip.setStyles(H)},fill:function(C,D){if(typeof D=="string"){C.set("html",D)}else{C.adopt(D)}},show:function(C){if(!this.tip){document.id(this)}if(!this.tip.getParent()){this.tip.inject(document.body)}this.fireEvent("show",[this.tip,C])},hide:function(C){if(!this.tip){document.id(this)}this.fireEvent("hide",[this.tip,C])}})})();var Spinner=new Class({Extends:Mask,options:{"class":"spinner",containerPosition:{},content:{"class":"spinner-content"},messageContainer:{"class":"spinner-msg"},img:{"class":"spinner-img"},fxOptions:{link:"chain"}},initialize:function(){this.parent.apply(this,arguments);this.target.store("spinner",this);var B=function(){this.active=false}.bind(this);this.addEvents({hide:B,show:B})},render:function(){this.parent();this.element.set("id",this.options.id||"spinner-"+$time());this.content=document.id(this.options.content)||new Element("div",this.options.content);this.content.inject(this.element);if(this.options.message){this.msg=document.id(this.options.message)||new Element("p",this.options.messageContainer).appendText(this.options.message);this.msg.inject(this.content)}if(this.options.img){this.img=document.id(this.options.img)||new Element("div",this.options.img);this.img.inject(this.content)}this.element.set("tween",this.options.fxOptions)},show:function(B){if(this.active){return this.chain(this.show.bind(this))}if(!this.hidden){this.callChain.delay(20,this);return this}this.active=true;return this.parent(B)},showMask:function(B){var C=function(){this.content.position($merge({relativeTo:this.element},this.options.containerPosition))}.bind(this);if(B){this.parent();C()}else{this.element.setStyles({display:"block",opacity:0}).tween("opacity",this.options.style.opacity||0.9);C();this.hidden=false;this.fireEvent("show");this.callChain()}},hide:function(B){if(this.active){return this.chain(this.hide.bind(this))}if(this.hidden){this.callChain.delay(20,this);return this}this.active=true;return this.parent(B)},hideMask:function(B){if(B){return this.parent()}this.element.tween("opacity",0).get("tween").chain(function(){this.element.setStyle("display","none");this.hidden=true;this.fireEvent("hide");this.callChain()}.bind(this))},destroy:function(){this.content.destroy();this.parent();this.target.eliminate("spinner")}});Spinner.implement(new Chain);Request=Class.refactor(Request,{options:{useSpinner:false,spinnerOptions:{},spinnerTarget:false},initialize:function(B){this._send=this.send;this.send=function(C){var D=this.getSpinner();if(D){D.chain(this._send.bind(this,C)).show()}else{this._send(C)}return this};this.previous(B)},getSpinner:function(){if(!this.spinner){var B=document.id(this.options.spinnerTarget)||document.id(this.options.update);if(this.options.useSpinner&&B){this.spinner=B.get("spinner",this.options.spinnerOptions);["onComplete","onException","onCancel"].each(function(C){this.addEvent(C,this.spinner.hide.bind(this.spinner))},this)}}return this.spinner}});Element.Properties.spinner={set:function(B){var C=this.retrieve("spinner");return this.eliminate("spinner").store("spinner:options",B)},get:function(B){if(B||!this.retrieve("spinner")){if(this.retrieve("spinner")){this.retrieve("spinner").destroy()}if(B||!this.retrieve("spinner:options")){this.set("spinner",B)}new Spinner(this,this.retrieve("spinner:options"))}return this.retrieve("spinner")}};Element.implement({spin:function(B){this.get("spinner",B).show();return this},unspin:function(){var B=Array.link(arguments,{options:Object.type,callback:Function.type});this.get("spinner",B.options).hide(B.callback);return this}});MooTools.lang.set("en-US","Date",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dateOrder:["month","date","year"],shortDate:"%m/%d/%Y",shortTime:"%I:%M%p",AM:"AM",PM:"PM",ordinal:function(B){return(B>3&&B<21)?"th":["th","st","nd","rd","th"][Math.min(B%10,4)]},lessThanMinuteAgo:"less than a minute ago",minuteAgo:"about a minute ago",minutesAgo:"{delta} minutes ago",hourAgo:"about an hour ago",hoursAgo:"about {delta} hours ago",dayAgo:"1 day ago",daysAgo:"{delta} days ago",weekAgo:"1 week ago",weeksAgo:"{delta} weeks ago",monthAgo:"1 month ago",monthsAgo:"{delta} months ago",yearAgo:"1 year ago",yearsAgo:"{delta} years ago",lessThanMinuteUntil:"less than a minute from now",minuteUntil:"about a minute from now",minutesUntil:"{delta} minutes from now",hourUntil:"about an hour from now",hoursUntil:"about {delta} hours from now",dayUntil:"1 day from now",daysUntil:"{delta} days from now",weekUntil:"1 week from now",weeksUntil:"{delta} weeks from now",monthUntil:"1 month from now",monthsUntil:"{delta} months from now",yearUntil:"1 year from now",yearsUntil:"{delta} years from now"});MooTools.lang.set("en-US","Form.Validator",{required:"This field is required.",minLength:"Please enter at least {minLength} characters (you entered {length} characters).",maxLength:"Please enter no more than {maxLength} characters (you entered {length} characters).",integer:"Please enter an integer in this field. Numbers with decimals (e.g. 1.25) are not permitted.",numeric:'Please enter only numeric values in this field (i.e. "1" or "1.1" or "-1" or "-1.1").',digits:"Please use numbers and punctuation only in this field (for example, a phone number with dashes or dots is permitted).",alpha:"Please use only letters (a-z) within this field. No spaces or other characters are allowed.",alphanum:"Please use only letters (a-z) or numbers (0-9) in this field. No spaces or other characters are allowed.",dateSuchAs:"Please enter a valid date such as {date}",dateInFormatMDY:'Please enter a valid date such as MM/DD/YYYY (i.e. "12/31/1999")',email:'Please enter a valid email address. For example "fred@domain.com".',url:"Please enter a valid URL such as http://www.google.com.",currencyDollar:"Please enter a valid $ amount. For example $100.00 .",oneRequired:"Please enter something for at least one of these inputs.",errorPrefix:"Error: ",warningPrefix:"Warning: ",noSpace:"There can be no spaces in this input.",reqChkByNode:"No items are selected.",requiredChk:"This field is required.",reqChkByName:"Please select a {label}.",match:"This field needs to match the {matchName} field",startDate:"the start date",endDate:"the end date",currendDate:"the current date",afterDate:"The date should be the same or after {label}.",beforeDate:"The date should be the same or before {label}.",startMonth:"Please select a start month",sameMonth:"These two dates must be in the same month - you must change one or the other.",creditcard:"The credit card number entered is invalid. Please check the number and try again. {length} digits entered."});MooTools.lang.set("ca-CA","Date",{months:["Gener","Febrer","Mar","Abril","Maig","Juny","Juli","Agost","Setembre","Octubre","Novembre","Desembre"],days:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],dateOrder:["date","month","year"],shortDate:"%d/%m/%Y",shortTime:"%H:%M",AM:"AM",PM:"PM",ordinal:"",lessThanMinuteAgo:"fa menys d`un minut",minuteAgo:"fa un minut",minutesAgo:"fa {delta} minuts",hourAgo:"fa un hora",hoursAgo:"fa unes {delta} hores",dayAgo:"fa un dia",daysAgo:"fa {delta} dies",lessThanMinuteUntil:"menys d`un minut des d`ara",minuteUntil:"un minut des d`ara",minutesUntil:"{delta} minuts des d`ara",hourUntil:"un hora des d`ara",hoursUntil:"unes {delta} hores des d`ara",dayUntil:"1 dia des d`ara",daysUntil:"{delta} dies des d`ara"});(function(){var B=function(F,E,D,C){if(F==1){return E}else{if(F==2||F==3||F==4){return D}else{return C}}};MooTools.lang.set("cs-CZ","Date",{months:["Leden","nor","Bezen","Duben","Kvten","erven","ervenec","Srpen","Z","jen","Listopad","Prosinec"],days:["Nedle","Pondl","ter","Steda","tvrtek","Ptek","Sobota"],dateOrder:["date","month","year"],shortDate:"%d.%m.%Y",shortTime:"%H:%M",AM:"dop.",PM:"odp.",ordinal:".",lessThanMinuteAgo:"ped chvl",minuteAgo:"piblin ped minutou",minutesAgo:function(C){return"ped {delta} "+B(C,"minutou","minutami","minutami")},hourAgo:"piblin ped hodinou",hoursAgo:function(C){return"ped {delta} "+B(C,"hodinou","hodinami","hodinami")},dayAgo:"ped dnem",daysAgo:function(C){return"ped {delta} "+B(C,"dnem","dny","dny")},weekAgo:"ped tdnem",weeksAgo:function(C){return"ped {delta} "+B(C,"tdnem","tdny","tdny")},monthAgo:"ped mscem",monthsAgo:function(C){return"ped {delta} "+B(C,"mscem","msci","msci")},yearAgo:"ped rokem",yearsAgo:function(C){return"ped {delta} "+B(C,"rokem","lety","lety")},lessThanMinuteUntil:"za chvli",minuteUntil:"piblin za minutu",minutesUntil:function(C){return"za {delta} "+B(C,"minutu","minuty","minut")},hourUntil:"piblin za hodinu",hoursUntil:function(C){return"za {delta} "+B(C,"hodinu","hodiny","hodin")},dayUntil:"za den",daysUntil:function(C){return"za {delta} "+B(C,"den","dny","dn")},weekUntil:"za tden",weeksUntil:function(C){return"za {delta} "+B(C,"tden","tdny","tdn")},monthUntil:"za msc",monthsUntil:function(C){return"za {delta} "+B(C,"msc","msce","msc")},yearUntil:"za rok",yearsUntil:function(C){return"za {delta} "+B(C,"rok","roky","let")}})})();MooTools.lang.set("da-DK","Date",{months:["Januar","Februa","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],days:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],dateOrder:["date","month","year"],shortDate:"%d-%m-%Y",shortTime:"%H:%M",AM:"AM",PM:"PM",ordinal:".",lessThanMinuteAgo:"mindre end et minut siden",minuteAgo:"omkring et minut siden",minutesAgo:"{delta} minutter siden",hourAgo:"omkring en time siden",hoursAgo:"omkring {delta} timer siden",dayAgo:"1 dag siden",daysAgo:"{delta} dage siden",weekAgo:"1 uge siden",weeksAgo:"{delta} uger siden",monthAgo:"1 mned siden",monthsAgo:"{delta} mneder siden",yearAgo:"1 r siden",yearsAgo:"{delta} r siden",lessThanMinuteUntil:"mindre end et minut fra nu",minuteUntil:"omkring et minut fra nu",minutesUntil:"{delta} minutter fra nu",hourUntil:"omkring en time fra nu",hoursUntil:"omkring {delta} timer fra nu",dayUntil:"1 dag fra nu",daysUntil:"{delta} dage fra nu",weekUntil:"1 uge fra nu",weeksUntil:"{delta} uger fra nu",monthUntil:"1 mned fra nu",monthsUntil:"{delta} mneder fra nu",yearUntil:"1 r fra nu",yearsUntil:"{delta} r fra nu"});MooTools.lang.set("nl-NL","Date",{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dateOrder:["date","month","year"],shortDate:"%d-%m-%Y",shortTime:"%H:%M",AM:"AM",PM:"PM",ordinal:"e",lessThanMinuteAgo:"minder dan een minuut geleden",minuteAgo:"ongeveer een minuut geleden",minutesAgo:"{delta} minuten geleden",hourAgo:"ongeveer een uur geleden",hoursAgo:"ongeveer {delta} uur geleden",dayAgo:"een dag geleden",daysAgo:"{delta} dagen geleden",weekAgo:"een week geleden",weeksAgo:"{delta} weken geleden",monthAgo:"een maand geleden",monthsAgo:"{delta} maanden geleden",yearAgo:"een jaar geleden",yearsAgo:"{delta} jaar geleden",lessThanMinuteUntil:"over minder dan een minuut",minuteUntil:"over ongeveer een minuut",minutesUntil:"over {delta} minuten",hourUntil:"over ongeveer een uur",hoursUntil:"over {delta} uur",dayUntil:"over ongeveer een dag",daysUntil:"over {delta} dagen",weekUntil:"over een week",weeksUntil:"over {delta} weken",monthUntil:"over een maand",monthsUntil:"over {delta} maanden",yearUntil:"over een jaar",yearsUntil:"over {delta} jaar"});MooTools.lang.set("en-GB","Date",{dateOrder:["date","month","year"],shortDate:"%d/%m/%Y",shortTime:"%H:%M"}).set("cascade",["en-US"]);MooTools.lang.set("et-EE","Date",{months:["jaanuar","veebruar","mrts","aprill","mai","juuni","juuli","august","september","oktoober","november","detsember"],days:["phapev","esmaspev","teisipev","kolmapev","neljapev","reede","laupev"],dateOrder:["month","date","year"],shortDate:"%m.%d.%Y",shortTime:"%H:%M",AM:"AM",PM:"PM",ordinal:"",lessThanMinuteAgo:"vhem kui minut aega tagasi",minuteAgo:"umbes minut aega tagasi",minutesAgo:"{delta} minutit tagasi",hourAgo:"umbes tund aega tagasi",hoursAgo:"umbes {delta} tundi tagasi",dayAgo:"1 pev tagasi",daysAgo:"{delta} peva tagasi",weekAgo:"1 ndal tagasi",weeksAgo:"{delta} ndalat tagasi",monthAgo:"1 kuu tagasi",monthsAgo:"{delta} kuud tagasi",yearAgo:"1 aasta tagasi",yearsAgo:"{delta} aastat tagasi",lessThanMinuteUntil:"vhem kui minuti aja prast",minuteUntil:"umbes minuti aja prast",minutesUntil:"{delta} minuti prast",hourUntil:"umbes tunni aja prast",hoursUntil:"umbes {delta} tunni prast",dayUntil:"1 peva prast",daysUntil:"{delta} peva prast",weekUntil:"1 ndala prast",weeksUntil:"{delta} ndala prast",monthUntil:"1 kuu prast",monthsUntil:"{delta} kuu prast",yearUntil:"1 aasta prast",yearsUntil:"{delta} aasta prast"});MooTools.lang.set("de-DE","Date",{months:["Januar","Februar","M&auml;rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dateOrder:["date","month","year"],shortDate:"%d.%m.%Y",shortTime:"%H:%M",AM:"vormittags",PM:"nachmittags",ordinal:".",lessThanMinuteAgo:"Vor weniger als einer Minute",minuteAgo:"Vor einer Minute",minutesAgo:"Vor {delta} Minuten",hourAgo:"Vor einer Stunde",hoursAgo:"Vor {delta} Stunden",dayAgo:"Vor einem Tag",daysAgo:"Vor {delta} Tagen",weekAgo:"Vor einer Woche",weeksAgo:"Vor {delta} Wochen",monthAgo:"Vor einem Monat",monthsAgo:"Vor {delta} Monaten",yearAgo:"Vor einem Jahr",yearsAgo:"Vor {delta} Jahren",lessThanMinuteUntil:"In weniger als einer Minute",minuteUntil:"In einer Minute",minutesUntil:"In {delta} Minuten",hourUntil:"In ca. einer Stunde",hoursUntil:"In ca. {delta} Stunden",dayUntil:"In einem Tag",daysUntil:"In {delta} Tagen",weekUntil:"In einer Woche",weeksUntil:"In {delta} Wochen",monthUntil:"In einem Monat",monthsUntil:"In {delta} Monaten",yearUntil:"In einem Jahr",yearsUntil:"In {delta} Jahren"});MooTools.lang.set("de-CH","cascade",["de-DE"]);MooTools.lang.set("fr-FR","Date",{months:["Janvier","F&eacute;vrier","Mars","Avril","Mai","Juin","Juillet","Ao&ucirc;t","Septembre","Octobre","Novembre","D&eacute;cembre"],days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dateOrder:["date","month","year"],shortDate:"%d/%m/%Y",shortTime:"%H:%M",AM:"AM",PM:"PM",ordinal:function(B){return(B>1)?"":"er"},lessThanMinuteAgo:"il y a moins d'une minute",minuteAgo:"il y a une minute",minutesAgo:"il y a {delta} minutes",hourAgo:"il y a une heure",hoursAgo:"il y a {delta} heures",dayAgo:"il y a un jour",daysAgo:"il y a {delta} jours",weekAgo:"il y a une semaine",weeksAgo:"il y a {delta} semaines",monthAgo:"il y a 1 mois",monthsAgo:"il y a {delta} mois",yearthAgo:"il y a 1 an",yearsAgo:"il y a {delta} ans",lessThanMinuteUntil:"dans moins d'une minute",minuteUntil:"dans une minute",minutesUntil:"dans {delta} minutes",hourUntil:"dans une heure",hoursUntil:"dans {delta} heures",dayUntil:"dans un jour",daysUntil:"dans {delta} jours",weekUntil:"dans 1 semaine",weeksUntil:"dans {delta} semaines",monthUntil:"dans 1 mois",monthsUntil:"dans {delta} mois",yearUntil:"dans 1 an",yearsUntil:"dans {delta} ans"});MooTools.lang.set("it-IT","Date",{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],days:["Domenica","Luned&igrave;","Marted&igrave;","Mercoled&igrave;","Gioved&igrave;","Venerd&igrave;","Sabato"],dateOrder:["date","month","year"],shortDate:"%d/%m/%Y",shortTime:"%H.%M",AM:"AM",PM:"PM",ordinal:"&ordm;",lessThanMinuteAgo:"meno di un minuto fa",minuteAgo:"circa un minuto fa",minutesAgo:"circa {delta} minuti fa",hourAgo:"circa un'ora fa",hoursAgo:"circa {delta} ore fa",dayAgo:"circa 1 giorno fa",daysAgo:"circa {delta} giorni fa",lessThanMinuteUntil:"tra meno di un minuto",minuteUntil:"tra circa un minuto",minutesUntil:"tra circa {delta} minuti",hourUntil:"tra circa un'ora",hoursUntil:"tra circa {delta} ore",dayUntil:"tra circa un giorno",daysUntil:"tra circa {delta} giorni"});MooTools.lang.set("no-NO","Date",{dateOrder:["date","month","year"],shortDate:"%d.%m.%Y",shortTime:"%H:%M",AM:"AM",PM:"PM",lessThanMinuteAgo:"kortere enn et minutt siden",minuteAgo:"omtrent et minutt siden",minutesAgo:"{delta} minutter siden",hourAgo:"omtrent en time siden",hoursAgo:"omtrent {delta} timer siden",dayAgo:"{delta} dag siden",daysAgo:"{delta} dager siden"});MooTools.lang.set("pl-PL","Date",{months:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],days:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],dateOrder:["year","month","date"],shortDate:"%Y-%m-%d",shortTime:"%H:%M",AM:"nad ranem",PM:"po poudniu",ordinal:function(B){return(B>3&&B<21)?"ty":["ty","szy","gi","ci","ty"][Math.min(B%10,4)]},lessThanMinuteAgo:"mniej ni minute temu",minuteAgo:"okoo minut temu",minutesAgo:"{delta} minut temu",hourAgo:"okoo godzin temu",hoursAgo:"okoo {delta} godzin temu",dayAgo:"Wczoraj",daysAgo:"{delta} dni temu",lessThanMinuteUntil:"za nieca minut",minuteUntil:"za okoo minut",minutesUntil:"za {delta} minut",hourUntil:"za okoo godzin",hoursUntil:"za okoo {delta} godzin",dayUntil:"za 1 dzie",daysUntil:"za {delta} dni"});MooTools.lang.set("pt-BR","Date",{months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],days:["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"],dateOrder:["date","month","year"],shortDate:"%d/%m/%Y",shortTime:"%H:%M",AM:"AM",PM:"PM",ordinal:"&ordm;",lessThanMinuteAgo:"h menos de um minuto",minuteAgo:"h cerca de um minuto",minutesAgo:"h {delta} minutos",hourAgo:"h cerca de uma hora",hoursAgo:"h cerca de {delta} horas",dayAgo:"h um dia",daysAgo:"h {delta} dias",weekAgo:"h uma semana",weeksAgo:"h {delta} semanas",monthAgo:"h um ms",monthsAgo:"h {delta} meses",yearAgo:"h um ano",yearsAgo:"h {delta} anos",lessThanMinuteUntil:"em menos de um minuto",minuteUntil:"em um minuto",minutesUntil:"em {delta} minutos",hourUntil:"em uma hora",hoursUntil:"em {delta} horas",dayUntil:"em um dia",daysUntil:"em {delta} dias",weekUntil:"em uma semana",weeksUntil:"em {delta} semanas",monthUntil:"em um ms",monthsUntil:"em {delta} meses",yearUntil:"em um ano",yearsUntil:"em {delta} anos"});(function(){var B=function(I,F,E,H,C){var D=I%10,G=I%100;if(D==1&&G!=11){return F}else{if((D==2||D==3||D==4)&&!(G==12||G==13||G==14)){return E}else{if(D==0||(D==5||D==6||D==7||D==8||D==9)||(G==11||G==12||G==13||G==14)){return H}else{return C}}}};MooTools.lang.set("ru-RU-unicode","Date",{months:["","","","","","","","","","","",""],days:["","","","","","",""],dateOrder:["date","month","year"],shortDate:"%d.%m.%Y",shortTime:"%H:%M",AM:"AM",PM:"PM",ordinal:"",lessThanMinuteAgo:"  ",minuteAgo:" ",minutesAgo:function(C){return"{delta} "+B(C,"","","")+" "},hourAgo:" ",hoursAgo:function(C){return"{delta} "+B(C,"","","")+" "},dayAgo:"",daysAgo:function(C){return"{delta} "+B(C,"","","")+" "},lessThanMinuteUntil:"  ",minuteUntil:" ",minutesUntil:function(C){return" {delta} "+B(C,"","","")+""},hourUntil:" ",hoursUntil:function(C){return" {delta} "+B(C,"","","")+""},dayUntil:"",daysUntil:function(C){return" {delta} "+B(C,"","","")+""}})})();MooTools.lang.set("es-ES","Date",{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],days:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],dateOrder:["date","month","year"],shortDate:"%d/%m/%Y",shortTime:"%H:%M",AM:"AM",PM:"PM",ordinal:"",lessThanMinuteAgo:"hace menos de un minuto",minuteAgo:"hace un minuto",minutesAgo:"hace {delta} minutos",hourAgo:"hace una hora",hoursAgo:"hace unas {delta} horas",dayAgo:"hace un da",daysAgo:"hace {delta} das",weekAgo:"hace una semana",weeksAgo:"hace unas {delta} semanas",monthAgo:"hace un mes",monthsAgo:"hace {delta} meses",yearAgo:"hace un ao",yearsAgo:"hace {delta} aos",lessThanMinuteUntil:"menos de un minuto desde ahora",minuteUntil:"un minuto desde ahora",minutesUntil:"{delta} minutos desde ahora",hourUntil:"una hora desde ahora",hoursUntil:"unas {delta} horas desde ahora",dayUntil:"un da desde ahora",daysUntil:"{delta} das desde ahora",weekUntil:"una semana desde ahora",weeksUntil:"unas {delta} semanas desde ahora",monthUntil:"un mes desde ahora",monthsUntil:"{delta} meses desde ahora",yearUntil:"un ao desde ahora",yearsUntil:"{delta} aos desde ahora"});MooTools.lang.set("sv-SE","Date",{months:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],days:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"],dateOrder:["year","month","date"],shortDate:"%Y-%m-%d",shortTime:"%H:%M",AM:"",PM:"",ordinal:"",lessThanMinuteAgo:"mindre n en minut sedan",minuteAgo:"ungefr en minut sedan",minutesAgo:"{delta} minuter sedan",hourAgo:"ungefr en timme sedan",hoursAgo:"ungefr {delta} timmar sedan",dayAgo:"1 dag sedan",daysAgo:"{delta} dagar sedan",lessThanMinuteUntil:"mindre n en minut sedan",minuteUntil:"ungefr en minut sedan",minutesUntil:"{delta} minuter sedan",hourUntil:"ungefr en timme sedan",hoursUntil:"ungefr {delta} timmar sedan",dayUntil:"1 dag sedan",daysUntil:"{delta} dagar sedan"});(function(){var B=function(J,E,D,I,C){var H=(J/10).toInt(),G=J%10,F=(J/100).toInt();if(H==1&&J>10){return I}if(G==1){return E}if(G>0&&G<5){return D}return I};MooTools.lang.set("uk-UA","Date",{months:["","","","","","","","","","","",""],days:["","","","","","'",""],dateOrder:["date","month","year"],shortDate:"%d/%m/%Y",shortTime:"%H:%M",AM:" ",PM:" ",ordinal:"",lessThanMinuteAgo:"  ",minuteAgo:" ",minutesAgo:function(C){return"{delta} "+B(C,"","","")+" "},hourAgo:" ",hoursAgo:function(C){return"{delta} "+B(C,"","","")+" "},dayAgo:"",daysAgo:function(C){return"{delta} "+B(C,"","","")+" "},weekAgo:" ",weeksAgo:function(C){return"{delta} "+B(C,"","","")+" "},monthAgo:" ",monthsAgo:function(C){return"{delta} "+B(C,"","","")+" "},yearAgo:" ",yearsAgo:function(C){return"{delta} "+B(C,"","","")+" "},lessThanMinuteUntil:" ",minuteUntil:" ",minutesUntil:function(C){return" {delta} "+B(C,"","","")},hourUntil:" ",hoursUntil:function(C){return" {delta} "+B(C,"","","")},dayUntil:"",daysUntil:function(C){return" {delta} "+B(C,"","","")},weekUntil:" ",weeksUntil:function(C){return" {delta} "+B(C,"","","")},monthUntil:" ",monthesUntil:function(C){return" {delta} "+B(C,"","","")},yearUntil:" ",yearsUntil:function(C){return" {delta} "+B(C,"","","")}})})();MooTools.lang.set("ar","Form.Validator",{required:"  .",minLength:"  {minLength}     (  {length} ).",maxLength:"     {maxLength}  (  {length} ).",integer:"      .        ( 1.25 )  .",numeric:'       ( "1"  "1.1"  "-1"  "-1.1").',digits:"          (,      )",alpha:"    (-)   .      .",alphanum:"    (-)   (0-9)    .      .",dateSuchAs:"     {date}",dateInFormatMDY:"    (, 31-12-1999)",email:"    .",url:"      http://www.google.com",currencyDollar:"   $ .  , 100.00$",oneRequired:"        .",errorPrefix:": ",warningPrefix:": "});MooTools.lang.set("ca-CA","Form.Validator",{required:"Aquest camp es obligatori.",minLength:"Per favor introdueix al menys {minLength} caracters (has introduit {length} caracters).",maxLength:"Per favor introdueix no mes de {maxLength} caracters (has introduit {length} caracters).",integer:"Per favor introdueix un nombre enter en aquest camp. Nombres amb decimals (p.e. 1,25) no estan permesos.",numeric:'Per favor introdueix sols valors numerics en aquest camp (p.e. "1" o "1,1" o "-1" o "-1,1").',digits:"Per favor usa sols numeros i puntuacio en aquest camp (per exemple, un nombre de telefon amb guions i punts no esta permes).",alpha:"Per favor utilitza lletres nomes (a-z) en aquest camp. No sadmiteixen espais ni altres caracters.",alphanum:"Per favor, utilitza nomes lletres (a-z) o numeros (0-9) en aquest camp. No sadmiteixen espais ni altres caracters.",dateSuchAs:"Per favor introdueix una data valida com {date}",dateInFormatMDY:'Per favor introdueix una data valida com DD/MM/YYYY (p.e. "31/12/1999")',email:'Per favor, introdueix una adrea de correu electronic valida. Per exemple,  "fred@domain.com".',url:"Per favor introdueix una URL valida com http://www.google.com.",currencyDollar:"Per favor introdueix una quantitat valida de . Per exemple 100,00 .",oneRequired:"Per favor introdueix alguna cosa per al menys una daquestes entrades.",errorPrefix:"Error: ",warningPrefix:"Avis: ",noSpace:"No poden haver espais en aquesta entrada.",reqChkByNode:"No hi han elements seleccionats.",requiredChk:"Aquest camp es obligatori.",reqChkByName:"Per favor selecciona una {label}.",match:"Aquest camp necessita coincidir amb el camp {matchName}",startDate:"la data de inici",endDate:"la data de fi",currendDate:"la data actual",afterDate:"La data deu ser igual o posterior a {label}.",beforeDate:"La data deu ser igual o anterior a {label}.",startMonth:"Per favor selecciona un mes dorige",sameMonth:"Aquestes dos dates deuen estar dins del mateix mes - deus canviar una o altra."});MooTools.lang.set("cs-CZ","Form.Validator",{required:"Tato poloka je povinn.",minLength:"Zadejte prosm alespo {minLength} znak (napsno {length} znak).",maxLength:"Zadejte prosm mn ne {maxLength} znak (npsno {length} znak).",integer:"Zadejte prosm cel slo. Desetinn sla (nap. 1.25) nejsou povolena.",numeric:'Zadejte jen seln hodnoty  (tj. "1" nebo "1.1" nebo "-1" nebo "-1.1").',digits:"Zadejte prosm pouze sla a interpunkn znamnka(napklad telefonn slo s pomlkami nebo tekami je povoleno).",alpha:"Zadejte prosm pouze psmena (a-z). Mezery nebo jin znaky nejsou povoleny.",alphanum:"Zadejte prosm pouze psmena (a-z) nebo slice (0-9). Mezery nebo jin znaky nejsou povoleny.",dateSuchAs:"Zadejte prosm platn datum jako {date}",dateInFormatMDY:'Zadejte prosm platn datum jako MM / DD / RRRR (tj. "12/31/1999")',email:'Zadejte prosm platnou e-mailovou adresu. Napklad "fred@domain.com".',url:"Zadejte prosm platnou URL adresu jako http://www.google.com.",currencyDollar:"Zadejte prosm platnou stku. Napklad $100.00.",oneRequired:"Zadejte prosm alespo jednu hodnotu pro tyto poloky.",errorPrefix:"Chyba: ",warningPrefix:"Upozornn: ",noSpace:"V tto poloce nejsou povoleny mezery",reqChkByNode:"Nejsou vybrny dn poloky.",requiredChk:"Tato poloka je vyadovna.",reqChkByName:"Prosm vyberte {label}.",match:"Tato poloka se mus shodovat s polokou {matchName}",startDate:"datum zahjen",endDate:"datum ukonen",currendDate:"aktuln datum",afterDate:"Datum by mlo bt stejn nebo vt ne {label}.",beforeDate:"Datum by mlo bt stejn nebo men ne {label}.",startMonth:"Vyberte poten msc.",sameMonth:"Tyto dva datumy mus bt ve stejnm msci - zmte jeden z nich.",creditcard:"Zadan slo kreditn karty je neplatn. Prosm opravte ho. Bylo zadno {length} sel."});MooTools.lang.set("zh-CHS","Form.Validator",{required:"",minLength:" {minLength}  ( {length} )",maxLength:" {maxLength}  ( {length} )",integer:'"1", "200"',numeric:'"1", "1.1", "-1", "-1.1"',digits:"",alpha:" A-Z  26 ",alphanum:" A-Z  26  0-9  10 ",dateSuchAs:"{date}",dateInFormatMDY:'YYYY-MM-DD ("2010-12-31")',email:'"fred@domain.com"',url:" Url http://www.google.com",currencyDollar:"100.0",oneRequired:"",errorPrefix:"",warningPrefix:"",noSpace:"",reqChkByNode:"",requiredChk:"",reqChkByName:" {label}.",match:"{matchName}",startDate:"",endDate:"",currendDate:"",afterDate:" {label}.",beforeDate:" {label}.",startMonth:"",sameMonth:"",creditcard:"{length}"});MooTools.lang.set("zh-CHT","Form.Validator",{required:" ",minLength:"{minLength} ({length} ) ",maxLength:"{maxLength} ({length} ) ",integer:'"1", "200" ',numeric:'"1", "1.1", "-1", "-1.1" ',digits:" ",alpha:"AZ 26  ",alphanum:"AZ 26 0-9 10  ",dateSuchAs:"{date} ",dateInFormatMDY:'YYYY-MM-DD ("2010-12-31") ',email:'"fred@domain.com" ',url:"Url http://www.google.com ",currencyDollar:"100.0",oneRequired:" ",errorPrefix:"",warningPrefix:"",noSpace:" ",reqChkByNode:" ",requiredChk:" ",reqChkByName:" {label}.",match:"{matchName}",startDate:"",endDate:"",currendDate:"",afterDate:"{label}.",beforeDate:"{label}.",startMonth:"",sameMonth:" ",creditcard:"{length} "});Form.Validator.add("validate-currency-yuan",{errorMsg:function(){return Form.Validator.getMsg("currencyYuan")},test:function(B){return Form.Validator.getValidator("IsEmpty").test(B)||(/^?\-?([1-9]{1}[0-9]{0,2}(\,[0-9]{3})*(\.[0-9]{0,2})?|[1-9]{1}\d*(\.[0-9]{0,2})?|0(\.[0-9]{0,2})?|(\.[0-9]{1,2})?)$/).test(B.get("value"))}});MooTools.lang.set("nl-NL","Form.Validator",{required:"Dit veld is verplicht.",minLength:"Vul minimaal {minLength} karakters in (je hebt {length} karakters ingevoerd).",maxLength:"Vul niet meer dan {maxLength} karakters in (je hebt {length} karakters ingevoerd).",integer:"Vul een getal in. Getallen met decimalen (bijvoorbeeld 1.25) zijn niet toegestaan.",numeric:'Vul alleen numerieke waarden in (bijvoorbeeld "1" of "1.1" of "-1" of "-1.1").',digits:"Vul alleen nummers en leestekens in (bijvoorbeeld een telefoonnummer met streepjes is toegestaan).",alpha:"Vul alleen letters in (a-z). Spaties en andere karakters zijn niet toegestaan.",alphanum:"Vul alleen letters (a-z) of nummers (0-9) in. Spaties en andere karakters zijn niet toegestaan.",dateSuchAs:"Vul een geldige datum in, zoals {date}",dateInFormatMDY:'Vul een geldige datum, in het formaat MM/DD/YYYY (bijvoorbeeld "12/31/1999")',email:'Vul een geldig e-mailadres in. Bijvoorbeeld "fred@domein.nl".',url:"Vul een geldige URL in, zoals http://www.google.nl.",currencyDollar:"Vul een geldig $ bedrag in. Bijvoorbeeld $100.00 .",oneRequired:"Vul iets in bij in ieder geval een van deze velden.",warningPrefix:"Waarschuwing: ",errorPrefix:"Fout: ",noSpace:"Spaties zijn niet toegestaan in dit veld.",reqChkByNode:"Er zijn geen items geselecteerd.",requiredChk:"Dit veld is verplicht.",reqChkByName:"Selecteer een {label}.",match:"Dit veld moet overeen komen met het {matchName} veld",startDate:"de begin datum",endDate:"de eind datum",currendDate:"de huidige datum",afterDate:"De datum moet hetzelfde of na {label} zijn.",beforeDate:"De datum moet hetzelfde of voor {label} zijn.",startMonth:"Selecteer een begin maand",sameMonth:"Deze twee data moeten in dezelfde maand zijn - u moet een van beide aanpassen.",creditcard:"Het ingevulde creditcard nummer is niet geldig. Controleer het nummer en probeer opnieuw. {length} getallen ingevuld."});MooTools.lang.set("et-EE","Form.Validator",{required:"Vli peab olema tidetud.",minLength:"Palun sisestage vhemalt {minLength} thte (te sisestasite {length} thte).",maxLength:"Palun rge sisestage rohkem kui {maxLength} thte (te sisestasite {length} thte).",integer:"Palun sisestage vljale tisarv. Kmnendarvud (niteks 1.25) ei ole lubatud.",numeric:'Palun sisestage ainult numbreid vljale (niteks "1", "1.1", "-1" vi "-1.1").',digits:"Palun kasutage ainult numbreid ja kirjavahemrke (telefoninumbri sisestamisel on lubatud kasutada kriipse ja punkte).",alpha:"Palun kasutage ainult thti (a-z). Thikud ja teised smbolid on keelatud.",alphanum:"Palun kasutage ainult thti (a-z) vi numbreid (0-9). Thikud ja teised smbolid on keelatud.",dateSuchAs:"Palun sisestage kehtiv kuupev kujul {date}",dateInFormatMDY:'Palun sisestage kehtiv kuupev kujul MM.DD.YYYY (niteks: "12.31.1999").',email:'Palun sisestage kehtiv e-maili aadress (niteks: "fred@domain.com").',url:"Palun sisestage kehtiv URL (niteks: http://www.google.com).",currencyDollar:"Palun sisestage kehtiv $ summa (niteks: $100.00).",oneRequired:"Palun sisestage midagi vhemalt hele antud vljadest.",errorPrefix:"Viga: ",warningPrefix:"Hoiatus: ",noSpace:"Vli ei tohi sisaldada thikuid.",reqChkByNode:"kski vljadest pole valitud.",requiredChk:"Vlja titmine on vajalik.",reqChkByName:"Palun valige ks {label}.",match:"Vli peab sobima {matchName} vljaga",startDate:"algkuupev",endDate:"lppkuupev",currendDate:"praegune kuupev",afterDate:"Kuupev peab olema vrdne vi prast {label}.",beforeDate:"Kuupev peab olema vrdne vi enne {label}.",startMonth:"Palun valige algkuupev.",sameMonth:"Antud kaks kuupeva peavad olema samas kuus - peate muutma hte kuupeva."});MooTools.lang.set("de-DE","Form.Validator",{required:"Dieses Eingabefeld muss ausgef&uuml;llt werden.",minLength:"Geben Sie bitte mindestens {minLength} Zeichen ein (Sie haben nur {length} Zeichen eingegeben).",maxLength:"Geben Sie bitte nicht mehr als {maxLength} Zeichen ein (Sie haben {length} Zeichen eingegeben).",integer:"Geben Sie in diesem Eingabefeld bitte eine ganze Zahl ein. Dezimalzahlen (z.B. &quot;1.25&quot;) sind nicht erlaubt.",numeric:"Geben Sie in diesem Eingabefeld bitte nur Zahlenwerte (z.B. &quot;1&quot;, &quot;1.1&quot;, &quot;-1&quot; oder &quot;-1.1&quot;) ein.",digits:"Geben Sie in diesem Eingabefeld bitte nur Zahlen und Satzzeichen ein (z.B. eine Telefonnummer mit Bindestrichen und Punkten ist erlaubt).",alpha:"Geben Sie in diesem Eingabefeld bitte nur Buchstaben (a-z) ein. Leerzeichen und andere Zeichen sind nicht erlaubt.",alphanum:"Geben Sie in diesem Eingabefeld bitte nur Buchstaben (a-z) und Zahlen (0-9) ein. Leerzeichen oder andere Zeichen sind nicht erlaubt.",dateSuchAs:"Geben Sie bitte ein g&uuml;ltiges Datum ein (z.B. &quot;{date}&quot;).",dateInFormatMDY:"Geben Sie bitte ein g&uuml;ltiges Datum im Format TT.MM.JJJJ ein (z.B. &quot;31.12.1999&quot;).",email:"Geben Sie bitte eine g&uuml;ltige E-Mail-Adresse ein (z.B. &quot;max@mustermann.de&quot;).",url:"Geben Sie bitte eine g&uuml;ltige URL ein (z.B. &quot;http://www.google.de&quot;).",currencyDollar:"Geben Sie bitte einen g&uuml;ltigen Betrag in EURO ein (z.B. 100.00&#8364;).",oneRequired:"Bitte f&uuml;llen Sie mindestens ein Eingabefeld aus.",errorPrefix:"Fehler: ",warningPrefix:"Warnung: ",noSpace:"Es darf kein Leerzeichen in diesem Eingabefeld sein.",reqChkByNode:"Es wurden keine Elemente gew&auml;hlt.",requiredChk:"Dieses Feld muss ausgef&uuml;llt werden.",reqChkByName:"Bitte w&auml;hlen Sie ein {label}.",match:"Dieses Eingabefeld muss mit dem {matchName} Eingabefeld &uuml;bereinstimmen.",startDate:"Das Anfangsdatum",endDate:"Das Enddatum",currendDate:"Das aktuelle Datum",afterDate:"Das Datum sollte zur gleichen Zeit oder sp&auml;ter sein als {label}.",beforeDate:"Das Datum sollte zur gleichen Zeit oder fr&uuml;her sein als {label}.",startMonth:"W&auml;hlen Sie bitte einen Anfangsmonat",sameMonth:"Diese zwei Datumsangaben m&uuml;ssen im selben Monat sein - Sie m&uuml;ssen eines von beiden ver&auml;ndern.",creditcard:"Die eingegebene Kreditkartennummer ist ung&uuml;ltig. Bitte &uuml;berpr&uuml;fen Sie diese und versuchen Sie es erneut. {length} Zahlen eingegeben."});MooTools.lang.set("de-CH","Form.Validator",{required:"Dieses Feld ist obligatorisch.",minLength:"Geben Sie bitte mindestens {minLength} Zeichen ein (Sie haben {length} Zeichen eingegeben).",maxLength:"Bitte geben Sie nicht mehr als {maxLength} Zeichen ein (Sie haben {length} Zeichen eingegeben).",integer:"Geben Sie bitte eine ganze Zahl ein. Dezimalzahlen (z.B. 1.25) sind nicht erlaubt.",numeric:"Geben Sie bitte nur Zahlenwerte in dieses Eingabefeld ein (z.B. &quot;1&quot;, &quot;1.1&quot;, &quot;-1&quot; oder &quot;-1.1&quot;).",digits:"Benutzen Sie bitte nur Zahlen und Satzzeichen in diesem Eingabefeld (erlaubt ist z.B. eine Telefonnummer mit Bindestrichen und Punkten).",alpha:"Benutzen Sie bitte nur Buchstaben (a-z) in diesem Feld. Leerzeichen und andere Zeichen sind nicht erlaubt.",alphanum:"Benutzen Sie bitte nur Buchstaben (a-z) und Zahlen (0-9) in diesem Eingabefeld. Leerzeichen und andere Zeichen sind nicht erlaubt.",dateSuchAs:"Geben Sie bitte ein g&uuml;ltiges Datum ein. Wie zum Beispiel {date}",dateInFormatMDY:"Geben Sie bitte ein g&uuml;ltiges Datum ein. Wie zum Beispiel TT.MM.JJJJ (z.B. &quot;31.12.1999&quot;)",email:"Geben Sie bitte eine g&uuml;ltige E-Mail Adresse ein. Wie zum Beispiel &quot;maria@bernasconi.ch&quot;.",url:"Geben Sie bitte eine g&uuml;ltige URL ein. Wie zum Beispiel http://www.google.ch.",currencyDollar:"Geben Sie bitte einen g&uuml;ltigen Betrag in Schweizer Franken ein. Wie zum Beispiel 100.00 CHF .",oneRequired:"Machen Sie f&uuml;r mindestens eines der Eingabefelder einen Eintrag.",errorPrefix:"Fehler: ",warningPrefix:"Warnung: ",noSpace:"In diesem Eingabefeld darf kein Leerzeichen sein.",reqChkByNode:"Es wurden keine Elemente gew&auml;hlt.",requiredChk:"Dieses Feld ist obligatorisch.",reqChkByName:"Bitte w&auml;hlen Sie ein {label}.",match:"Dieses Eingabefeld muss mit dem Feld {matchName} &uuml;bereinstimmen.",startDate:"Das Anfangsdatum",endDate:"Das Enddatum",currendDate:"Das aktuelle Datum",afterDate:"Das Datum sollte zur gleichen Zeit oder sp&auml;ter sein {label}.",beforeDate:"Das Datum sollte zur gleichen Zeit oder fr&uuml;her sein {label}.",startMonth:"W&auml;hlen Sie bitte einen Anfangsmonat",sameMonth:"Diese zwei Datumsangaben m&uuml;ssen im selben Monat sein - Sie m&uuml;ssen eine von beiden ver&auml;ndern.",creditcard:"Die eingegebene Kreditkartennummer ist ung&uuml;ltig. Bitte &uuml;berpr&uuml;fen Sie diese und versuchen Sie es erneut. {length} Zahlen eingegeben."});MooTools.lang.set("fr-FR","Form.Validator",{required:"Ce champ est obligatoire.",minLength:"Veuillez saisir un minimum de {minLength} caract&egrave;re(s) (vous avez saisi {length} caract&egrave;re(s)).",maxLength:"Veuillez saisir un maximum de {maxLength} caract&egrave;re(s) (vous avez saisi {length} caract&egrave;re(s)).",integer:'Veuillez saisir un nombre entier dans ce champ. Les nombres d&eacute;cimaux (ex : "1,25") ne sont pas autoris&eacute;s.',numeric:'Veuillez saisir uniquement des chiffres dans ce champ (ex : "1" ou "1,1" ou "-1" ou "-1,1").',digits:"Veuillez saisir uniquement des chiffres et des signes de ponctuation dans ce champ (ex : un num&eacute;ro de t&eacute;l&eacute;phone avec des traits d'union est autoris&eacute;).",alpha:"Veuillez saisir uniquement des lettres (a-z) dans ce champ. Les espaces ou autres caract&egrave;res ne sont pas autoris&eacute;s.",alphanum:"Veuillez saisir uniquement des lettres (a-z) ou des chiffres (0-9) dans ce champ. Les espaces ou autres caract&egrave;res ne sont pas autoris&eacute;s.",dateSuchAs:"Veuillez saisir une date correcte comme {date}",dateInFormatMDY:'Veuillez saisir une date correcte, au format JJ/MM/AAAA (ex : "31/11/1999").',email:'Veuillez saisir une adresse de courrier &eacute;lectronique. Par example "fred@domaine.com".',url:"Veuillez saisir une URL, comme http://www.google.com.",currencyDollar:"Veuillez saisir une quantit&eacute; correcte. Par example 100,00&euro;.",oneRequired:"Veuillez s&eacute;lectionner au moins une de ces options.",errorPrefix:"Erreur : ",warningPrefix:"Attention : ",noSpace:"Ce champ n'accepte pas les espaces.",reqChkByNode:"Aucun &eacute;l&eacute;ment n'est s&eacute;lectionn&eacute;.",requiredChk:"Ce champ est obligatoire.",reqChkByName:"Veuillez s&eacute;lectionner un(e) {label}.",match:"Ce champ doit correspondre avec le champ {matchName}.",startDate:"date de d&eacute;but",endDate:"date de fin",currendDate:"date actuelle",afterDate:"La date doit &ecirc;tre identique ou post&eacute;rieure &agrave; {label}.",beforeDate:"La date doit &ecirc;tre identique ou ant&eacute;rieure &agrave; {label}.",startMonth:"Veuillez s&eacute;lectionner un mois de d&eacute;but.",sameMonth:"Ces deux dates doivent &ecirc;tre dans le m&ecirc;me mois - vous devez en modifier une."});MooTools.lang.set("it-IT","Form.Validator",{required:"Il campo &egrave; obbligatorio.",minLength:"Inserire almeno {minLength} caratteri (ne sono stati inseriti {length}).",maxLength:"Inserire al massimo {maxLength} caratteri (ne sono stati inseriti {length}).",integer:"Inserire un numero intero. Non sono consentiti decimali (es.: 1.25).",numeric:'Inserire solo valori numerici (es.: "1" oppure "1.1" oppure "-1" oppure "-1.1").',digits:"Inserire solo numeri e caratteri di punteggiatura. Per esempio &egrave; consentito un numero telefonico con trattini o punti.",alpha:"Inserire solo lettere (a-z). Non sono consentiti spazi o altri caratteri.",alphanum:"Inserire solo lettere (a-z) o numeri (0-9). Non sono consentiti spazi o altri caratteri.",dateSuchAs:"Inserire una data valida del tipo {date}",dateInFormatMDY:'Inserire una data valida nel formato MM/GG/AAAA (es.: "12/31/1999")',email:'Inserire un indirizzo email valido. Per esempio "nome@dominio.com".',url:'Inserire un indirizzo valido. Per esempio "http://www.dominio.com".',currencyDollar:'Inserire un importo valido. Per esempio "$100.00".',oneRequired:"Completare almeno uno dei campi richiesti.",errorPrefix:"Errore: ",warningPrefix:"Attenzione: ",noSpace:"Non sono consentiti spazi.",reqChkByNode:"Nessuna voce selezionata.",requiredChk:"Il campo &egrave; obbligatorio.",reqChkByName:"Selezionare un(a) {label}.",match:"Il valore deve corrispondere al campo {matchName}",startDate:"data d'inizio",endDate:"data di fine",currendDate:"data attuale",afterDate:"La data deve corrispondere o essere successiva al {label}.",beforeDate:"La data deve corrispondere o essere precedente al {label}.",startMonth:"Selezionare un mese d'inizio",sameMonth:"Le due date devono essere dello stesso mese - occorre modificarne una."});MooTools.lang.set("no-NO","Form.Validator",{required:"Dette feltet er pkrevd.",minLength:"Vennligst skriv inn minst {minLength} tegn (du skrev {length} tegn).",maxLength:"Vennligst skriv inn maksimalt {maxLength} tegn (du skrev {length} tegn).",integer:"Vennligst skriv inn et tall i dette feltet. Tall med desimaler (for eksempel 1,25) er ikke tillat.",numeric:'Vennligst skriv inn kun numeriske verdier i dette feltet (for eksempel "1", "1.1", "-1" eller "-1.1").',digits:"Vennligst bruk kun nummer og skilletegn i dette feltet.",alpha:"Vennligst bruk kun bokstaver (a-z) i dette feltet. Ingen mellomrom eller andre tegn er tillat.",alphanum:"Vennligst bruk kun bokstaver (a-z) eller nummer (0-9) i dette feltet. Ingen mellomrom eller andre tegn er tillat.",dateSuchAs:"Vennligst skriv inn en gyldig dato, som {date}",dateInFormatMDY:'Vennligst skriv inn en gyldig dato, i formatet MM/DD/YYYY (for eksempel "12/31/1999")',email:'Vennligst skriv inn en gyldig epost-adresse. For eksempel "espen@domene.no".',url:"Vennligst skriv inn en gyldig URL, for eksempel http://www.google.no.",currencyDollar:"Vennligst fyll ut et gyldig $ belp. For eksempel $100.00 .",oneRequired:"Vennligst fyll ut noe i minst ett av disse feltene.",errorPrefix:"Feil: ",warningPrefix:"Advarsel: "});MooTools.lang.set("pl-PL","Form.Validator",{required:"To pole jest wymagane.",minLength:"Wymagane jest przynajmniej {minLength} znakw (wpisanych zostao tylko {length}).",maxLength:"Dozwolone jest nie wicej ni {maxLength} znakw (wpisanych zostao {length})",integer:"To pole wymaga liczb caych. Liczby dziesitne (np. 1.25) s niedozwolone.",numeric:'Prosimy uywa tylko numerycznych wartoci w tym polu (np. "1", "1.1", "-1" lub "-1.1").',digits:"Prosimy uywa liczb oraz zankow punktuacyjnych w typ polu (dla przykadu, przy numerze telefonu mylniki i kropki s dozwolone).",alpha:"Prosimy uywa tylko liter (a-z) w tym polu. Spacje oraz inne znaki s niedozwolone.",alphanum:"Prosimy uywa tylko liter (a-z) lub liczb (0-9) w tym polu. Spacje oraz inne znaki s niedozwolone.",dateSuchAs:"Prosimy poda prawidow dat w formacie: {date}",dateInFormatMDY:'Prosimy poda poprawn date w formacie DD.MM.RRRR (i.e. "12.01.2009")',email:'Prosimy poda prawidowy adres e-mail, np. "jan@domena.pl".',url:"Prosimy poda prawidowy adres URL, np. http://www.google.pl.",currencyDollar:"Prosimy poda prawidow sum w PLN. Dla przykadu: 100.00 PLN.",oneRequired:"Prosimy wypeni chocia jedno z pl.",errorPrefix:"Bd: ",warningPrefix:"Uwaga: ",noSpace:"W tym polu nie mog znajdowa si spacje.",reqChkByNode:"Brak zaznaczonych elementw.",requiredChk:"To pole jest wymagane.",reqChkByName:"Prosimy wybra z {label}.",match:"To pole musi by takie samo jak {matchName}",startDate:"data pocztkowa",endDate:"data kocowa",currendDate:"aktualna data",afterDate:"Podana data poinna by taka sama lub po {label}.",beforeDate:"Podana data poinna by taka sama lub przed {label}.",startMonth:"Prosimy wybra pocztkowy miesic.",sameMonth:"Te dwie daty musz by w zakresie tego samego miesica - wymagana jest zmiana ktrego z pl."});MooTools.lang.set("pt-PT","Form.Validator",{required:"Este campo  necessrio.",minLength:"Digite pelo menos{minLength} caracteres (comprimento {length} caracteres).",maxLength:"No insira mais de {maxLength} caracteres (comprimento {length} caracteres).",integer:"Digite um nmero inteiro neste domnio. Com nmeros decimais (por exemplo, 1,25), no so permitidas.",numeric:'Digite apenas valores numricos neste domnio (p.ex., "1" ou "1.1" ou "-1" ou "-1,1").',digits:"Por favor, use nmeros e pontuao apenas neste campo (p.ex., um nmero de telefone com traos ou pontos  permitida).",alpha:"Por favor use somente letras (a-z), com nesta rea. No utilize espaos nem outros caracteres so permitidos.",alphanum:"Use somente letras (a-z) ou nmeros (0-9) neste campo. No utilize espaos nem outros caracteres so permitidos.",dateSuchAs:"Digite uma data vlida, como {date}",dateInFormatMDY:'Digite uma data vlida, como DD/MM/YYYY (p.ex. "31/12/1999")',email:'Digite um endereo de email vlido. Por exemplo "fred@domain.com".',url:"Digite uma URL vlida, como http://www.google.com.",currencyDollar:"Digite um valor vlido $. Por exemplo $ 100,00. ",oneRequired:"Digite algo para pelo menos um desses insumos.",errorPrefix:"Erro: ",warningPrefix:"Aviso: "});MooTools.lang.set("pt-BR","Form.Validator",{required:"Este campo  obrigatrio.",minLength:"Digite pelo menos {minLength} caracteres (tamanho atual: {length}).",maxLength:"No digite mais de {maxLength} caracteres (tamanho atual: {length}).",integer:"Por favor digite apenas um nmero inteiro neste campo. No so permitidos nmeros decimais (por exemplo, 1,25).",numeric:'Por favor digite apenas valores numricos neste campo (por exemplo, "1" ou "1.1" ou "-1" ou "-1,1").',digits:"Por favor use apenas nmeros e pontuao neste campo (por exemplo, um nmero de telefone com traos ou pontos  permitido).",alpha:"Por favor use somente letras (a-z). Espao e outros caracteres no so permitidos.",alphanum:"Use somente letras (a-z) ou nmeros (0-9) neste campo. Espao e outros caracteres no so permitidos.",dateSuchAs:"Digite uma data vlida, como {date}",dateInFormatMDY:'Digite uma data vlida, como DD/MM/YYYY (por exemplo, "31/12/1999")',email:'Digite um endereo de email vlido. Por exemplo "nome@dominio.com".',url:"Digite uma URL vlida. Exemplo: http://www.google.com.",currencyDollar:"Digite um valor em dinheiro vlido. Exemplo: R$100,00 .",oneRequired:"Digite algo para pelo menos um desses campos.",errorPrefix:"Erro: ",warningPrefix:"Aviso: ",noSpace:"No  possvel digitar espaos neste campo.",reqChkByNode:"No foi selecionado nenhum item.",requiredChk:"Este campo  obrigatrio.",reqChkByName:"Por favor digite um {label}.",match:"Este campo deve ser igual ao campo {matchName}.",startDate:"a data inicial",endDate:"a data final",currendDate:"a data atual",afterDate:"A data deve ser igual ou posterior a {label}.",beforeDate:"A data deve ser igual ou anterior a {label}.",startMonth:"Por favor selecione uma data inicial.",sameMonth:"Estas duas datas devem ter o mesmo ms - voc deve modificar uma das duas.",creditcard:"O nmero do carto de crdito informado  invlido. Por favor verifique o valor e tente novamente. {length} nmeros informados."});MooTools.lang.set("ru-RU-unicode","Form.Validator",{required:"    .",minLength:",    {minLength}  (  {length}).",maxLength:",    {maxLength}  (  {length}).",integer:",     .   ( 1.25)   .",numeric:',      ( "1"  "1.1",  "-1",  "-1.1").',digits:"           (,        ).",alpha:"        (a-z).     .",alphanum:"        (a-z)   (0-9).     .",dateSuchAs:",    {date}",dateInFormatMDY:',     // ( "12/31/1999")',email:',   -.   "fred@domain.com".',url:",     http://www.google.com.",currencyDollar:",    . : $100.00 .",oneRequired:",   -     .",errorPrefix:": ",warningPrefix:": "});MooTools.lang.set("ru-RU","Form.Validator",{required:"    .",minLength:",    {minLength}  (  {length}).",maxLength:",    {maxLength}  (  {length}).",integer:",     .   ( 1.25)   .",numeric:',      ( "1"  "1.1",  "-1",  "-1.1").',digits:"           (,        ).",alpha:"        (a-z).     .",alphanum:"        (a-z)   (0-9).     .",dateSuchAs:",    {date}",dateInFormatMDY:',     // ( "12/31/1999")',email:',   -.   "fred@domain.com".',url:",     http://www.google.com.",currencyDollar:",    . : $100.00 .",oneRequired:",   -     .",errorPrefix:": ",warningPrefix:": "});MooTools.lang.set("es-ES","Form.Validator",{required:"Este campo es obligatorio.",minLength:"Por favor introduce al menos {minLength} caracteres (has introducido {length} caracteres).",maxLength:"Por favor introduce no m&aacute;s de {maxLength} caracteres (has introducido {length} caracteres).",integer:"Por favor introduce un n&uacute;mero entero en este campo. N&uacute;meros con decimales (p.e. 1,25) no se permiten.",numeric:'Por favor introduce solo valores num&eacute;ricos en este campo (p.e. "1" o "1,1" o "-1" o "-1,1").',digits:"Por favor usa solo n&uacute;meros y puntuaci&oacute;n en este campo (por ejemplo, un n&uacute;mero de tel&eacute;fono con guiones y puntos no esta permitido).",alpha:"Por favor usa letras solo (a-z) en este campo. No se admiten espacios ni otros caracteres.",alphanum:"Por favor, usa solo letras (a-z) o n&uacute;meros (0-9) en este campo. No se admiten espacios ni otros caracteres.",dateSuchAs:"Por favor introduce una fecha v&aacute;lida como {date}",dateInFormatMDY:'Por favor introduce una fecha v&aacute;lida como DD/MM/YYYY (p.e. "31/12/1999")',email:'Por favor, introduce una direcci&oacute;n de email v&aacute;lida. Por ejemplo,  "fred@domain.com".',url:"Por favor introduce una URL v&aacute;lida como http://www.google.com.",currencyDollar:"Por favor introduce una cantidad v&aacute;lida de . Por ejemplo 100,00 .",oneRequired:"Por favor introduce algo para por lo menos una de estas entradas.",errorPrefix:"Error: ",warningPrefix:"Aviso: ",noSpace:"No pueden haber espacios en esta entrada.",reqChkByNode:"No hay elementos seleccionados.",requiredChk:"Este campo es obligatorio.",reqChkByName:"Por favor selecciona una {label}.",match:"Este campo necesita coincidir con el campo {matchName}",startDate:"la fecha de inicio",endDate:"la fecha de fin",currendDate:"la fecha actual",afterDate:"La fecha debe ser igual o posterior a {label}.",beforeDate:"La fecha debe ser igual o anterior a {label}.",startMonth:"Por favor selecciona un mes de origen",sameMonth:"Estas dos fechas deben estar en el mismo mes - debes cambiar una u otra."});MooTools.lang.set("sv-SE","Form.Validator",{required:"Fltet r obligatoriskt.",minLength:"Ange minst {minLength} tecken (du angav {length} tecken).",maxLength:"Ange hgst {maxLength} tecken (du angav {length} tecken). ",integer:"Ange ett heltal i fltet. Tal med decimaler (t.ex. 1,25) r inte tilltna.",numeric:'Ange endast numeriska vrden i detta flt (t.ex. "1" eller "1.1" eller "-1" eller "-1,1").',digits:"Anvnd endast siffror och skiljetecken i detta flt (till exempel ett telefonnummer med bindestreck tilltet).",alpha:"Anvnd endast bokstver (a-) i detta flt. Inga mellanslag eller andra tecken r tilltna.",alphanum:"Anvnd endast bokstver (a-) och siffror (0-9) i detta flt. Inga mellanslag eller andra tecken r tilltna.",dateSuchAs:"Ange ett giltigt datum som t.ex. {date}",dateInFormatMDY:'Ange ett giltigt datum som t.ex. YYYY-MM-DD (i.e. "1999-12-31")',email:'Ange en giltig e-postadress. Till exempel "erik@domain.com".',url:"Ange en giltig webbadress som http://www.google.com.",currencyDollar:"Ange en giltig belopp. Exempelvis 100,00.",oneRequired:"Vnligen ange minst ett av dessa alternativ.",errorPrefix:"Fel: ",warningPrefix:"Varning: ",noSpace:"Det fr inte finnas ngra mellanslag i detta flt.",reqChkByNode:"Inga objekt r valda.",requiredChk:"Detta r ett obligatoriskt flt.",reqChkByName:"Vlj en {label}.",match:"Detta flt mste matcha {matchName}",startDate:"startdatumet",endDate:"slutdatum",currendDate:"dagens datum",afterDate:"Datumet br vara samma eller senare n {label}.",beforeDate:"Datumet br vara samma eller tidigare n {label}.",startMonth:"Vlj en start mnad",sameMonth:"Dessa tv datum mste vara i samma mnad - du mste ndra det ena eller det andra."});MooTools.lang.set("uk-UA","Form.Validator",{required:"    .",minLength:"   {minLength}  (  {length}).",maxLength:"      {maxLength} (  {length}).",integer:"    .   ( 1.25)  .",numeric:'     ( "1"  "1.1",  "-1",  "-1.1").',digits:"           (,        ).",alpha:"        (a-z).     .",alphanum:"        (a-z)   (0-9).     .",dateSuchAs:"   {date}.",dateInFormatMDY:'    // ( "12/31/2009").',email:'     ( "name@domain.com").',url:"  - ( http://www.google.com).",currencyDollar:'    ( "$100.00").',oneRequired:"   .",errorPrefix:": ",warningPrefix:": "});function $jx(C){var B=null;C=document.id(C);if(C){B=C.retrieve("jxWidget");if(!B&&C!=document.body){B=$jx(C.getParent())}}return B}window.addEvent("load",function(){if(!("console" in window)){var C=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],B;window.console={};for(B=0;B<C.length;++B){window.console[C[B]]=function(){}}}});Class.Mutators.Family=function(B,C){if($defined(C)){B.jxFamily=C;return B}else{if(!$defined(this.prototype.jxFamily)){this.implement({jxFamily:B})}}};function $unlink(D){if(D&&D.jxFamily){return D}var C,F,E,B;switch($type(D)){case"object":C={};for(F in D){C[F]=$unlink(D[F])}break;case"hash":C=new Hash(D);break;case"array":C=[];for(E=0,B=D.length;E<B;E++){C[E]=$unlink(D[E])}break;default:return D}return C}if(typeof Jx==="undefined"){var Jx={}}if(!$defined(Jx.baseURL)){(function(){var E=document.getElementsByTagName("SCRIPT"),C,D,F,B;for(C=0;C<E.length;C++){D=E[C].src;F=D.lastIndexOf("/");B=D.slice(F+1,D.length-1);if(B.contains("jxlib")){Jx.baseURL=D.slice(0,F);break}}})()}if(!$defined(Jx.aPixel)){Jx.aPixel=new Element("img",{alt:"",title:"",src:Jx.baseURL+"/a_pixel.png"})}if(!$defined(Jx.isAir)){(function(){var B=document.getElementsByTagName("SCRIPT"),C=B[0].src;if(C.contains("app:")){Jx.isAir=true}else{Jx.isAir=false}})()}Jx.setLanguage=function(B){Jx.lang=B;MooTools.lang.setLanguage(Jx.lang)};if(!$defined(Jx.lang)){Jx.lang="en-US"}Jx.setLanguage(Jx.lang);Jx.applyPNGFilter=function(D){var B=Jx.aPixel.src,C;if(D.src!=B){C=D.src;D.src=B;D.runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+C+"',sizingMethod='scale')"}};Jx.imgQueue=[];Jx.imgLoaded={};Jx.imagesLoading=0;Jx.addToImgQueue=function(B){if(Jx.imgLoaded[B.src]){B.element.src=B.src}else{Jx.imgQueue.push(B);Jx.imgLoaded[B.src]=true}Jx.checkImgQueue()};Jx.checkImgQueue=function(){while(Jx.imagesLoading<2&&Jx.imgQueue.length>0){Jx.loadNextImg()}};Jx.loadNextImg=function(){var B=Jx.imgQueue.shift();if(B){++Jx.imagesLoading;B.element.onload=function(){--Jx.imagesLoading;Jx.checkImgQueue()};B.element.onerror=function(){--Jx.imagesLoading;Jx.checkImgQueue()};B.element.src=B.src}};Jx.getNumber=function(D,C){var B=D===null||isNaN(parseInt(D,10))?(C||0):parseInt(D,10);return B};Jx.getPageDimensions=function(){return{width:window.getWidth(),height:window.getHeight()}};Jx.type=function(B){return typeof B=="undefined"?false:B.jxFamily||$type(B)};(function(B){Element.implement({getBoxSizing:function(){var D="content-box",C,E;if(Browser.Engine.trident||Browser.Engine.presto){C=document.compatMode;if(C=="BackCompat"||C=="QuirksMode"){D="border-box"}else{D="content-box"}}else{if(arguments.length===0){node=document.documentElement}E=this.getStyle("-moz-box-sizing");if(!E){E=this.getStyle("box-sizing")}D=(E?E:"content-box")}return D},getContentBoxSize:function(){var C=this.getSizes(["padding","border"]);return{width:this.offsetWidth-C.padding.left-C.padding.right-C.border.left-C.border.right,height:this.offsetHeight-C.padding.bottom-C.padding.top-C.border.bottom-C.border.top}},getBorderBoxSize:function(){return{width:this.offsetWidth,height:this.offsetHeight}},getMarginBoxSize:function(){var C=this.getSizes(["margin"]);return{width:this.offsetWidth+C.margin.left+C.margin.right,height:this.offsetHeight+C.margin.top+C.margin.bottom}},getSizes:function(F,D){F=F||["padding","border","margin"];D=D||["left","top","right","bottom"];var C={},E,G;F.each(function(H){C[H]={};D.each(function(I){E=(H=="border")?I+"-width":I;G=this.getStyle(H+"-"+E);C[H][I]=G===null||isNaN(parseInt(G,10))?0:parseInt(G,10)},this)},this);return C},setContentBoxSize:function(E){var D,F,C;if(this.getBoxSizing()=="border-box"){D=this.measure(function(){return this.getSizes(["padding","border"])});if($defined(E.width)){F=E.width+D.padding.left+D.padding.right+D.border.left+D.border.right;if(F<0){F=0}this.setStyle("width",F)}if($defined(E.height)){C=E.height+D.padding.top+D.padding.bottom+D.border.top+D.border.bottom;if(C<0){C=0}this.setStyle("height",C)}}else{if($defined(E.width)&&E.width>=0){this.setStyle("width",F)}if($defined(E.height)&&E.height>=0){this.setStyle("height",C)}}},setBorderBoxSize:function(E){var D,F,C;if(this.getBoxSizing()=="content-box"){D=this.measure(function(){return this.getSizes()});if($defined(E.width)){F=E.width-D.padding.left-D.padding.right-D.border.left-D.border.right-D.margin.left-D.margin.right;if(F<0){F=0}this.setStyle("width",F)}if($defined(E.height)){C=E.height-D.padding.top-D.padding.bottom-D.border.top-D.border.bottom-D.margin.top-D.margin.bottom;if(C<0){C=0}this.setStyle("height",C)}}else{if($defined(E.width)&&E.width>=0){this.setStyle("width",F)}if($defined(E.height)&&E.height>=0){this.setStyle("height",C)}}},descendantOf:function(D){var C=document.id(this.parentNode);while(C!=D&&C&&C.parentNode&&C.parentNode!=C){C=document.id(C.parentNode)}return C==D},findElement:function(D){var E=this,C=E.tagName;while(E.tagName!=D&&E&&E.parentNode&&E.parentNode!=E){E=document.id(E.parentNode)}return E.tagName==D?E:false}});Array.implement({swap:function(D,C){var E=this[D];this[D]=this[C];this[C]=E}})})(document.id||$);Jx.Styles=new (new Class({dynamicStyleMap:new Hash(),getCssRule:function(C,B){var E=this.getDynamicStyleSheet(B),F=null,D;if(E.indicies){D=E.indicies.indexOf(C);if(D==-1){F=this.insertCssRule(C,"",B)}else{if(Browser.Engine.trident){F=E.sheet.rules[D]}else{F=E.sheet.cssRules[D]}}}return F},insertCssRule:function(C,H,B){var E=this.getDynamicStyleSheet(B),F,G=C+" {"+H+"}",D;if(Browser.Engine.trident){if(H==""){H="{}"}D=E.styleSheet.addRule(C,H);F=E.styleSheet.rules[D]}else{E.sheet.insertRule(G,E.indicies.length);F=E.sheet.cssRules[E.indicies.length]}E.indicies.push(C);return F},removeCssRule:function(D,C){var F=this.getDynamicStyleSheet(C),E=F.indicies.indexOf(D),B=false;F.indicies.splice(E,1);if(Browser.Engine.trident){F.removeRule(E);B=true}else{F.sheet.deleteRule(E);B=true}return B},getDynamicStyleSheet:function(B){B=(B)?B:"default";if(!this.dynamicStyleMap.has(B)){var C=new Element("style").set("type","text/css").inject(document.head);C.indicies=[];this.dynamicStyleMap.set(B,C)}return this.dynamicStyleMap.get(B)},enableStyleSheet:function(B){this.getDynamicStyleSheet(B).disabled=false},disableStyleSheet:function(B){this.getDynamicStyleSheet(B).disabled=true},removeStyleSheet:function(B){this.disableStyleSheet(B);this.getDynamicStyleSheet(B).dispose();this.dynamicStyleMap.erase(B)},isStyleSheetDefined:function(B){return this.dynamicStyleMap.has(B)}}))();Jx.Object=new Class({Family:"Jx.Object",Implements:[Options,Events],plugins:null,pluginNamespace:"Other",parameters:["options"],options:{useLang:true,plugins:null},bound:null,initialize:function(){this.plugins=new Hash();this.bound={};var E=arguments.length,C={},F=this.parameters,G,B;if(E>0){if(E===1&&(Jx.type(arguments[0])==="object"||Jx.type(arguments[0])==="Hash")&&F.length===1&&F[0]==="options"){C=arguments[0]}else{G=F.length;B;if(G<=E){B=G}else{B=E}for(var D=0;D<B;D++){if(F[D]==="options"){$extend(C,arguments[D])}else{C[F[D]]=arguments[D]}}}}this.setOptions(C);this.bound.changeText=this.changeText.bind(this);if(this.options.useLang){MooTools.lang.addEvent("langChange",this.bound.changeText)}this.fireEvent("preInit");this.init();this.fireEvent("postInit");this.fireEvent("prePluginInit");this.initPlugins();this.fireEvent("postPluginInit");this.fireEvent("initializeDone")},initPlugins:function(){var B;if($defined(this.pluginNamespace)){if($defined(this.options.plugins)&&Jx.type(this.options.plugins)==="array"){this.options.plugins.each(function(C){if(C instanceof Jx.Plugin){C.attach(this);this.plugins.set(C.name,C)}else{if(Jx.type(C)==="object"){if($defined(Jx.Plugin[this.pluginNamespace][C.name.capitalize()])){B=new Jx.Plugin[this.pluginNamespace][C.name.capitalize()](C.options)}else{B=new Jx.Adaptor[this.pluginNamespace][C.name.capitalize()](C.options)}B.attach(this)}else{if(Jx.type(C)==="string"){if($defined(Jx.Plugin[this.pluginNamespace][C.capitalize()])){B=new Jx.Plugin[this.pluginNamespace][C.capitalize()]()}else{B=new Jx.Adaptor[this.pluginNamespace][C.capitalize()]()}B.attach(this)}}}},this)}}},destroy:function(){this.fireEvent("preDestroy");this.cleanup();this.fireEvent("postDestroy")},cleanup:function(){if(this.plugins.getLength>0){this.plugins.each(function(B){B.detach();B.destroy()},this)}this.plugins.empty();if(this.options.useLang&&$defined(this.bound.changeText)){MooTools.lang.removeEvent("langChange",this.bound.changeText)}this.bound=null},init:$empty,registerPlugin:function(B){if(!this.plugins.has(B.name)){this.plugins.set(B.name,B)}},deregisterPlugin:function(B){if(this.plugins.has(B.name)){this.plugins.erase(B.name)}},getPlugin:function(B){if(this.plugins.has(B)){return this.plugins.get(B)}},getText:function(C){var B="";if(Jx.type(C)=="string"||Jx.type(C)=="number"){B=C}else{if(Jx.type(C)=="function"){B=C()}else{if(Jx.type(C)=="object"&&$defined(C.set)&&$defined(C.key)){this.i18n=C;if($defined(C.value)){B=MooTools.lang.get(C.set,C.key)[C.value]}else{B=MooTools.lang.get(C.set,C.key)}}}}return B},changeText:$empty,generateId:function(C){C=(C)?C:"jx-";var B=$uid(this);delete this.uid;return C+B}});MooTools.lang.set("en-US","Jx",{widget:{busyMessage:"Working ..."},colorpalette:{alphaLabel:"alpha (%)"},notice:{closeTip:"close this notice"},progressbar:{messageText:"Loading...",progressText:"{progress} of {total}"},field:{requiredText:"*"},file:{browseLabel:"Browse..."},"formatter.boolean":{"true":"Yes","false":"No"},"formatter.currency":{sign:"$"},"formatter.number":{decimalSeparator:".",thousandsSeparator:","},splitter:{barToolTip:"drag this bar to resize"},panelset:{barToolTip:"drag this bar to resize"},panel:{collapseTooltip:"Collapse/Expand Panel",collapseLabel:"Collapse",expandLabel:"Expand",maximizeTooltip:"Maximize Panel",maximizeLabel:"Maximize",restoreTooltip:"Restore Panel",restoreLabel:"Restore",closeTooltip:"Close Panel",closeLabel:"Close"},confirm:{affirmativeLabel:"Yes",negativeLabel:"No"},dialog:{resizeToolTip:"Resize dialog"},message:{okButton:"Ok"},prompt:{okButton:"Ok",cancelButton:"Cancel"},upload:{buttonText:"Upload Files"},"plugin.resize":{tooltip:"Drag to resize, double click to auto-size."},"plugin.editor":{submitButton:"Save",cancelButton:"Cancel"}});Jx.Widget=new Class({Family:"Jx.Widget",Extends:Jx.Object,options:{id:null,content:null,contentURL:null,loadOnDemand:false,cacheContent:true,template:'<div class="jxWidget"></div>',busyClass:"jxBusy",busyMask:{"class":"jxSpinner jxSpinnerLarge",img:{"class":"jxSpinnerImage"},content:{"class":"jxSpinnerContent"},messageContainer:{"class":"jxSpinnerMessage"},useIframeShim:true,iframeShimOptions:{className:"jxIframeShim"},fx:true},deferRender:false},classes:new Hash({domObj:"jxWidget"}),busy:false,domObj:null,contentIsLoaded:false,chrome:null,init:function(){if(!this.options.deferRender){this.fireEvent("preRender");this.render();this.fireEvent("postRender")}else{this.fireEvent("deferRender")}},loadContent:function(C){var E,B=this.options,D;C=document.id(C);if(B.content){if(B.content.domObj){E=document.id(B.content.domObj)}else{E=document.id(B.content)}if(E){if(B.content.addTo){B.content.addTo(C)}else{C.appendChild(E)}this.contentIsLoaded=true}else{C.innerHTML=B.content;this.contentIsLoaded=true}}else{if(B.contentURL){this.contentIsLoaded=false;this.req=new Request({url:B.contentURL,method:"get",evalScripts:true,onRequest:(function(){if(B.loadOnDemand){this.setBusy(true)}}).bind(this),onSuccess:(function(F){C.innerHTML=F;this.contentIsLoaded=true;if(Jx.isAir){$clear(this.reqTimeout)}this.setBusy(false);this.fireEvent("contentLoaded",this)}).bind(this),onFailure:(function(){this.contentIsLoaded=true;this.fireEvent("contentLoadFailed",this);this.setBusy(false)}).bind(this),headers:{"If-Modified-Since":"Sat, 1 Jan 2000 00:00:00 GMT"}});this.req.send();if(Jx.isAir){D=$defined(B.timeout)?B.timeout:10000;this.reqTimeout=this.checkRequest.delay(D,this)}}else{this.contentIsLoaded=true}}if(B.contentId){C.id=this.options.contentId}if(this.contentIsLoaded){this.fireEvent("contentLoaded",this)}},position:function(J,E,R){J=document.id(J);E=document.id(E);var D=$splat(R.horizontal||["center center"]),K=$splat(R.vertical||["center center"]),H=$merge({top:0,right:0,bottom:0,left:0},R.offsets||{}),P=E.getCoordinates(),M,O,Q,G,C,N,B,F,I;if(!document.id(J.parentNode)||J.parentNode==document.body){M=Jx.getPageDimensions();O=document.id(document.body).getScroll()}else{M=document.id(J.parentNode).getContentBoxSize();O=document.id(J.parentNode).getScroll()}if(E==document.body){P.left+=O.x;P.top+=O.y}else{if(J.parentNode==E){P.left=0;P.top=0}}Q=J.getMarginBoxSize();if(!D.some(function(S){I=S.split(" ");if(I.length!=2){return false}if(!isNaN(parseInt(I[0],10))){F=parseInt(I[0],10);if(F>=0){G=F}else{G=P.left+P.width+F}}else{switch(I[0]){case"right":G=P.left+P.width;break;case"center":G=P.left+Math.round(P.width/2);break;case"left":default:G=P.left;break}}if(!isNaN(parseInt(I[1],10))){F=parseInt(I[1],10);if(F<0){right=G+F;G=right-Q.width}else{G+=F;right=G+Q.width}right=P.left+P.width+parseInt(I[1],10);G=right-Q.width}else{switch(I[1]){case"left":G-=H.left;right=G+Q.width;break;case"right":G+=H.right;right=G;G=G-Q.width;break;case"center":default:G=G-Math.round(Q.width/2);right=G+Q.width;break}}return(G>=O.x&&right<=O.x+M.width)})){if(right>M.width){G=O.x+M.width-Q.width}if(G<0){G=0}}J.setStyle("left",G);if(!K.some(function(S){I=S.split(" ");if(I.length!=2){return false}if(!isNaN(parseInt(I[0],10))){N=parseInt(I[0],10)}else{switch(I[0]){case"bottom":N=P.top+P.height;break;case"center":N=P.top+Math.round(P.height/2);break;case"top":default:N=P.top;break}}if(!isNaN(parseInt(I[1],10))){var T=parseInt(I[1],10);if(T>=0){N+=T;B=N+Q.height}else{B=N+T;N=B-Q.height}}else{switch(I[1]){case"top":N-=H.top;B=N+Q.height;break;case"bottom":N+=H.bottom;B=N;N=N-Q.height;break;case"center":default:N=N-Math.round(Q.height/2);B=N+Q.height;break}}return(N>=O.y&&B<=O.y+M.height)})){if(B>M.height){N=O.y+M.height-Q.height}if(N<0){N=0}}J.setStyle("top",N);var L=J.retrieve("jxLayout");if(L){L.options.left=G;L.options.top=N}},makeChrome:function(B){var D=new Element("div",{"class":"jxChrome",events:{contextmenu:function(E){E.stop()}}}),C;B.adopt(D);this.chromeOffsets=D.measure(function(){return this.getSizes(["padding"]).padding});D.setStyle("padding",0);C=D.getStyle("backgroundImage");if(C!=null){if(!(C.contains("http://")||C.contains("https://")||C.contains("file://")||C.contains("app:/"))){C=null}else{C=C.slice(4,-1);if(C.charAt(0)=='"'){C=C.slice(1,-1)}D.setStyle("backgroundImage","none");["TR","TL","BL","BR"].each(function(E){D.adopt(new Element("div",{"class":"jxChrome"+E}).adopt(new Element("img",{"class":"png24",src:C,alt:"",title:""})))},this)}}if($defined(window.IframeShim)){this.shim=new IframeShim(D,{className:"jxIframeShim"})}D.dispose();this.chrome=D},showChrome:function(B){B=document.id(B)||document.id(this);if(B){if(!this.chrome){this.makeChrome(B);B.addClass("jxHasChrome")}this.resizeChrome(B);if(this.shim){this.shim.show()}if(B&&this.chrome.parentNode!==B){B.adopt(this.chrome);this.chrome.setStyle("z-index",-1)}}},hideChrome:function(){if(this.chrome){if(this.shim){this.shim.hide()}this.chrome.parentNode.removeClass("jxHasChrome");this.chrome.dispose()}},resizeChrome:function(B){if(this.chrome&&Browser.Engine.trident4){this.chrome.setContentBoxSize(document.id(B).getBorderBoxSize());if(this.shim){this.shim.position()}}},addTo:function(B,C){var D=document.id(this.addable)||document.id(this.domObj);if(D){if(B instanceof Jx.Widget&&$defined(B.add)){B.add(D)}else{ref=document.id(B);D.inject(ref,C)}this.fireEvent("addTo",this)}return this},toElement:function(){return this.domObj},processTemplate:function(G,D,B){var F=new Hash(),C,E;if($defined(B)){C=B.set("html",G)}else{C=new Element("div",{html:G})}D.each(function(H){E=C.getElement("."+H);if($defined(E)){F.set(H,E)}});return F},dispose:function(){var B=document.id(this.addable)||document.id(this.domObj);if(B){B.dispose()}},cleanup:function(){if($defined(this.domObj)){this.domObj.eliminate("jxWidget");this.domObj.destroy()}if($defined(this.addable)){this.addable.destroy()}if($defined(this.domA)){this.domA.destroy()}if($defined(this.classes)){this.classes.each(function(C,B){this[B]=null},this)}this.elements.empty();this.elements=null;this.parent()},render:function(){this.elements=this.processElements(this.options.template,this.classes);if($defined(this.domObj)){if($defined(this.options.id)){this.domObj.set("id",this.options.id)}this.domObj.store("jxWidget",this)}},elements:null,processElements:function(C,B){var D=B.getValues();elements=this.processTemplate(C,D);B.each(function(F,E){if(E!="elements"&&elements.get(F)){this[E]=elements.get(F)}},this);return elements},isBusy:function(){return this.busy},setBusy:function(G,F,I){if(this.busy==G){return }var C=this.options,H,D,E,B=this.domObj;F=$defined(F)?F:{set:"Jx",key:"widget",value:"busyMessage"};I=$defined(I)?I:false;this.busy=G;this.fireEvent("busy",G);if(G){if(C.busyClass){B.addClass(C.busyClass)}if(C.busyMask&&B.spin){H=Jx.getNumber(B.getStyle("z-index"));E={style:{"z-index":H+1}};D=B.getBorderBoxSize();if(D.height<60||I){E["class"]="jxSpinner jxSpinnerSmall";E.img=null;E.message=new Element("p",{"class":"jxSpinnerMessage",html:'<span class="jxSpinnerImage"></span>'+this.getText(F)})}E=$merge(C.busyMask,E);B.get("spinner",E).show(!C.busyMask.fx)}}else{if(C.busyClass){B.removeClass(C.busyClass)}if(C.busyMask&&this.domObj.unspin){B.get("spinner").hide(!C.busyMask.fx)}}},changeText:function(B){if(this.busy){this.setBusy(false);this.setBusy(true)}},stack:function(B){Jx.Stack.stack(B||document.id(this))},unstack:function(B){Jx.Stack.unstack(B=B||document.id(this))}});if(Jx.isAir){Jx.Widget.implement({checkRequest:function(){if(this.req.xhr.readyState===1){$clear(this.reqTimeout);this.req.cancel();this.contentIsLoaded=true;this.fireEvent("contentLoadFailed",this)}}})}Jx.Selection=new Class({Family:"Jx.Selection",Extends:Jx.Object,options:{eventToFire:{select:"select",unselect:"unselect"},selectClass:"jxSelected",selectMode:"single",selectToggle:true,minimumSelection:0},selection:null,init:function(){this.selection=[];this.parent()},cleanup:function(){this.selection=null;this.parent()},defaultSelect:function(B){if(this.selection.length<this.options.minimumSelection){this.select(B)}},select:function(D){var B=this.options,C=this.selection;D=document.id(D);if(B.selectMode==="multiple"){if(C.contains(D)){this.unselect(D)}else{document.id(D).addClass(B.selectClass);C.push(D);this.fireEvent(B.eventToFire.select,D)}}else{if(B.selectMode=="single"){if(!this.selection.contains(D)){document.id(D).addClass(B.selectClass);C.push(D);if(C.length>1){this.unselect(C[0])}this.fireEvent(B.eventToFire.select,D)}else{if(B.selectToggle){this.unselect(D)}}}}},unselect:function(D){var C=this.selection,B=this.options;if(C.contains(D)&&C.length>B.minimumSelection){document.id(D).removeClass(B.selectClass);C.erase(D);this.fireEvent(B.eventToFire.unselect,[D,this])}},selected:function(){return this.selection},isSelected:function(B){return this.selection.contains(B)}});Jx.List=new Class({Family:"Jx.List",Extends:Jx.Object,parameters:["container","options","selection"],ownsSelection:false,container:null,selection:null,options:{items:null,hover:false,hoverClass:"jxHover",press:false,pressClass:"jxPressed",select:false},init:function(){this.container=document.id(this.options.container);this.container.store("jxList",this);var E=this,C=this.options,D=function(F){var G=F.retrieve("jxListTargetItem")||F;return !G.hasClass("jxDisabled")},B=function(F){var G=F.retrieve("jxListTargetItem")||F;return !G.hasClass("jxUnselectable")};this.bound=$merge(this.bound,{mousedown:function(){if(D(this)){this.addClass(C.pressClass);E.fireEvent("mousedown",this,E)}},mouseup:function(){if(D(this)){this.removeClass(C.pressClass);E.fireEvent("mouseup",this,E)}},mouseenter:function(){if(D(this)){this.addClass(C.hoverClass);E.fireEvent("mouseenter",this,E)}},mouseleave:function(){if(D(this)){this.removeClass(C.hoverClass);E.fireEvent("mouseleave",this,E)}},keydown:function(F){if(F.key=="enter"&&D(this)){this.addClass("jxPressed")}},keyup:function(F){if(F.key=="enter"&&D(this)){this.removeClass("jxPressed")}},click:function(F){if(E.selection&&D(this)&&B(this)){E.selection.select(this,E)}E.fireEvent("click",this,E)},select:function(F){if(D(F)){var G=F.retrieve("jxListTargetItem")||F;E.fireEvent("select",G)}},unselect:function(F){if(D(F)){var G=F.retrieve("jxListTargetItem")||F;E.fireEvent("unselect",G)}},contextmenu:function(G){var F=this.retrieve("jxContextMenu");if(F){F.show(G);this.removeClass(C.pressClass)}G.stop()}});if(C.selection){this.setSelection(C.selection);C.select=true}else{if(C.select){this.selection=new Jx.Selection(C);this.ownsSelection=true}}if($defined(C.items)){this.add(C.items)}},cleanup:function(){this.container.getChildren().each(function(C){this.remove(C)},this);if(this.selection&&this.ownsSelection){this.selection.removeEvents();this.selection.destroy()}this.setSelection(null);this.container.eliminate("jxList");var B=this.bound;B.mousedown=null;B.mouseup=null;B.mouseenter=null;B.mouseleave=null;B.keydown=null;B.keyup=null;B.click=null;B.select=null;B.unselect=null;B.contextmenu=null;this.parent()},add:function(G,B){if(Jx.type(G)=="array"){G.each(function(I){this.add(I,B)}.bind(this));return }var F=document.id(G),H=F.retrieve("jxListTarget")||F,E=this.bound,D=this.options,C=this.container;if(H){H.store("jxListTargetItem",F);H.addEvents({contextmenu:this.bound.contextmenu});if(D.press&&D.pressClass){H.addEvents({mousedown:E.mousedown,mouseup:E.mouseup,keyup:E.keyup,keydown:E.keydown})}if(D.hover&&D.hoverClass){H.addEvents({mouseenter:E.mouseenter,mouseleave:E.mouseleave})}if(this.selection){H.addEvents({click:E.click})}if($defined(B)){if($type(B)=="number"){if(B<C.childNodes.length){F.inject(C.childNodes[B],"before")}else{F.inject(C,"bottom")}}else{if(C.hasChild(B)){F.inject(B,"after")}}this.fireEvent("add",G,this)}else{F.inject(C,"bottom");this.fireEvent("add",G,this)}if(this.selection){this.selection.defaultSelect(F)}}},remove:function(C){var B=document.id(C),D;if(B&&this.container.hasChild(B)){this.unselect(B,true);B.dispose();D=B.retrieve("jxListTarget")||B;D.removeEvents(this.bound);this.fireEvent("remove",C,this);return C}return null},replace:function(C,B){if(this.container.hasChild(C)){this.add(B,C);this.remove(C)}},indexOf:function(B){return $A(this.container.childNodes).indexOf(B)},count:function(){return this.container.childNodes.length},items:function(){return $A(this.container.childNodes)},each:function(C,B){$A(this.container.childNodes).each(C,B)},select:function(B){if(this.selection){this.selection.select(B)}},unselect:function(B,C){if(this.selection){this.selection.unselect(B)}},selected:function(){return this.selection?this.selection.selected:[]},empty:function(){this.container.getChildren().each(function(B){this.remove(B)},this)},setSelection:function(B){var C=this.selection;if(C==B){return }if(C){C.removeEvents(this.bound);if(this.ownsSelection){C.destroy();this.ownsSelection=false}}this.selection=B;if(B){B.addEvents({select:this.bound.select,unselect:this.bound.unselect})}}});Jx.Stack=new (new Class({els:[],base:1000,increment:100,stack:function(B){this.unstack(B);this.els.push(B);this.setZIndex(B,this.els.length-1)},unstack:function(D){var E=this.els;if(E.contains(D)){D.setStyle("z-index","");var B=E.indexOf(D);E.erase(D);for(var C=B;C<E.length;C++){this.setZIndex(E[C],C)}}},setZIndex:function(C,B){B=B||this.els.indexOf(C);if(B!==false){document.id(C).setStyle("z-index",this.base+(B*this.increment))}}}))();MooTools.lang.set("de-DE","Date",{months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]});MooTools.lang.set("de-DE","Jx",{widget:{busyMessage:"Arbeite ..."},colorpalette:{alphaLabel:"alpha (%)"},notice:{closeTip:"Notiz schlieen"},progressbar:{messageText:"Lade...",progressText:"{progress} von {total}"},field:{requiredText:"*"},file:{browseLabel:"Durchsuchen..."},"formatter.boolean":{"true":"Ja","false":"Nein"},"formatter.currency":{sign:""},"formatter.number":{decimalSeparator:",",thousandsSeparator:"."},splitter:{barToolTip:"Ziehen Sie diese Leiste um die Gre zu verndern"},panelset:{barToolTip:"Ziehen Sie diese Leiste um die Gre zu verndern"},panel:{collapseTooltip:"Panel ein-/ausklappen",collapseLabel:"Einklappen",expandLabel:"Ausklappen",maximizeTooltip:"Panel maximieren",maximizeLabel:"maximieren",restoreTooltip:"Panel wieder herstellen",restoreLabel:"wieder herstellen",closeTooltip:"Panel schlieen",closeLabel:"Schlieen"},confirm:{affirmativeLabel:"Ja",negativeLabel:"Nein"},dialog:{label:"Neues Fenster"},message:{okButton:"Ok"},prompt:{okButton:"Ok",cancelButton:"Abbrechen"},upload:{buttonText:"Dateien hochladen"},"plugin.resize":{tooltip:"Klicken um Gre zu verndern. Doppelklick fr automatische Anpassung."},"plugin.editor":{submitButton:"Speichern",cancelButton:"Abbrechen"}});MooTools.lang.set("ru-RU-unicode","Jx",{widget:{busyMessage:"..."},colorpalette:{alphaLabel:"alpha (%)"},notice:{closeTip:" ? ?"},progressbar:{messageText:"...",progressText:"{progress}  {total}"},field:{requiredText:"*"},file:{browseLabel:"..."},"formatter.boolean":{"true":"","false":"?"},"formatter.currency":{sign:"."},"formatter.number":{decimalSeparator:",",thousandsSeparator:" "},splitter:{barToolTip:"?,   "},panelset:{barToolTip:"?,   "},panel:{collapseTooltip:"/ ",collapseLabel:"",expandLabel:"",maximizeTooltip:" ",maximizeLabel:"",restoreTooltip:"?? ",restoreLabel:"??",closeTooltip:" ",closeLabel:""},confirm:{affirmativeLabel:"",negativeLabel:"?"},dialog:{resizeToolTip:" "},message:{okButton:""},prompt:{okButton:"",cancelButton:""},upload:{buttonText:" "},"plugin.resize":{tooltip:"?,  ,   ?  ."},"plugin.editor":{submitButton:"",cancelButton:""}});Jx.Record=new Class({Extends:Jx.Object,Family:"Jx.Record",options:{separator:".",primaryKey:null},data:null,state:null,columns:null,parameters:["store","columns","data","options"],init:function(){this.parent();if($defined(this.options.columns)){this.columns=this.options.columns}if($defined(this.options.data)){this.processData(this.options.data)}else{this.data=new Hash()}if($defined(this.options.store)){this.store=this.options.store}},get:function(C){var B=Jx.type(C);if(B!=="object"){if(C==="primaryKey"){C=this.resolveCol(this.options.primaryKey)}else{C=this.resolveCol(C)}}if(this.data.has(C.name)){return this.data.get(C.name)}else{return null}},set:function(D,E){var C=Jx.type(D),B;if(C!=="object"){D=this.resolveCol(D)}if(!$defined(this.data)){this.data=new Hash()}B=this.get(D);this.data.set(D.name,E);this.state=Jx.Record.UPDATE;return[D.name,B,E]},equals:function(C,D){if(C==="primaryKey"){C=this.resolveCol(this.options.primaryKey)}else{C=this.resolveCol(C)}if(!this.data.has(C.name)){return null}else{if(!$defined(this.comparator)){this.comparator=new Jx.Compare({separator:this.options.separator})}var B=this.comparator[C.type].bind(this.comparator);return(B(this.get(C),D)===0)}},processData:function(B){this.data=$H(B)},resolveCol:function(B){var C=Jx.type(B);if(C==="number"){B=this.columns[B]}else{if(C==="string"){this.columns.each(function(D){if(D.name===B){B=D}},this)}}return B},asHash:function(){return this.data}});Jx.Record.UPDATE=1;Jx.Record.DELETE=2;Jx.Record.INSERT=3;Jx.Store=new Class({Family:"Jx.Store",Extends:Jx.Object,options:{id:null,columns:[],protocol:null,strategies:null,record:null,recordOptions:{primaryKey:null}},data:null,index:0,id:null,loaded:false,ready:false,deleted:null,init:function(){this.parent();this.deleted=[];if($defined(this.options.id)){this.id=this.options.id}if(!$defined(this.options.protocol)){this.ready=false;return }else{this.protocol=this.options.protocol}this.strategies=new Hash();if($defined(this.options.strategies)){this.options.strategies.each(function(C){this.addStrategy(C)},this)}else{var B=new Jx.Store.Strategy.Full();this.addStrategy(B)}if($defined(this.options.record)){this.record=this.options.record}else{this.record=Jx.Record}},cleanup:function(){this.strategies.each(function(B){B.destroy()},this);this.strategies=null;this.protocol.destroy();this.protocol=null;this.record=null},getStrategy:function(B){if(this.strategies.has(B)){return this.strategies.get(B)}return null},addStrategy:function(B){this.strategies.set(B.name,B);B.setStore(this);B.activate()},load:function(B){this.fireEvent("storeLoad",B)},empty:function(){if($defined(this.data)){this.data.empty()}},hasNext:function(){if($defined(this.data)){return this.index<this.data.length-1}return null},hasPrevious:function(){if($defined(this.data)){return this.index>0}return null},valid:function(){return($defined(this.data)&&$defined(this.data[this.index]))},next:function(){if($defined(this.data)){this.index++;if(this.index===this.data.length){this.index=this.data.length-1}this.fireEvent("storeMove",this);return true}else{return null}},previous:function(){if($defined(this.data)){this.index--;if(this.index<0){this.index=0}this.fireEvent("storeMove",this);return true}else{return null}},first:function(){if($defined(this.data)){this.index=0;this.fireEvent("storeMove",this);return true}else{return null}},last:function(){if($defined(this.data)){this.index=this.data.length-1;this.fireEvent("storeMove",this);return true}else{return null}},count:function(){if($defined(this.data)){return this.data.length}return null},getPosition:function(){if($defined(this.data)){return this.index}return null},moveTo:function(B){if($defined(this.data)&&B>=0&&B<this.data.length){this.index=B;this.fireEvent("storeMove",this);return true}else{if(!$defined(this.data)){return null}else{return false}}},each:function(B,E,D){if($defined(this.data)){var C;if(D){C=this.data.filter(function(F){return F.state!==Jx.Record.DELETE},this)}else{C=this.data}C.each(B,E)}},get:function(C,B){if(!$defined(B)){B=this.index}return this.data[B].get(C)},set:function(D,E,C){if(!$defined(C)){C=this.index}var B=this.data[C].set(D,E);B.reverse();B.push(C);B.reverse();this.fireEvent("storeColumnChanged",B)},refresh:function(){this.fireEvent("storeRefresh",this)},addRecord:function(E,B,D){if(!$defined(this.data)){this.data=[]}B=$defined(B)?B:"bottom";var C=E;if(!(E instanceof Jx.Record)){C=new (this.record)(this,this.options.columns,E,this.options.recordOptions)}if(D){C.state=Jx.Record.INSERT}if(B==="top"){this.data.reverse();this.data.push(C);this.data.reverse()}else{this.data.push(C)}this.fireEvent("storeRecordAdded",[this,C,B])},addRecords:function(E,B){var D=$defined(E),C=Jx.type(E);if(D&&C==="array"){this.fireEvent("storeBeginAddRecords",this);if(B==="top"){E.reverse()}E.each(function(F){this.addRecord(F,B)},this);this.fireEvent("storeEndAddRecords",this);return true}return false},getRecord:function(B){if(!$defined(B)){B=this.index}if(Jx.type(B)==="number"){if($defined(this.data)&&$defined(this.data[B])){return this.data[B]}}else{var C;this.data.each(function(D){if(D===B){C=D}},this);return C}return null},replace:function(E,D){if($defined(E)){if(!$defined(D)){D=this.index}var C=new this.record(this.options.columns,E),B=this.data[D];this.data[D]=C;this.fireEvent("storeRecordReplaced",[B,C]);return true}return false},deleteRecord:function(C){if(!$defined(C)){C=this.index}var B=this.data[C];B.state=Jx.Record.DELETE;this.data.splice(C,1);this.deleted.push(B);this.fireEvent("storeRecordDeleted",[this,B])},insertRecord:function(C,B){this.addRecord(C,B,true)},getColumns:function(){return this.options.columns},findByColumn:function(D,E){if(typeof StopIteration==="undefined"){StopIteration=new Error("StopIteration")}var C;try{this.data.each(function(G,F){if(G.equals(D,E)){C=F;throw StopIteration}},this)}catch(B){if(B!==StopIteration){throw B}return C}return null},removeRecord:function(B){if(!$defined(B)){B=this.index}this.data.splice(B,1);this.fireEvent("storeRecordRemoved",[this,B])},removeRecords:function(D,C){for(var B=D;B<=C;B++){this.removeRecord(D)}this.fireEvent("storeMultipleRecordsRemoved",[this,D,C])},parseTemplate:function(D){var B=[],C;this.options.columns.each(function(E){C="{"+E.name+"}";if(D.contains(C)){B.push(E.name)}},this);return B},fillTemplate:function(D,E,G,F){var B=null,C;if($defined(D)){if(D instanceof Jx.Record){B=D}else{B=this.getRecord(D)}}else{B=this.getRecord(this.index)}C=$defined(F)?F:{};G.each(function(H){C[H]=B.get(H)},this);return E.substitute(C)}});Jx.Compare=new Class({Family:"Jx.Compare",Extends:Jx.Object,options:{separator:"."},alphanumeric:function(C,B){return(C===B)?0:(C<B)?-1:1},numeric:function(C,B){return this.alphanumeric(this.convert(C),this.convert(B))},convert:function(B){if(Jx.type(B)==="string"){var C=false;if(B.substr(0,1)=="-"){C=true}B=parseFloat(B.replace(/^[^\d\.]*([\d., ]+).*/g,"$1").replace(new RegExp("[^\\\d"+this.options.separator+"]","g"),"").replace(/,/,"."))||0;if(C){B=B*-1}}return B||0},ignorecase:function(C,B){return this.alphanumeric((""+C).toLowerCase(),(""+B).toLowerCase())},currency:function(C,B){return this.numeric(C,B)},date:function(D,C){var B=new Date().parse(D),E=new Date().parse(C);return(B<E)?-1:(B>E)?1:0},"boolean":function(C,B){return(C===true&&B===false)?-1:(C===B)?0:1}});Jx.Sort=new Class({Family:"Jx.Sort",Extends:Jx.Object,options:{timeIt:false,onStart:$empty,onEnd:$empty},timer:null,data:null,comparator:$empty,col:null,parameters:["data","fn","col","options"],init:function(){this.parent();if(this.options.timeIt){this.addEvent("start",this.startTimer.bind(this));this.addEvent("stop",this.stopTimer.bind(this))}this.data=this.options.data;this.comparator=this.options.fn;this.col=this.options.col},sort:$empty,startTimer:function(){this.timer=new Date()},stopTimer:function(){this.end=new Date();this.dif=this.timer.diff(this.end,"ms")},setData:function(B){if($defined(B)){this.data=B}},setColumn:function(B){if($defined(B)){this.col=B}},setComparator:function(B){this.comparator=B}});Jx.Sort.Mergesort=new Class({Family:"Jx.Sort.Mergesort",Extends:Jx.Sort,name:"mergesort",sort:function(){this.fireEvent("start");var B=this.mergeSort(this.data);this.fireEvent("stop");return B},mergeSort:function(C){if(C.length<=1){return C}var D=(C.length)/2,F=C.slice(0,D),E=C.slice(D),B;F=this.mergeSort(F);E=this.mergeSort(E);B=this.merge(F,E);return B},merge:function(D,C){var B=[];while(D.length>0&&C.length>0){if(this.comparator((D[0]).get(this.col),(C[0]).get(this.col))<=0){B.push(D[0]);D=D.slice(1)}else{B.push(C[0]);C=C.slice(1)}}while(D.length>0){B.push(D[0]);D=D.slice(1)}while(C.length>0){B.push(C[0]);C=C.slice(1)}return B}});Jx.Sort.Heapsort=new Class({Family:"Jx.Sort.Heapsort",Extends:Jx.Sort,name:"heapsort",sort:function(){this.fireEvent("start");var C=this.data.length,B;if(C===1){return this.data}if(C>2){this.heapify(C);B=C-1;while(B>1){this.data.swap(B,0);B=B-1;this.siftDown(0,B)}}else{if((this.comparator((this.data[0]).get(this.col),(this.data[1]).get(this.col))>0)){this.data.swap(0,1)}}this.fireEvent("stop");return this.data},heapify:function(B){var C=Math.round((B-2)/2);while(C>=0){this.siftDown(C,B-1);C=C-1}},siftDown:function(E,C){var B=E,D;while(B*2<=C){D=B*2;if((D+1<C)&&(this.comparator((this.data[D]).get(this.col),(this.data[D+1]).get(this.col))<0)){D=D+1}if((this.comparator((this.data[B]).get(this.col),(this.data[D]).get(this.col))<0)){this.data.swap(B,D);B=D}else{return }}}});Jx.Sort.Quicksort=new Class({Family:"Jx.Sort.Quicksort",Extends:Jx.Sort,name:"quicksort",sort:function(C,B){this.fireEvent("start");if(!$defined(C)){C=0}if(!$defined(B)){B=this.data.length-1}this.quicksort(C,B);this.fireEvent("stop");return this.data},quicksort:function(D,C){if(D>=C){return }var B=this.partition(D,C);this.quicksort(D,B-1);this.quicksort(B+1,C)},partition:function(G,E){this.findMedianOfMedians(G,E);var F=G,B=(this.data[F]).get(this.col),C=G,D;this.data.swap(F,E);for(D=G;D<E;D++){if(this.comparator((this.data[D]).get(this.col),B)<0){this.data.swap(D,C);C=C+1}}this.data.swap(E,C);return C},findMedianOfMedians:function(G,D){if(G===D){return this.data[G]}var C,B=1,F,E;while(B<=(D-G)){for(C=G;C<=D;C+=B*5){F=(C+B*5-1<D)?C+B*5-1:D;E=this.findMedianIndex(C,F,B);this.data.swap(C,E)}B*=5}return this.data[G]},findMedianIndex:function(D,J,B){var C=Math.round((J-D)/B+1),E=Math.round(D+C/2*B),G,H,K,I,F;if(E>this.data.length-1){E=this.data.length-1}for(G=D;G<E;G+=B){H=G;K=this.data[H];I=K.get(this.col);for(F=G;F<=J;F+=B){if(this.comparator((this.data[F]).get(this.col),I)<0){H=F;I=(this.data[H]).get(this.col)}}this.data.swap(G,H)}return E}});Jx.Sort.Nativesort=new Class({Family:"Jx.Sort.Nativesort",Extends:Jx.Sort,name:"nativesort",sort:function(){this.fireEvent("start");var B=function(D,C){return this.comparator((this.data[D]).get(this.col),(this.data[C]).get(this.col))};this.data.sort(B);this.fireEvent("stop");return this.data}});Jx.Store.Response=new Class({Family:"Jx.Store.Response",Extends:Jx.Object,code:null,data:null,meta:null,requestType:null,requestParams:null,request:null,error:null,success:function(){return this.code>0}});Jx.Store.Response.WAITING=2;Jx.Store.Response.SUCCESS=1;Jx.Store.Response.FAILURE=0;Jx.Store.Protocol=new Class({Extends:Jx.Object,Family:"Jx.Store.Protocol",parser:null,options:{combine:{insert:false,update:false,"delete":false}},init:function(){this.parent();if($defined(this.options.parser)){this.parser=this.options.parser}},cleanup:function(){this.parser=null;this.parent()},read:$empty,insert:$empty,update:$empty,"delete":$empty,abort:$empty,combineRequests:function(B){return $defined(this.options.combine[B])?this.options.combine[B]:false}});Jx.Store.Protocol.Local=new Class({Extends:Jx.Store.Protocol,parameters:["data","options"],data:null,init:function(){this.parent();if($defined(this.options.data)){this.data=this.parser.parse(this.options.data)}},read:function(C){var G=new Jx.Store.Response(),F=C.data.page,D=C.data.itemsPerPage,H,B,E=this.data;G.requestType="read";G.requestParams=arguments;if($defined(E)){if(F<=1&&D===-1){G.data=E;G.meta={count:E.length}}else{H=(F-1)*D;B=H+D;G.data=E.slice(H,B);G.meta={page:F,itemsPerPage:D,totalItems:E.length,totalPages:Math.ceil(E.length/D)}}G.code=Jx.Store.Response.SUCCESS;this.fireEvent("dataLoaded",G)}else{G.code=Jx.Store.Response.SUCCESS;this.fireEvent("dataLoaded",G)}}});Jx.Store.Protocol.Ajax=new Class({Extends:Jx.Store.Protocol,options:{requestOptions:{method:"get"},rest:false,urls:{rest:null,insert:null,read:null,update:null,"delete":null},queue:{autoAdvance:true,concurrent:1}},queue:null,init:function(){if(!$defined(Jx.Store.Protocol.Ajax.UniqueId)){Jx.Store.Protocol.Ajax.UniqueId=1}this.queue=new Request.Queue({autoAdvance:this.options.queue.autoAdvance,concurrent:this.options.queue.concurrent});this.parent()},read:function(C){var F=new Jx.Store.Response(),B={},E,D,G=Jx.Store.Protocol.Ajax.UniqueId();F.requestType="read";F.requestParams=arguments;if(this.options.rest){B.url=this.options.urls.rest}else{B.url=this.options.urls.read}E=$merge(this.options.requestOptions,B,C);E.onSuccess=this.handleResponse.bind(this,F);D=new Request(E);F.request=D;this.queue.addRequest(G,D);D.send();F.code=Jx.Store.Response.WAITING;return F},handleResponse:function(B){var C=B.request,E=C.xhr.responseText,D=this.parser.parse(E);if($defined(D)){if($defined(D.success)&&D.success){if($defined(D.data)){B.data=D.data}if($defined(D.meta)){B.meta=D.meta}B.code=Jx.Store.Response.SUCCESS}else{B.code=Jx.Store.Response.FAILURE;B.error=$defined(D.error)?D.error:null}}else{B.code=Jx.Store.Response.FAILURE}this.fireEvent("dataLoaded",B)},insert:function(B,C){if(this.options.rest){C=$merge({url:this.options.urls.rest},C)}else{C=$merge({url:this.options.urls.insert},C)}this.options.requestOptions.method="POST";return this.run(B,C,"insert")},update:function(B,C){if(this.options.rest){C=$merge({url:this.options.urls.rest},C);this.options.requestOptions.method="PUT"}else{C=$merge({url:this.options.urls.update},C);this.options.requestOptions.method="POST"}return this.run(B,C,"update")},"delete":function(B,C){if(this.options.rest){C=$merge({url:this.options.urls.rest},C);this.options.requestOptions.method="DELETE"}else{C=$merge({url:this.options.urls["delete"]},C);this.options.requestOptions.method="POST"}return this.run(B,C,"delete")},abort:function(B){B.request.cancel()},run:function(B,C,I){var G=new Jx.Store.Response(),E,D,F,H=Jx.Store.Protocol.Ajax.UniqueId();if(Jx.type(B)=="array"){if(!this.combineRequests(I)){B.each(function(J){this.run(J,C,I)},this)}else{F=[];B.each(function(J){F.push(this.parser.encode(J))},this)}}else{F=this.parser.encode(B)}this.options.requestOptions.data=$merge(this.options.requestOptions.data,{data:F});G.requestType=I;G.requestParams=[B,C,I];E=$merge(this.options.requestOptions,C);E.onSuccess=this.handleResponse.bind(this,G);D=new Request(E);G.request=D;this.queue.addRequest(H,D);D.send();G.code=Jx.Store.Response.WAITING;return G}});Jx.Store.Protocol.Ajax.UniqueId=(function(){var B=1;return function(){return"req-"+(B++)}})();Jx.Store.Strategy=new Class({Extends:Jx.Object,Family:"Jx.Store.Strategy",store:null,active:null,init:function(){this.parent();this.active=false},setStore:function(B){if(B instanceof Jx.Store){this.store=B;return true}return false},activate:function(){if(!this.active){this.active=true;return true}return false},deactivate:function(){if(this.active){this.active=false;return true}return false}});Jx.Store.Strategy.Full=new Class({Extends:Jx.Store.Strategy,name:"full",options:{},init:function(){this.parent();this.bound.load=this.load.bind(this);this.bound.loadStore=this.loadStore.bind(this)},activate:function(){this.parent();this.store.addEvent("storeLoad",this.bound.load)},deactivate:function(){this.parent();this.store.removeEvent("storeLoad",this.bound.load)},load:function(C){this.store.fireEvent("storeBeginDataLoad",this.store);this.store.protocol.addEvent("dataLoaded",this.bound.loadStore);var B={};if($defined(C)){B.data=C}else{B.data={}}B.data.page=0;B.data.itemsPerPage=-1;this.store.protocol.read(B)},loadStore:function(B){this.store.protocol.removeEvent("dataLoaded",this.bound.loadStore);if(B.success()){this.store.empty();if($defined(B.meta)){this.parseMetaData(B.meta)}this.store.addRecords(B.data);this.store.loaded=true;this.store.fireEvent("storeDataLoaded",this.store)}else{this.store.loaded=false;this.store.fireEvent("storeDataLoadFailed",[this.store,B])}},parseMetaData:function(B){if($defined(B.columns)){this.store.options.columns=B.columns}if($defined(B.primaryKey)){this.store.options.recordOptions.primaryKey=B.primaryKey}}});Jx.Store.Strategy.Paginate=new Class({Extends:Jx.Store.Strategy,name:"paginate",options:{getPaginationParams:function(){return{page:this.page,itemsPerPage:this.itemsPerPage}},startingItemsPerPage:25,startingPage:1,expirationInterval:(1000*60*5),ignoreExpiration:false},data:null,cacheTimer:null,page:null,itemsPerPage:null,init:function(){this.parent();this.data=new Hash();this.cacheTimer=new Hash();this.bound.load=this.load.bind(this);this.bound.loadStore=this.loadStore.bind(this);this.itemsPerPage=this.options.startingItemsPerPage;this.page=this.options.startingPage},activate:function(){this.parent();this.store.addEvent("storeLoad",this.bound.load)},deactivate:function(){this.parent();this.store.removeEvent("storeLoad",this.bound.load)},load:function(C){this.store.fireEvent("storeBeginDataLoad",this.store);this.store.protocol.addEvent("dataLoaded",this.bound.loadStore);this.params=C;var B={data:$merge(C,this.options.getPaginationParams.apply(this))};this.store.protocol.read(B)},loadStore:function(B){this.store.protocol.removeEvent("dataLoaded",this.bound.loadStore);if(B.success()){if($defined(B.meta)){this.parseMetaData(B.meta)}this.data.set(this.page,B.data);this.loadData(B.data)}else{this.store.fireEvent("storeDataLoadFailed",this.store)}},loadData:function(B){this.store.empty();this.store.loaded=false;if(!this.options.ignoreExpiration){var C=this.expirePage.delay(this.options.expirationInterval,this,this.page);this.cacheTimer.set(this.page,C)}this.store.addRecords(B);this.store.loaded=true;this.store.fireEvent("storeDataLoaded",this.store)},parseMetaData:function(B){if($defined(B.columns)){this.store.options.columns=B.columns}if($defined(B.totalItems)){this.totalItems=B.totalItems}if($defined(B.totalPages)){this.totalPages=B.totalPages}if($defined(B.primaryKey)){this.store.options.recordOptions.primaryKey=B.primaryKey}},expirePage:function(B){this.data.erase(B);this.cacheTimer.erase(B)},setPage:function(B){if(Jx.type(B)==="string"){switch(B){case"first":this.page=1;break;case"last":this.page=this.totalPages;break;case"next":this.page++;break;case"previous":this.page--;break;default:this.page=this.page+Jx.getNumber(B);break}}else{this.page=B}if(this.cacheTimer.has(this.page)){$clear(this.cacheTimer.get(this.page));this.cacheTimer.erase(this.page)}if(this.data.has(this.page)){this.loadData(this.data.get(this.page))}else{this.load(this.params)}},getPage:function(){return this.page},getNumberOfPages:function(){return this.totalPages},setPageSize:function(B){this.itemsPerPage=B;this.cacheTimer.each(function(C){$clear(C)},this);this.cacheTimer.empty();this.data.empty();this.load()},getPageSize:function(){return this.itemsPerPage},getTotalCount:function(){return this.totalItems}});Jx.Store.Strategy.Progressive=new Class({Extends:Jx.Store.Strategy.Paginate,name:"progressive",options:{maxRecords:1000,dropRecords:true},startingPage:0,maxPages:null,loadedPages:0,loadAt:"bottom",init:function(){this.parent();if(this.options.dropPages){this.maxPages=Math.ceil(this.options.maxRecords/this.itemsPerPage)}},loadStore:function(B){this.store.protocol.removeEvent("dataLoaded",this.bound.loadStore);if(B.success()){if($defined(B.meta)){this.parseMetaData(B.meta)}this.loadData(B.data)}else{this.store.fireEvent("storeDataLoadFailed",this.store)}},loadData:function(B){this.store.loaded=false;this.store.addRecords(B,this.loadAt);this.store.loaded=true;this.loadedPages++;this.store.fireEvent("storeDataLoaded",this.store)},nextPage:function(B){if(!$defined(B)){B={}}if(this.options.dropRecords&&this.totalPages>this.startingPage+this.loadedPages){this.loadAt="bottom";if(this.loadedPages>=this.maxPages){this.startingPage++;this.store.removeRecords(0,this.itemsPerPage-1);this.loadedPages--}}this.page=this.startingPage+this.loadedPages+1;this.load($merge(this.params,B))},previousPage:function(B){if(!this.options.dropRecords){return }if(!$defined(B)){B={}}if(this.startingPage>0){this.loadAt="top";if(this.loadedPages>=this.maxPages){this.startingPage--;this.store.removeRecords(this.options.maxRecords-this.itemsPerPage,this.options.maxRecords);this.loadedPages--}this.page=this.startingPage;this.load($merge(this.params,B))}}});Jx.Store.Strategy.Save=new Class({Extends:Jx.Store.Strategy,name:"save",options:{autoSave:false},failedChanges:[],successfulChanges:[],totalChanges:0,init:function(){this.bound.save=this.saveRecord.bind(this);this.bound.update=this.updateRecord.bind(this);this.bound.completed=this.onComplete.bind(this);this.parent()},activate:function(){this.parent();if(Jx.type(this.options.autoSave)==="number"){this.periodicalId=this.save.periodical(this.options.autoSave,this)}else{if(this.options.autoSave){this.store.addEvent("storeRecordAdded",this.bound.save);this.store.addEvent("storeColumnChanged",this.bound.update);this.store.addEvent("storeRecordDeleted",this.bound.save)}}},deactivate:function(){this.parent();if($defined(this.periodicalId)){$clear(this.periodicalId)}else{if(this.options.autoSave){this.store.removeEvent("storeRecordAdded",this.bound.save);this.store.removeEvent("storeColumnChanged",this.bound.update);this.store.removeEvent("storeRecordDeleted",this.bound.save)}}},updateRecord:function(C,D,B,E){var F=this.saveRecord(this.store,this.store.getRecord(C));if(F){F.index=C}},saveRecord:function(C,B){if(!this.updating&&$defined(B.state)){if(this.totalChanges===0){C.protocol.addEvent("dataLoaded",this.bound.completed)}this.totalChanges++;var D;switch(B.state){case Jx.Record.UPDATE:D=C.protocol.update(B);break;case Jx.Record.DELETE:D=C.protocol["delete"](B);break;case Jx.Record.INSERT:D=C.protocol.insert(B);break;default:break}return D}},save:function(){if(this.store.loaded){var B=[];B[Jx.Record.UPDATE]=[];B[Jx.Record.INSERT]=[];this.store.data.each(function(C){if($defined(C)&&$defined(C.state)){B[C.state].push(C)}},this);B[Jx.Record.DELETE]=this.store.deleted;if(!this.updating){if(this.totalChanges===0){store.protocol.addEvent("dataLoaded",this.bound.completed)}this.totalChanges+=B[Jx.Record.UPDATE].length+B[Jx.Record.INSERT].length+B[Jx.Record.DELETE].length;if(B[Jx.Record.UPDATE].length){this.store.protocol.update(B[Jx.Record.UPDATE])}if(B[Jx.Record.INSERT].length){this.store.protocol.insert(B[Jx.Record.INSERT])}if(B[Jx.Record.DELETE].length){this.store.protocol["delete"](B[Jx.Record.DELETE])}}}},onComplete:function(C){if(!C.success()||($defined(C.meta)&&!C.meta.success)){this.failedChanges.push(C)}else{var B=[C.requestParams[0]].flatten(),D=$defined(C.data)?[C.data].flatten():null;B.each(function(E,F){if(C.requestType==="delete"){this.store.deleted.erase(E)}else{if(C.requestType==="insert"||C.requestType=="update"){if(D&&$defined(D[F])){this.updating=true;$H(D[F]).each(function(I,G){var H=E.set(G,I);if(H[1]!=I){H.unshift(F);E.store.fireEvent("storeColumnChanged",H)}});this.updating=false}}E.state=null}this.totalChanges--},this);this.successfulChanges.push(C)}if(this.totalChanges===0){this.store.protocol.removeEvent("dataLoaded",this.bound.completed);this.store.fireEvent("storeChangesCompleted",{successful:this.successfulChanges,failed:this.failedChanges})}}});Jx.Store.Strategy.Sort=new Class({Extends:Jx.Store.Strategy,name:"sort",options:{sortOnStoreEvents:["storeColumnChanged","storeDataLoaded"],defaultSort:"merge",separator:".",sortCols:[]},sorters:{quick:"Quicksort",merge:"Mergesort",heap:"Heapsort","native":"Nativesort"},init:function(){this.parent();this.bound.sort=this.sort.bind(this)},activate:function(){if($defined(this.options.sortOnStoreEvents)){this.options.sortOnStoreEvents.each(function(B){this.store.addEvent(B,this.bound.sort)},this)}},deactivate:function(){if($defined(this.options.sortOnStoreEvents)){this.options.sortOnStoreEvents.each(function(B){this.store.removeEvent(B,this.bound.sort)},this)}},sort:function(D,C,B){if(this.store.count()){this.store.fireEvent("sortStart",this);var E;if($defined(D)&&Jx.type(D)==="array"){E=this.options.sortCols=D}else{if($defined(D)&&Jx.type(D)==="string"){this.options.sortCols=[];this.options.sortCols.push(D);E=this.options.sortCols}else{if($defined(this.options.sortCols)){E=this.options.sortCols}else{return null}}}this.sortType=C;this.store.data=this.doSort(E[0],C,this.store.data,true);if(E.length>1){this.store.data=this.subSort(this.store.data,0,1)}if($defined(B)&&B==="desc"){this.store.data.reverse()}this.store.fireEvent("storeSortFinished",this)}},subSort:function(F,G,C){if(C>=this.options.sortCols.length){return F}var J=[];var B=[];var D=this.options.sortCols[G];var H=this.options.sortCols[C];var I=F[0].get(D);this.sorter.setColumn(H);for(var E=0;E<F.length;E++){if(I===(F[E]).get(D)){B.push(F[E])}else{if(B.length>1){J=J.concat(this.subSort(this.doSort(H,this.sortType,B,true),G+1,C+1))}else{J=J.concat(B)}I=(F[E]).get(D);B.empty();B.push(F[E])}}if(B.length>1){this.sorter.setData(B);J=J.concat(this.subSort(this.doSort(H,this.sortType,B,true),G+1,C+1))}else{J=J.concat(B)}return J},doSort:function(D,E,G,C,B){B={}||B;E=(E)?this.sorters[E]:this.sorters[this.options.defaultSort];G=G?G:this.data;C=C?true:false;if(!$defined(this.comparator)){this.comparator=new Jx.Compare({separator:this.options.separator})}this.col=D=this.resolveCol(D);var F=this.comparator[D.type].bind(this.comparator);if(!$defined(this.sorter)){this.sorter=new Jx.Sort[E](G,F,D.name,B)}else{this.sorter.setComparator(F);this.sorter.setColumn(D.name);this.sorter.setData(G)}var H=this.sorter.sort();if(C){return H}else{this.data=H}},resolveCol:function(B){var C=Jx.type(B);if(C==="number"){B=this.store.options.columns[B]}else{if(C==="string"){this.store.options.columns.each(function(D){if(D.name===B){B=D}},this)}}return B}});Jx.Store.Parser=new Class({Extends:Jx.Object,Family:"Jx.Store.Parser",parse:$empty,encode:$empty});Jx.Store.Parser.JSON=new Class({Extends:Jx.Store.Parser,options:{secure:false},parse:function(C){var B=Jx.type(C);if(B==="string"){return JSON.decode(C,this.options.secure)}return C},encode:function(B){var C;if(B instanceof Jx.Record){C=B.asHash()}else{C=B}return JSON.encode(C)}});Jx.Button=new Class({Family:"Jx.Button",Extends:Jx.Widget,options:{image:"",tooltip:"",label:"",toggle:false,toggleClass:"jxButtonToggle",pressedClass:"jxButtonPressed",activeClass:"jxButtonActive",active:false,enabled:true,href:"javascript:void(0);",target:"",template:'<span class="jxButtonContainer"><a class="jxButton"><span class="jxButtonContent"><img class="jxButtonIcon" src="'+Jx.aPixel.src+'"><span class="jxButtonLabel"></span></span></a></span>'},classes:new Hash({domObj:"jxButtonContainer",domA:"jxButton",domImg:"jxButtonIcon",domLabel:"jxButtonLabel"}),render:function(){this.parent();var C=this.options,D,B;if(C.toggle){this.domObj.addClass(C.toggleClass)}if(this.domA){this.domA.set({target:C.target,href:C.href,title:this.getText(C.tooltip),alt:this.getText(C.tooltip)});this.domA.addEvents({click:this.clicked.bindWithEvent(this),drag:(function(E){E.stop()}).bindWithEvent(this),mousedown:(function(E){this.domA.addClass(C.pressedClass);D=true;B=true;this.focus()}).bindWithEvent(this),mouseup:(function(E){this.domA.removeClass(C.pressedClass);if(!this.options.active){this.blur()}B=false}).bindWithEvent(this),mouseleave:(function(E){this.domA.removeClass(C.pressedClass)}).bindWithEvent(this),mouseenter:(function(E){if(D&&B){this.domA.addClass(C.pressedClass)}}).bindWithEvent(this),keydown:(function(E){if(E.key=="enter"){this.domA.addClass(C.pressedClass)}}).bindWithEvent(this),keyup:(function(E){if(E.key=="enter"){this.domA.removeClass(C.pressedClass)}}).bindWithEvent(this),blur:function(){D=false}});if(typeof Drag!="undefined"){new Drag(this.domA,{onStart:function(){this.stop()}})}}if(this.domImg){if(C.image||!C.label){this.domImg.set({title:this.getText(C.tooltip),alt:this.getText(C.tooltip)});if(C.image&&C.image.indexOf(Jx.aPixel.src)==-1){this.domImg.setStyle("backgroundImage","url("+C.image+")")}if(C.imageClass){this.domImg.addClass(C.imageClass)}}else{this.domImg.setStyle("display","none")}}if(this.domLabel){if(C.label||this.domA.hasClass("jxDiscloser")){this.setLabel(C.label)}else{this.domLabel.setStyle("display","none")}}if(C.id){this.domObj.set("id",C.id)}this.setEnabled(C.enabled);if(C.active){C.active=false;this.setActive(true)}},clicked:function(B){var C=this.options;if(C.enabled&&!this.isBusy()){if(C.toggle){this.setActive(!C.active)}else{this.fireEvent("click",{obj:this,event:B})}}},isEnabled:function(){return this.options.enabled},setEnabled:function(B){this.options.enabled=B;if(B){this.domObj.removeClass("jxDisabled")}else{this.domObj.addClass("jxDisabled")}},isActive:function(){return this.options.active},setActive:function(C){var B=this.options;if(B.enabled&&!this.isBusy()){if(B.active==C){return }B.active=C;if(this.domA){if(B.active){this.domA.addClass(B.activeClass)}else{this.domA.removeClass(B.activeClass);this.blur()}}this.fireEvent(C?"down":"up",this)}},setImage:function(B){this.options.image=B;if(this.domImg){this.domImg.setStyle("backgroundImage","url("+B+")");this.domImg.setStyle("display",B?null:"none")}},setLabel:function(B){this.options.label=B;if(this.domLabel){this.domLabel.set("html",this.getText(B));this.domLabel.setStyle("display",B||this.domA.hasClass("jxDiscloser")?null:"none")}},getLabel:function(){return this.options.label},setTooltip:function(C){if(this.domA){this.domA.set({title:this.getText(C),alt:this.getText(C)})}if(this.domImg){var B=this.domImg.get("title");if($defined(B)){this.domImg.set({title:this.getText(C),alt:this.getText(C)})}}},focus:function(){if(this.domA){this.domA.focus()}},blur:function(){if(this.domA){this.domA.blur()}},changeText:function(B){this.parent();this.setLabel(this.options.label);this.setTooltip(this.options.tooltip)}});Jx.Button.Flyout=new Class({Family:"Jx.Button.Flyout",Extends:Jx.Button,Binds:["keypressHandler","clickHandler"],options:{template:'<span class="jxButtonContainer"><a class="jxButton jxButtonFlyout jxDiscloser"><span class="jxButtonContent"><img class="jxButtonIcon" src="'+Jx.aPixel.src+'"><span class="jxButtonLabel "></span></a></span>',contentTemplate:'<div class="jxFlyout"><div class="jxFlyoutContent"></div></div>',position:{horizontal:["left left","right right"],vertical:["bottom top","top bottom"]},positionElement:null},contentClasses:new Hash({contentContainer:"jxFlyout",content:"jxFlyoutContent"}),content:null,render:function(){var B=this.options;if(!Jx.Button.Flyout.Stack){Jx.Button.Flyout.Stack=[]}this.parent();this.processElements(B.contentTemplate,this.contentClasses);if(B.contentClass){this.content.addClass(B.contentClass)}this.content.store("jxFlyout",this);if(!B.loadOnDemand||B.active){this.loadContent(this.content)}else{this.addEvent("contentLoaded",function(C){this.show(C)}.bind(this))}},cleanup:function(){this.content.eliminate("jxFlyout");this.content.destroy();this.contentClasses.each(function(C,B){this[B]=null},this);this.parent()},clicked:function(C){var B=this.options;if(!B.enabled){return }if(this.contentIsLoaded&&B.cacheContent){this.show(C)}else{if(B.loadOnDemand||!B.cacheContent){this.loadContent(this.content)}else{this.show(C)}}},show:function(H){var G,E,D=this.owner,C=Jx.Button.Flyout.Stack,F=this.options;if(!D){this.owner=D=document.body;var G=document.id(this.domObj.parentNode);while(G!=document.body&&D==document.body){var E=G.retrieve("jxFlyout");if(E){this.owner=D=E;break}else{G=document.id(G.parentNode)}}}if(C[C.length-1]==this){this.hide();return }else{if(D!=document.body){if(D.currentFlyout==this){this.hide();return }else{if(D.currentFlyout){D.currentFlyout.hide()}}D.currentFlyout=this}else{while(C.length){C[C.length-1].hide()}}}C.push(this);this.fireEvent("beforeOpen");F.active=true;this.domA.addClass(F.activeClass);this.contentContainer.setStyle("visibility","hidden");document.id(document.body).adopt(this.contentContainer);this.content.getChildren().each(function(J){if(J.resize){J.resize()}});this.showChrome(this.contentContainer);var B=F.positionElement||this.domObj;var I=$merge(F.position,{offsets:this.chromeOffsets});this.position(this.contentContainer,B,I);this.contentContainer.setContentBoxSize(document.id(this.content).getMarginBoxSize());this.stack(this.contentContainer);this.contentContainer.setStyle("visibility","");document.addEvent("keydown",this.keypressHandler);document.addEvent("click",this.clickHandler);this.fireEvent("open",this)},hide:function(){if(this.owner!=document.body){this.owner.currentFlyout=null}Jx.Button.Flyout.Stack.pop();this.setActive(false);this.contentContainer.dispose();this.unstack(this.contentContainer);document.removeEvent("keydown",this.keypressHandler);document.removeEvent("click",this.clickHandler);this.fireEvent("close",this)},clickHandler:function(C){C=new Event(C);var D=document.id(C.target),B=Jx.Button.Flyout.Stack[Jx.Button.Flyout.Stack.length-1];if(!D.descendantOf(B.content)&&!D.descendantOf(B.domObj)){B.hide()}},keypressHandler:function(B){B=new Event(B);if(B.key=="esc"){Jx.Button.Flyout.Stack[Jx.Button.Flyout.Stack.length-1].hide()}}});Jx.ColorPalette=new Class({Family:"Jx.ColorPalette",Extends:Jx.Widget,domObj:null,options:{parent:null,color:"#000000",alpha:1,hexColors:["00","33","66","99","CC","FF"]},render:function(){this.domObj=new Element("div",{id:this.options.id,"class":"jxColorPalette"});var H=new Element("div",{"class":"jxColorBar"});var Q=new Element("div",{"class":"jxColorPreview"});this.selectedSwatch=new Element("div",{"class":"jxColorSelected"});this.previewSwatch=new Element("div",{"class":"jxColorHover"});Q.adopt(this.selectedSwatch);Q.adopt(this.previewSwatch);H.adopt(Q);this.colorInputLabel=new Element("label",{"class":"jxColorLabel",html:"#"});H.adopt(this.colorInputLabel);var K=this.changed.bind(this);this.colorInput=new Element("input",{"class":"jxHexInput",type:"text",maxLength:6,events:{keyup:K,blur:K,change:K}});H.adopt(this.colorInput);this.alphaLabel=new Element("label",{"class":"jxAlphaLabel",html:this.getText({set:"Jx",key:"colorpalette",value:"alphaLabel"})});H.adopt(this.alphaLabel);this.alphaInput=new Element("input",{"class":"jxAlphaInput",type:"text",maxLength:3,events:{keyup:this.alphaChanged.bind(this)}});H.adopt(this.alphaInput);this.domObj.adopt(H);var I=this.swatchClick.bindWithEvent(this);var G=this.swatchOver.bindWithEvent(this);var P=new Element("table",{"class":"jxColorGrid"});var B=new Element("tbody");P.adopt(B);for(var N=0;N<12;N++){var C=new Element("tr");for(var L=-3;L<18;L++){var F=false;var J,O,R;if(L<0){if(L==-3||L==-1){J=O=R=0;F=true}else{if(N<6){J=O=R=N}else{if(N==6){J=5;O=0;R=0}else{if(N==7){J=0;O=5;R=0}else{if(N==8){J=0;O=0;R=5}else{if(N==9){J=5;O=5;R=0}else{if(N==10){J=0;O=5;R=5}else{if(N==11){J=5;O=0;R=5}}}}}}}}}else{J=parseInt(N/6,10)*3+parseInt(L/6,10);O=L%6;R=N%6}var D="#"+this.options.hexColors[J]+this.options.hexColors[O]+this.options.hexColors[R];var E=new Element("td");if(!F){E.setStyle("backgroundColor",D);var S=new Element("a",{"class":"colorSwatch "+(((J>2&&O>2)||(J>2&&R>2)||(O>2&&R>2))?"borderBlack":"borderWhite"),href:"javascript:void(0)",title:D,alt:D,events:{mouseover:G,click:I}});S.store("swatchColor",D);E.adopt(S)}else{var M=new Element("span",{"class":"emptyCell"});E.adopt(M)}C.adopt(E)}B.adopt(C)}this.domObj.adopt(P);this.updateSelected();if(this.options.parent){this.addTo(this.options.parent)}},swatchOver:function(C){var B=C.target;this.previewSwatch.setStyle("backgroundColor",B.retrieve("swatchColor"))},swatchClick:function(C){var B=C.target;this.options.color=B.retrieve("swatchColor");this.updateSelected();this.fireEvent("click",this)},changed:function(){var B=this.colorInput.value;if(B.substring(0,1)=="#"){B=B.substring(1)}if(B.toLowerCase().match(/^[0-9a-f]{6}$/)){this.options.color="#"+B.toUpperCase();this.updateSelected()}},alphaChanged:function(){var B=this.alphaInput.value;if(B.match(/^[0-9]{1,3}$/)){this.options.alpha=parseFloat(B/100);this.updateSelected()}},setColor:function(B){this.colorInput.value=B;this.changed()},setAlpha:function(B){this.alphaInput.value=B;this.alphaChanged()},updateSelected:function(){var B={backgroundColor:this.options.color};this.colorInput.value=this.options.color.substring(1);this.alphaInput.value=parseInt(this.options.alpha*100,10);if(this.options.alpha<1){B.opacity=this.options.alpha;B.filter="Alpha(opacity="+(this.options.alpha*100)+")"}else{B.opacity=1;B.filter=""}this.selectedSwatch.setStyles(B);this.previewSwatch.setStyles(B);this.fireEvent("change",this)},changeText:function(B){this.parent();if($defined(this.alphaLabel)){this.alphaLabel.set("html",this.getText({set:"Jx",key:"colorpalette",value:"alphaLabel"}))}}});Jx.Button.Color=new Class({Family:"Jx.Button.Color",Extends:Jx.Button.Flyout,swatch:null,options:{color:"#000000",alpha:100,template:'<span class="jxButtonContainer"><a class="jxButton jxButtonFlyout jxDiscloser"><span class="jxButtonContent"><span class="jxButtonSwatch"><span class="jxButtonSwatchColor"></span></span><span class="jxButtonLabel"></span></span></a></span>'},classes:new Hash({domObj:"jxButtonContainer",domA:"jxButton",swatch:"jxButtonSwatchColor",domLabel:"jxButtonLabel"}),render:function(){if(!Jx.Button.Color.ColorPalette){Jx.Button.Color.ColorPalette=new Jx.ColorPalette(this.options)}this.options.image=Jx.aPixel.src;this.parent();this.updateSwatch();this.bound.changed=this.changed.bind(this);this.bound.hide=this.hide.bind(this)},cleanup:function(){this.bound.changed=false;this.bound.hide=false;this.parent()},clicked:function(){var B=Jx.Button.Color.ColorPalette;if(B.currentButton){B.currentButton.hide()}B.currentButton=this;B.addEvent("change",this.bound.changed);B.addEvent("click",this.bound.hide);this.content.appendChild(B.domObj);B.domObj.setStyle("display","block");Jx.Button.Flyout.prototype.clicked.apply(this,arguments);B.options.color=this.options.color;B.options.alpha=this.options.alpha/100;B.updateSelected()},hide:function(){var B=Jx.Button.Color.ColorPalette;this.setActive(false);B.removeEvent("change",this.bound.changed);B.removeEvent("click",this.bound.hide);Jx.Button.Flyout.prototype.hide.apply(this,arguments);B.currentButton=null},setColor:function(B){this.options.color=B;this.updateSwatch()},setAlpha:function(B){this.options.alpha=B;this.updateSwatch()},changed:function(B){var C=false;if(this.options.color!=B.options.color){this.options.color=B.options.color;C=true}if(this.options.alpha!=B.options.alpha*100){this.options.alpha=B.options.alpha*100;C=true}if(C){this.updateSwatch();this.fireEvent("change",this)}},updateSwatch:function(){var B={backgroundColor:this.options.color};if(this.options.alpha<100){B.filter="Alpha(opacity="+(this.options.alpha)+")";B.opacity=this.options.alpha/100}else{B.opacity=1;B.filter=""}this.swatch.setStyles(B)}});Jx.Menu=new Class({Family:"Jx.Menu",Extends:Jx.Widget,button:null,subDomObj:null,list:null,parameters:["buttonOptions","options"],options:{exposeOnHover:false,hideDelay:0,template:"<div class='jxMenuContainer'><ul class='jxMenu'></ul></div>",buttonTemplate:'<span class="jxButtonContainer"><a class="jxButton jxButtonMenu jxDiscloser"><span class="jxButtonContent"><img class="jxButtonIcon" src="'+Jx.aPixel.src+'"><span class="jxButtonLabel"></span></span></a></span>',position:{horizontal:["left left"],vertical:["bottom top","top bottom"]}},classes:new Hash({contentContainer:"jxMenuContainer",subDomObj:"jxMenu"}),init:function(){this.bound.stop=function(B){B.stop()};this.bound.remove=function(B){B.setOwner(null)};this.bound.show=this.show.bind(this);this.bound.mouseenter=this.onMouseEnter.bind(this);this.bound.mouseleave=this.onMouseLeave.bind(this);this.bound.keypress=this.keypressHandler.bind(this);this.bound.hide=this.hide.bind(this);this.parent()},render:function(){this.parent();if(!Jx.Menu.Menus){Jx.Menu.Menus=[]}this.contentClone=this.contentContainer.clone();this.list=new Jx.List(this.subDomObj,{onRemove:this.bound.remove});if(this.options.buttonOptions){this.button=new Jx.Button($merge(this.options.buttonOptions,{template:this.options.buttonTemplate,onClick:this.bound.show}));this.button.domA.addEvent("mouseenter",this.bound.mouseenter);this.button.domA.addEvent("mouseleave",this.bound.mouseleave);this.domObj=this.button.domObj;this.domObj.store("jxMenu",this)}this.subDomObj.addEvent("mouseenter",this.bound.mouseenter);this.subDomObj.addEvent("mouseleave",this.bound.mouseleave);this.subDomObj.store("jxSubMenu",this);if(this.options.parent){this.addTo(this.options.parent)}},cleanup:function(){if(this.hideTimer){window.clearTimeout(this.hideTimer)}this.list.removeEvent("remove",this.bound.remove);this.list.destroy();this.list=null;if(this.button){this.domObj.eliminate("jxMenu");this.domObj=null;this.button.removeEvent("click",this.bound.show);this.button.domA.removeEvents({mouseenter:this.bound.mouseenter,mouseleave:this.bound.mouseleave});this.button.destroy();this.button=null}this.subDomObj.removeEvents({mouseenter:this.bound.mouseenter,mouseleave:this.bound.mouseleave});this.subDomObj.removeEvents();this.contentContainer.removeEvent("contextmenu",this.bound.stop);this.subDomObj.destroy();this.contentContainer.destroy();this.contentClone.destroy();this.bound.remove=null;this.bound.show=null;this.bound.stop=null;this.bound.mouseenter=null;this.bound.mouseleave=null;this.bound.keypress=null;this.bound.hide=null;this.parent()},add:function(D,C,B){if(Jx.type(D)=="array"){D.each(function(E){E.setOwner(B||this)},this)}else{D.setOwner(B||this)}this.list.add(D,C);return this},remove:function(B){this.list.remove(B);return this},replace:function(C,B){this.list.replace(C,B);return this},empty:function(){this.list.each(function(B){if(B.empty){B.empty()}B.setOwner(null)},this);this.list.empty()},deactivate:function(){this.hide()},onMouseEnter:function(B){if(this.hideTimer){window.clearTimeout(this.hideTimer);this.hideTimer=null}if(Jx.Menu.Menus[0]&&Jx.Menu.Menus[0]!=this){this.show.delay(1,this)}else{if(this.options.exposeOnHover){if(Jx.Menu.Menus[0]&&Jx.Menu.Menus[0]==this){Jx.Menu.Menus[0]=null}this.show.delay(1,this)}}},onMouseLeave:function(B){if(this.options.hideDelay>0){this.hideTimer=(function(){this.deactivate()}).delay(this.options.hideDelay,this)}},eventInMenu:function(E){var D=document.id(E.target);if(!D){return false}if(D.descendantOf(this.domObj)||D.descendantOf(this.subDomObj)){return true}else{var C=D.getParent("ul");if(C){var F=C.retrieve("jxSubMenu");if(F){if(F.eventInMenu(E)){return true}var B=F.owner;while(B){if(B==this){return true}B=B.owner}}}return false}},hide:function(B){if(B){if(this.visibleItem&&this.visibleItem.eventInMenu){if(this.visibleItem.eventInMenu(B)){return }}else{if(this.eventInMenu(B)){return }}}if(Jx.Menu.Menus[0]&&Jx.Menu.Menus[0]==this){Jx.Menu.Menus[0]=null}if(this.button&&this.button.domA){this.button.domA.removeClass(this.button.options.activeClass)}if(this.hideTimer){window.clearTimeout(this.hideTimer)}this.list.each(function(C){C.retrieve("jxMenuItem").hide(B)});document.removeEvent("mousedown",this.bound.hide);document.removeEvent("keydown",this.bound.keypress);this.unstack(this.contentContainer);this.contentContainer.dispose();this.visibleItem=null;this.fireEvent("hide",this)},show:function(){if(this.button){if(Jx.Menu.Menus[0]){if(Jx.Menu.Menus[0]!=this){Jx.Menu.Menus[0].button.blur();Jx.Menu.Menus[0].hide()}else{this.hide();return }}Jx.Menu.Menus[0]=this;this.button.focus();if(this.list.count()==0){return }}if(this.hideTimer){window.clearTimeout(this.hideTimer)}this.subDomObj.dispose();this.contentContainer.destroy();this.contentContainer=this.contentClone.clone();this.contentContainer.empty().adopt(this.subDomObj);this.contentContainer.addEvent("contextmenu",this.bound.stop);this.contentContainer.setStyle("display","none");document.id(document.body).adopt(this.contentContainer);this.contentContainer.setStyles({visibility:"hidden",display:"block"});this.contentContainer.setContentBoxSize(this.subDomObj.getMarginBoxSize());this.showChrome(this.contentContainer);this.position(this.contentContainer,this.domObj,$merge({offsets:this.chromeOffsets},this.options.position));this.stack(this.contentContainer);this.contentContainer.setStyle("visibility","visible");if(this.button&&this.button.domA){this.button.domA.addClass(this.button.options.activeClass)}document.addEvent("mousedown",this.bound.hide);document.addEvent("keydown",this.bound.keypress);this.fireEvent("show",this)},setVisibleItem:function(B){if(this.hideTimer){window.clearTimeout(this.hideTimer)}if(this.visibleItem!=B){if(this.visibleItem&&this.visibleItem.hide){this.visibleItem.hide()}this.visibleItem=B;this.visibleItem.show()}},keypressHandler:function(B){B=new Event(B);if(B.key=="esc"){this.hide()}},isEnabled:function(){return this.button?this.button.isEnabled():this.options.enabled},setEnabled:function(B){return this.button?this.button.setEnabled(B):this.options.enable},isActive:function(){return this.button?this.button.isActive():this.options.active},setActive:function(B){if(this.button){this.button.setActive(B)}},setImage:function(B){if(this.button){this.button.setImage(B)}},setLabel:function(B){if(this.button){this.button.setLabel(B)}},getLabel:function(){return this.button?this.button.getLabel():""},setTooltip:function(B){if(this.button){this.button.setTooltip(B)}},focus:function(){if(this.button){this.button.focus()}},blur:function(){if(this.button){this.button.blur()}}});Jx.Menu.Item=new Class({Family:"Jx.Menu.Item",Extends:Jx.Button,owner:null,options:{label:"&nbsp;",toggleClass:"jxMenuItemToggle",pressedClass:"jxMenuItemPressed",activeClass:"jxMenuItemActive",template:'<li class="jxMenuItemContainer"><a class="jxMenuItem"><span class="jxMenuItemContent"><img class="jxMenuItemIcon" src="'+Jx.aPixel.src+'"><span class="jxMenuItemLabel"></span></span></a></li>'},classes:new Hash({domObj:"jxMenuItemContainer",domA:"jxMenuItem",domImg:"jxMenuItemIcon",domLabel:"jxMenuItemLabel"}),init:function(){this.bound.mouseover=this.onMouseOver.bind(this);this.parent()},render:function(){if(!this.options.image){this.options.image=Jx.aPixel.src}this.parent();if(this.options.image&&this.options.image!=Jx.aPixel.src){this.domObj.removeClass(this.options.toggleClass)}if(this.options.target){this.domA.set("target",this.options.target)}this.domObj.addEvent("mouseover",this.bound.mouseover);this.domObj.store("jxMenuItem",this)},cleanup:function(){this.domObj.eliminate("jxMenuItem");this.domObj.removeEvent("mouseover",this.bound.mouseover);this.bound.mouseover=null;this.owner=null;this.parent()},setOwner:function(B){this.owner=B},hide:function(){this.blur.delay(1,this)},show:$empty,clicked:function(C){var B=this.options.href&&this.options.href.indexOf("javascript:")!=0;if(this.options.enabled){if(!B){if(this.options.toggle){this.setActive.delay(1,this,!this.options.active)}this.fireEvent.delay(1,this,["click",{obj:this}]);this.blur()}if(this.owner&&this.owner.deactivate){this.owner.deactivate.delay(1,this.owner,C.event)}}return B?true:false},onMouseOver:function(B){B.stop();if(this.owner&&this.owner.setVisibleItem){this.owner.setVisibleItem(this)}return false},changeText:function(B){this.parent();if(this.owner&&this.owner.deactivate){this.owner.deactivate()}}});Jx.ButtonSet=new Class({Family:"Jx.ButtonSet",Extends:Jx.Object,Binds:["buttonChanged"],buttons:[],cleanup:function(){this.buttons.each(function(B){B.removeEvent("down",this.buttonChanged);B.setActive=null},this);this.activeButton=null;this.buttons=null;this.parent()},add:function(){$A(arguments).each(function(B){if(B.domObj.hasClass(B.options.toggleClass)){B.domObj.removeClass(B.options.toggleClass);B.domObj.addClass(B.options.toggleClass+"Set")}B.addEvent("down",this.buttonChanged);B.setActive=function(C){if(B.options.active&&this.activeButton==B){return }else{Jx.Button.prototype.setActive.apply(B,[C])}}.bind(this);if(!this.activeButton||B.options.active){B.options.active=false;B.setActive(true)}this.buttons.push(B)},this);return this},remove:function(B){this.buttons.erase(B);if(this.activeButton==B){if(this.buttons.length){this.buttons[0].setActive(true)}B.removeEvent("down",this.buttonChanged);B.setActive=Jx.Button.prototype.setActive}},empty:function(){this.buttons=[];this.activeButton=null},setActiveButton:function(C){var B=this.activeButton;this.activeButton=C;if(B&&B!=C){B.setActive(false)}},buttonChanged:function(B){this.setActiveButton(B);this.fireEvent("change",this)}});Jx.Button.Multi=new Class({Family:"Jx.Button.Multi",Extends:Jx.Button,activeButton:null,buttons:null,options:{template:'<span class="jxButtonContainer"><a class="jxButton jxButtonMulti jxDiscloser"><span class="jxButtonContent"><img src="'+Jx.aPixel.src+'" class="jxButtonIcon"><span class="jxButtonLabel"></span></span></a><a class="jxButtonDisclose" href="javascript:void(0)"><img src="'+Jx.aPixel.src+'"></a></span>',menuOptions:{}},classes:new Hash({domObj:"jxButtonContainer",domA:"jxButton",domImg:"jxButtonIcon",domLabel:"jxButtonLabel",domDisclose:"jxButtonDisclose"}),render:function(){this.parent();this.buttons=[];this.menu=new Jx.Menu({},this.options.menuOptions);this.menu.button=this;this.buttonSet=new Jx.ButtonSet();this.bound.click=this.clicked.bind(this);if(this.domDisclose){var B=this;var C;this.bound.disclose={click:function(D){if(this.list.count()===0){return }if(!B.options.enabled){return }this.contentContainer.setStyle("visibility","hidden");this.contentContainer.setStyle("display","block");document.id(document.body).adopt(this.contentContainer);this.contentContainer.setContentBoxSize(this.subDomObj.getMarginBoxSize());this.showChrome(this.contentContainer);this.position(this.contentContainer,this.button.domObj,{horizontal:["right right"],vertical:["bottom top","top bottom"],offsets:this.chromeOffsets});this.contentContainer.setStyle("visibility","");document.addEvent("mousedown",this.bound.hide);document.addEvent("keyup",this.bound.keypress);this.fireEvent("show",this)}.bindWithEvent(this.menu),mouseenter:function(){document.id(this.domObj.firstChild).addClass("jxButtonHover");if(C){this.domDisclose.addClass(this.options.pressedClass)}}.bind(this),mouseleave:function(){document.id(this.domObj.firstChild).removeClass("jxButtonHover");this.domDisclose.removeClass(this.options.pressedClass)}.bind(this),mousedown:function(D){this.domDisclose.addClass(this.options.pressedClass);C=true;this.focus()}.bindWithEvent(this),mouseup:function(D){this.domDisclose.removeClass(this.options.pressedClass)}.bindWithEvent(this),keydown:function(D){if(D.key=="enter"){this.domDisclose.addClass(this.options.pressedClass)}}.bindWithEvent(this),keyup:function(D){if(D.key=="enter"){this.domDisclose.removeClass(this.options.pressedClass)}}.bindWithEvent(this),blur:function(){C=false}};this.domDisclose.addEvents({click:this.bound.disclose.click,mouseenter:this.bound.disclose.mouseenter,mouseleave:this.bound.disclose.mouseleave,mousedown:this.bound.disclose.mousedown,mouseup:this.bound.disclose.mouseup,keydown:this.bound.disclose.keydown,keyup:this.bound.disclose.keyup,blur:this.bound.disclose.blur});if(typeof Drag!="undefined"){new Drag(this.domDisclose,{onStart:function(){this.stop()}})}}this.bound.show=function(){this.domA.addClass(this.options.activeClass)}.bind(this);this.bound.hide=function(){if(this.options.active){this.domA.addClass(this.options.activeClass)}}.bind(this);this.menu.addEvents({show:this.bound.show,hide:this.bound.hide});if(this.options.items){this.add(this.options.items)}},cleanup:function(){var B=this,C=this.bound;if(B.domDisclose){B.domDisclose.removeEvents({click:C.disclose.click,mouseenter:C.disclose.mouseenter,mouseleave:C.disclose.mouseleave,mousedown:C.disclose.mousedown,mouseup:C.disclose.mouseup,keydown:C.disclose.keydown,keyup:C.disclose.keyup,blur:C.disclose.blur})}B.buttonSet.destroy();B.buttonSet=null;B.buttons.each(function(D){D.removeEvents();B.menu.remove(D.multiButton);D.multiButton.destroy();D.multiButton=null;D.destroy()});B.buttons.empty();B.buttons=null;B.menu.removeEvents({show:C.show,hide:C.hide});B.menu.button=null;B.menu.destroy();B.menu=null;B.bound.show=null;B.bound.hide=null;B.bound.clicked=null;B.bound.disclose=null;B.activeButton=null;B.parent()},add:function(){$A(arguments).flatten().each(function(C){var E,D,B;if(!C instanceof Jx.Button){return }C.domA.addClass("jxDiscloser");C.setLabel(C.options.label);this.buttons.push(C);E=this.setButton.bind(this,C);D={image:C.options.image,imageClass:C.options.imageClass,label:C.options.label||"&nbsp;",enabled:C.options.enabled,tooltip:C.options.tooltip,toggle:true,onClick:E};if(!D.image||D.image.indexOf("a_pixel")!=-1){delete D.image}B=new Jx.Menu.Item(D);this.buttonSet.add(B);this.menu.add(B);C.multiButton=B;C.domA.addClass("jxButtonMulti");if(!this.activeButton){this.domA.dispose();this.setActiveButton(C)}},this)},remove:function(B){if(!B||!B.multiButton){return }if(this.menu.remove(B.multiButton)){B.multiButton=null;if(this.activeButton==B){if(!this.buttons.some(function(C){if(C!=B){this.setActiveButton(C);return true}else{return false}},this)){this.setActiveButton(null)}}this.buttons.erase(B)}},empty:function(){this.buttons.each(function(B){this.remove(B)},this)},setActiveButton:function(B){if(this.activeButton){this.activeButton.domA.dispose();this.activeButton.domA.removeEvent("click",this.bound.click)}if(B&&B.domA){this.domObj.grab(B.domA,"top");this.domA=B.domA;this.domA.addEvent("click",this.bound.click);if(this.options.toggle){this.options.active=false;this.setActive(true)}}this.activeButton=B},setButton:function(B){this.setActiveButton(B);B.clicked()}});Jx.Layout=new Class({Family:"Jx.Layout",Extends:Jx.Object,options:{resizeWithWindow:false,propagate:true,position:"absolute",left:0,right:0,top:0,bottom:0,width:null,height:null,minWidth:0,minHeight:0,maxWidth:-1,maxHeight:-1},parameters:["domObj","options"],init:function(){this.domObj=document.id(this.options.domObj);this.domObj.resize=this.resize.bind(this);this.domObj.setStyle("position",this.options.position);this.domObj.store("jxLayout",this);if(this.options.resizeWithWindow||document.body==this.domObj.parentNode){window.addEvent("resize",this.windowResize.bindWithEvent(this));window.addEvent("load",this.windowResize.bind(this))}},windowResize:function(){this.resize();if(this.resizeTimer){$clear(this.resizeTimer);this.resizeTimer=null}this.resizeTimer=this.resize.delay(50,this)},resize:function(L){this.resizeTimer=null;var C=false;if(L){for(var H in L){if(H=="forceResize"){continue}if(this.options[H]!=L[H]){C=true;this.options[H]=L[H]}}if(L.forceResize){C=true}}if(!document.id(this.domObj.parentNode)){return }var D;if(this.domObj.parentNode.tagName=="BODY"){D=Jx.getPageDimensions()}else{D=document.id(this.domObj.parentNode).getContentBoxSize()}if(this.lastParentSize&&!C){C=(this.lastParentSize.width!=D.width||this.lastParentSize.height!=D.height)}else{C=true}this.lastParentSize=D;if(!C){return }var F,K,J,I;if(this.options.left!=null){F=this.options.left;if(this.options.right==null){if(this.options.width==null){J=D.width-F;if(J<this.options.minWidth){J=this.options.minWidth}if(this.options.maxWidth>=0&&J>this.options.maxWidth){J=this.options.maxWidth}}else{J=this.options.width}}else{if(this.options.width==null){J=D.width-F-this.options.right;if(J<this.options.minWidth){J=this.options.minWidth}if(this.options.maxWidth>=0&&J>this.options.maxWidth){J=this.options.maxWidth}}else{J=this.options.width}}}else{if(this.options.right==null){if(this.options.width==null){F=0;J=D.width;if(this.options.maxWidth>=0&&J>this.options.maxWidth){F=F+parseInt(J-this.options.maxWidth,10)/2;J=this.options.maxWidth}}else{J=this.options.width;F=parseInt((D.width-J)/2,10);if(F<0){F=0}}}else{if(this.options.width!=null){J=this.options.width;F=D.width-J-this.options.right;if(F<0){F=0}}else{F=0;J=D.width-this.options.right;if(J<this.options.minWidth){J=this.options.minWidth}if(this.options.maxWidth>=0&&J>this.options.maxWidth){F=J-this.options.maxWidth-this.options.right;J=this.options.maxWidth}}}}if(this.options.top!=null){K=this.options.top;if(this.options.bottom==null){if(this.options.height==null){I=D.height-K;if(I<this.options.minHeight){I=this.options.minHeight}if(this.options.maxHeight>=0&&I>this.options.maxHeight){I=this.options.maxHeight}}else{I=this.options.height;if(this.options.maxHeight>=0&&I>this.options.maxHeight){K=I-this.options.maxHeight;I=this.options.maxHeight}}}else{if(this.options.height==null){I=D.height-K-this.options.bottom;if(I<this.options.minHeight){I=this.options.minHeight}if(this.options.maxHeight>=0&&I>this.options.maxHeight){I=this.options.maxHeight}}else{I=this.options.height}}}else{if(this.options.bottom==null){if(this.options.height==null){K=0;I=D.height;if(I<this.options.minHeight){I=this.options.minHeight}if(this.options.maxHeight>=0&&I>this.options.maxHeight){K=parseInt((D.height-this.options.maxHeight)/2,10);I=this.options.maxHeight}}else{I=this.options.height;K=parseInt((D.height-I)/2,10);if(K<0){K=0}}}else{if(this.options.height!=null){I=this.options.height;K=D.height-I-this.options.bottom;if(K<0){K=0}}else{K=0;I=D.height-this.options.bottom;if(I<this.options.minHeight){I=this.options.minHeight}if(this.options.maxHeight>=0&&I>this.options.maxHeight){K=D.height-this.options.maxHeight-this.options.bottom;I=this.options.maxHeight}}}}var G={width:J};if(this.options.position=="absolute"){var E=document.id(this.domObj.parentNode).measure(function(){return this.getSizes(["padding"],["left","top"]).padding});this.domObj.setStyles({position:this.options.position,left:F+E.left,top:K+E.top});G.height=I}else{if(this.options.height){G.height=this.options.height}}this.domObj.setBorderBoxSize(G);if(this.options.propagate){var B={forceResize:L?L.forceResize:false};$A(this.domObj.childNodes).each(function(M){if(M.resize&&M.getStyle("display")!="none"){M.resize.delay(0,M,B)}})}this.fireEvent("sizeChange",this)}});Jx.Toolbar=new Class({Family:"Jx.Toolbar",Extends:Jx.Widget,list:null,domObj:null,isActive:false,options:{position:"top",parent:null,autoSize:false,align:"left",scroll:true,template:'<ul class="jxToolbar"></ul>'},classes:new Hash({domObj:"jxToolbar"}),render:function(){this.parent();this.domObj.store("jxToolbar",this);if($defined(this.options.id)){this.domObj.id=this.options.id}this.list=new Jx.List(this.domObj,{onAdd:function(B){this.fireEvent("add",this)}.bind(this),onRemove:function(B){this.fireEvent("remove",this)}.bind(this)});if(this.options.parent){this.addTo(this.options.parent)}this.deactivateWatcher=this.deactivate.bindWithEvent(this);if(this.options.items){this.add(this.options.items)}},addTo:function(B){var C=document.id(B).retrieve("jxBarContainer");if(!C){C=new Jx.Toolbar.Container({parent:B,position:this.options.position,autoSize:this.options.autoSize,align:this.options.align,scroll:this.options.scroll})}C.add(this);return this},add:function(){$A(arguments).flatten().each(function(B){var C=B;if(C.domObj){C=C.domObj}if(C.tagName=="LI"){if(!C.hasClass("jxToolItem")){C.addClass("jxToolItem")}}else{C=new Jx.Toolbar.Item(B)}this.list.add(C)},this);this.update();return this},remove:function(C){if(C.domObj){C=C.domObj}var B=C.findElement("LI");this.list.remove(B);this.update();return this},empty:function(){this.list.each(function(B){this.remove(B)},this)},deactivate:function(){this.list.each(function(B){if(B.retrieve("jxMenu")){B.retrieve("jxMenu").hide()}});this.setActive(false)},isActive:function(){return this.isActive},setActive:function(B){this.isActive=B;if(this.isActive){document.addEvent("click",this.deactivateWatcher)}else{document.removeEvent("click",this.deactivateWatcher)}},setVisibleItem:function(B){if(this.visibleItem&&this.visibleItem.hide&&this.visibleItem!=B){this.visibleItem.hide()}this.visibleItem=B;if(this.isActive()){this.visibleItem.show()}},showItem:function(B){this.fireEvent("show",B)},update:function(){this.fireEvent("update")},changeText:function(B){this.update()}});Jx.Toolbar.Container=new Class({Family:"Jx.Toolbar.Container",Extends:Jx.Widget,Binds:["update"],pluginNamespace:"ToolbarContainer",domObj:null,options:{parent:null,position:"top",autoSize:false,scroll:true,align:"left",template:"<div class='jxBarContainer'><div class='jxBarControls'></div></div>",scrollerTemplate:"<div class='jxBarScroller'><div class='jxBarWrapper'></div></div>"},classes:new Hash({domObj:"jxBarContainer",scroller:"jxBarScroller",wrapper:"jxBarWrapper",controls:"jxBarControls"}),updating:false,render:function(){this.parent();if(document.id(this.options.parent)){this.domObj=document.id(this.options.parent);this.elements=new Hash({jxBarContainer:this.domObj});this.domObj.addClass("jxBarContainer");this.domObj.grab(this.controls);this.domObj.addEvent("sizeChange",this.update)}if(!["center","right"].contains(this.options.align)&&this.options.scroll){this.processElements(this.options.scrollerTemplate,this.classes);this.domObj.grab(this.scroller,"top")}this.domObj.addClass("jxToolbarAlign"+this.options.align.capitalize());this.domObj.store("jxBarContainer",this);if(["top","right","bottom","left"].contains(this.options.position)){this.domObj.addClass("jxBar"+this.options.position.capitalize())}else{this.domObj.addClass("jxBarTop");this.options.position="top"}if(this.options.scroll&&["top","bottom"].contains(this.options.position)){this.addEvent("addTo",function(){this.domObj.getParent().addEvent("sizeChange",this.update);this.update()});this.scrollLeft=new Jx.Button({image:Jx.aPixel.src}).addTo(this.controls,"bottom");document.id(this.scrollLeft).addClass("jxBarScrollLeft");this.scrollLeft.addEvents({click:this.scroll.bind(this,"left")});this.scrollRight=new Jx.Button({image:Jx.aPixel.src}).addTo(this.controls,"bottom");document.id(this.scrollRight).addClass("jxBarScrollRight");this.scrollRight.addEvents({click:this.scroll.bind(this,"right")})}else{if(this.options.scroll&&["left","right"].contains(this.options.position)){this.options.scroll=false}else{this.options.scroll=false}}this.addEvent("add",this.update);if(this.options.toolbars){this.add(this.options.toolbars)}},update:function(){if(this.options.scroll){if(["top","bottom"].contains(this.options.position)){var B=this.domObj.getContentBoxSize().width;var E=0;var C=this.wrapper.getChildren();if(C.length>0){C.each(function(G){E+=G.getMarginBoxSize().width},this);var F=B;if(E===0){this.scrollLeft.setEnabled(false);this.scrollRight.setEnabled(false)}else{var D=this.wrapper.getStyle("margin-left").toInt();F-=this.controls.getMarginBoxSize().width;if(D<0){this.scrollLeft.setEnabled(true)}else{this.scrollLeft.setEnabled(false)}if(E+D>F){this.scrollRight.setEnabled(true)}else{this.scrollRight.setEnabled(false)}}}else{this.scrollRight.setEnabled(false);this.scrollLeft.setEnabled(false)}this.scroller.setStyle("width",F);this.findFirstVisible();this.updating=false}}},findFirstVisible:function(){if($defined(this.scroller.retrieve("buttonPointer"))){return }var B=this.wrapper.getChildren();if(B.length>0){B.each(function(D){var C=D.getChildren();if(C.length>1){C.each(function(E){var F=E.getCoordinates(this.scroller);if(F.left>=0&&!$defined(this.scroller.retrieve("buttonPointer"))){this.scroller.store("buttonPointer",E)}},this)}},this)}},add:function(){$A(arguments).flatten().each(function(B){if(this.options.scroll){B.addEvent("update",this.update.bind(this));B.addEvent("show",this.scrollIntoView.bind(this))}if(this.wrapper){this.wrapper.adopt(B.domObj)}else{this.domObj.adopt(B.domObj)}this.domObj.addClass("jxBar"+this.options.position.capitalize())},this);if(arguments.length>0){this.fireEvent("add",this)}return this},scroll:function(E){if(this.updating){return }this.updating=true;var D=this.scroller.retrieve("buttonPointer");if(E==="left"){var B=this.scroller.retrieve("previousPointer");if(!B){B=this.getPreviousButton(D)}if(B){var C=B.getMarginBoxSize().width;var F=this.wrapper.getStyle("margin-left").toInt();F+=C;if(typeof Fx!="undefined"&&typeof Fx.Tween!="undefined"){this.wrapper.get("tween",{property:"margin-left",onComplete:this.afterTweenLeft.bind(this,B)}).start(F)}else{this.wrapper.setStyle("margin-left",F);this.afterTweenLeft(B)}}else{this.update()}}else{var C=D.getMarginBoxSize().width;var F=this.wrapper.getStyle("margin-left").toInt();F-=C;if(typeof Fx!="undefined"&&typeof Fx.Tween!="undefined"){this.wrapper.get("tween",{property:"margin-left",onComplete:this.afterTweenRight.bind(this,D)}).start(F)}else{this.wrapper.setStyle("margin-left",F);this.afterTweenRight(D)}}},afterTweenRight:function(B){var C=this.getNextButton(B);if(!C){C=B}this.scroller.store("buttonPointer",C);if(C!==B){this.scroller.store("previousPointer",B)}this.update()},afterTweenLeft:function(B){this.scroller.store("buttonPointer",B);var C=this.getPreviousButton(B);if($defined(C)){this.scroller.store("previousPointer",C)}else{this.scroller.eliminate("previousPointer")}this.update()},remove:function(B){if(B instanceof Jx.Widget){B.dispose()}else{document.id(B).dispose()}this.update()},scrollIntoView:function(D){var C=this.scroller.retrieve("buttonPointer");if(!$defined(C)){return }if($defined(D.domObj)){D=D.domObj;while(!D.hasClass("jxToolItem")){D=D.getParent()}}var I=D.getCoordinates(this.scroller);var G=this.scroller.getStyle("width").toInt();if(I.right>0&&I.right<=G&&I.left>0&&I.left<=G){return }if(I.right>G){var F=I.right-G;var H=this.wrapper.getStyle("margin-left").toInt();var B=C.getMarginBoxSize().width;var E;while(B<F&&$defined(C)){E=this.getNextButton(C);if(E){B+=E.getMarginBoxSize().width}else{break}C=E}H-=B;if(typeof Fx!="undefined"&&typeof Fx.Tween!="undefined"){this.wrapper.get("tween",{property:"margin-left",onComplete:this.afterTweenRight.bind(this,C)}).start(H)}else{this.wrapper.setStyle("margin-left",H);this.afterTweenRight(C)}}else{var H=this.wrapper.getStyle("margin-left").toInt();H-=I.left;if(typeof Fx!="undefined"&&typeof Fx.Tween!="undefined"){this.wrapper.get("tween",{property:"margin-left",onComplete:this.afterTweenLeft.bind(this,D)}).start(H)}else{this.wrapper.setStyle("margin-left",H);this.afterTweenLeft(D)}}},getPreviousButton:function(B){pp=B.getPrevious();if(!$defined(pp)){pp=B.getParent().getPrevious();if(pp){pp=pp.getLast()}}return pp},getNextButton:function(B){np=B.getNext();if(!np){np=B.getParent().getNext();if(np){np=np.getFirst()}}return np}});Jx.Toolbar.Item=new Class({Family:"Jx.Toolbar.Item",Extends:Jx.Widget,options:{active:true,template:'<li class="jxToolItem"></li>'},classes:new Hash({domObj:"jxToolItem"}),parameters:["jxThing","options"],render:function(){this.parent();var B=document.id(this.options.jxThing);if(B){this.domObj.adopt(B)}}});Jx.Panel=new Class({Family:"Jx.Panel",Extends:Jx.Widget,toolbarContainers:{top:null,right:null,bottom:null,left:null},options:{position:null,collapsedClass:"jxPanelMin",collapseClass:"jxPanelCollapse",menuClass:"jxPanelMenu",maximizeClass:"jxPanelMaximize",closeClass:"jxPanelClose",label:"&nbsp;",height:null,collapse:true,close:false,closed:false,hideTitle:false,toolbars:[],type:"panel",template:'<div class="jxPanel"><div class="jxPanelTitle"><img class="jxPanelIcon" src="'+Jx.aPixel.src+'" alt="" title=""/><span class="jxPanelLabel"></span><div class="jxPanelControls"></div></div><div class="jxPanelContentContainer"><div class="jxPanelContent"></div></div></div>',controlButtonTemplate:'<a class="jxButtonContainer jxButton"><img class="jxButtonIcon" src="'+Jx.aPixel.src+'"></a>'},classes:new Hash({domObj:"jxPanel",title:"jxPanelTitle",domImg:"jxPanelIcon",domLabel:"jxPanelLabel",domControls:"jxPanelControls",contentContainer:"jxPanelContentContainer",content:"jxPanelContent"}),render:function(){this.parent();this.toolbars=this.options?this.options.toolbars||[]:[];this.options.position=($defined(this.options.height)&&!$defined(this.options.position))?"relative":"absolute";if(this.options.image&&this.domImg){this.domImg.setStyle("backgroundImage","url("+this.options.image+")")}if(this.options.label&&this.domLabel){this.setLabel(this.options.label)}var B=new Element("div");this.domControls.adopt(B);this.toolbar=new Jx.Toolbar({parent:B,scroll:false});var F=this;if(this.options.menu){this.menu=new Jx.Menu({image:Jx.aPixel.src},{buttonTemplate:this.options.controlButtonTemplate});this.menu.domObj.addClass(this.options.menuClass);this.menu.domObj.addClass("jxButtonContentLeft");this.toolbar.add(this.menu)}if(this.options.collapse){if(this.title){this.title.addEvent("dblclick",function(){F.toggleCollapse()})}this.colB=new Jx.Button({template:this.options.controlButtonTemplate,image:Jx.aPixel.src,tooltip:{set:"Jx",key:"panel",value:"collapseTooltip"},onClick:function(){F.toggleCollapse()}});this.colB.domObj.addClass(this.options.collapseClass);this.addEvents({collapse:function(){this.colB.setTooltip({set:"Jx",key:"panel",value:"expandTooltip"})}.bind(this),expand:function(){this.colB.setTooltip({set:"Jx",key:"panel",value:"collapseTooltip"})}.bind(this)});this.toolbar.add(this.colB);if(this.menu){this.colM=new Jx.Menu.Item({label:this.options.collapseLabel,onClick:function(){F.toggleCollapse()}});var E=this.colM;this.addEvents({collapse:function(){this.colM.setLabel({set:"Jx",key:"panel",value:"expandLabel"})}.bind(this),expand:function(){this.colM.setLabel({set:"Jx",key:"panel",value:"collapseLabel"})}.bind(this)});this.menu.add(E)}}if(this.options.maximize){this.maxB=new Jx.Button({template:this.options.controlButtonTemplate,image:Jx.aPixel.src,tooltip:{set:"Jx",key:"panel",value:"maximizeTooltip"},onClick:function(){F.maximize()}});this.maxB.domObj.addClass(this.options.maximizeClass);this.addEvents({maximize:function(){this.maxB.setTooltip({set:"Jx",key:"panel",value:"restoreTooltip"})}.bind(this),restore:function(){this.maxB.setTooltip({set:"Jx",key:"panel",value:"maximizeTooltip"})}.bind(this)});this.toolbar.add(this.maxB);if(this.menu){this.maxM=new Jx.Menu.Item({label:this.options.maximizeLabel,onClick:function(){F.maximize()}});this.addEvents({maximize:function(){this.maxM.setLabel({set:"Jx",key:"panel",value:"maximizeLabel"})}.bind(this),restore:function(){this.maxM.setLabel({set:"Jx",key:"panel",value:"restoreLabel"})}.bind(this)});this.menu.add(this.maxM)}}if(this.options.close){this.closeB=new Jx.Button({template:this.options.controlButtonTemplate,image:Jx.aPixel.src,tooltip:{set:"Jx",key:"panel",value:"closeTooltip"},onClick:function(){F.close()}});this.closeB.domObj.addClass(this.options.closeClass);this.toolbar.add(this.closeB);if(this.menu){this.closeM=new Jx.Menu.Item({label:{set:"Jx",key:"panel",value:"closeLabel"},onClick:function(){F.close()}});this.menu.add(E)}}if(this.options.id){this.domObj.id=this.options.id}var D=new Jx.Layout(this.domObj,$merge(this.options,{propagate:false}));var C=this.layoutContent.bind(this);D.addEvent("sizeChange",C);if(this.options.hideTitle){this.title.dispose()}if(Jx.type(this.options.toolbars)=="array"){this.options.toolbars.each(function(H){var G=H.options.position;var I=this.toolbarContainers[G];if(!I){I=new Element("div");new Jx.Layout(I);this.contentContainer.adopt(I);this.toolbarContainers[G]=I}H.addTo(I)},this)}new Jx.Layout(this.contentContainer);new Jx.Layout(this.content);if(this.shouldLoadContent()){this.loadContent(this.content)}this.toggleCollapse(this.options.closed);this.addEvent("addTo",function(){this.domObj.resize()});if(this.options.parent){this.addTo(this.options.parent)}},layoutContent:function(){var G=0;var H=0;var B=0;var D=0;var J=0;var I;var E;var F;if(!this.options.hideTitle&&this.title.parentNode==this.domObj){G=this.title.getMarginBoxSize().height}var C=this.domObj.getContentBoxSize();if(C.height>G){this.contentContainer.setStyle("display","block");this.options.closed=false;this.contentContainer.resize({top:G,height:null,bottom:0});["left","right"].each(function(K){if(this.toolbarContainers[K]){this.toolbarContainers[K].style.width="auto"}},this);["top","bottom"].each(function(K){if(this.toolbarContainers[K]){this.toolbarContainers[K].style.height=""}},this);if(Jx.type(this.options.toolbars)=="array"){this.options.toolbars.each(function(K){K.update();F=K.options.position;I=this.toolbarContainers[F];if(Browser.Engine.trident4){var M=document.id(I.parentNode);I.style.visibility="hidden";document.id(document.body).adopt(I)}var L=I.getBorderBoxSize();if(Browser.Engine.trident4){M.adopt(I);I.style.visibility=""}switch(F){case"bottom":B=L.height;break;case"left":D=L.width;break;case"right":J=L.width;break;case"top":default:H=L.height;break}},this)}I=this.toolbarContainers.top;if(I){I.resize({top:0,left:D,right:J,bottom:null,height:H,width:null})}I=this.toolbarContainers.bottom;if(I){I.resize({top:null,left:D,right:J,bottom:0,height:B,width:null})}I=this.toolbarContainers.left;if(I){I.resize({top:H,left:0,right:null,bottom:B,height:null,width:D})}I=this.toolbarContainers.right;if(I){I.resize({top:H,left:null,right:0,bottom:B,height:null,width:J})}this.content.resize({top:H,bottom:B,left:D,right:J})}else{this.contentContainer.setStyle("display","none");this.options.closed=true}this.fireEvent("sizeChange",this)},setLabel:function(B){this.domLabel.set("html",this.getText(B))},getLabel:function(){return this.domLabel.get("html")},finalize:function(){this.domObj=null;this.deregisterIds()},maximize:function(){if(this.manager){this.manager.maximizePanel(this)}},setContent:function(B){this.content.innerHTML=B;this.bContentReady=true},setContentURL:function(C){this.bContentReady=false;this.setBusy(true);if(arguments[1]){this.onContentReady=arguments[1]}if(C.indexOf("?")==-1){C=C+"?"}var B=new Request({url:C,method:"get",evalScripts:true,onSuccess:this.panelContentLoaded.bind(this),requestHeaders:["If-Modified-Since","Sat, 1 Jan 2000 00:00:00 GMT"]}).send()},panelContentLoaded:function(B){this.content.innerHTML=B;this.bContentReady=true;this.setBusy(false);if(this.onContentReady){window.setTimeout(this.onContentReady.bind(this),1)}},toggleCollapse:function(D){if($defined(D)){this.options.closed=D}else{this.options.closed=!this.options.closed}if(this.options.closed){if(!this.domObj.hasClass(this.options.collapsedClass)){this.domObj.addClass(this.options.collapsedClass);this.contentContainer.setStyle("display","none");var C=this.domObj.measure(function(){return this.getSizes(["margin"],["top","bottom"]).margin});var B=C.top+C.bottom;if(this.title.parentNode==this.domObj){B+=this.title.getMarginBoxSize().height}this.domObj.resize({height:B});this.fireEvent("collapse",this)}}else{if(this.domObj.hasClass(this.options.collapsedClass)){this.domObj.removeClass(this.options.collapsedClass);this.contentContainer.setStyle("display","block");this.domObj.resize({height:this.options.height});this.fireEvent("expand",this)}}},close:function(){this.domObj.dispose();this.fireEvent("close",this)},changeText:function(B){this.parent();if($defined(this.closeB)){this.closeB.setTooltip({set:"Jx",key:"panel",value:"closeTooltip"})}if($defined(this.closeM)){this.closeM.setLabel({set:"Jx",key:"panel",value:"closeLabel"})}if($defined(this.maxB)){this.maxB.setTooltip({set:"Jx",key:"panel",value:"maximizeTooltip"})}if($defined(this.colB)){this.colB.setTooltip({set:"Jx",key:"panel",value:"collapseTooltip"})}if($defined(this.colM)){if(this.options.closed==true){this.colM.setLabel({set:"Jx",key:"panel",value:"expandLabel"})}else{this.colM.setLabel({set:"Jx",key:"panel",value:"collapseLabel"})}}if(this.options.label&&this.domLabel){this.setLabel(this.options.label)}this.layoutContent()},shouldLoadContent:function(){return true}});Jx.Dialog=new Class({Family:"Jx.Dialog",Extends:Jx.Panel,options:{modal:true,maskOptions:{"class":"jxModalMask",maskMargins:true,useIframeShim:true,iframeShimOptions:{className:"jxIframeShim"}},eventMaskOptions:{"class":"jxEventMask",maskMargins:false,useIframeShim:false,destroyOnHide:true},position:"absolute",width:250,height:250,horizontal:"center center",vertical:"center center",label:"",resize:false,move:true,limit:false,close:true,useKeyboard:false,keys:{esc:"close"},keyboardMethods:{},collapsedClass:"jxDialogMin",collapseClass:"jxDialogCollapse",menuClass:"jxDialogMenu",maximizeClass:"jxDialogMaximize",closeClass:"jxDialogClose",type:"dialog",template:'<div class="jxDialog"><div class="jxDialogTitle"><img class="jxDialogIcon" src="'+Jx.aPixel.src+'" alt="" title=""/><span class="jxDialogLabel"></span><div class="jxDialogControls"></div></div><div class="jxDialogContentContainer"><div class="jxDialogContent"></div></div></div>'},classes:new Hash({domObj:"jxDialog",title:"jxDialogTitle",domImg:"jxDialogIcon",domLabel:"jxDialogLabel",domControls:"jxDialogControls",contentContainer:"jxDialogContentContainer",content:"jxDialogContent"}),keyboard:null,render:function(){this.isOpening=false;this.firstShow=true;this.options=$merge({parent:document.body},this.options,{position:"absolute"});this.parent();this.openOnLoaded=this.open.bind(this);this.options.parent=document.id(this.options.parent);this.domObj.setStyle("display","none");this.options.parent.adopt(this.domObj);if(this.options.move&&typeof Drag!="undefined"){this.title.addClass("jxDialogMoveable");this.options.limit=this.setDragLimit(this.options.limit);var B=this;new Drag(this.domObj,{handle:this.title,limit:this.options.limit,onBeforeStart:(function(){this.stack()}).bind(this),onStart:function(){if(!B.options.modal&&B.options.parent.mask){B.options.parent.mask(B.options.eventMaskOptions)}B.contentContainer.setStyle("visibility","hidden");B.chrome.addClass("jxChromeDrag");if(B.options.limit){var D=B.options.limitOrig.getCoordinates();for(var C in D){window.console?console.log(C,D[C]):false}this.options.limit=B.setDragLimit(B.options.limitOrig)}},onDrag:function(){if(this.options.limit){if(this.value.now.x+B.options.width>=this.options.limit.x[1]){this.value.now.x=this.options.limit.x[1]-B.options.width;this.element.setStyle("left",this.value.now.x)}if(this.value.now.y+B.options.height>=this.options.limit.y[1]){this.value.now.y=this.options.limit.y[1]-B.options.height;this.element.setStyle("top",this.value.now.y)}}},onComplete:(function(){if(!this.options.modal&&this.options.parent.unmask){this.options.parent.unmask()}this.chrome.removeClass("jxChromeDrag");this.contentContainer.setStyle("visibility","");var D=Math.max(this.chromeOffsets.left,parseInt(this.domObj.style.left,10));var C=Math.max(this.chromeOffsets.top,parseInt(this.domObj.style.top,10));this.options.horizontal=D+" left";this.options.vertical=C+" top";this.position(this.domObj,this.options.parent,this.options);this.options.left=parseInt(this.domObj.style.left,10);this.options.top=parseInt(this.domObj.style.top,10);if(!this.options.closed){this.domObj.resize(this.options)}}).bind(this)})}if(this.options.resize&&typeof Drag!="undefined"){this.resizeHandle=new Element("div",{"class":"jxDialogResize",title:this.getText({set:"Jx",key:"panel",value:"resizeTooltip"}),styles:{display:this.options.closed?"none":"block"}});this.domObj.appendChild(this.resizeHandle);this.resizeHandleSize=this.resizeHandle.getSize();this.resizeHandle.setStyles({bottom:this.resizeHandleSize.height,right:this.resizeHandleSize.width});this.domObj.makeResizable({handle:this.resizeHandle,onStart:(function(){if(!this.options.modal&&this.options.parent.mask){this.options.parent.mask(this.options.eventMaskOptions)}this.contentContainer.setStyle("visibility","hidden");this.chrome.addClass("jxChromeDrag")}).bind(this),onDrag:(function(){this.resizeChrome(this.domObj)}).bind(this),onComplete:(function(){if(!this.options.modal&&this.options.parent.unmask){this.options.parent.unmask()}this.chrome.removeClass("jxChromeDrag");var C=this.domObj.getMarginBoxSize();this.options.width=C.width;this.options.height=C.height;this.layoutContent();this.domObj.resize(this.options);this.contentContainer.setStyle("visibility","");this.fireEvent("resize");this.resizeChrome(this.domObj)}).bind(this)})}this.domObj.addEvent("mousedown",(function(){this.stack()}).bind(this));this.initializeKeyboard()},resize:function(C,B,D){this.options.width=C;this.options.height=B;if(this.domObj.getStyle("display")!="none"){this.layoutContent();this.domObj.resize(this.options);this.fireEvent("resize");this.resizeChrome(this.domObj);if(D){this.position(this.domObj,this.options.parent,this.options)}}else{this.firstShow=false}},sizeChanged:function(){if(!this.options.closed){this.layoutContent()}},toggleCollapse:function(D){if($defined(D)){this.options.closed=D}else{this.options.closed=!this.options.closed}if(this.options.closed){if(!this.domObj.hasClass(this.options.collapsedClass)){this.domObj.addClass(this.options.collapsedClass)}this.contentContainer.setStyle("display","none");if(this.resizeHandle){this.resizeHandle.setStyle("display","none")}}else{if(this.domObj.hasClass(this.options.collapsedClass)){this.domObj.removeClass(this.options.collapsedClass)}this.contentContainer.setStyle("display","block");if(this.resizeHandle){this.resizeHandle.setStyle("display","block")}}if(this.options.closed){var B=this.domObj.measure(function(){return this.getSizes(["margin"],["top","bottom"]).margin});var C=this.title.getMarginBoxSize();this.domObj.resize({height:B.top+C.height+B.bottom});this.fireEvent("collapse")}else{this.domObj.resize(this.options);this.fireEvent("expand")}this.showChrome(this.domObj)},maximize:function(){if(!this.maximized){var C=this.options.parent;var B;if(C===document.body){B=Jx.getPageDimensions()}else{B=C.getBorderBoxSize()}this.previousSettings={width:this.options.width,height:this.options.height,horizontal:this.options.horizontal,vertical:this.options.vertical,left:this.options.left,right:this.options.right,top:this.options.top,bottom:this.options.bottom};this.options.width=B.width;this.options.height=B.height;this.options.vertical="0 top";this.options.horizontal="0 left";this.options.right=0;this.options.left=0;this.options.top=0;this.options.bottom=0;this.domObj.resize(this.options);this.fireEvent("resize");this.resizeChrome(this.domObj);this.maximized=true;this.domObj.addClass("jxDialogMaximized");this.fireEvent("maximize")}else{this.options=$merge(this.options,this.previousSettings);this.domObj.resize(this.options);this.fireEvent("resize");this.resizeChrome(this.domObj);this.maximized=false;if(this.domObj.hasClass("jxDialogMaximized")){this.domObj.removeClass("jxDialogMaximized")}this.fireEvent("restore")}},show:function(){this.domObj.setStyles({display:"block",visibility:"hidden"});this.toolbar.update();if(this.options.modal&&this.options.parent.mask){var D=$merge(this.options.maskOptions||{},{style:{"z-index":Jx.getNumber(this.domObj.getStyle("z-index"))-1}});this.options.parent.mask(D);Jx.Stack.stack(this.options.parent.get("mask").element)}this.stack();if(this.options.closed){var B=this.domObj.measure(function(){return this.getSizes(["margin"],["top","bottom"]).margin});var C=this.title.getMarginBoxSize();this.domObj.resize({height:B.top+C.height+B.bottom})}else{this.domObj.resize(this.options)}if(this.firstShow){this.contentContainer.resize({forceResize:true});this.layoutContent();this.firstShow=false;if(this.chrome){this.chrome.dispose();this.chrome=null}}this.showChrome(this.domObj);this.position(this.domObj,this.options.parent,this.options);this.domObj.setStyle("visibility","visible")},hide:function(){this.domObj.setStyle("display","none");this.unstack();if(this.options.modal&&this.options.parent.unmask){Jx.Stack.unstack(this.options.parent.get("mask").element);this.options.parent.unmask()}if(this.options.useKeyboard&&this.keyboard!=null){this.keyboard.deactivate()}},openURL:function(B){if(B){this.options.contentURL=B;this.options.content=null;this.setBusy();this.loadContent(this.content);this.addEvent("contentLoaded",this.openOnLoaded)}else{this.open()}},open:function(){if(!this.isOpening){this.isOpening=true}if(!this.contentIsLoaded&&this.options.loadOnDemand){this.loadContent(this.content)}if(this.contentIsLoaded){this.removeEvent("contentLoaded",this.openOnLoaded);this.show();this.fireEvent("open",this);this.isOpening=false}else{this.addEvent("contentLoaded",this.openOnLoaded)}if(this.options.useKeyboard&&this.keyboard!=null){this.keyboard.activate()}},close:function(){this.isOpening=false;this.hide();this.fireEvent("close")},cleanup:function(){},isOpen:function(){return !((this.domObj.getStyle("display")==="none")||(this.domObj.getStyle("visibility")==="hidden"))},changeText:function(B){this.parent();if($defined(this.maxM)){if(this.maximize){this.maxM.setLabel(this.getText({set:"Jx",key:"panel",value:"restoreLabel"}))}else{this.maxM.setLabel(this.getText({set:"Jx",key:"panel",value:"maximizeLabel"}))}}if($defined(this.resizeHandle)){this.resizeHandle.set("title",this.getText({set:"Jx",key:"dialog",value:"resizeTooltip"}))}this.toggleCollapse(false)},initializeKeyboard:function(){if(this.options.useKeyboard){var B=this;this.keyboardEvents={};this.keyboardMethods={close:function(C){C.preventDefault();B.close()}};this.keyboard=new Keyboard({events:this.getKeyboardEvents()})}},getKeyboardEvents:function(){var B=this;for(var C in this.options.keys){if(!$defined(this.keyboardEvents[C])){if($defined(this.keyboardMethods[this.options.keys[C]])){this.keyboardEvents[C]=this.keyboardMethods[this.options.keys[C]]}else{if($defined(this.options.keyboardMethods[this.options.keys[C]])){this.keyboardEvents[C]=this.options.keyboardMethods[this.options.keys[C]].bind(B)}else{if(Jx.type(this.options.keys[C])=="function"){this.keyboardEvents[C]=this.options.keys[C].bind(B)}else{if(this.options.keyboardMethods[this.options.keys[C]]!=false){$defined(console)?console.warn("keyboard method %o not defined for %o",this.options.keys[C],this):false}}}}}}return this.keyboardEvents},setDragLimit:function(B){if($defined(B)){this.options.limit=B}var D=this.options.limit!=null?Jx.type(this.options.limit):false;if(this.options.limit&&D!="object"){var C=false;switch(D){case"string":if(document.id(this.options.limit)){C=document.id(this.options.limit).getCoordinates()}break;case"element":case"document":case"window":C=this.options.limit.getCoordinates();break}if(C){this.options.limitOrig=this.options.limit;this.options.limit={x:[C.left,C.right],y:[C.top,C.bottom]}}else{this.options.limit=false}}return this.options.limit},shouldLoadContent:function(){return !this.options.loadOnDemand}});Jx.Splitter=new Class({Family:"Jx.Splitter",Extends:Jx.Object,domObj:null,elements:null,bars:null,firstUpdate:true,options:{useChildren:false,splitInto:2,elements:null,containerOptions:[],barOptions:[],layout:"horizontal",snaps:[],onStart:null,onFinish:null},parameters:["domObj","options"],init:function(){this.domObj=document.id(this.options.domObj);this.domObj.addClass("jxSplitContainer");var K=this.domObj.retrieve("jxLayout");if(K){K.addEvent("sizeChange",this.sizeChanged.bind(this))}this.elements=[];this.bars=[];var F;var J=2;if(this.options.useChildren){this.elements=this.domObj.getChildren();J=this.elements.length}else{J=this.options.elements?this.options.elements.length:this.options.splitInto;for(F=0;F<J;F++){var D;if(this.options.elements&&this.options.elements[F]){if(this.options.elements[F].domObj){D=this.options.elements[F].domObj}else{D=document.id(this.options.elements[F])}if(!D){D=this.prepareElement();D.id=this.options.elements[F]}}else{D=this.prepareElement()}this.elements[F]=D;this.domObj.adopt(this.elements[F])}}this.elements.each(function(L){L.addClass("jxSplitArea")});for(F=0;F<J;F++){var I=this.elements[F].retrieve("jxLayout");if(!I){new Jx.Layout(this.elements[F],this.options.containerOptions[F])}else{if(this.options.containerOptions[F]){I.resize($merge(this.options.containerOptions[F],{position:"absolute"}))}else{I.resize({position:"absolute"})}}}for(F=1;F<J;F++){var H;if(this.options.prepareBar){H=this.options.prepareBar(F-1)}else{H=this.prepareBar()}H.store("splitterObj",this);H.store("leftSide",this.elements[F-1]);H.store("rightSide",this.elements[F]);this.elements[F-1].store("rightBar",H);this.elements[F].store("leftBar",H);this.domObj.adopt(H);this.bars[F-1]=H}if($defined(Drag)){this.establishConstraints()}for(F=0;F<this.options.barOptions.length;F++){if(!this.bars[F]){continue}var B=this.options.barOptions[F];if(B&&B.snap&&(B.snap=="before"||B.snap=="after")){var G;if(B.snap=="before"){G=this.bars[F].retrieve("leftSide")}else{if(B.snap=="after"){G=this.bars[F].retrieve("rightSide")}}var E;var C;if(B.snapElement){E=B.snapElement;C=B.snapEvents||["click","dblclick"]}else{E=this.bars[F];C=B.snapEvents||["dblclick"]}if(!E.parentNode){this.bars[F].adopt(E)}new Jx.Splitter.Snap(E,G,this,C)}}for(F=0;F<this.options.snaps.length;F++){if(this.options.snaps[F]){new Jx.Splitter.Snap(this.options.snaps[F],this.elements[F],this)}}this.sizeChanged()},prepareElement:function(){var B=new Element("div",{styles:{position:"absolute"}});return B},prepareBar:function(){var B=new Element("div",{"class":"jxSplitBar"+this.options.layout.capitalize(),title:this.getText({set:"Jx",key:"splitter",value:"barToolTip"})});return B},establishConstraints:function(){var B={x:null,y:null};var C;if(this.options.layout=="horizontal"){B.x="left";C=this.dragHorizontal}else{B.y="top";C=this.dragVertical}if(typeof Drag!="undefined"){this.bars.each(function(E){var D;new Drag(E,{modifiers:B,onSnap:(function(F){F.addClass("jxSplitBarDrag");this.fireEvent("snap",[F])}).bind(this),onCancel:(function(F){D.destroy();this.fireEvent("cancel",[F])}).bind(this),onDrag:(function(G,F){this.fireEvent("drag",[G,F])}).bind(this),onComplete:(function(F){D.destroy();F.removeClass("jxSplitBarDrag");if(F.retrieve("splitterObj")!=this){return }C.apply(this,[F]);this.fireEvent("complete",[F]);this.fireEvent("finish",[F])}).bind(this),onBeforeStart:(function(F){this.fireEvent("beforeStart",[F]);D=new Element("div",{"class":"jxSplitterMask"}).inject(F,"after")}).bind(this),onStart:(function(G,F){this.fireEvent("start",[G,F])}).bind(this)})},this)}},dragHorizontal:function(G){var B=parseInt(G.style.left,10);var I=G.retrieve("leftSide");var D=G.retrieve("rightSide");var E=I.retrieve("jxLayout");var H=D.retrieve("jxLayout");var F=this.domObj.measure(function(){var Q=this.getSizes(["padding"],["left"]);return Q.padding.left});var J,P,L;var O=G.retrieve("size");if(!O){O=G.getBorderBoxSize();G.store("size",O)}J=B+O.width-F;var C=this.domObj.getContentBoxSize();if(H.options.width!=null){P=H.options.width+H.options.left-J;L=C.width-J-P}else{P=C.width-H.options.right-J;L=H.options.right}if(P<0){P=0}if(P<H.options.minWidth){P=H.options.minWidth}if(H.options.maxWidth>=0&&P>H.options.maxWidth){P=H.options.maxWidth}J=C.width-L-P;B=J-O.width;var K,N;K=E.options.left;N=B-K;if(N<0){N=0}if(N<E.options.minWidth){N=E.options.minWidth}if(E.options.maxWidth>=0&&N>E.options.maxWidth){N=E.options.maxWidth}if(K+N!=B){B=K+N;var M=B+O.width-J;J+=M;P-=M}G.style.left=F+B+"px";if(E.options.width==null){C=this.domObj.getContentBoxSize();I.resize({right:C.width-K-N})}else{I.resize({width:N})}if(H.options.width==null){D.resize({left:J})}else{D.resize({left:J,width:P})}},dragVertical:function(G){var K=parseInt(G.style.top,10);var E=G.retrieve("leftSide");var B=G.retrieve("rightSide");var F=E.retrieve("jxLayout");var I=B.retrieve("jxLayout");var O=this.domObj.measure(function(){var Q=this.getSizes(["padding"],["top"]);return Q.padding.top});var P=G.retrieve("size");if(!P){P=G.getBorderBoxSize();G.store("size",P)}var C=this.domObj.getContentBoxSize();var D,N,L;D=K+P.height-O;if(I.options.height!=null){N=I.options.height+I.options.top-D;L=C.height-D-N}else{N=C.height-I.options.bottom-D;L=I.options.bottom}if(N<0){N=0}if(N<I.options.minHeight){N=I.options.minHeight}if(I.options.maxHeight>=0&&N>I.options.maxHeight){N=I.options.maxHeight}D=C.height-L-N;K=D-P.height;var J,H;J=F.options.top;H=K-J;if(H<0){H=0}if(H<F.options.minHeight){H=F.options.minHeight}if(F.options.maxHeight>=0&&H>F.options.maxHeight){H=F.options.maxHeight}if(J+H!=K){K=J+H;var M=K+P.height-D;D+=M;N-=M}G.style.top=O+K+"px";if(F.options.height==null){E.resize({bottom:C.height-J-H})}else{E.resize({height:H})}if(I.options.height==null){B.resize({top:D})}else{B.resize({top:D,height:N})}},sizeChanged:function(){if(this.options.layout=="horizontal"){this.horizontalResize()}else{this.verticalResize()}},horizontalResize:function(){var P=this.domObj.getContentBoxSize().width;var E=P;var F,L,I;for(F=0;F<this.bars.length;F++){var M=this.bars[F];var R=M.retrieve("size");if(!R||R.width==0){R=M.getBorderBoxSize();M.store("size",R)}P-=R.width}var J=0,O=0;for(F=0;F<this.elements.length;F++){L=this.elements[F];I=L.retrieve("jxLayout").options;if(I.width!=null){P-=parseInt(I.width,10)}else{O=0;if(I.right!=0||I.left!=0){O=L.getBorderBoxSize().width}P-=O;J++}}if(J==0){P+=I.width;I.width=null;J=1}var H=parseInt(P/J,10);var Q=P%J;var C=this.domObj.measure(function(){var S=this.getSizes(["padding"],["left"]);return S.padding.left});var D=0;for(F=0;F<this.elements.length;F++){L=this.elements[F];var K=L.retrieve("jxLayout");I=K.options;if(I.width!=null){K.resize({left:D});D+=I.width}else{var N=H;if(J==1){N+=Q}J--;if(I.right!=0||I.left!=0){O=L.getBorderBoxSize().width+N}else{O=N}if(O<0){if(J>0){H=H+O/J}O=0}if(O<I.minWidth){if(J>0){H=H+(O-I.minWidth)/J}O=I.minWidth}if(I.maxWidth>=0&&O>I.maxWidth){if(J>0){H=H+(O-I.maxWidth)/J}O=L.options.maxWidth}var B=E-D-O;K.resize({left:D,right:B});D+=O}var G=L.retrieve("rightBar");if(G){G.setStyle("left",C+D);D+=G.retrieve("size").width}}},verticalResize:function(){var O=this.domObj.getContentBoxSize().height;var C=O;var E,L,I;for(E=0;E<this.bars.length;E++){var M=this.bars[E];var R=M.retrieve("size");if(!R||R.height==0){R=M.getBorderBoxSize();M.store("size",R)}O-=R.height}var J=0,H=0;for(E=0;E<this.elements.length;E++){L=this.elements[E];I=L.retrieve("jxLayout").options;if(I.height!=null){O-=parseInt(I.height,10)}else{if(I.bottom!=0||I.top!=0){H=L.getBorderBoxSize().height}O-=H;J++}}if(J==0){O+=I.height;I.height=null;J=1}var G=parseInt(O/J,10);var P=O%J;var Q=this.domObj.measure(function(){var S=this.getSizes(["padding"],["top"]);return S.padding.top});var D=0;for(E=0;E<this.elements.length;E++){L=this.elements[E];var K=L.retrieve("jxLayout");I=K.options;if(I.height!=null){K.resize({top:D});D+=I.height}else{var N=G;if(J==1){N+=P}J--;H=0;if(I.bottom!=0||I.top!=0){H=L.getBorderBoxSize().height+N}else{H=N}if(H<0){if(J>0){G=G+H/J}H=0}if(H<I.minHeight){if(J>0){G=G+(H-I.minHeight)/J}H=I.minHeight}if(I.maxHeight>=0&&H>I.maxHeight){if(J>0){G=G+(H-I.maxHeight)/J}H=I.maxHeight}var B=C-D-H;K.resize({top:D,bottom:B});D+=H}var F=L.retrieve("rightBar");if(F){F.style.top=Q+D+"px";D+=F.retrieve("size").height}}},changeText:function(B){this.parent();this.bars.each(function(C){document.id(C).set("title",this.getText({set:"Jx",key:"splitter",value:"barToolTip"}))},this)}});Jx.PanelSet=new Class({Family:"Jx.PanelSet",Extends:Jx.Widget,options:{parent:null,panels:[]},panels:null,height:null,firstLayout:true,render:function(){if(this.options.panels){this.panels=this.options.panels;this.options.panels=null}this.domObj=new Element("div");new Jx.Layout(this.domObj);var C=new Element("div",{styles:{position:"absolute"}});new Jx.Layout(C,{minHeight:0,maxHeight:0,height:0});var B=[C];this.panels.each(function(D){B.push(D.domObj);D.options.hideTitle=true;D.contentContainer.resize({top:0});D.toggleCollapse=this.maximizePanel.bind(this,D);D.domObj.store("Jx.Panel",D);D.manager=this},this);this.splitter=new Jx.Splitter(this.domObj,{splitInto:this.panels.length+1,layout:"vertical",elements:B,prepareBar:(function(F){var G=new Element("div",{"class":"jxPanelBar",title:this.getText({set:"Jx",key:"panelset",value:"barToolTip"})});var D=this.panels[F];D.title.setStyle("visibility","hidden");document.id(document.body).adopt(D.title);var E=D.title.getBorderBoxSize();G.adopt(D.title);D.title.setStyle("visibility","");G.setStyle("height",E.height);G.store("size",E);return G}).bind(this)});this.addEvent("addTo",function(){document.id(this.domObj.parentNode).setStyle("overflow","hidden");this.domObj.resize()});if(this.options.parent){this.addTo(this.options.parent)}},maximizePanel:function(D){var G=this.domObj.getContentBoxSize().height;var C=G;var L=D.domObj.retrieve("jxLayout").options.maxHeight;var J,I,E,H,F,K;for(I=1;I<this.splitter.elements.length;I++){E=this.splitter.elements[I];C-=E.retrieve("leftBar").getBorderBoxSize().height;if(E!==D.domObj){H=E.retrieve("Jx.Panel");F=E.retrieve("jxLayout").options;C-=F.minHeight}else{J=I}}if(L==-1||L>=C){L=C;C=0}else{C=C-L}var M=0;for(I=1;I<this.splitter.elements.length;I++){E=this.splitter.elements[I];M+=E.retrieve("leftBar").getBorderBoxSize().height;if(E!==D.domObj){H=E.retrieve("Jx.Panel");F=E.retrieve("jxLayout").options;K=$chk(F.height)?F.height:E.getBorderBoxSize().height;if(C>0){if(C>=K){C-=K;E.resize({top:M,height:K});M+=K}else{if(C>F.minHeight){E.resize({top:M,height:C});M+=C;C=0}else{E.resize({top:M,height:F.minHeight});M+=F.minHeight}}}else{E.resize({top:M,height:F.minHeight});M+=F.minHeight}E.retrieve("rightBar").style.top=M+"px"}else{break}}var B=G;for(I=this.splitter.elements.length-1;I>0;I--){E=this.splitter.elements[I];if(E!==D.domObj){F=E.retrieve("jxLayout").options;K=$chk(F.height)?F.height:E.getBorderBoxSize().height;if(C>0){if(C>=K){B-=K;C-=K;E.resize({top:B,height:K})}else{if(C>F.minHeight){B-=C;E.resize({top:B,height:C});C=0}else{B-=F.minHeight;E.resize({top:B,height:F.minHeight})}}}else{B-=F.minHeight;E.resize({top:B,height:F.minHeight,bottom:null})}B-=E.retrieve("leftBar").getBorderBoxSize().height;E.retrieve("leftBar").style.top=B+"px"}else{break}}D.domObj.resize({top:M,height:L,bottom:null});this.fireEvent("panelMaximize",D)},createText:function(B){this.parent()}});Jx.Dialog.Message=new Class({Family:"Jx.Dialog.Message",Extends:Jx.Dialog,Binds:["onOk"],options:{message:"",width:300,height:150,close:true,resize:true,collapse:false,useKeyboard:true,keys:{enter:"ok"}},render:function(){this.buttons=new Jx.Toolbar({position:"bottom",scroll:false});this.ok=new Jx.Button({label:this.getText({set:"Jx",key:"message",value:"okButton"}),onClick:this.onOk});this.buttons.add(this.ok);this.options.toolbars=[this.buttons];var C=Jx.type(this.options.message);if(C==="string"||C=="object"||C=="element"){this.question=new Element("div",{"class":"jxMessage"});switch(C){case"string":case"object":this.question.set("html",this.getText(this.options.message));break;case"element":this.options.message.inject(this.question);break}}else{this.question=this.options.question;document.id(this.question).addClass("jxMessage")}this.options.content=this.question;if(this.options.useKeyboard){var B=this;this.options.keyboardMethods.ok=function(D){D.preventDefault();B.close()}}this.parent();if(this.options.useKeyboard){this.keyboard.addEvents(this.getKeyboardEvents())}},onOk:function(){this.close()},setMessage:function(B){this.options.message=B;if($defined(this.question)){this.question.set("html",this.getText(B))}},changeText:function(B){this.parent();if($defined(this.ok)){this.ok.setLabel({set:"Jx",key:"message",value:"okButton"})}if(Jx.type(this.options.message)==="object"){this.question.set("html",this.getText(this.options.message))}}});Jx.Dialog.Confirm=new Class({Extends:Jx.Dialog,options:{question:"",useKeyboard:true,keys:{esc:"cancel",enter:"ok"},width:300,height:150,close:false,resize:true,collapse:false},keyboard:null,render:function(){this.buttons=new Jx.Toolbar({position:"bottom",scroll:false});this.ok=new Jx.Button({label:this.getText({set:"Jx",key:"confirm",value:"affirmativeLabel"}),onClick:this.onClick.bind(this,true)}),this.cancel=new Jx.Button({label:this.getText({set:"Jx",key:"confirm",value:"negativeLabel"}),onClick:this.onClick.bind(this,false)});this.buttons.add(this.ok,this.cancel);this.options.toolbars=[this.buttons];var C=Jx.type(this.options.question);if(C==="string"||C==="object"||C=="element"){this.question=new Element("div",{"class":"jxConfirmQuestion"});switch(C){case"string":case"object":this.question.set("html",this.getText(this.options.question));break;case"element":this.options.question.inject(this.question);break}}else{this.question=this.options.question;document.id(this.question).addClass("jxConfirmQuestion")}this.options.content=this.question;if(this.options.useKeyboard){var B=this;this.options.keyboardMethods.ok=function(D){D.preventDefault();B.onClick(true)};this.options.keyboardMethods.cancel=function(D){D.preventDefault();B.onClick(false)}}this.parent();if(this.options.useKeyboard){this.keyboard.addEvents(this.getKeyboardEvents())}},onClick:function(B){this.isOpening=false;this.hide();this.fireEvent("close",[this,B])},changeText:function(B){this.parent();if($defined(this.ok)){this.ok.setLabel({set:"Jx",key:"confirm",value:"affirmativeLabel"})}if($defined(this.cancel)){this.cancel.setLabel({set:"Jx",key:"confirm",value:"negativeLabel"})}if(Jx.type(this.options.question)==="object"){this.question.set("html",this.getText(this.options.question))}}});Jx.Tooltip=new Class({Family:"Jx.Widget",Extends:Jx.Widget,Binds:["enter","leave","move"],options:{offsets:{x:15,y:15},showDelay:100,cssClass:null},parameters:["target","tip","options"],render:function(){this.parent();this.target=document.id(this.options.target);var B=this.target.retrieve("Tip");if(B){this.target.eliminate("Tip")}this.domObj=new Element("div",{styles:{position:"absolute",top:0,left:0,visibility:"hidden"}}).inject(document.body);if(Jx.type(this.options.tip)==="string"||Jx.type(this.options.tip)=="object"){this.domObj.set("html",this.getText(this.options.tip))}else{this.domObj.grab(this.options.tip)}this.domObj.addClass("jxTooltip");if($defined(this.options.cssClass)){this.domObj.addClass(this.options.cssClass)}this.options.target.store("Tip",this);this.options.target.addEvent("mouseenter",this.enter);this.options.target.addEvent("mouseleave",this.leave);this.options.target.addEvent("mousemove",this.move)},enter:function(B){this.timer=$clear(this.timer);this.timer=(function(){this.domObj.setStyle("visibility","visible");this.position(B)}).delay(this.options.delay,this)},leave:function(B){this.timer=$clear(this.timer);this.timer=(function(){this.domObj.setStyle("visibility","hidden")}).delay(this.options.delay,this)},move:function(B){this.position(B)},position:function(D){var C=window.getSize(),B=window.getScroll();var F=this.domObj.getMarginBoxSize();var E={x:this.domObj.offsetWidth,y:this.domObj.offsetHeight};var G={x:D.page.x+this.options.offsets.x,y:D.page.y+this.options.offsets.y};if(D.page.y+this.options.offsets.y+E.y+F.height-B.y>C.y){G.y=D.page.y-this.options.offsets.y-F.height-B.y}if(D.page.x+this.options.offsets.x+E.x+F.width-B.x>C.x){G.x=D.page.x-this.options.offsets.x-F.width-B.x}this.domObj.setStyle("top",G.y);this.domObj.setStyle("left",G.x)},detach:function(){this.target.eliminate("Tip");this.destroy()}});Jx.Fieldset=new Class({Family:"Jx.Fieldset",Extends:Jx.Widget,options:{legend:null,id:null,fieldsetClass:null,legendClass:null,template:'<fieldset class="jxFieldset"><legend><span class="jxFieldsetLegend"></span></legend></fieldset>',form:null},classes:new Hash({domObj:"jxFieldset",legend:"jxFieldsetLegend"}),legend:null,render:function(){this.parent();this.id=this.options.id;if($defined(this.options.form)&&this.options.form instanceof Jx.Form){this.form=this.options.form}if(this.domObj){if($defined(this.options.id)){this.domObj.set("id",this.options.id)}if($defined(this.options.fieldsetClass)){this.domObj.addClass(this.options.fieldsetClass)}}if(this.legend){if($defined(this.options.legend)){this.legend.set("html",this.getText(this.options.legend));if($defined(this.options.legendClass)){this.legend.addClass(this.options.legendClass)}}else{this.legend.destroy()}}},add:function(){var C;for(var B=0;B<arguments.length;B++){C=arguments[B];if($defined(C.jxFamily)&&!$defined(C.form)&&$defined(this.form)){C.form=this.form;this.form.addField(C)}this.domObj.grab(C)}return this},addTo:function(B){if(B instanceof Jx.Form){this.form=B}else{if(B instanceof Jx.Fieldset){this.form=B.form}}return this.parent(B)}});Jx.Form=new Class({Family:"Jx.Form",Extends:Jx.Widget,options:{method:"post",action:"",fileUpload:false,formClass:null,name:"",acceptCharset:"utf-8",uploadFilesFirst:false,template:'<form class="jxForm"></form>'},defaultAction:null,fields:null,pluginNamespace:"Form",classes:$H({domObj:"jxForm"}),init:function(){this.parent();this.fields=new Hash();this.data={}},render:function(){this.parent();this.domObj.set({method:this.options.method,action:this.options.action,name:this.options.name,"accept-charset":this.options.acceptCharset,events:{keypress:function(B){if(B.key=="enter"&&B.target.tagName!="TEXTAREA"&&this.defaultAction&&this.defaultAction.click){document.id(this.defaultAction).focus();this.defaultAction.click();B.stop()}}.bind(this)}});if(this.options.fileUpload){this.domObj.set("enctype","multipart/form-data")}if($defined(this.options.formClass)){this.domObj.addClass(this.options.formClass)}},addField:function(B){this.fields.set(B.id,B);if(B.options.defaultAction){this.defaultAction=B}},isValid:function(B){return true},getValues:function(B){var C=this.domObj.toQueryString();if($defined(B)&&B){return C}else{return C.parseQueryString()}},setValues:function(B){if(Jx.type(B)==="object"){B=new Hash(B)}this.fields.each(function(C){C.setValue(B.get(C.name))},this)},add:function(){var C;for(var B=0;B<arguments.length;B++){C=arguments[B];if(C instanceof Jx.Field&&!$defined(C.form)){C.form=this;this.addField(C)}else{if(C instanceof Jx.Fieldset&&!$defined(C.form)){C.form=this}}this.domObj.grab(C)}return this},reset:function(){this.fields.each(function(C,B){C.reset()},this);this.fireEvent("reset",this)},getFieldsByName:function(C){var B=[];this.fields.each(function(D,E){if(D.name===C){B.push(D)}},this);return B},getField:function(B){if(this.fields.has(B)){return this.fields.get(B)}return null},setBusy:function(B){if(this.busy==B){return }this.parent(B);this.fields.each(function(C){C.setBusy(B,true)})},submit:function(){var C=this.options;if(C.fileUpload){var B=this.findFiles();B.each(function(E){var D=E.getFileInputs();if(D.length>1){D.each(function(F){F.set("name",F.get("name")+"[]")},this)}E.destroy();this.domObj.adopt(D)},this)}this.domObj.submit()},ajaxSubmit:function(){var C=this.options;if(C.fileUpload){var B=this.findFiles();this.files=B.length;this.completed=0;B.each(function(E,D){E.addEvent("onFileUploadComplete",this.fileUploadComplete.bind(this));if(D==(this.files-1)&&!C.uploadFilesFirst){E.upload(this)}else{E.upload()}},this)}else{this.submitForm()}},submitForm:function(){var C=this.getValues();var B=new Request.JSON({url:this.action,method:this.method,data:C,urlEncoded:true,onSuccess:function(E,D){this.fileUploadComplete(E,true)}.bind(this)});B.send()},findFiles:function(){var B=[];this.fields.each(function(C){if(C instanceof Jx.Field.File){B.push(C)}},this);return B},fileUploadComplete:function(B){this.completed++;$each(B,function(D,C){this.data[C]=D},this);if(this.completed==this.files&&this.options.uploadFilesFirst){this.submitForm()}else{this.fireEvent("formSubmitComplete",[this.data])}}});Jx.Field=new Class({Family:"Jx.Field",Extends:Jx.Widget,pluginNamespace:"Field",Binds:["changeText"],options:{id:null,name:null,label:null,labelSeparator:":",value:null,tag:null,tip:null,template:null,containerClass:null,labelClass:null,fieldClass:null,tagClass:null,required:false,readonly:false,disabled:false,defaultAction:false},overtextOptions:{element:"label"},field:null,label:null,tag:null,id:null,overText:null,type:"field",classes:new Hash({domObj:"jxInputContainer",label:"jxInputLabel",tag:"jxInputTag"}),render:function(){this.classes.set("field","jxInput"+this.type);var B=$defined(this.options.name)?this.options.name:"";this.options.template=this.options.template.substitute({name:B});this.parent();this.id=this.generateId();this.name=this.options.name;if($defined(this.type)){this.domObj.addClass("jxInputContainer"+this.type)}if($defined(this.options.containerClass)){this.domObj.addClass(this.options.containerClass)}if($defined(this.options.required)&&this.options.required){this.domObj.addClass("jxFieldRequired");if($defined(this.options.validatorClasses)){this.options.validatorClasses="required "+this.options.validatorClasses}else{this.options.validatorClasses="required"}}if(this.field){if($defined(this.options.fieldClass)){this.field.addClass(this.options.fieldClass)}if($defined(this.options.value)){this.field.set("value",this.options.value)}this.field.set("id",this.id);if($defined(this.options.readonly)&&this.options.readonly){this.field.set("readonly","readonly");this.field.addClass("jxFieldReadonly")}if($defined(this.options.disabled)&&this.options.disabled){this.field.set("disabled","disabled");this.field.addClass("jxFieldDisabled")}this.field.addEvents({focus:this.onFocus.bind(this),blur:this.onBlur.bind(this),change:this.onChange.bind(this)});this.field.store("field",this);if(this.label){this.label.addEvent("click",function(){this.field.focus()}.bind(this))}}if(this.label){if($defined(this.options.labelClass)){this.label.addClass(this.options.labelClass)}if($defined(this.options.label)){this.label.set("html",this.getText(this.options.label)+this.options.labelSeparator)}this.label.set("for",this.id);if(this.options.required){this.requiredText=new Element("em",{html:this.getText({set:"Jx",key:"field",value:"requiredText"}),"class":"required"});this.requiredText.inject(this.label)}}if(this.tag){if($defined(this.options.tagClass)){this.tag.addClass(this.options.tagClass)}if($defined(this.options.tag)){this.tag.set("html",this.options.tag)}}if($defined(this.options.form)&&this.options.form instanceof Jx.Form){this.form=this.options.form;this.form.addField(this)}},setValue:function(B){if(!this.options.readonly){this.field.set("value",B)}},getValue:function(){return this.field.get("value")},reset:function(){this.setValue(this.options.value);this.fireEvent("reset",this)},disable:function(){this.options.disabled=true;this.field.set("disabled","disabled");this.field.addClass("jxFieldDisabled")},enable:function(){this.options.disabled=false;this.field.erase("disabled");this.field.removeClass("jxFieldDisabled")},addTo:function(C,B){if(C instanceof Jx.Fieldset||C instanceof Jx.Form){C.add(this)}else{this.parent(C,B)}return this},changeText:function(B){this.parent();if($defined(this.options.label)&&this.label){this.label.set("html",this.getText(this.options.label)+this.options.labelSeparator)}if(this.options.required){this.requiredText=new Element("em",{html:this.getText({set:"Jx",key:"field",value:"requiredText"}),"class":"required"});this.requiredText.inject(this.label)}if($defined(this.requiredText)){this.requiredText.set("html",this.getText({set:"Jx",key:"field",value:"requiredText"}))}},onFocus:function(){this.fireEvent("focus",this)},onBlur:function(){this.fireEvent("blur",this)},onChange:function(){this.fireEvent("change",this)},setBusy:function(C,B){if(!B){this.parent(C)}this.field.set("readonly",C||this.options.readonly)}});Jx.Field.Text=new Class({Extends:Jx.Field,options:{overText:null,template:'<span class="jxInputContainer"><label class="jxInputLabel"></label><input class="jxInputText" type="text" name="{name}"/><span class="jxInputTag"></span></span>'},type:"Text",render:function(){this.parent();if($defined(this.options.overText)){var B=$extend({},this.options.overText);this.field.set("alt",this.options.tip);this.overText=new OverText(this.field,B);this.overText.show()}}});Jx.Dialog.Prompt=new Class({Extends:Jx.Dialog,options:{prompt:"",startingValue:"",fieldOptions:{type:"Text",options:{},validate:true,validatorOptions:{validators:["required"],validateOnBlur:true,validateOnChange:false},showErrorMsg:true},width:400,height:200,close:true,resize:true,collapse:false,useKeyboard:true,keys:{esc:"cancel",enter:"ok"}},render:function(){this.buttons=new Jx.Toolbar({position:"bottom",scroll:false});this.ok=new Jx.Button({label:this.getText({set:"Jx",key:"prompt",value:"okButton"}),onClick:this.onClick.bind(this,true)});this.cancel=new Jx.Button({label:this.getText({set:"Jx",key:"prompt",value:"cancelButton"}),onClick:this.onClick.bind(this,false)});this.buttons.add(this.ok,this.cancel);this.options.toolbars=[this.buttons];var C=this.options.fieldOptions;C.options.label=this.getText(this.options.prompt);C.options.value=this.options.startingValue;C.options.containerClass="jxPrompt";if(Jx.type(C.type)==="string"&&$defined(Jx.Field[C.type.capitalize()])){this.field=new Jx.Field[C.type.capitalize()](C.options)}else{if(Jx.type(C.type)==="Jx.Object"){this.field=C.type}else{window.console?console.warn("Field type does not exist %o, using Jx.Field.Text",C.type):false;this.field=new Jx.Field.Text(C.options)}}if(this.options.fieldOptions.validate){this.validator=new Jx.Plugin.Field.Validator(this.options.fieldOptions.validatorOptions);this.validator.attach(this.field)}this.options.content=document.id(this.field);if(this.options.useKeyboard){var B=this;this.options.keyboardMethods.ok=function(D){D.preventDefault();B.onClick(true)};this.options.keyboardMethods.cancel=function(D){D.preventDefault();B.onClick(false)}}this.parent();if(this.options.useKeyboard){this.keyboard.addEvents(this.getKeyboardEvents())}},onClick:function(B){if(B&&$defined(this.validator)){if(this.validator.isValid()){this.isOpening=false;this.hide();this.fireEvent("close",[this,B,this.field.getValue()])}else{this.field.field.focus.delay(50,this.field.field)}}else{this.isOpening=false;this.hide();this.fireEvent("close",[this,B,this.field.getValue()])}},changeText:function(B){this.parent();if($defined(this.ok)){this.ok.setLabel({set:"Jx",key:"prompt",value:"okButton"})}if($defined(this.cancel)){this.cancel.setLabel({set:"Jx",key:"prompt",value:"cancelButton"})}this.field.label.set("html",this.getText(this.options.prompt))}});Jx.Panel.DataView=new Class({Extends:Jx.Panel,options:{data:null,sortColumns:null,itemTemplate:null,emptyTemplate:null,containerClass:null,itemClass:null,listOptions:{select:true,hover:true}},init:function(){this.domA=new Element("div");this.list=this.createList(this.domA,this.options.listOptions);this.parent()},render:function(){if(!$defined(this.options.data)){return }this.options.content=this.domA;this.parent();this.domA.addClass(this.options.containerClass);this.itemCols=this.parseTemplate(this.options.itemTemplate);this.bound.update=this.update.bind(this);this.options.data.addEvent("storeDataLoaded",this.bound.update);this.options.data.addEvent("storeSortFinished",this.bound.update);this.options.data.addEvent("storeDataLoadFailed",this.bound.update);if(this.options.data.loaded){this.update()}},draw:function(){var E=this.options.data.count();if($defined(E)&&E>0){for(var B=0;B<E;B++){this.options.data.moveTo(B);var C=this.createItem();this.list.add(C)}}else{var D=new Element("div",{html:this.options.emptyTemplate});this.list.add(C)}this.fireEvent("renderDone",this)},createItem:function(){var B={};this.itemCols.each(function(E){B[E]=this.options.data.get(E)},this);var D=this.options.itemTemplate.substitute(B);var C=new Element("div",{"class":this.options.itemClass,html:D});return C},update:function(){if(!this.updating){this.updating=true;this.list.empty();this.options.data.sort(this.options.sortColumns);this.draw();this.updating=false}},parseTemplate:function(D){var C=this.options.data.getColumns();var B=[];C.each(function(E){var F="{"+E.name+"}";if(D.contains(F)){B.push(E.name)}},this);return B},enterItem:function(B,C){this.fireEvent("mouseenter",B,C)},leaveItem:function(B,C){this.fireEvent("mouseleave",B,C)},selectItem:function(B,C){this.fireEvent("select",B,C)},unselectItem:function(B,C){this.fireEvent("unselect",B,C)},addItem:function(B,C){this.fireEvent("add",B,C)},removeItem:function(B,C){this.fireEvent("remove",B,C)},createList:function(B,C){return new Jx.List(B,$extend({onMouseenter:this.enterItem.bind(this),onMouseleave:this.leaveItem.bind(this),onSelect:this.selectItem.bind(this),onAdd:this.addItem.bind(this),onRemove:this.removeItem.bind(this),onUnselect:this.unselectItem.bind(this)},C))}});Jx.Panel.DataView.Group=new Class({Extends:Jx.Panel.DataView,options:{groupTemplate:null,groupContainerClass:null,groupHeaderClass:null,listOptions:{select:false,hover:false},itemOptions:{select:true,hover:true,hoverClass:"jxItemHover",selectClass:"jxItemSelect"}},init:function(){this.groupCols=this.parseTemplate(this.options.groupTemplate);this.itemManager=new Jx.Selection({eventToFire:{select:"itemselect",unselect:"itemunselect"},selectClass:"jxItemSelected"});this.groupManager=new Jx.Selection({eventToFire:{select:"groupselect",unselect:"groupunselect"},selectClass:"jxGroupSelected"});this.parent()},render:function(){this.list=this.createList(this.domA,this.listOptions,this.groupManager);this.parent()},draw:function(){var K=this.options.data;var C=K.count();if($defined(C)&&C>0){var N="";var J=null;for(var F=0;F<C;F++){K.moveTo(F);var L=K.get(this.options.sortColumns[0]);if(L!==N){var B=new Element("div",{"class":this.options.groupContainerClass});var D=this.createList(B,{select:false,hover:false});this.list.add(D.container);N=L;var E={};this.groupCols.each(function(P){E[P]=K.get(P)},this);var M=this.options.groupTemplate.substitute(E);var I=new Element("div",{"class":this.options.groupHeaderClass,html:M,id:"group-"+L.replace(" ","-","g")});D.add(I);var H=new Element("div",{"class":this.options.containerClass});J=this.createList(H,this.options.itemOptions,this.itemManager);D.add(J.container)}var O=this.createItem();J.add(O)}}else{var G=new Element("div",{html:this.options.emptyTemplate});this.list.add(G)}this.fireEvent("renderDone",this)},createList:function(B,C,D){return new Jx.List(B,$extend({onMouseenter:this.enterItem.bind(this),onMouseleave:this.leaveItem.bind(this),onAdd:this.addItem.bind(this),onRemove:this.removeItem.bind(this)},C),D)}});Jx.ListItem=new Class({Family:"Jx.ListItem",Extends:Jx.Widget,options:{enabled:true,template:'<li class="jxListItemContainer jxListItem"></li>'},classes:new Hash({domObj:"jxListItemContainer",domContent:"jxListItem"}),render:function(){this.parent();this.domContent.store("jxListItem",this);this.domObj.store("jxListTarget",this.domContent);this.loadContent(this.domContent)},enable:function(B){}});Jx.ListView=new Class({Family:"Jx.Widget",Extends:Jx.Widget,pluginNamespace:"ListView",options:{template:'<ul class="jxListView jxList"></ul>',listOptions:{hover:true,press:true,select:true}},classes:new Hash({domObj:"jxListView",listObj:"jxList"}),render:function(){this.parent();if(this.options.selection){this.selection=this.options.selection}else{if(this.options.select){this.selection=new Jx.Selection(this.options);this.ownsSelection=true}}this.list=new Jx.List(this.listObj,this.options.listOptions,this.selection)},cleanup:function(){if(this.ownsSelection){this.selection.destroy()}this.list.destroy()},add:function(C,B){this.list.add(C,B);return this},remove:function(B){this.list.remove(B);return this},replace:function(C,B){this.list.replace(C,B);return this},empty:function(){this.list.empty();return this}});Jx.Field.Hidden=new Class({Extends:Jx.Field,options:{template:'<span class="jxInputContainer"><input class="jxInputHidden" type="hidden" name="{name}"/></span>'},type:"Hidden"});Jx.Field.File=new Class({Extends:Jx.Field,options:{template:'<span class="jxInputContainer"><label class="jxInputLabel"></label><div class="jxFileInputs"><input class="jxInputFile" type="file" name="{name}" /></div><span class="jxInputTag"></span></span>',autoUpload:false,progress:false,progressIDUrl:"",progressName:"APC_UPLOAD_PROGRESS",progressId:"progress_key",handlerUrl:"",progressUrl:"",debug:false,mode:"single"},type:"File",forms:null,init:function(){this.parent();this.forms=new Hash();this.isIFrameSetup=true;this.iframe=new Element("iframe",{name:this.generateId(),styles:{display:"none",visibility:"hidden"}});this.iframe.inject(document.body);this.iframe.addEvent("load",this.processIFrameUpload.bind(this))},render:function(){this.parent();if(!$defined(this.options.id)){this.field.set("id",this.generateId())}this.fake=new Element("div",{"class":"jxFileFake"});this.text=new Jx.Field.Text({template:'<span class="jxInputContainer"><input class="jxInputText" type="text" /></span>'});this.browseButton=new Jx.Button({label:this.getText({set:"Jx",key:"file",value:"browseLabel"})});this.fake.adopt(this.text,this.browseButton);this.field.grab(this.fake,"after");this.field.addEvents({change:this.copyValue.bind(this),mouseenter:this.mouseEnter.bind(this),mouseleave:this.mouseLeave.bind(this)})},copyValue:function(){if(this.options.mode=="single"&&this.field.value!==""&&(this.text.field.value!==this.field.value)){this.text.field.value=this.field.value;this.fireEvent("fileSelected",this);this.forms.set(this.field.value,this.prepForm());if(this.options.autoUpload){this.uploadSingle()}}else{if(this.options.mode=="multiple"){var B=this.field.value;var C=this.prepForm();this.forms.set(B,C);this.text.setValue("");this.fireEvent("fileSelected",B)}}},mouseEnter:function(){this.browseButton.domA.addClass("jxButtonPressed")},mouseLeave:function(){this.browseButton.domA.removeClass("jxButtonPressed")},prepForm:function(){var D=new Jx.Form({action:this.options.handlerUrl,name:"jxUploadForm",fileUpload:true});var C=document.id(this.field.getParent());var B=document.id(this.field).getPrevious();var E=this.field.clone().cloneEvents(this.field);document.id(D).grab(this.field);if(B){E.inject(B,"after")}else{if(C){E.inject(C,"top")}}this.field=E;this.mouseLeave();return D},upload:function(C){if(this.forms.getLength()>0){var E=this.forms.getKeys();this.currentKey=E[0];var D=this.forms.get(this.currentKey);this.forms.erase(this.currentKey);if($defined(C)&&this.forms.getLength()==0){var B=C.fields;B.each(function(F){if(!(F instanceof Jx.Field.File)){document.id(F).clone().inject(D)}},this)}this.uploadSingle(D)}else{this.fireEvent("allUploadsComplete",this)}},uploadSingle:function(C){this.form=$defined(C)?C:this.prepForm();this.fireEvent("fileUploadBegin",[this.currentKey,this]);this.text.setValue("");document.id(this.form).set("target",this.iframe.get("name")).setStyles({visibility:"hidden",display:"none"}).inject(document.body);if(this.options.progress){var B=new Request.JSON({url:this.options.progressIDUrl,method:"get",onSuccess:this.submitUpload.bind(this)});B.send()}else{this.submitUpload()}},submitUpload:function(B){if($defined(B)&&B.success&&$defined(B.id)){this.progressID=B.id;var C=new Jx.Field.Hidden({name:this.options.progressName,id:this.options.progressId,value:this.progressID});C.addTo(this.form,"top")}document.id(this.form).submit();if(this.options.progress&&$defined(this.progressID)){this.pollUpload()}},pollUpload:function(){var C={id:this.progressID};var B=new Request.JSON({data:C,url:this.options.progressUrl,method:"get",onSuccess:this.processProgress.bind(this),onFailure:this.uploadFailure.bind(this)});B.send()},processProgress:function(B){if($defined(B)){this.fireEvent("fileUploadProgress",[B,this.currentKey,this]);if(B.current<B.total){this.polling=true;this.pollUpload()}else{this.polling=false}}},uploadFailure:function(B){this.fireEvent("fileUploadProgressError",[this,B])},processIFrameUpload:function(){if(this.isIFrameSetup){if(this.iframe.contentDocument&&this.iframe.contentDocument.defaultView){var B=this.iframe.contentDocument.defaultView.document.body.innerHTML}else{var B=this.iframe.contentWindow.document.body.innerHTML}var C=JSON.decode(B);if($defined(C)&&$defined(C.success)&&C.success){this.done=true;this.doneData=C;this.uploadCleanUp();this.fireEvent("fileUploadComplete",[C,this.currentKey,this])}else{this.fireEvent("fileUploadError",[C,this.currentKey,this])}if(this.options.mode=="multiple"){this.upload()}else{this.fireEvent("allUploadsComplete",this)}}},uploadCleanUp:function(){if(!this.options.debug){this.form.destroy()}},remove:function(B){if(this.forms.has(B)){this.forms.erase(B)}},changeText:function(B){this.parent();if($defined(this.browseButton)){this.browseButton.setLabel(this.getText({set:"Jx",key:"file",value:"browseLabel"}))}},getFileInputs:function(){var B=[];this.forms.each(function(D){var C=document.id(D).getElement("input[type=file]");B.push(C)},this);return B}});Jx.Progressbar=new Class({Family:"Jx.Progressbar",Extends:Jx.Widget,options:{onUpdate:$empty,onComplete:$empty,parent:null,progressText:null,template:'<div class="jxProgressBar-container"><div class="jxProgressBar-message"></div><div class="jxProgressBar"><div class="jxProgressBar-outline"></div><div class="jxProgressBar-fill"></div><div class="jxProgressBar-text"></div></div></div>'},classes:new Hash({domObj:"jxProgressBar-container",message:"jxProgressBar-message",container:"jxProgressBar",outline:"jxProgressBar-outline",fill:"jxProgressBar-fill",text:"jxProgressBar-text"}),bar:null,text:null,render:function(){this.parent();if($defined(this.options.parent)){this.domObj.inject(document.id(this.options.parent))}this.domObj.addClass("jxProgressStarting");this.width=document.id(this.domObj).getContentBoxSize().width;if(this.message){if($defined(MooTools.lang.get("Jx","progressbar").messageText)){this.message.set("html",this.getText({set:"Jx",key:"progressbar",value:"messageText"}))}else{this.message.destroy()}}if(this.fill){this.fill.setStyles({width:0})}var C={};var B=this.options.progressText==null?this.getText({set:"Jx",key:"progressbar",value:"progressText"}):this.getText(this.options.progressText);if(B.contains("{progress}")){C.progress=0}if(B.contains("{total}")){C.total=0}if(this.text){this.text.set("html",B.substitute(C))}},update:function(D,B){if(this.domObj.hasClass("jxProgressStarting")){this.domObj.removeClass("jxProgressStarting").addClass("jxProgressWorking")}var C=(B*this.width)/D;this.text.get("tween",{property:"width",onComplete:function(){var G={};var F=this.options.progressText==null?this.getText({set:"Jx",key:"progressbar",value:"progressText"}):this.getText(this.options.progressText);if(F.contains("{progress}")){G.progress=B}if(F.contains("{total}")){G.total=D}var E=F.substitute(G);this.text.set("text",E)}.bind(this)}).start(C);this.fill.get("tween",{property:"width",onComplete:(function(){if(D===B){this.complete=true;this.domObj.removeClass("jxProgressWorking").addClass("jxProgressFinished");this.fireEvent("complete")}else{this.fireEvent("update")}}).bind(this)}).start(C)},changeText:function(B){this.parent();if(this.message){this.message.set("html",this.getText({set:"Jx",key:"progressbar",value:"messageText"}))}}});Jx.Panel.FileUpload=new Class({Family:"Jx.Panel.FileUpload",Extends:Jx.Panel,Binds:["moveToQueue","fileUploadBegin","fileUploadComplete","allUploadsComplete","fileUploadProgressError,","fileUploadError","fileUploadProgress"],options:{file:{autoUpload:false,progress:false,progressIDUrl:"",handlerUrl:"",progressUrl:""},progressOptions:{template:"<li class='jxListItemContainer jxProgressBar-container' id='{id}'><div class='jxProgressBar'><div class='jxProgressBar-outline'></div><div class='jxProgressBar-fill'></div><div class='jxProgressBar-text'></div></div></li>",containerClass:"progress-container",messageText:null,messageClass:"progress-message",progressText:"Uploading {filename}",progressClass:"progress-bar"},onFileComplete:$empty,onComplete:$empty,prompt:null,removeOnComplete:false},domObjA:null,fileQueue:[],listTemplate:"<li class='jxListItemContainer' id='{id}'><a class='jxListItem' href='javascript:void(0);'><span class='itemLabel jxUploadFileName'>{name}</span><span class='jxUploadFileDelete' title='Remove this file from the queue.'></span></a></li>",render:function(){this.domObjA=new Element("div",{"class":"jxFileUploadPanel"});if($defined(this.options.prompt)){var C;if(Jx.type(this.options.prompt==="string")){C=new Element("p",{html:this.options.prompt})}else{C=this.options.prompt}C.inject(this.domObjA)}this.fileOpt=this.options.file;this.fileOpt.template='<div class="jxInputContainer jxFileInputs"><input class="jxInputFile" type="file" name={name} /></div>';this.file=new Jx.Field.File(this.fileOpt);this.file.addEvent("fileSelected",this.moveToQueue);this.file.addTo(this.domObjA);this.listView=new Jx.ListView({template:'<ul class="jxListView jxList jxUploadQueue"></ul>'}).addTo(this.domObjA);if(!this.options.file.autoUpload){this.uploadBtn=new Jx.Button({label:this.getText({set:"Jx",key:"upload",value:"buttonText"}),onClick:this.upload.bind(this)});var B=new Jx.Toolbar({position:"bottom",scroll:false}).add(this.uploadBtn);this.uploadBtn.setEnabled(false);this.options.toolbars=[B]}this.options.content=this.domObjA;this.parent(this.options)},moveToQueue:function(C){var B=new String(this.listTemplate).substitute({name:C,id:C});var D=new Jx.ListItem({template:B,enabled:true});$(D).getElement(".jxUploadFileDelete").addEvent("click",function(){this.listView.remove(D);this.file.remove(C);if(this.listView.list.count()==0){this.uploadBtn.setEnabled(false)}}.bind(this));this.listView.add(D);if(!this.uploadBtn.isEnabled()){this.uploadBtn.setEnabled(true)}},upload:function(){this.file.addEvents({fileUploadBegin:this.fileUploadBegin,fileUploadComplete:this.fileUploadComplete,allUploadsComplete:this.allUploadsComplete,fileUploadError:this.fileUploadError,fileUploadProgress:this.fileUploadProgress,fileUploadProgressError:this.fileUploadError});this.file.upload()},fileUploadBegin:function(B){if(this.options.file.progress){var C=$merge({},this.options.progressOptions);C.progressText=C.progressText.substitute({filename:B});C.template=C.template.substitute({id:B});this.pb=new Jx.Progressbar(C);var E=document.id(B);this.oldContents=E;this.listView.replace(E,$(this.pb))}else{var D=document.id(B).getElement(".jxUploadFileDelete");D.addClass("jxUploadFileProgress").set("title","File Uploading...")}},fileUploadComplete:function(C,B){if($defined(C.success)&&C.success){this.removeUploadedFile(B)}else{this.fileUploadError(C,B)}},fileUploadError:function(E,B){if(this.options.file.progress){this.listView.replace(document.id(B),this.oldContents)}var D=document.id(B).getElement(".jxUploadFileDelete");D.erase("title");if(D.hasClass("jxUploadFileProgress")){D.removeClass("jxUploadFileProgress").addClass("jxUploadFileError")}else{D.addClass("jxUploadFileError")}if($defined(E.error)&&$defined(E.error.message)){var C=new Jx.Tooltip(D,E.error.message,{cssClass:"jxUploadFileErrorTip"})}},removeUploadedFile:function(C){if(this.options.removeOnComplete){this.listView.remove(document.id(C))}else{if(this.options.file.progress){this.listView.replace(document.id(C),this.oldContents)}var B=document.id(C).getElement(".jxUploadFileDelete");if(B.hasClass("jxUploadFileDelete")){B.addClass("jxUploadFileComplete")}else{if(B.hasClass("jxUploadFileProgress")){B.removeClass("jxUploadFileProgress").addClass("jxUploadFileComplete")}}}this.fireEvent("fileUploadComplete",C)},fileUploadProgress:function(C,B){if(this.options.progress){this.pb.update(C.total,C.current)}},allUploadsComplete:function(){this.uploadBtn.setEnabled(false);this.fireEvent("allUploadsCompleted",this)},changeText:function(B){this.parent();if($defined(this.uploadBtn)){this.uploadBtn.setLabel({set:"Jx",key:"upload",value:"buttonText"})}}});Jx.Column=new Class({Family:"Jx.Column",Extends:Jx.Widget,options:{renderMode:"fixed",width:100,isEditable:false,isSortable:false,isResizable:false,isHidden:false,name:"",template:null,renderer:null},classes:$H({domObj:"jxGridCellContent"}),grid:null,parameters:["options","grid"],init:function(){this.name=this.options.name;if(!$defined(this.options.template)){this.options.template='<span class="jxGridCellContent">'+this.name.capitalize()+"</span>"}this.parent();if($defined(this.options.grid)&&this.options.grid instanceof Jx.Grid){this.grid=this.options.grid}if(!$defined(this.options.renderer)){this.options.renderer=new Jx.Grid.Renderer.Text({textTemplate:"{"+this.name+"}"})}else{if(!(this.options.renderer instanceof Jx.Grid.Renderer)){var B=Jx.type(this.options.renderer);if(B==="object"){if(!$defined(this.options.renderer.options.textTemplate)){this.options.renderer.options.textTemplate="{"+this.name+"}"}if(!$defined(this.options.renderer.name)){this.options.renderer.name="Text"}this.options.renderer=new Jx.Grid.Renderer[this.options.renderer.name.capitalize()](this.options.renderer.options)}}}this.options.renderer.setColumn(this)},getTemplate:function(B){return"<span class='jxGridCellContent' title='{col"+B+"}'>{col"+B+"}</span>"},getHeaderHTML:function(){if(this.isSortable()&&!this.sortImage){this.sortImage=new Element("img",{src:Jx.aPixel.src});this.sortImage.inject(this.domObj)}else{if(!this.isSortable()&&this.sortImage){this.sortImage.dispose();this.sortImage=null}}return this.domObj},setWidth:function(C,B){B=$defined(B)?B:false;var D=this.cellWidth-this.width;if(!B){this.width=parseInt(C,10);this.cellWidth=this.width+D;this.options.width=C}else{this.width=parseInt(C,10)-D;this.cellWidth=C;this.options.width=this.width}if(this.rule&&parseInt(this.width,10)>=0){this.rule.style.width=parseInt(this.width,10)+"px"}if(this.cellRule&&parseInt(this.cellWidth,10)>=0){this.cellRule.style.width=parseInt(this.cellWidth,10)+"px"}},getWidth:function(){return this.width},getCellWidth:function(){return this.cellWidth},calculateWidth:function(D){D=$defined(D)?D:false;var F,I,E=this.grid.getStore(),H,J,B,G,C;E.first();if((this.options.renderMode=="fixed"||this.options.renderMode=="expand")&&E.valid()){H=new Element("span",{"class":"jxGridCellContent",html:"a",styles:{width:this.options.width}});J=this.measure(H,"jxGridCell");F=J.content.width;I=J.cell.width}else{B=E.getPosition();F=I=0;while(E.valid()){this.options.renderer.render();G=document.id(this.options.renderer);C="jxGridCell";if(this.grid.row.useHeaders()&&this.options.name===this.grid.row.getRowHeaderColumn()){C="jxGridRowHead"}J=this.measure(G,C,D,E.getPosition());if(J.content.width>F){F=J.content.width}if(J.cell.width>I){I=J.cell.width}if(E.hasNext()){E.next()}else{break}}if(!(this.grid.row.useHeaders()&&this.options.name===this.grid.row.getRowHeaderColumn())){C="jxGridColHead";if(this.isEditable()){C+=" jxColEditable"}if(this.isResizable()){C+=" jxColResizable"}if(this.isSortable()){C+=" jxColSortable"}J=this.measure(this.domObj.clone(),C);if(J.content.width>F){F=J.content.width}if(J.cell.width>I){I=J.cell.width}}}this.width=F;this.cellWidth=I;E.moveTo(B);return this.width},measure:function(G,B,D,F){var E=new Element("span",{"class":B}),C;G.inject(E);E.setStyles({visibility:"hidden",width:"auto"});E.inject(document.body,"bottom");C=E.measure(function(){var H=this;if(!D){H=H.getFirst()}return{content:H.getMarginBoxSize(),cell:H.getMarginBoxSize()}});E.destroy();return C},isEditable:function(){return this.options.isEditable},isSortable:function(){return this.options.isSortable},isResizable:function(){return this.options.isResizable},isHidden:function(){return this.options.isHidden},isAttached:function(){return this.options.renderer.attached},getHTML:function(){this.options.renderer.render();return document.id(this.options.renderer)}});Jx.Columns=new Class({Family:"Jx.Columns",Extends:Jx.Object,options:{headerRowHeight:20,useHeaders:false,columns:[]},columns:[],rowTemplate:null,parameters:["options","grid"],hasExpandable:null,init:function(){this.parent();if($defined(this.options.grid)&&this.options.grid instanceof Jx.Grid){this.grid=this.options.grid}this.hasExpandable=false;this.options.columns.each(function(B){if(B instanceof Jx.Column){this.columns.push(B)}else{if(Jx.type(B)==="object"){this.columns.push(new Jx.Column(B,this.grid))}}var C=this.columns[this.columns.length-1]},this);this.buildTemplates()},addColumns:function(B){this.columns.extend(B);this.buildTemplates()},buildTemplates:function(){if(!this.grid){return }var G="",E=false,D=this.grid,F=D.row,C=D.row.useHeaders()?this.getByName(F.options.headerColumn):null,B;this.columns.each(function(J,I){var H="";if(!J.isHidden()&&J!=C){E|=J.options.renderMode=="expand";if(!J.options.renderer||!J.options.renderer.domInsert){H=J.getTemplate(I)}G+="<td class='jxGridCell jxGridCol"+I+" jxGridCol"+J.options.name+"'>"+H+"</td>"}});if(!E){G+="<td><span class='jxGridCellUnattached'></span></td>"}this.rowTemplate=G;this.hasExpandable=E},getHeaderHeight:function(B){if(!$defined(this.height)||B){if($defined(this.options.headerRowHeight)&&this.options.headerRowHeight!=="auto"){this.height=this.options.headerRowHeight}}return this.height},useHeaders:function(){return this.options.useHeaders},getByName:function(C){var B;this.columns.each(function(D){if(D.name===C){B=D}},this);return B},getByField:function(C){var B;this.columns.each(function(D){if(D.options.modelField===C){B=D}},this);return B},getByGridIndex:function(C){var F=this.options.useHeaders?this.grid.colTableBody.getFirst().getChildren():this.grid.gridTableBody.getFirst().getChildren();var B=F[C];var D=B.get("class").split(" ").filter(function(G){if(this.options.useHeaders){return G.test("jxColHead-")}else{return G.test("jxCol-")}}.bind(this));var E=D[0].split("-");return this.getByName(E[1])},getHeaders:function(D){var C=this.grid,E=C.row,B=C.row.useHeaders()?this.getByName(E.options.headerColumn):null;if(this.useHeaders()){this.columns.each(function(G,F){if(!G.isHidden()&&G!=B){var H=["jxGridColHead","jxGridCol"+F,"jxCol-"+G.options.name,"jxColHead-"+G.options.name],I;if(G.isEditable()){H.push("jxColEditable")}if(G.isResizable()){H.push("jxColResizable")}if(G.isSortable()){H.push("jxColSortable")}I=new Element("th",{"class":H.join(" ")});I.store("jxCellData",{column:G,colHeader:true,index:F});I.adopt(G.getHeaderHTML());I.inject(D)}});if(!this.hasExpandable){new Element("th",{"class":"jxGridColHead jxGridCellUnattached"}).inject(D)}}},getRow:function(G,F){var E={},B=this.grid,H=B.store,J=B.row,C=B.row.useHeaders()?this.getByName(J.options.headerColumn):null,I=[],D=0;this.columns.each(function(M,K){if(!M.isHidden()&&M!=C){if(M.options.renderer&&M.options.renderer.domInsert){I.push({column:M,index:D})}else{var N=M.options.renderer,L=N.options.formatter,O="";if(N.options.textTemplate){O=H.fillTemplate(null,N.options.textTemplate,N.columnsNeeded)}else{O=F.data.get(M.name)}if(L){O=L.format(O)}E["col"+K]=O}D++}});G.set("html",this.rowTemplate.substitute(E));I.each(function(K){G.childNodes[K.index].adopt(K.column.getHTML())})},calculateWidths:function(){var F=null,B=0,D=0,C=this.grid.contentContainer.getContentBoxSize(),E=0;this.columns.each(function(H,G){var I=false;if(H.options.renderMode=="fixed"){H.calculateWidth()}else{if(H.options.renderMode=="fit"){H.calculateWidth(I)}else{if(H.options.renderMode=="expand"&&!$defined(F)){F=H}else{if($defined(H.options.width)){H.setWidth(H.options.width)}else{H.calculateWidth(I)}}}}if(!H.isHidden()){B+=Jx.getNumber(H.getCellWidth());if(I){D=H.getWidth()}}},this);if(C.width>B){if($defined(F)){E=C.width-B;if(Browser.Engine.gecko){E-=this.getColumnCount(true)}else{E-=2}if(E>=F.options.width){F.options.width=E;F.calculateWidth();F.setWidth(E,true);B+=E}else{F.setWidth(F.options.width)}}}this.grid.gridObj.setContentBoxSize({width:B});this.grid.colObj.setContentBoxSize({width:B})},createRules:function(D,B){var C=this.grid.row.options.rowHeight=="auto";this.columns.each(function(G,F){var E=B+" .jxGridCol"+F,H="";if(C){H="white-space: normal !important"}G.cellRule=Jx.Styles.insertCssRule(E,H,D);G.cellRule.style.width=G.getCellWidth()+"px";E=B+" .jxGridCol"+F+" .jxGridCellContent";G.rule=Jx.Styles.insertCssRule(E,H,D);G.rule.style.width=G.getWidth()+"px"},this)},updateRule:function(C){var B=this.getByName(C);if(B.options.renderMode==="fit"){B.calculateWidth()}B.rule.style.width=B.getWidth()+"px";B.cellRule.style.width=B.getCellWidth()+"px"},getColumnCount:function(B){B=$defined(B)?false:true;var C=this.columns.length;if(B){this.columns.each(function(D){if(D.isHidden()){C-=1}},this)}return C},getIndexFromGrid:function(C){var E=this.options.useHeaders?this.grid.colTableBody.getFirst().getChildren():this.grid.gridTableBody.getFirst().getChildren(),F,D=-1,B=this;E.each(function(G){D++;var H=G.get("class").split(" ").filter(function(I){if(B.options.useHeaders){return I.test("jxColHead-")}else{return I.test("jxCol-")}});H.each(function(I){if(I.test(C)){F=D}})},this);return F}});Jx.Row=new Class({Family:"Jx.Row",Extends:Jx.Object,options:{useHeaders:false,alternateRowColors:false,rowClasses:{odd:"jxGridRowOdd",even:"jxGridRowEven",all:"jxGridRowAll"},rowHeight:20,headerWidth:40,headerColumn:null},grid:null,heights:[],rules:$H(),parameters:["options","grid"],init:function(){this.parent();if($defined(this.options.grid)&&this.options.grid instanceof Jx.Grid){this.grid=this.options.grid}},getGridRowElement:function(F,E){var D=this.options,C=D.rowClasses,G=D.alternateRowColors?(F%2?C.even:C.odd):C.all,B=new Element("tr",{"class":"jxGridRow"+F+" "+G,html:E||""});return B},getRowHeaderCell:function(B){B=B?'<span class="jxGridCellContent">'+B+"</span>":"";return new Element("th",{"class":"jxGridRowHead",html:B})},getRowHeaderWidth:function(){var B,C;if(this.options.headerColumn){B=this.grid.columns.getByName(this.options.headerColumn);if(!$defined(B.getWidth())){B.calculateWidth(true)}C=B.getWidth()}else{C=this.options.headerWidth}return C},getHeight:function(D){var C=this.options.rowHeight,B;if($defined(this.heights[D])){C=this.heights[D]}else{if($defined(this.options.rowHeight)){if(this.options.rowHeight=="auto"){C=20;B=this.grid.gridTableBody.rows[D];if(B){C=B.getContentBoxSize().height}}else{if(Jx.type(this.options.rowHeight)!=="number"){C=20}}}}return C},calculateHeights:function(){if(this.options.rowHeight==="auto"||!$defined(this.options.rowHeight)){document.id(this.grid.gridTableBody).getChildren().each(function(D){D=document.id(D);var C=D.retrieve("jxRowData");var B=D.getContentBoxSize();this.heights[C.row]=B.height},this);document.id(this.grid.rowTableHead).getChildren().each(function(D){D=document.id(D);var C=D.retrieve("jxRowData");if(C){var B=D.getContentBoxSize();this.heights[C.row]=Math.max(this.heights[C.row],B.height);if(Browser.Engine.webkit){this.heights[C.row]-=1}}},this)}else{document.id(this.grid.rowTableHead).getChildren().each(function(C,B){this.heights[B]=this.options.rowHeight},this)}},useHeaders:function(){return this.options.useHeaders},getRowHeader:function(C){var B=this.getRowHeaderCell();B.store("jxCellData",{rowHeader:true,row:this.grid.model.getPosition()});C.add(B)},getRowHeaderColumn:function(){return this.options.headerColumn}});Jx.Plugin=new Class({Family:"Jx.Plugin",Extends:Jx.Object,options:{},attach:function(B){B.registerPlugin(this)},detach:function(B){B.deregisterPlugin(this)},changeText:function(B){if(this.busy){this.setBusy(false);this.setBusy(true)}}});Jx.Plugin.Grid={};Jx.Grid=new Class({Family:"Jx.Grid",Extends:Jx.Widget,Binds:["storeLoaded","clickColumnHeader","moveColumnHeader","clickRowHeader","moveRowHeader","clickCell","dblclickCell","moveCell","leaveGrid","resize","drawStore","scroll","addRow","removeRow","removeRows","updateRow","storeChangesCompleted"],pluginNamespace:"Grid",options:{parent:null,template:"<div class='jxWidget'><div class='jxGridContainer jxGridRowCol'></div><div class='jxGridContainer jxGridColumnsContainer'><table class='jxGridTable jxGridHeader jxGridColumns'><thead class='jxGridColumnHead'></thead></table></div><div class='jxGridContainer jxGridHeader jxGridRowContainer'><table class='jxGridTable jxGridRows'><thead class='jxGridRowBody'></thead></table></div><div class='jxGridContainer jxGridContentContainer'><table class='jxGridTable jxGridContent'><tbody class='jxGridTableBody'></tbody></table></div></div>",columns:null,row:null,store:null},classes:$H({domObj:"jxWidget",columnContainer:"jxGridColumnsContainer",colObj:"jxGridColumns",colTableBody:"jxGridColumnHead",rowContainer:"jxGridRowContainer",rowObj:"jxGridRows",rowColContainer:"jxGridRowCol",rowTableBody:"jxGridRowBody",contentContainer:"jxGridContentContainer",gridObj:"jxGridContent",gridTableBody:"jxGridTableBody"}),columns:null,row:null,parameters:["store","options"],store:null,styleSheet:"JxGridStyles",hooks:null,uniqueId:null,init:function(){this.uniqueId=this.generateId("jxGrid_");this.store=this.options.store;var B=this.options,C;if($defined(B.row)){if(B.row instanceof Jx.Row){this.row=B.row;this.row.grid=this}else{if(Jx.type(B.row)=="object"){this.row=new Jx.Row($extend({grid:this},B.row))}}}else{this.row=new Jx.Row({grid:this})}if($defined(B.columns)){if(B.columns instanceof Jx.Columns){this.columns=B.columns;this.columns.grid=this}else{if(Jx.type(B.columns)==="object"){this.columns=new Jx.Columns($extend({grid:this},B.columns))}}}else{this.columns=new Jx.Columns({grid:this})}this.hooks=$H({gridScroll:false,gridColumnEnter:false,gridColumnLeave:false,gridColumnClick:false,gridRowEnter:false,gridRowLeave:false,gridRowClick:false,gridCellClick:false,gridCellDblClick:false,gridCellEnter:false,gridCellLeave:false,gridMouseLeave:false});this.storeEvents={storeDataLoaded:this.storeLoaded,storeRecordAdded:this.addRow,storeColumnChanged:this.updateRow,storeRecordRemoved:this.removeRow,storeMultipleRecordsRemoved:this.removeRows,storeChangesCompleted:this.storeChangesCompleted};this.parent()},wantEvent:function(B){var C=this.hooks.get(B);if(C===false){switch(B){case"gridColumnEnter":case"gridColumnLeave":this.colObj.addEvent("mousemove",this.moveColumnHeader);this.hooks.set({gridColumnEnter:true,gridColumnLeave:true});break;case"gridColumnClick":this.colObj.addEvent("click",this.clickColumnHeader);this.hooks.set({gridColumnClick:true});break;case"gridRowEnter":case"gridRowLeave":this.rowObj.addEvent("mousemove",this.moveRowHeader);this.hooks.set({gridRowEnter:true,gridRowLeave:true});break;case"gridRowClick":this.rowObj.addEvent("click",this.clickRowHeader);this.hooks.set({gridRowClick:true});break;case"gridCellEnter":case"gridCellLeave":this.gridObj.addEvent("mousemove",this.moveCell);this.hooks.set({gridCellEnter:true,gridCellLeave:true});break;case"gridCellClick":this.gridObj.addEvent("click",this.clickCell);this.hooks.set("gridCellClick",true);break;case"gridCellDblClick":this.gridObj.addEvent("dblclick",this.dblclickCell);this.hooks.set("gridCellDblClick",true);break;case"gridMouseLeave":this.rowObj.addEvent("mouseleave",this.leaveGrid);this.colObj.addEvent("mouseleave",this.leaveGrid);this.gridObj.addEvent("mouseleave",this.leaveGrid);this.hooks.set("gridMouseLeave",true);break;case"gridScroll":this.contentContainer.addEvent("scroll",this.scroll);default:break}}},scroll:function(){this.columnContainer.scrollLeft=this.contentContainer.scrollLeft;this.rowContainer.scrollTop=this.contentContainer.scrollTop},render:function(){if(this.domObj){this.redraw();return }this.parent();var B=this.store;this.domObj.addClass(this.uniqueId);new Jx.Layout(this.domObj,{onSizeChange:this.resize});if(B instanceof Jx.Store){B.addEvents(this.storeEvents);if(B.loaded){this.storeLoaded(B)}}if(!this.columns.useHeaders()){this.columnContainer.dispose()}else{this.wantEvent("gridScroll")}if(!this.row.useHeaders()){this.rowContainer.dispose()}else{this.wantEvent("gridScroll")}this.contentContainer.setStyle("overflow","auto");this.hooks.each(function(D,C){if(D){this.hooks.set(C,false);this.wantEvent(C)}},this);if(document.id(this.options.parent)){this.addTo(this.options.parent);this.resize()}},resize:function(){var D=this.domObj.getParent(),E=D.getSize(),B=0,C=0;if(this.columns.useHeaders()){B=this.columns.getHeaderHeight()}if(this.row.useHeaders()){C=this.row.getRowHeaderWidth()}this.rowColContainer.setBorderBoxSize({width:C,height:B});this.columnContainer.setStyles({top:0,left:C}).setBorderBoxSize({width:E.x-C,height:B});this.rowContainer.setStyles({top:B,left:0}).setBorderBoxSize({width:C,height:E.y-B});this.contentContainer.setStyles({top:B,left:C}).setBorderBoxSize({width:E.x-C,height:E.y-B})},setStore:function(B){if(this.store){this.store.removeEvents(this.storeEvents)}if(B instanceof Jx.Store){this.store=B;B.addEvents(this.storeEvents);if(B.loaded){this.storeLoaded(B)}this.render();this.domObj.resize()}else{this.destroyGrid()}},getStore:function(){return this.store},storeLoaded:function(B){this.redraw()},storeChangesCompleted:function(B){if(B&&B.successful){}},redraw:function(){var B=this.store,D="",E,C=[],F=this.row.useHeaders();this.fireEvent("beginCreateGrid");this.gridObj.getElement("tbody").empty();this.hoverColumn=this.hoverRow=this.hoverCell=null;B.options.columns.each(function(H,G){if(!this.columns.getByName(H.name)){var K=new Jx.Grid.Renderer.Text(),L=$defined(H.format)?H.format:null,J="<span class='jxGridCellContent'>"+($defined(H.label)?H.label:H.name).capitalize()+"</span>",I;if($defined(H.renderer)){if($type(H.renderer)=="string"){if(Jx.Grid.Renderer[H.renderer.capitalize()]){K=new Jx.Grid.Renderer[H.renderer.capitalize()]()}}else{if($type(H.renderer)=="object"&&$defined(H.renderer.type)&&Jx.Grid.Renderer[H.renderer.type.capitalize()]){K=new Jx.Grid.Renderer[H.renderer.type.capitalize()](H.renderer)}}}if(L){if($type(L)=="string"&&$defined(Jx.Formatter[L.capitalize()])){K.options.formatter=new Jx.Formatter[L.capitalize()]()}else{if($type(L)=="object"&&$defined(L.type)&&$defined(Jx.Formatter[L.type.capitalize()])){K.options.formatter=new Jx.Formatter[L.type.capitalize()](L)}}}I=new Jx.Column({grid:this,template:J,renderMode:$defined(H.renderMode)?H.renderMode:$defined(H.width)?"fixed":"fit",width:$defined(H.width)?H.width:null,isEditable:$defined(H.editable)?H.editable:false,isSortable:$defined(H.sortable)?H.sortable:false,isResizable:$defined(H.resizable)?H.resizable:false,isHidden:$defined(H.hidden)?H.hidden:false,name:H.name||"",renderer:K});C.push(I)}},this);this.columns.addColumns(C);if(this.columns.useHeaders()){E=new Element("tr");this.columns.getHeaders(E);E.adopt(new Element("th",{"class":"jxGridColHead",html:"&nbsp",styles:{width:1000}}));this.colObj.getElement("thead").empty().adopt(E)}this.columns.calculateWidths();this.columns.createRules(this.styleSheet+"Columns","."+this.uniqueId);this.drawStore();this.fireEvent("doneCreateGrid")},addRow:function(D,C,B){if(this.store.loaded){if(B==="bottom"){this.store.last()}else{this.store.first()}this.drawRow(C,this.store.index,B)}},updateRow:function(C){var B=this.store.getRecord(C);this.drawRow(B,C,"replace")},removeRow:function(B,C){this.gridObj.deleteRow(C);this.rowObj.deleteRow(C)},removeRows:function(B,E,D){for(var C=E;C<=D;C++){this.removeRow(B,E)}},setColumnWidth:function(C,B){if(C){C.width=B;if(C.rule){C.rule.style.width=B+"px"}if(C.cellRule){C.cellRule.style.width=B+"px"}}},drawStore:function(){var B=this.row.useHeaders(),C;this.domObj.resize();this.gridTableBody.empty();if(B){this.rowTableBody.empty()}this.store.each(function(D,E){this.store.index=E;this.drawRow(D,E)},this);if(B){C=new Element("tr",{styles:{height:1000}});C.adopt(new Element("th",{"class":"jxGridRowHead",html:"&nbsp"}));this.rowTableBody.adopt(C)}},drawRow:function(E,J,T){var C=this.columns,L=this.gridTableBody,I=this.row,H=this.store,F=I.useHeaders(),P=I.options.rowHeight=="auto",S=this.rowTableBody,K,D,Q,R,M,B,G,N=J+1,O;if(!$defined(T)||!["top","bottom","replace"].contains(T)){T="bottom"}B=I.getGridRowElement(J,"");if(T=="replace"&&J<L.childNodes.length){B.inject(L.childNodes[J],"after");L.childNodes[J].dispose()}else{B.inject(L,T)}C.getRow(B,E);if(F){if(I.options.headerColumn){K=C.getByName(I.options.headerColumn);Q=K.options.renderer;if(!Q.domInsert){R=K.options.formatter;D=C.columns.indexOf(K);M=function(U){var V={},W="";if(Q.options.textTemplate){W=H.fillTemplate(null,Q.options.textTemplate,Q.columnsNeeded)}else{W=U.data.get(K.name)}V["col"+D]=W;return V};N=K.getTemplate(D).substitute(M(E))}else{N=""}}G=I.getRowHeaderCell(N);if(I.options.headerColumn&&Q.domInsert){G.adopt(K.getHTML())}O=new Element("tr").adopt(G);if(T=="replace"&&J<S.childNodes.length){O.inject(S.childNodes[J],"after");S.childNodes[J].dispose()}else{O.inject(S,T)}if(P){O.setBorderBoxSize({height:B.getBorderBoxSize().height})}}this.fireEvent("gridDrawRow",[J,E])},clickColumnHeader:function(C){var B=C.target;if(B.getParent("thead")){B=B.tagName=="TH"?B:B.getParent("th");this.fireEvent("gridColumnClick",B)}},moveColumnHeader:function(C){var B=C.target;B=B.tagName=="TH"?B:B.getParent("th.jxGridColHead");if(B){if(this.hoverColumn!=B){if(this.hoverColumn){this.fireEvent("gridColumnLeave",this.hoverColumn)}if(!B.hasClass("jxGridColHead")){this.leaveGrid(C)}else{this.hoverColumn=B;this.fireEvent("gridColumnEnter",B)}}}},clickRowHeader:function(C){var B=C.target;if(B.getParent("tbody")){B=B.tagName=="TH"?B:B.getParent("th");this.fireEvent("gridRowClick",B)}},moveRowHeader:function(C){var B=C.target;B=B.tagName=="TH"?B:B.getParent("th.jxGridRowHead");if(B){if(this.hoverRow!=B){if(this.hoverRow){this.fireEvent("gridRowLeave",this.hoverRow)}if(!B.hasClass("jxGridRowHead")){this.leaveGrid(C)}else{this.hoverRow=B;this.fireEvent("gridRowEnter",B)}}}},clickCell:function(C){var B=C.target;if(B.getParent("tbody")){B=B.tagName=="TD"?B:B.getParent("td");this.fireEvent("gridCellClick",B)}},dblclickCell:function(C){var B=C.target;if(B.getParent("tbody")){B=B.tagName=="TD"?B:B.getParent("td");this.fireEvent("gridCellDblClick",B)}},moveCell:function(G){var F=G.target,E,B,H,C,D;F=F.tagName=="TD"?F:F.getParent("td.jxGridCell");if(F){if(this.hoverCell!=F){if(this.hoverCell){this.fireEvent("gridCellLeave",this.hoverCell)}if(!F.hasClass("jxGridCell")){this.leaveGrid(G)}else{this.hoverCell=F;this.getCellData(F);this.fireEvent("gridCellEnter",F)}}}},getCellData:function(B){var E=null,C,D,F;if(!B.hasClass("jxGridCell")){B=B.getParent("td.jxGridCell")}if(B){body=this.gridTableBody;F=body.getChildren().indexOf(B.getParent("tr"));this.columns.columns.some(function(H,G){if(B.hasClass("jxGridCol"+G)){C=G;D=H;return true}return false});E={row:F,column:D,index:C};B.store("jxCellData",E)}return E},leaveGrid:function(B){this.hoverCell=null;this.fireEvent("gridMouseLeave")},changeText:function(B){this.parent();this.render()},addEvent:function(B,C){this.wantEvent(B);this.parent(B,C)}});Jx.Grid.Renderer=new Class({Family:"Jx.Grid.Renderer",Extends:Jx.Widget,parameters:["options"],options:{deferRender:true,template:'<span class="jxGridCellContent"></span>'},attached:null,domInsert:false,classes:$H({domObj:"jxGridCellContent"}),column:null,init:function(){this.parent();this.attached=false},render:function(){this.parent()},setColumn:function(B){if(B instanceof Jx.Column){this.column=B}}});Jx.Grid.Renderer.Text=new Class({Family:"Jx.Grid.Renderer.Text",Extends:Jx.Grid.Renderer,options:{formatter:null,textTemplate:null,css:null},store:null,columnsNeeded:null,init:function(){this.parent();var B=this.options,C;if($defined(B.formatter)&&!(B.formatter instanceof Jx.Formatter)){C=Jx.type(B.formatter);if(C==="object"){if(!$defined(B.formatter.options)){B.formatter.options={}}B.formatter=new Jx.Formatter[B.formatter.name](B.formatter.options)}}},setColumn:function(B){this.parent();this.store=B.grid.getStore();this.attached=true;if($defined(this.options.textTemplate)){this.columnsNeeded=this.store.parseTemplate(this.options.textTemplate)}},render:function(){this.parent();var B="";if($defined(this.options.textTemplate)){if(!$defined(this.columnsNeeded)||(Jx.type(this.columnsNeeded)==="array"&&this.columnsNeeded.length===0)){this.columnsNeeded=this.store.parseTemplate(this.options.textTemplate)}B=this.store.fillTemplate(null,this.options.textTemplate,this.columnsNeeded)}if($defined(this.options.formatter)){B=this.options.formatter.format(B)}this.domObj.set("html",B);if($defined(this.options.css)&&Jx.type(this.options.css)==="function"){this.domObj.addClass(this.options.css.run(B))}else{if($defined(this.options.css)&&Jx.type(this.options.css)==="string"){this.domObj.addClass(this.options.css)}}}});Jx.Grid.Renderer.Checkbox=new Class({Family:"Jx.Grid.Renderer.Checkbox",Extends:Jx.Grid.Renderer,Binds:["onBlur","onChange"],options:{useStore:false,field:null,updateStore:false,checkboxOptions:{template:'<input class="jxInputContainer jxInputCheck" type="checkbox" name="{name}"/>',name:""}},domInsert:true,init:function(){this.parent()},render:function(){this.parent();var B=new Jx.Field.Checkbox(this.options.checkboxOptions);this.domObj.adopt(document.id(B));if(this.options.useStore){B.setValue(this.store.get(this.options.field))}B.addEvents({blur:this.onBlur,change:this.onChange})},setColumn:function(B){this.column=B;if(this.options.useStore){this.store=this.column.grid.getStore();this.attached=true}},onBlur:function(B){if(this.options.updateStore){this.updateStore(B)}this.column.grid.fireEvent("checkBlur",[this.column,B])},onChange:function(B){if(this.options.updateStore){this.updateStore(B)}this.fireEvent("change",[this.column,B])},updateStore:function(D){var C=D.getValue();var B=document.id(D).getParent().retrieve("jxCellData");var E=B.row;if(this.store.get(this.options.field,E)!==C){this.store.set(this.options.field,C,E)}}});Jx.Grid.Renderer.Button=new Class({Family:"Jx.Grid.Renderer.Button",Extends:Jx.Grid.Renderer,Binds:[],options:{template:'<span class="buttons"></span>',buttonOptions:null},domInsert:true,classes:$H({domObj:"buttons"}),init:function(){this.parent()},render:function(){this.parent();$A(this.options.buttonOptions).each(function(C){var B=new Jx.Button(C);this.domObj.grab(document.id(B))},this)}});Jx.Plugin.Grid.Selector=new Class({Family:"Jx.Plugin.Grid.Selector",Extends:Jx.Plugin,name:"Selector",Binds:["select","checkSelection","checkAll","afterGridRender","onCellClick","sort","updateCheckColumn","updateSelectedRows"],options:{cell:false,row:false,column:false,multiple:false,useCheckColumn:false,checkAsHeader:false,sortableColumn:false},domInsert:true,selected:null,init:function(){this.parent();this.selected=$H({cells:[],columns:[],rows:[],rowHeads:[],columnHeads:[]})},attach:function(C){if(!$defined(C)&&!(C instanceof Jx.Grid)){return }this.parent(C);var B=this.options,D;this.grid=C;this.grid.addEvent("gridSortFinished",this.updateSelectedRows);if(B.useCheckColumn){C.addEvent("gridDrawRow",this.updateCheckColumn);D='<span class="jxGridCellContent">';if(B.multiple){D+='<span class="jxInputContainer jxInputContainerCheck"><input class="jxInputCheck" type="checkbox" name="checkAll" id="checkAll"/></span>'}else{D+="</span>"}D+="</span>";this.checkColumn=new Jx.Column({template:D,renderMode:"fixed",width:20,renderer:null,name:"selection",isSortable:B.sortableColumn||false,sort:B.sortableColumn?this.sort:null},C);this.checkColumn.options.renderer=this;C.columns.columns.reverse();C.columns.columns.push(this.checkColumn);C.columns.columns.reverse();if(B.checkAsHeader){this.oldHeaderColumn=C.row.options.headerColumn;C.row.options.useHeaders=true;C.row.options.headerColumn="selection";if(B.multiple){C.addEvent("doneCreateGrid",this.afterGridRender)}}if(B.multiple){document.id(this.checkColumn).getElement("input").addEvents({change:this.checkAll})}}else{C.addEvent("gridCellClick",this.onCellClick)}},render:function(){this.domObj=new Element("span",{"class":"jxGridCellContent"});new Element("input",{"class":"jxGridSelector",type:"checkbox",events:{change:this.checkSelection}}).inject(this.domObj)},toElement:function(){return this.domObj},updateCheckColumn:function(C,B){var F=this.selected.get("rows").contains(C),D=this.grid.gridTableBody.rows,E=document.id((C>=0&&C<D.length)?D[C]:null);if(E){E.store("jxRowData",{row:C});if(F){E.addClass("jxGridRowSelected")}else{E.removeClass("jxGridRowSelected")}this.setCheckField(C,F)}},afterGridRender:function(){if(this.options.checkAsHeader){var B=document.id(this.checkColumn).clone();B.getElement("input").addEvent("change",this.checkAll);this.grid.rowColContainer.adopt(B)}this.grid.removeEvent("doneCreateGrid",this.afterGridRender)},detach:function(){var D=this.grid,C=this.options,B;if(D){D.gridTableBody.removeEvents({click:this.onCellClick});if(this.checkColumn){D.columns.columns.erase(this.checkColumn);this.checkColumn.destroy();this.checkColumn=null}if(C.useCheckColumn){D.removeEvent("gridDrawRow",this.updateCheckColumn);if(C.checkAsHeader){D.row.options.headerColumn=this.oldHeaderColumn}}}this.grid.removeEvent("gridSortFinished",this.updateSelectedRows);this.grid=null},activate:function(B){this.options[B]=true},deactivate:function(D){var B=this.grid.gridTableBody.rows,E=this.selected,C;this.options[D]=false;if(D==="cell"){E.get("cells").each(function(F){F.removeClass("jxGridCellSelected")});E.set("cells",[])}else{if(D==="row"){this.getSelectedRows().each(function(F){idx=F.retrieve("jxRowData").row;F.removeClass("jxGridRowSelected");this.setCheckField(idx,false)},this);E.set("rows",[]);E.get("rowHeads").each(function(F){F.removeClass("jxGridRowHeaderSelected")});E.set("rowHeads",[])}else{E.get("columns").each(function(F){for(C=0;C<B.length;C++){B[C].cells[F].removeClass("jxGridColumnSelected")}});E.set("columns",[]);E.get("columnHeads").each(function(F){F.removeClass("jxGridColumnHeaderSelected")},this);E.set("columnHeads",[])}}},onCellClick:function(B){if(B){this.select(B)}},select:function(B){var E=B.retrieve("jxCellData"),D=this.options,C;if(D.cell&&$defined(E.row)&&$defined(E.index)){this.selectCell(B)}if(D.row&&$defined(E.row)){this.selectRow(E.row)}if(D.column&&$defined(E.index)){if(this.grid.row.useHeaders()){this.selectColumn(E.index-1)}else{this.selectColumn(E.index)}}},selectCell:function(B){if(!this.options.cell){return }var C=this.selected.get("cells");if(B.hasClass("jxGridCellSelected")){B.removeClass("jxGridCellSelected");C.erase(B);this.fireEvent("unselectCell",B)}else{B.addClass("jxGridCellSelected");C.push(B);this.fireEvent("selectCell",B)}},updateSelectedRows:function(){if(!this.options.row){return }var B=this.options,D=this.grid.gridTableBody.rows,E=[];for(var C=0;C<D.length;C++){if(D[C].hasClass("jxGridRowSelected")){E.push(C)}}this.selected.set("rows",E)},selectRow:function(G,H){if(!this.options.row){return }var B=this.options,D=this.grid.gridTableBody.rows,F=document.id((G>=0&&G<D.length)?D[G]:null),E=this.selected.get("rows"),H=$defined(H)?H:false;if(F){if(F.hasClass("jxGridRowSelected")){F.removeClass("jxGridRowSelected");this.setCheckField(G,false);if(B.multiple&&B.useCheckColumn){if(B.checkAsHeader){document.id(this.grid.rowColContainer).getElement("input").removeProperty("checked")}else{document.id(this.checkColumn).getElement("input").removeProperty("checked")}}E.erase(G);if(!H){this.fireEvent("unselectRow",G)}}else{F.store("jxRowData",{row:G});E.push(G);F.addClass("jxGridRowSelected");this.setCheckField(G,true);if(!H){this.fireEvent("selectRow",G)}}if(!this.options.multiple){var C=[];this.getSelectedRows().each(function(J){var I;if(J!==F){I=J.retrieve("jxRowData").row;J.removeClass("jxGridRowSelected");this.setCheckField(I,false);E.erase(J);C.push(I);if(!H){this.fireEvent("unselectRow",J)}}},this);if(C.length&&!H){this.fireEvent("unselectRows",[C])}}}this.selectRowHeader(G)},setCheckField:function(H,G){var F=this.grid,E=this.options,C,D,B;if(E.useCheckColumn){if(E.checkAsHeader){B=document.id(F.rowTableBody.rows[H].cells[0])}else{D=F.columns.getIndexFromGrid(this.checkColumn.name);B=document.id(F.gridTableBody.rows[H].cells[D])}C=B.getElement(".jxGridSelector");C.set("checked",G)}},selectRowHeader:function(E){if(!this.grid.row.useHeaders()){return }var D=this.grid.rowTableBody.rows,B=document.id((E>=0&&E<D.length)?D[E].cells[0]:null),C;if(!B){return }C=this.selected.get("rowHeads");if(C.contains(B)){B.removeClass("jxGridRowHeaderSelected");C.erase(B)}else{B.addClass("jxGridRowHeaderSelected");C.push(B)}if(!this.options.multiple){C.each(function(F){if(F!==B){F.removeClass("jxGridRowHeaderSelected");C.erase(F)}},this)}},selectColumn:function(C){var F=this.grid.gridTableBody,E=this.selected.get("columns"),B="",D;if(C>=0&&C<F.rows[0].cells.length){if(E.contains(C)){B="removeClass";E.erase(C);this.fireEvent("unselectColumn",C)}else{B="addClass";E.push(C);this.fireEvent("selectColumn",C)}for(D=0;D<F.rows.length;D++){F.rows[D].cells[C][B]("jxGridColumnSelected")}if(!this.options.multiple){E.each(function(G){if(G!==C){for(D=0;D<F.rows.length;D++){F.rows[D].cells[G].removeClass("jxGridColumnSelected")}E.erase(G);this.fireEvent("unselectColumn",G)}},this)}this.selectColumnHeader(C)}},selectColumnHeader:function(C){var D=this.grid.colTableBody;if(D.length===0||!this.grid.row.useHeaders()){return }var B=(C>=0&&C<D[0].cells.length)?D[0].cells[C]:null;if(B===null){return }B=document.id(B);cells=this.selected.get("columnHeads");if(cells.contains(B)){B.removeClass("jxGridColumnHeaderSelected");cells.erase(B)}else{B.addClass("jxGridColumnHeaderSelected");cells.push(B)}if(!this.options.multiple){cells.each(function(E){if(E!==B){E.removeClass("jxGridColumnHeaderSelected");cells.erase(E)}})}},checkSelection:function(C){var B=C.target.getParent("tr"),D;if(B){D=B.getParent().getChildren().indexOf(B);this.selectRow(D)}},checkAll:function(){var C=this.grid,B,G,D=[],F=this.options.checkAsHeader?C.rowColContainer.getElement("input").get("checked"):this.checkColumn.domObj.getElement("input").get("checked"),E=F?"selectRows":"unselectRows";if(this.options.checkAsHeader){B=0;G=C.rowTableBody.rows}else{B=C.columns.getIndexFromGrid(this.checkColumn.name);G=C.gridTableBody.rows}$A(G).each(function(K,H){var I=K.cells[B].getElement("input");if($defined(I)){var J=I.get("checked");if(J!==F){this.selectRow(H,true);D.push(H)}}},this);this.fireEvent(E,[D])},sort:function(E){var B=this.grid,J=B.store,H=J.data,F=B.gridTableBody,C=F.getParent(),I=B.row.useHeaders(),D=B.rowTableBody,K=D.getParent(),G=this.getSelectedRows();if(!this.options.row||G.length==0){console.log("not sorting by selection, nothing to sort");return }J.each(function(L,M){L.dom={cell:F.childNodes[M],row:I?D.childNodes[M]:null}});F.dispose();if(I){D.dispose()}G.sort(function(M,L){return M.retrieve("jxRowData").row-L.retrieve("jxRowData").row}).each(function(L){console.log("moving row "+L.retrieve("jxRowData").row+" to beginning of array");H.unshift(H.splice(L.retrieve("jxRowData").row,1)[0])});if(E=="desc"){H.reverse()}J.each(function(L,M){L.dom.cell.inject(F);L.dom.cell.store("jxRowData",{row:M});if(I){L.dom.row.inject(D)}});if(C){C.adopt(F)}if(I&&K){K.adopt(D)}},getSelectedRows:function(){var D=[],B=this.selected.get("rows"),C=this.grid.gridTableBody.rows;B.each(function(F){var E=document.id((F>=0&&F<C.length)?C[F]:null);if(E){D.push(E)}});return D}});Jx.Plugin.Grid.Prelighter=new Class({Extends:Jx.Plugin,name:"Prelighter",options:{cell:false,row:false,column:false,rowHeader:false,columnHeader:false},init:function(){this.parent();this.bound.lighton=this.lighton.bind(this);this.bound.lightoff=this.lightoff.bind(this);this.bound.mouseleave=this.mouseleave.bind(this)},attach:function(B){if(!$defined(B)&&!(B instanceof Jx.Grid)){return }this.parent(B);this.grid=B;this.grid.addEvent("gridCellEnter",this.bound.lighton);this.grid.addEvent("gridCellLeave",this.bound.lightoff);this.grid.addEvent("gridRowEnter",this.bound.lighton);this.grid.addEvent("gridRowLeave",this.bound.lightoff);this.grid.addEvent("gridColumnEnter",this.bound.lighton);this.grid.addEvent("gridColumnLeave",this.bound.lightoff);this.grid.addEvent("gridMouseLeave",this.bound.mouseleave)},detach:function(){if(this.grid){this.grid.removeEvent("gridCellEnter",this.bound.lighton);this.grid.removeEvent("gridCellLeave",this.bound.lightoff);this.grid.removeEvent("gridRowEnter",this.bound.lighton);this.grid.removeEvent("gridRowLeave",this.bound.lightoff);this.grid.removeEvent("gridColumnEnter",this.bound.lighton);this.grid.removeEvent("gridColumnLeave",this.bound.lightoff);this.grid.removeEvent("gridMouseLeave",this.bound.mouseleave)}this.grid=null},activate:function(B){this.options[B]=true},deactivate:function(B){this.options[B]=false},lighton:function(B){this.light(B,true)},lightoff:function(B){this.light(B,false)},light:function(B,C){var E=B.getParent(),F=E.getParent().getChildren().indexOf(E),D=B.getParent().getChildren().indexOf(B);if(this.options.cell){this.prelightCell(B,C)}if(this.options.row){this.prelightRow(F,C)}if(this.options.column){this.prelightColumn(D,C)}if(this.options.rowHeader){this.prelightRowHeader(F,C)}if(this.options.columnHeader){this.prelightColumnHeader(D,C)}},prelightRowHeader:function(C,B){if($defined(this.prelitRowHeader)&&!B){this.prelitRowHeader.removeClass("jxGridRowHeaderPrelight")}else{if(B){this.prelitRowHeader=(C>=0&&C<this.grid.rowTableBody.rows.length)?this.grid.rowTableBody.rows[C].cells[0]:null;if(this.prelitRowHeader){this.prelitRowHeader.addClass("jxGridRowHeaderPrelight")}}}},prelightColumnHeader:function(C,B){if(this.grid.colTableBody.rows.length===0){return }if($defined(this.prelitColumnHeader)&&!B){this.prelitColumnHeader.removeClass("jxGridColumnHeaderPrelight")}else{if(B){this.prelitColumnHeader=(C>=0&&C<this.grid.colTableBody.rows[0].cells.length)?this.grid.colTableBody.rows[0].cells[C]:null;if(this.prelitColumnHeader){this.prelitColumnHeader.addClass("jxGridColumnHeaderPrelight")}}}},prelightRow:function(C,B){if($defined(this.prelitRow)&&!B){this.prelitRow.removeClass("jxGridRowPrelight")}else{if(B){this.prelitRow=(C>=0&&C<this.grid.gridTableBody.rows.length)?this.grid.gridTableBody.rows[C]:null;if(this.prelitRow){this.prelitRow.addClass("jxGridRowPrelight")}}}this.prelightRowHeader(C,B)},prelightColumn:function(C,B){if(C>=0&&C<this.grid.gridTableBody.rows[0].cells.length){if($defined(this.prelitColumn)&&!B){for(var D=0;D<this.grid.gridTableBody.rows.length;D++){this.grid.gridTableBody.rows[D].cells[this.prelitColumn].removeClass("jxGridColumnPrelight")}}else{if(B){this.prelitColumn=C;for(D=0;D<this.grid.gridTableBody.rows.length;D++){this.grid.gridTableBody.rows[D].cells[C].addClass("jxGridColumnPrelight")}}}this.prelightColumnHeader(C,B)}},prelightCell:function(B,C){if($defined(this.prelitCell)&&!C){this.prelitCell.removeClass("jxGridCellPrelight")}else{if(C){this.prelitCell=B;if(this.prelitCell){this.prelitCell.addClass("jxGridCellPrelight")}}}},mouseleave:function(){if($defined(this.prelitCell)){this.prelitCell.removeClass("jxGridCellPrelight")}if($defined(this.prelitColumn)){for(var B=0;B<this.grid.gridTableBody.rows.length;B++){this.grid.gridTableBody.rows[B].cells[this.prelitColumn].removeClass("jxGridColumnPrelight")}}if($defined(this.prelitRow)){this.prelitRow.removeClass("jxGridRowPrelight")}if($defined(this.prelitColumnHeader)){this.prelitColumnHeader.removeClass("jxGridColumnHeaderPrelight")}if($defined(this.prelitRowHeader)){this.prelitRowHeader.removeClass("jxGridRowHeaderPrelight")}}});Jx.Plugin.Grid.Sorter=new Class({Family:"Jx.Plugin.Grid.Sorter",Extends:Jx.Plugin,name:"Sorter",Binds:["sort","modifyHeaders"],current:null,direction:null,options:{sortableClass:"jxColSortable",ascendingClass:"jxGridColumnSortedAsc",descendingClass:"jxGridColumnSortedDesc"},attach:function(B){if(!$defined(B)&&!(B instanceof Jx.Grid)){return }this.parent(B);this.grid=B;this.grid.addEvent("gridColumnClick",this.sort);this.grid.addEvent("doneCreateGrid",this.modifyHeaders)},detach:function(){if(this.grid){this.grid.removeEvent("gridColumnClick",this.sort)}this.grid=null},modifyHeaders:function(){var C=this.grid,D=C.colObj,B=C.store,E=this.options.sortableClass;if(C.columns.useHeaders()){C.columns.columns.each(function(G,F){if(!G.isHidden()&&G.isSortable()){var H=D.getElement(".jxGridCol"+F);H.addClass(E)}})}},sort:function(E){var K=this.current,B=this.grid,H=B.gridTableBody,C=H.getParent(),F=B.rowTableBody,M=F.getParent(),J=B.row.useHeaders(),L=B.store,N=L.getStrategy("sort"),I=E.retrieve("jxCellData"),G="asc",D=this.options;if($defined(I.column)&&I.column.isSortable()){if(E.hasClass(D.ascendingClass)){E.removeClass(D.ascendingClass).addClass(D.descendingClass);G="desc"}else{if(E.hasClass(D.descendingClass)){E.removeClass(D.descendingClass).addClass(D.ascendingClass)}else{E.addClass(D.ascendingClass)}}if(K&&E!=K){K.removeClass(D.ascendingClass).removeClass(D.descendingClass)}this.current=E;this.grid.fireEvent("gridSortStarting");if($defined(I.column.options.sort)&&Jx.type(I.column.options.sort)=="function"){I.column.options.sort(G)}else{if(N){H.dispose();if(J){F.dispose()}L.each(function(O,P){O.dom={cell:H.childNodes[P],row:J?F.childNodes[P]:null}});N.sort(I.column.name,null,G);L.each(function(O,P){O.dom.cell.inject(H);if(J){O.dom.row.inject(F)}});if(C){C.adopt(H)}if(J&&M){M.adopt(F)}}}this.grid.fireEvent("gridSortFinished")}}});Jx.Plugin.Grid.Resize=new Class({Extends:Jx.Plugin,name:"Resize",Binds:["createHandles","removeHandles"],options:{column:false,row:false,tooltip:""},els:{column:[],row:[]},drags:{column:[],row:[]},attach:function(B){if(!$defined(B)&&!(B instanceof Jx.Grid)){return }this.parent(B);this.grid=B;if(B.columns.useHeaders()){this.grid.addEvent("doneCreateGrid",this.createHandles);this.grid.addEvent("beginCreateGrid",this.removeHandles);this.createHandles()}},detach:function(){this.parent();if(this.grid){this.grid.removeEvent("doneCreateGrid",this.createHandles);this.grid.removeEvent("beginCreateGrid",this.removeHandles)}this.grid=null},activate:function(B){if($defined(this.options[B])){this.options[B]=true}if(this.grid.columns.useHeaders()){this.createHandles()}},deactivate:function(B){if($defined(this.options[B])){this.options[B]=false}this.createHandles()},removeHandles:function(){["column","row"].each(function(B){this.els[B].each(function(C){C.dispose()});this.els[B]=[];this.drags[B].each(function(C){C.detach()});this.drags[B]=[]},this)},createHandles:function(){var C=this.grid,B=C.store;this.removeHandles();if(this.options.column&&C.columns.useHeaders()){C.columns.columns.each(function(F,D){if(F.isResizable()&&!F.isHidden()){var E=C.colObj.getElement(".jxGridCol"+D+" .jxGridCellContent");var G=new Element("div",{"class":"jxGridColumnResize",title:this.options.tooltip==""?this.getText({set:"Jx",key:"plugin.resize",value:"tooltip"}):this.getText(this.options.tooltip),events:{dblclick:function(){}}}).inject(E);this.els.column.push(G);this.drags.column.push(new Drag(G,{limit:{y:[0,0]},snap:2,onBeforeStart:function(I){var H=I.getPosition(I.parentNode).x.toInt();I.setStyles({left:H,right:null})},onStart:function(I){var H=I.getPosition(I.parentNode).x.toInt();I.setStyles({left:H,right:null})},onDrag:function(I){var H=I.getPosition(I.parentNode).x.toInt();F.setWidth(H)},onComplete:function(H){H.setStyle("left",null)}}))}},this)}},changeText:function(C){this.parent();var B=this.options.tooltip==""?this.getText({set:"Jx",key:"plugin.resize",value:"tooltip"}):this.getText(this.options.tooltip);["column","row"].each(function(D){this.els[D].each(function(E){E.set("title",B)})},this)}});Jx.Plugin.Grid.Editor=new Class({Extends:Jx.Plugin,name:"Editor",Binds:["activate","deactivate","changeText","onCellClick"],options:{enabled:true,blurDelay:500,popup:{use:true,useLabels:false,useButtons:true,button:{submit:{label:"",image:"images/accept.png"},cancel:{label:"",image:"images/cancel.png"}},template:'<div class="jxGridEditorPopup"><div class="jxGridEditorPopupInnerWrapper"></div></div>'},validate:true,fieldOptions:[{field:"*",type:"Text",options:{},validatorOptions:{validators:[],validateOnBlur:true,validateOnChange:false}}],fieldFormatted:true,cellChangeFx:{use:true,success:"#090",error:"#F00"},cellOutline:{use:true,style:"2px solid #88c3e7"},useKeyboard:true,keys:{"ctrl+shift+enter":"saveNGoUp",tab:"saveNGoRight","ctrl+enter":"saveNGoDown","shift+tab":"saveNGoLeft",enter:"saveNClose","ctrl+up":"cancelNGoUp","ctrl+right":"cancelNGoRight","ctrl+down":"cancelNGoDown","ctrl+left":"cancelNGoLeft",esc:"cancelNClose",up:"valueIncrement",down:"valueDecrement"},keyboardMethods:{},keypressLoop:true,linkClickListener:true},classes:["jxGridEditorPopup","jxGridEditorPopupInnerWrapper"],activeCell:{field:null,cell:null,span:null,oldValue:null,newValue:{data:null,error:false},timeoutId:null,data:{},fieldOptions:{}},popup:{domObj:null,innerWarpper:null,closeIcon:null,button:{submit:null,cancel:null}},keyboard:null,keyboardMethods:{},init:function(){this.parent()},attach:function(E){if(!$defined(E)&&!(E instanceof Jx.Grid)){return }this.parent(E);this.grid=E;this.grid.addEvent("gridCellClick",this.onCellClick);if(this.getFieldOptionsByColName("*").field!="*"){this.options.fieldOptions.unshift({field:"*",type:"Text",options:{},validatorOptions:{validators:[],validateOnBlur:true,validateOnChange:false}})}var B=this;this.keyboardMethods={saveNClose:function(F){if(B.activeCell.fieldOptions.type!="Textarea"||(B.activeCell.fieldOptions.type=="Textarea"&&F.key!="enter")){B.deactivate()}},saveNGoUp:function(F){F.preventDefault();B.getPrevCellInCol()},saveNGoRight:function(F){F.preventDefault();B.getNextCellInRow()},saveNGoDown:function(F){F.preventDefault();B.getNextCellInCol()},saveNGoLeft:function(F){F.preventDefault();B.getPrevCellInRow()},cancelNClose:function(F){F.preventDefault();B.deactivate(false)},cancelNGoUp:function(F){F.preventDefault();B.getPrevCellInCol(false)},cancelNGoRight:function(F){F.preventDefault();B.getNextCellInRow(false)},cancelNGoDown:function(F){F.preventDefault();B.getNextCellInCol(false)},cancelNGoLeft:function(F){F.preventDefault();B.getPrevCellInRow(false)},valueIncrement:function(F){F.preventDefault();B.cellValueIncrement(true)},valueDecrement:function(F){F.preventDefault();B.cellValueIncrement(false)}};var D={};for(var C in this.options.keys){if($defined(this.keyboardMethods[this.options.keys[C]])){D[C]=this.keyboardMethods[this.options.keys[C]]}else{if($defined(this.options.keyboardMethods[this.options.keys[C]])){D[C]=this.options.keyboardMethods[this.options.keys[C]].bind(B)}else{if(Jx.type(this.options.keys[C])=="function"){D[C]=this.options.keys[C].bind(B)}else{$defined(console)?console.warn("keyboard method %o not defined",this.options.keys[C]):false}}}}this.keyboard=new Keyboard({events:D});this.addFormatterUriClickListener()},detach:function(){if(this.grid){this.grid.removeEvent("gridCellClick",this.onCellClick)}this.grid=null;this.keyboard=null},enable:function(){this.options.enabled=true},disable:function(C,B){C=$defined(C)?C:true;B=$defined(B)?B:false;if(C&&this.activeCell.cell!=null){this.deactivate(B)}this.options.enabled=false},onCellClick:function(B){this.activate(B)},activate:function(L){if(!this.options.enabled||!L){return }if(this.activeCell.cell){if(this.activeCell.cell!=L){if(!this.deactivate()){return }}else{return }}var H=this.grid.getCellData(L);if(!H||!$defined(H.row)||!$defined(H.column)){if($defined(console)){console.warn("out of grid %o",L);console.warn("data was %o",H)}return }if(!H.column.options.isEditable){return }if(this.activeCell.timeoutId){clearTimeout(G.timeoutId)}this.grid.store.moveTo(H.row);var O=this.options,C=this.grid,K=C.getStore(),I=C.columns.getIndexFromGrid(H.column.name),M=H.column.options,G={oldValue:K.get(H.column.name),newValue:{data:null,error:false},fieldOptions:this.getFieldOptionsByColName(H.column.name),data:H,cell:L,span:L.getElement("span.jxGridCellContent"),validator:null,field:null,timeoutId:null},N=G.fieldOptions.options,B,E,F,D;if(!$defined(H.column.options.validate)||typeof (H.column.options.validate)!="boolean"){H.column.options.validate=O.validate;L.store("jxCellData",H)}switch(G.fieldOptions.type){case"Text":case"Color":case"Password":case"File":N.value=G.oldValue;break;case"Textarea":N.value=G.oldValue.replace(/<br \/>/gi,"\n");break;case"Select":N.value=B=G.oldValue.toString();function J(S,Q){for(var R=0,P=S.length;R<P;R++){if(S[R].value==Q){S[R].selected=true}else{S[R].selected=false}}return S}if(N.comboOpts){N.comboOpts=J(N.comboOpts,B)}else{if(N.optGroups){E=N.optGroups;for(F=0,D=E.length;F<D;F++){E[F].options=J(E[F].options,B)}N.optGroups=E}}break;case"Radio":case"Checkbox":default:$defined(console)?console.warn("Fieldtype %o is not supported yet. If you have set a validator for a column, you maybe have forgotton to enter a field type.",G.fieldOptions.type):false;return ;break}if(O.fieldFormatted&&M.renderer.options.formatter!=null){if(!$defined(M.fieldFormatted)||M.fieldFormatted==true){N.value=M.renderer.options.formatter.format(N.value);G.oldValue=N.value}}G.field=new Jx.Field[G.fieldOptions.type.capitalize()](N);if(O.validate&&M.validate){G.validator=new Jx.Plugin.Field.Validator(G.fieldOptions.validatorOptions);G.validator.attach(G.field)}this.activeCell=G;this.setStyles(L);if(O.useKeyboard){this.keyboard.activate()}if(typeof (O.blurDelay)=="string"){O.blurDelay=O.blurDelay.toInt()?O.blurDelay.toInt():false}if(O.blurDelay!==false&&typeof (O.blurDelay)=="number"){G.field.field.addEvents({blur:function(){clearTimeout(G.timeoutId);G.timeoutId=this.deactivate.delay(this.options.blurDelay)}.bind(this),focus:function(){clearTimeout(G.timeoutId)},mouseover:function(){clearTimeout(G.timeoutId)}});if(this.popup.domObj!=null){this.popup.domObj.addEvent("mouseenter",function(){clearTimeout(G.timeoutId)})}}G.field.field.focus()},deactivate:function(G){var C={data:null,error:false},F,D=this.activeCell,B=this.grid,I=B.store,K=this.options,H,E;clearTimeout(D.timeoutId);if(D.field!==null){G=$defined(G)?G:true;if(G&&D.field.getValue().toString()!=D.oldValue.toString()){I.moveTo(D.data.row);switch(D.fieldOptions.type){case"Select":F=D.field.field.selectedIndex;C.data=document.id(D.field.field.options[F]).get("value");break;case"Textarea":C.data=D.field.getValue().replace(/\n/gi,"<br />");break;default:C.data=D.field.getValue();break}if(G){D.newValue.data=C.data}if(D.validator!=null&&!D.validator.isValid()){C.error=true;D.field.field.focus.delay(50,D.field.field)}}else{D.span.show()}if(G&&C.data!=null&&C.error==false){I.set(D.data.column.name,C.data);this.addFormatterUriClickListener()}else{if(C.error==true){D.span.show()}}if($defined(D.data.row)&&$defined(D.data.index)){var J=B.row.useHeaders()?D.data.index-1:D.data.index;this.activeCell.cell=B.gridTableBody.rows[this.activeCell.data.row].cells[J]}if(K.useKeyboard){D.field.removeEvent("keypress",this.setKeyboard)}if(K.cellChangeFx.use){H=new Fx.Tween(this.activeCell.cell,{duration:250,onComplete:function(L){this.element.removeProperty("style")}});E=D.cell.getStyle("background-color");E=E=="transparent"?"#fff":E;if(C.data!=null&&C.error==false){H.start("background-color",K.cellChangeFx.success,E)}else{if(C.error){H.start("background-color",K.cellChangeFx.error,E)}}}if(C.error){if(K.cellChangeFx.use){D.field.field.highlight(K.cellChangeFx.error)}D.field.field.setStyle("border","1px solid "+K.cellChangeFx.error);D.field.field.focus();return false}else{this.keyboard.deactivate();this.unsetActiveField();return true}}},setStyles:function(B){var F,E,D=this.options,C=this.activeCell;if(D.popup.use){if(D.popup.useLabels){C.field.options.label=C.data.column.options.header;C.field.render()}F={field:{width:C.field.type=="Select"?B.getContentBoxSize().width+5+"px":B.getContentBoxSize().width-14+"px",margin:"auto 0"}};C.field.field.setStyles(F.field);this.showPopUp(B)}else{E=B.getContentBoxSize();F={domObj:{position:"absolute"},field:{width:E.width+"px","margin-left":0}};C.field.domObj.setStyles(F.domObj);C.field.field.setStyles(F.field);C.field.domObj.inject(document.body);Jx.Widget.prototype.position(C.field.domObj,B,{horizontal:["left left"],vertical:["top top"]});C.span.hide()}if(D.cellOutline.use){B.setStyle("outline",D.cellOutline.style)}},showPopUp:function(B){if(this.popup.domObj!=null){Jx.Widget.prototype.position(this.popup.domObj,B,{horizontal:["left left"],vertical:["top top"]});this.activeCell.field.domObj.inject(this.popup.innerWrapper,"top");this.popup.domObj.show();this.setPopUpButtons();this.setPopUpStylesAfterRendering()}else{this.createPopUp(B)}},createPopUp:function(H){var F=H.getCoordinates(),J=this,B=null,D=null,C=null,E=null,I=null,G=Jx.Widget.prototype.processTemplate(this.options.popup.template,this.classes);B=G.jxGridEditorPopup;D=G.jxGridEditorPopupInnerWrapper;B.setStyles({left:F.left+"px",top:F.top+"px"});this.popup.domObj=B;this.popup.innerWrapper=D;this.popup.closeIcon=C;this.setPopUpButtons();this.activeCell.field.domObj.inject(this.popup.innerWrapper,"top");this.popup.domObj.inject(document.body);this.setPopUpStylesAfterRendering()},setPopUpStylesAfterRendering:function(){if(this.options.popup.useButtons&&this.popup.button.submit!=null&&this.popup.button.cancel!=null){this.popup.domObj.setStyle("min-width",this.popup.button.submit.domObj.getSize().x+this.popup.button.cancel.domObj.getSize().x+"px")}else{if(this.popup.button.submit!=null){this.popup.button.submit.domObj.hide()}if(this.popup.button.cancel!=null){this.popup.button.cancel.domObj.hide()}}this.activeCell.field.field.setStyle("width",this.activeCell.field.type=="Select"?this.popup.domObj.getSize().x-7+"px":this.popup.domObj.getSize().x-17+"px")},setPopUpButtons:function(){var B=this,C={submit:null,cancel:null};if(this.options.popup.useButtons&&this.popup.innerWrapper!=null&&this.popup.button.submit==null){C.submit=new Jx.Button({label:this.options.popup.button.submit.label.length==0?this.getText({set:"Jx",key:"plugin.editor",value:"submitButton"}):this.getText(this.options.popup.button.submit.label),image:this.options.popup.button.submit.image,onClick:function(){B.deactivate(true)}}).addTo(this.popup.innerWrapper);C.cancel=new Jx.Button({label:this.options.popup.button.cancel.label.length==0?this.getText({set:"Jx",key:"plugin.editor",value:"cancelButton"}):this.getText(this.options.popup.button.cancel.label),image:this.options.popup.button.cancel.image,onClick:function(){B.deactivate(false)}}).addTo(this.popup.innerWrapper)}else{if(this.options.popup.useButtons&&this.popup.button.submit!=null){C={submit:this.popup.button.submit,cancel:this.popup.button.cancel}}else{if(this.options.popup.useButtons==false&&this.popup.button.submit!=null){this.popup.button.submit.cleanup();this.popup.button.cancel.cleanup()}}}this.popup.button=C},unsetActiveField:function(){this.activeCell.field.destroy();if(this.popup.domObj!=null){this.popup.domObj.removeEvent("mouseenter");this.popup.domObj.hide()}this.activeCell.cell.setStyle("outline","0px");this.activeCell={field:null,oldValue:null,newValue:{data:null,error:false},cell:null,span:null,timeoutId:null,data:{},fieldOptions:{},validator:null}},unsetPopUp:function(){if(this.popup.domObj!=null){this.popup.domObj.destroy();this.popup.innerWrapper=null;this.popup.closeIcon=null;this.popup.button.submit=null;this.popup.button.cancel=null}},getNextCellInRow:function(E){E=$defined(E)?E:true;var H=true,G=true,J=this.grid.columns.columns.length,B="td.jxGridCell:not(.jxGridCellUnattached)",D=0,C,F=this.activeCell.cell,I=this.options;if(this.activeCell.cell!=null){do{H=D>0?H.getNext(B):F.getNext(B);if(H==null){G=F.getParent("tr").getNext();if(G==null&&I.keypressLoop){G=F.getParent("tbody").getFirst()}else{if(G==null&&!I.keypressLoop){return }}H=G.getFirst(B)}C=this.grid.getCellData(H);D++;if(D==J*2){this.deactivate(E);return }}while(C&&!C.column.options.isEditable);if(E===false){this.deactivate(E)}this.activate(H)}},getPrevCellInRow:function(G){G=$defined(G)?G:true;var H,B,E=0,D,L,F,I=this.activeCell.cell,K=this.grid.columns.columns.length,C="td.jxGridCell:not(.jxGridCellUnattached)",J=this.options;if(I!=null){do{H=E>0?H.getPrevious(C):I.getPrevious(C);if(H==null){B=I.getParent("tr").getPrevious();if(B==null&&J.keypressLoop){B=I.getParent("tbody").getLast()}else{if(B==null&&!J.keypressLoop){return }}H=B.getLast(C)}D=this.grid.getCellData(H);L=D.row;F=D.index;E++;if(E==K*2){this.deactivate(G);return }}while(D&&!D.column.options.isEditable);if(G===false){this.deactivate(G)}this.activate(H)}},getNextCellInCol:function(E){var D,C,B=this.activeCell;E=$defined(E)?E:true;if(B.cell!=null){D=B.cell.getParent().getNext();if(D==null){D=B.cell.getParent("tbody").getFirst()}C=D.getElement("td.jxGridCol"+B.data.index);if(E===false){this.deactivate(E)}this.activate(C)}},getPrevCellInCol:function(D){var E,C,B=this.activeCell;D=$defined(D)?D:true;if(B.cell!=null){E=B.cell.getParent().getPrevious();if(E==null){E=B.cell.getParent("tbody").getLast()}C=E.getElement("td.jxGridCol"+B.data.index);if(D===false){this.deactivate(D)}this.activate(C)}},cellValueIncrement:function(C){var D=this.activeCell,B=D.data.column.options.dataType,F=null,E;switch(B){case"numeric":case"currency":F=D.field.getValue().toInt();if(typeof (F)=="number"){if(C){F++}else{F--}}break;case"date":F=Date.parse(D.field.getValue());if(F instanceof Date){if(C){F.increment()}else{F.decrement()}E=new Jx.Formatter.Date();F=E.format(F)}break}if(F!=null){D.field.setValue(F)}},cellIsInGrid:function(C,B){if($defined(C)&&$defined(B)){if(C>=0&&B>=0&&C<=this.grid.gridTableBody.rows.length&&B<=this.grid.gridTableBody.rows[C].cells.length){return true}else{return false}}else{return false}},getFieldOptionsByColName:function(E){var D=this.options.fieldOptions,F=this.options.fieldOptions[0];for(var C=0,B=D.length;C<B;C++){if(D[C].field==E){F=D[C];break}}return F},addFormatterUriClickListener:function(){if(this.options.linkClickListener){var C=[],D,B;this.grid.columns.columns.each(function(E,F){if(E.options.renderer.options.formatter!=null&&E.options.renderer.options.formatter instanceof Jx.Formatter.Uri){C.push(F)}});this.grid.gridObj.getElements("tr").each(function(H,G){D=H.getElements("td.jxGridCell");for(var F=0,E=C.length;F<E;F++){B=D[C[F]-1].getElement("a");if(B){B.removeEvent("click");B.addEvent("click",function(I){if(!I.control){I.preventDefault()}})}}})}},changeText:function(B){this.parent();if(this.options.popup.use&&this.options.popup.useButtons){if(this.popup.button.submit!=null){this.popup.button.submit.cleanup();this.popup.button.cancel.cleanup();this.popup.button.submit=null;this.popup.button.cancel=null;this.setPopUpButtons()}}}});Jx.Plugin.DataView={};Jx.Slide=new Class({Family:"Jx.Slide",Implements:Jx.Object,Binds:["handleClick"],options:{target:null,trigger:null,type:"height",setOpenTo:"auto",onSlideOut:$empty,onSlideIn:$empty},init:function(){this.target=document.id(this.options.target);this.target.set("tween",{onComplete:this.setDisplay.bind(this)});if($defined(this.options.trigger)){this.trigger=document.id(this.options.trigger);this.trigger.addEvent("click",this.handleClick)}this.target.store("slider",this)},handleClick:function(){var B=this.target.getMarginBoxSize();if(B.height===0){this.slide("in")}else{this.slide("out")}},setDisplay:function(){var B=this.target.getStyle(this.options.type).toInt();if(B===0){this.target.setStyle("display","none");this.fireEvent("slideOut",this.target)}else{if(this.target.getStyle("position")!=="absolute"){this.target.setStyle(this.options.type,this.options.setOpenTo)}this.fireEvent("slideIn",this.target)}},slide:function(B){var C;if(B==="in"){C=this.target.retrieve(this.options.type);this.target.setStyles({overflow:"hidden",display:"block"});this.target.setStyles(this.options.type,0);this.target.tween(this.options.type,C)}else{if(this.options.type==="height"){C=this.target.getMarginBoxSize().height}else{C=this.target.getMarginBoxSize().width}this.target.store(this.options.type,C);this.target.setStyle("overflow","hidden");this.target.setStyle(this.options.type,C);this.target.tween(this.options.type,0)}}});Jx.Plugin.DataView.GroupFolder=new Class({Extends:Jx.Plugin,options:{headerClass:null},headerState:null,init:function(){this.headerState=new Hash()},attach:function(B){if(!$defined(B)&&!(dataview instanceof Jx.Panel.DataView)){return }this.dv=B;this.dv.addEvent("renderDone",this.setHeaders.bind(this))},setHeaders:function(){var B=this.dv.domA.getElements("."+this.dv.options.groupHeaderClass);B.each(function(F){var E=F.get("id");var C=new Jx.Slide({target:F.getNext(),trigger:E,onSlideOut:this.onSlideOut.bind(this,F),onSlideIn:this.onSlideIn.bind(this,F)});if(this.headerState.has(E)){var D=this.headerState.get(E);if(D==="open"){C.slide("in")}else{C.slide("out")}}else{C.slide("in")}},this)},onSlideIn:function(B){this.headerState.set(B.get("id"),"open");if(B.hasClass(this.options.headerClass+"-closed")){B.removeClass(this.options.headerClass+"-closed")}B.addClass(this.options.headerClass+"-open")},onSlideOut:function(B){this.headerState.set(B.get("id"),"closed");if(B.hasClass(this.options.headerClass+"-open")){B.removeClass(this.options.headerClass+"-open")}B.addClass(this.options.headerClass+"-closed")}});Jx.Plugin.Field={};Jx.Plugin.Field.Validator=new Class({Extends:Jx.Plugin,name:"Field.Validator",options:{validators:[],validateOnBlur:true,validateOnChange:true},valid:null,errors:null,validators:null,init:function(){this.parent();this.errors=[];this.validators=new Hash();this.bound.validate=this.validate.bind(this);this.bound.reset=this.reset.bind(this)},attach:function(B){if(!$defined(B)&&!(B instanceof Jx.Field)){return }this.field=B;if(this.field.options.required&&!this.options.validators.contains("required")){this.options.validators.reverse().push("required");this.options.validators.reverse()}this.options.validators.each(function(C){var D=Jx.type(C);if(D==="string"){this.field.field.addClass(C)}else{if(D==="object"){this.validators.set(C.validator.name,new InputValidator(C.validator.name,C.validator.options));this.field.field.addClass(C.validatorClass)}}},this);if(this.options.validateOnBlur){this.field.field.addEvent("blur",this.bound.validate)}if(this.options.validateOnChange){this.field.field.addEvent("change",this.bound.validate)}this.field.addEvent("reset",this.bound.reset)},detach:function(){if(this.field){this.field.field.removeEvent("blur",this.bound.validate);this.field.field.removeEvent("change",this.bound.validate)}this.field.removeEvent("reset",this.bound.reset);this.field=null;this.validators=null},validate:function(){$clear(this.timer);this.timer=this.validateField.delay(50,this)},validateField:function(){this.valid=true;this.errors=[];this.options.validators.each(function(B){var C=(Jx.type(B)==="string")?Form.Validator.getValidator(B):this.validators.get(B.validator.name);if(C){if(!C.test(this.field.field)){this.valid=false;this.errors.push(C.getError(this.field.field))}}},this);if(!this.valid){this.field.domObj.removeClass("jxFieldSuccess").addClass("jxFieldError");this.fireEvent("fieldValidationFailed",[this.field,this])}else{this.field.domObj.removeClass("jxFieldError").addClass("jxFieldSuccess");this.fireEvent("fieldValidationPassed",[this.field,this])}return this.valid},isValid:function(){return this.validateField()},reset:function(){this.valid=null;this.errors=[];this.field.field.removeClass("jxFieldError").removeClass("jxFieldSuccess")},getErrors:function(){return this.errors}});Jx.Plugin.Form={};Jx.Plugin.Form.Validator=new Class({Extends:Jx.Plugin,name:"Form.Validator",options:{fields:null,fieldDefaults:{validateOnBlur:true,validateOnChange:true},validateOnSubmit:true,suspendSubmit:false},errorMessage:null,init:function(){this.parent();this.bound.validate=this.validate.bind(this);this.bound.failed=this.fieldFailed.bind(this);this.bound.passed=this.fieldPassed.bind(this)},attach:function(D){if(!$defined(D)&&!(D instanceof Jx.Form)){return }this.form=D;var C=this,B=this.options;D.isValid=function(){return C.isValid()};if(B.validateOnSubmit&&!B.suspendSubmit){document.id(this.form).addEvent("submit",this.bound.validate)}else{if(B.suspendSubmit){document.id(this.form).addEvent("submit",function(E){E.stop()})}}this.plugins=$H();$H(B.fields).each(function(H,F){var G=$merge(this.options.fieldDefaults,H),E=this.form.getFieldsByName(F).p;if(E&&E.length){p=new Jx.Plugin.Field.Validator(G);this.plugins.set(F,p);p.attach(E[0]);p.addEvent("fieldValidationFailed",this.bound.failed);p.addEvent("fieldValidationPassed",this.bound.passed)}},this)},detach:function(){if(this.form){document.id(this.form).removeEvent("submit")}this.form=null;this.plugins.each(function(B){B.detach();B=null},this);this.plugins=null},isValid:function(){return this.validate()},validate:function(){var B=true;this.errors=$H();this.plugins.each(function(C){if(!C.isValid()){B=false;this.errors.set(C.field.id,C.getErrors())}},this);if(B){this.fireEvent("formValidationPassed",[this.form,this])}else{this.fireEvent("formValidationFailed",[this.form,this])}return B},fieldFailed:function(C,B){this.fireEvent("fieldValidationFailed",[C,B])},fieldPassed:function(C,B){this.fireEvent("fieldValidationPassed",[C,B])},getErrors:function(){if(!$defined(this.errors)){this.validate()}return this.errors}});Jx.Plugin.ToolbarContainer={};Jx.Plugin.ToolbarContainer.TabMenu=new Class({Family:"Jx.Plugin.ToolbarContainer.TabMenu",Extends:Jx.Plugin,Binds:["addButton"],options:{},tabs:[],init:function(){this.parent()},attach:function(C){this.parent(C);this.container=C;if(!this.container.options.scroll){return }this.menu=new Jx.Menu({},{buttonTemplate:'<span class="jxButtonContainer"><a class="jxButton jxButtonMenu jxDiscloser"><span class="jxButtonContent"><span class="jxButtonLabel"></span></span></a></span>'}).addTo(this.container.controls,"bottom");document.id(this.menu).addClass("jxTabMenuRevealer");this.container.update();var B=document.id(this.container).getElement("ul").retrieve("jxToolbar");B.list.each(function(D){this.addButton(D)},this);B.list.addEvent("add",this.addButton)},detach:function(){this.parent()},addButton:function(E){var D;D=(E instanceof Jx.Tab)?E:document.id(E).getFirst().retrieve("jxTab");var B=D.getLabel();if(!$defined(B)){B=""}var C=new Jx.Menu.Item({label:B,image:D.options.image,onClick:function(){if(D.isActive()){this.container.scrollIntoView(D)}else{D.setActive(true)}}.bind(this)});document.id(D).store("menuItem",C);D.addEvent("close",function(){this.menu.remove(C)}.bind(this));this.menu.add([C])}});Jx.Adaptor=new Class({Extends:Jx.Plugin,Family:"Jx.Adaptor",name:"Jx.Adaptor",options:{template:"",useTemplate:true,store:null},columnsNeeded:null,init:function(){var B=this.options;this.parent();this.store=B.store;if(B.useTemplate&&$defined(this.store.getColumns())){this.columnsNeeded=this.store.parseTemplate(B.template)}},attach:function(B){this.parent(B);this.widget=B},detach:function(){this.parent()}});Jx.Adaptor.Tree=new Class({Extends:Jx.Adaptor,Family:"Jx.Adaptor.Tree",Binds:["fill","checkFolder"],options:{monitorFolders:false,startingNodeKey:-1,folderOptions:null,itemOptions:null},folders:null,currentRecord:-1,init:function(){this.folders=new Hash();this.parent()},attach:function(B){this.parent(B);this.tree=B;if(this.options.monitorFolders){this.strategy=this.store.getStrategy("progressive");if(!$defined(this.strategy)){this.strategy=new Jx.Store.Strategy.Progressive({dropRecords:false,getPaginationParams:function(){return{}}});this.store.addStrategy(this.strategy)}else{this.strategy.options.dropRecords=false;this.strategy.options.getPaginationParams=function(){return{}}}}this.store.addEvent("storeDataLoaded",this.fill)},detach:function(){this.parent();this.store.removeEvent("storeDataLoaded",this.fill)},firstLoad:function(){this.busy="tree";this.tree.setBusy(true);this.store.load({node:this.options.startingNodeKey})},fill:function(){var D,E,G,H,F,C=this.option;if(this.busy=="tree"){this.tree.setBusy(false);this.busy="none"}else{if(this.busy=="folder"){this.busyFolder.setBusy(false);this.busy="none"}}var B=this.store.count()-1;for(D=this.currentRecord+1;D<=B;D++){E=this.store.fillTemplate(D,C.template,this.columnsNeeded);if(this.hasChildren(D)){G=new Jx.TreeFolder($merge(C.folderOptions,{label:E}));if(C.monitorFolders){G.addEvent("disclosed",this.checkFolder)}this.folders.set(D,G)}else{G=new Jx.TreeItem($merge(C.itemOptions,{label:E}))}document.id(G).store("index",D).store("jxAdaptor",this);if(this.hasParent(D)){var H=this.getParentIndex(D);var F=this.folders.get(H);F.add(G)}else{this.tree.add(G)}}this.currentRecord=B},checkFolder:function(E){var B=E.items(),C,D;if(!$defined(B)||B.length===0){C=document.id(E).retrieve("index");D=this.store.get("primaryKey",C);this.busyFolder=E;this.busyFolder.setBusy(true);this.busy="folder";this.store.load({node:D})}},hasChildren:$empty,hasParent:$empty,getParentIndex:$empty});Jx.Adaptor.Tree.Mptt=new Class({Family:"Jx.Adaptor.Tree.Mptt",Extends:Jx.Adaptor.Tree,name:"tree.mptt",options:{left:"left",right:"right"},hasChildren:function(C){var B=this.store.get(this.options.left,C).toInt(),D=this.store.get(this.options.right,C).toInt();return(B+1!==D)},hasParent:function(C){var D=this.getParentIndex(C),B=false;if($defined(D)){B=true}return B},getParentIndex:function(E){var C=this.store,D=this.options,B,H,F,G,I;B=C.get(D.left,E).toInt();H=C.get(D.right,E).toInt();for(F=E-1;F>=0;F--){G=C.get(D.left,F).toInt();I=C.get(D.right,F).toInt();if(G<B&&I>H){return F}}return null}});Jx.Adaptor.Tree.Parent=new Class({Extends:Jx.Adaptor.Tree,Family:"Jx.Adaptor.Tree.Parent",options:{parentColumn:"parent",folderColumn:"folder"},hasChildren:function(B){return this.store.get(this.options.folderColumn,B)},hasParent:function(B){if(this.store.get(this.options.parentColumn,B).toInt()!==-1){return true}return false},getParentIndex:function(B){var C=this.store.get(this.options.parentColumn,B);return this.store.findByColumn("primaryKey",C)}});Jx.Adaptor.Combo={};Jx.Adaptor.Combo.Fill=new Class({Family:"Jx.Adaptor.Combo.Fill",Extends:Jx.Adaptor,name:"combo.fill",Binds:["fill"],options:{imagePathColumn:null,imageClassColumn:null,selectedFn:null,noRepeats:false},labels:null,init:function(){this.parent();if(this.options.noRepeat){this.labels=[]}},attach:function(B){this.parent(B);this.store.addEvent("storeDataLoaded",this.fill);if(this.store.loaded){this.fill()}},detach:function(){this.parent();this.store.removeEvent("storeDataLoaded",this.fill)},fill:function(){var F,B=[],E,G,D=this.options,C=this.options.noRepeat;this.widget.empty();this.store.first();B=[];this.store.each(function(H){F=this.store.fillTemplate(H,D.template,this.columnsNeeded);if(!C||(C&&!this.labels.contains(F))){E=false;if($type(D.selectedFn)=="function"){E=D.selectedFn.run(H)}G={label:F,image:H.get(D.imagePathColumn),imageClass:H.get(D.imageClassColumn),selected:E};B.push(G);if(C){this.labels.push(F)}}},this);this.widget.add(B)}});Jx.Menu.Context=new Class({Family:"Jx.Menu.Context",Extends:Jx.Menu,parameters:["id"],render:function(){this.id=document.id(this.options.id);if(this.id){this.id.addEvent("contextmenu",this.show.bindWithEvent(this))}this.parent()},show:function(B){if(this.list.count()==0){return }this.target=B.target;this.contentContainer.setStyle("visibility","hidden");this.contentContainer.setStyle("display","block");document.id(document.body).adopt(this.contentContainer);this.contentContainer.setStyles({width:null,height:null});this.contentContainer.setContentBoxSize(this.subDomObj.getMarginBoxSize());this.position(this.contentContainer,document.body,{horizontal:[B.page.x+" left"],vertical:[B.page.y+" top",B.page.y+" bottom"],offsets:this.chromeOffsets});this.contentContainer.setStyle("visibility","");this.showChrome(this.contentContainer);document.addEvent("mousedown",this.bound.hide);document.addEvent("keyup",this.bound.keypress);B.stop()}});Jx.Menu.Separator=new Class({Family:"Jx.Menu.Separator",Extends:Jx.Widget,domObj:null,owner:null,options:{template:"<li class='jxMenuItemContainer jxMenuItem'><span class='jxMenuSeparator'>&nbsp;</span></li>"},classes:new Hash({domObj:"jxMenuItem"}),render:function(){this.parent();this.domObj.store("jxMenuItem",this)},cleanup:function(){this.domObj.eliminate("jxMenuItem");this.owner=null;this.parent()},setOwner:function(B){this.owner=B},hide:$empty,show:$empty});Jx.Menu.SubMenu=new Class({Family:"Jx.Menu.SubMenu",Extends:Jx.Menu.Item,subDomObj:null,owner:null,visibleItem:null,list:null,options:{template:'<li class="jxMenuItemContainer"><a class="jxMenuItem jxButtonSubMenu"><span class="jxMenuItemContent"><img class="jxMenuItemIcon" src="'+Jx.aPixel.src+'"><span class="jxMenuItemLabel"></span></span></a></li>',position:{horizontal:["right left","left right"],vertical:["top top"]}},render:function(){this.parent();this.open=false;this.menu=new Jx.Menu(null,{position:this.options.position});this.menu.domObj=this.domObj},cleanup:function(){this.menu.domObj=null;this.menu.destroy();this.menu=null;this.parent()},setOwner:function(B){this.owner=B;this.menu.owner=B},show:function(){if(this.open||this.menu.list.count()==0){return }this.menu.show();this.open=true},eventInMenu:function(B){if(this.visibleItem&&this.visibleItem.eventInMenu&&this.visibleItem.eventInMenu(B)){return true}return document.id(B.target).descendantOf(this.domObj)||this.menu.eventInMenu(B)},hide:function(){if(!this.open){return }this.open=false;this.menu.hide();this.visibleItem=null},add:function(C,B){this.menu.add(C,B,this);return this},remove:function(B){this.menu.remove(B);return this},replace:function(C,B){this.menu.replace(C,B);return this},empty:function(){this.menu.empty()},deactivate:function(B){if(this.owner){this.owner.deactivate(B)}},isActive:function(){if(this.owner){return this.owner.isActive()}else{return false}},setActive:function(B){if(this.owner&&this.owner.setActive){this.owner.setActive(B)}},setVisibleItem:function(B){if(this.visibleItem!=B){if(this.visibleItem&&this.visibleItem.hide){this.visibleItem.hide()}this.visibleItem=B;this.visibleItem.show()}}});Jx.Splitter.Snap=new Class({Family:"Jx.Splitter.Snap",Extends:Jx.Object,snap:null,element:null,splitter:null,layout:"vertical",parameters:["snap","element","splitter","events"],init:function(){this.snap=this.options.snap;this.element=this.options.element;this.splitter=this.options.splitter;this.events=this.options.events;var D=this.element.retrieve("jxLayout");D.addEvent("sizeChange",this.sizeChange.bind(this));this.layout=this.splitter.options.layout;var B=D.options;var C=this.element.getContentBoxSize();if(this.layout=="vertical"){this.originalSize=C.height;this.minimumSize=B.minHeight?B.minHeight:0}else{this.originalSize=C.width;this.minimumSize=B.minWidth?B.minWidth:0}this.events.each(function(E){this.snap.addEvent(E,this.toggleElement.bind(this))},this)},toggleElement:function(){var C=this.element.getContentBoxSize();var B={};if(this.layout=="vertical"){if(C.height==0){B.height=this.originalSize}else{this.originalSize=C.height;B.height=this.minimumSize}}else{if(C.width==0){B.width=this.originalSize}else{this.originalSize=C.width;B.width=this.minimumSize}}this.element.resize(B);this.splitter.sizeChanged()},sizeChange:function(){var B=this.element.getContentBoxSize();if(this.layout=="vertical"){if(B.height==0){this.snap.addClass("jxSnapClosed");this.snap.removeClass("jxSnapOpened")}else{this.snap.addClass("jxSnapOpened");this.snap.removeClass("jxSnapClosed")}}else{if(B.width==0){this.snap.addClass("jxSnapClosed");this.snap.removeClass("jxSnapOpened")}else{this.snap.addClass("jxSnapOpened");this.snap.removeClass("jxSnapClosed")}}}});Jx.Tab=new Class({Family:"Jx.Tab",Extends:Jx.Button,content:null,options:{toggleClass:"jxTabToggle",pressedClass:"jxTabPressed",activeClass:"jxTabActive",activeTabClass:"tabContentActive",template:'<span class="jxTabContainer"><a class="jxTab"><span class="jxTabContent"><img class="jxTabIcon" src="'+Jx.aPixel.src+'"><span class="jxTabLabel"></span></span></a><a class="jxTabClose"></a></span>',contentTemplate:'<div class="tabContent"></div>',close:false,shouldClose:true},classes:new Hash({domObj:"jxTabContainer",domA:"jxTab",domImg:"jxTabIcon",domLabel:"jxTabLabel",domClose:"jxTabClose",content:"tabContent"}),render:function(){this.options=$merge(this.options,{toggle:true});this.parent();this.domObj.store("jxTab",this);this.processElements(this.options.contentTemplate,this.classes);new Jx.Layout(this.content,this.options);if(!this.options.loadOnDemand||this.options.active){this.loadContent(this.content);if(this.options.active){this.clicked()}}else{this.addEvent("contentLoaded",function(B){this.setActive(true)}.bind(this))}this.addEvent("down",function(){this.content.addClass(this.options.activeTabClass)}.bind(this));this.addEvent("up",function(){this.content.removeClass(this.options.activeTabClass)}.bind(this));if(this.domClose){if(this.options.close){this.domObj.addClass("jxTabClose");this.domClose.addEvent("click",(function(){var B=true;if($defined(this.options.shouldClose)){if(typeof this.options.shouldClose=="function"){B=this.options.shouldClose()}else{B=this.options.shouldClose}}if(B){this.fireEvent("close")}}).bind(this))}else{this.domClose.dispose()}}},clicked:function(B){if(this.options.enabled){if(this.contentIsLoaded&&this.options.cacheContent){this.setActive(true)}else{if(this.options.loadOnDemand||!this.options.cacheContent){this.loadContent(this.content)}else{this.setActive(true)}}}}});Jx.Button.Tab=new Class({Extends:Jx.Tab,init:function(){if(console.warn){console.warn("WARNING: Jx.Button.Tab has been renamed to Jx.Tab")}else{console.log("WARNING: Jx.Button.Tab has been renamed to Jx.Tab")}this.parent()}});Jx.TabSet=new Class({Family:"Jx.TabSet",Extends:Jx.Object,tabs:null,domObj:null,parameters:["domObj","options"],init:function(){this.tabs=[];this.domObj=document.id(this.options.domObj);if(!this.domObj.hasClass("jxTabSetContainer")){this.domObj.addClass("jxTabSetContainer")}this.setActiveTabFn=this.setActiveTab.bind(this)},resizeTabBox:function(){if(this.activeTab&&this.activeTab.content.resize){this.activeTab.content.resize({forceResize:true})}},add:function(){$A(arguments).flatten().each(function(B){if(B instanceof Jx.Tab){B.addEvent("down",this.setActiveTabFn);B.tabSet=this;this.domObj.appendChild(B.content);this.tabs.push(B);if((!this.activeTab||B.options.active)&&B.options.enabled){B.options.active=false;B.setActive(true)}}},this);return this},remove:function(B){if(B instanceof Jx.Tab&&this.tabs.indexOf(B)!=-1){this.tabs.erase(B);if(this.activeTab==B){if(this.tabs.length){this.tabs[0].setActive(true)}}B.removeEvent("down",this.setActiveTabFn);B.content.dispose()}},setActiveTab:function(B){if(this.activeTab&&this.activeTab!=B){this.activeTab.setActive(false)}this.activeTab=B;if(this.activeTab.content.resize){this.activeTab.content.resize({forceResize:true})}this.fireEvent("tabChange",[this,B])}});Jx.TabBox=new Class({Family:"Jx.TabBox",Extends:Jx.Widget,options:{parent:null,position:"top",height:null,width:null,scroll:true},tabBar:null,tabSet:null,render:function(){this.parent();this.tabBar=new Jx.Toolbar({position:this.options.position,scroll:this.options.scroll});this.panel=new Jx.Panel({toolbars:[this.tabBar],hideTitle:true,height:this.options.height,width:this.options.width});this.panel.domObj.addClass("jxTabBox");this.tabSet=new Jx.TabSet(this.panel.content);this.tabSet.addEvent("tabChange",function(B,C){this.showItem(C)}.bind(this.tabBar));this.domObj=this.panel.domObj;this.panel.addEvent("sizeChange",(function(){this.tabSet.resizeTabBox();this.tabBar.domObj.getParent(".jxBarContainer").retrieve("jxBarContainer").update();this.tabBar.domObj.getParent(".jxBarContainer").addClass("jxTabBar"+this.options.position.capitalize())}).bind(this));this.tabBar.addEvents({add:(function(){this.domObj.resize({forceResize:true})}).bind(this),remove:(function(){this.domObj.resize({forceResize:true})}).bind(this)});this.addEvent("addTo",function(){this.domObj.resize({forceResize:true})});if(this.options.parent){this.addTo(this.options.parent)}},add:function(){this.tabBar.add.apply(this.tabBar,arguments);this.tabSet.add.apply(this.tabSet,arguments);$A(arguments).flatten().each(function(B){B.addEvents({close:(function(){this.tabBar.remove(B);this.tabSet.remove(B)}).bind(this)})},this);return this},remove:function(B){this.tabBar.remove(B);this.tabSet.remove(B)}});Jx.Toolbar.Separator=new Class({Family:"Jx.Toolbar.Separator",Extends:Jx.Widget,render:function(){this.domObj=new Element("li",{"class":"jxToolItem"});this.domSpan=new Element("span",{"class":"jxBarSeparator"});this.domObj.appendChild(this.domSpan)}});Jx.Tree=new Class({Family:"Jx.Tree",Extends:Jx.Widget,parameters:["options","container","selection"],pluginNamespace:"Tree",selection:null,ownsSelection:false,list:null,dirty:true,domObj:null,options:{select:true,template:'<ul class="jxTreeRoot"></ul>'},classes:new Hash({domObj:"jxTreeRoot"}),frozen:false,render:function(){this.parent();if($defined(this.options.container)&&document.id(this.options.container)){this.domObj=this.options.container}if(this.options.selection){this.selection=this.options.selection}else{if(this.options.select){this.selection=new Jx.Selection(this.options);this.ownsSelection=true}}this.bound.select=function(B){this.fireEvent("select",B.retrieve("jxTreeItem"))}.bind(this);this.bound.unselect=function(B){this.fireEvent("unselect",B.retrieve("jxTreeItem"))}.bind(this);this.bound.onAdd=function(B){this.update()}.bind(this);this.bound.onRemove=function(B){this.update()}.bind(this);if(this.selection&&this.ownsSelection){this.selection.addEvents({select:this.bound.select,unselect:this.bound.unselect})}this.list=new Jx.List(this.domObj,{hover:true,press:true,select:true,onAdd:this.bound.onAdd,onRemove:this.bound.onRemove},this.selection);if(this.options.parent){this.addTo(this.options.parent)}},freeze:function(){this.frozen=true},thaw:function(){this.frozen=false;this.update(true)},setDirty:function(B){this.dirty=B;if(B&&this.owner&&this.owner.setDirty){this.owner.setDirty(B)}},add:function(C,B){if($type(C)=="array"){C.each(function(D){this.add(D,B)}.bind(this));return }C.addEvents({add:function(D){this.fireEvent("add",D).bind(this)},remove:function(D){this.fireEvent("remove",D).bind(this)},disclose:function(D){this.fireEvent("disclose",D).bind(this)}});C.setSelection(this.selection);C.owner=this;this.list.add(C,B);this.setDirty(true);this.update(true);return this},remove:function(B){B.removeEvents("add");B.removeEvents("remove");B.removeEvents("disclose");B.owner=null;this.list.remove(B);B.setSelection(null);this.setDirty(true);this.update(true);return this},replace:function(C,B){C.owner=null;B.owner=this;this.list.replace(C,B);B.setSelection(this.selection);C.setSelection(null);this.setDirty(true);this.update(true);return this},cleanup:function(){this.freeze();if(this.selection&&this.ownsSelection){this.selection.removeEvents({select:this.bound.select,unselect:this.bound.unselect});this.selection.destroy();this.selection=null}this.list.removeEvents({remove:this.bound.onRemove,add:this.bound.onAdd});this.list.destroy();this.list=null;this.bound.select=null;this.bound.unselect=null;this.bound.onRemove=null;this.bound.onAdd=null;this.parent()},update:function(D,C){if(!this.list){return }if(this.frozen){return }if($defined(C)){if(C){this.domObj.removeClass("jxTreeNest")}else{this.domObj.addClass("jxTreeNest")}}var B=this.list.count()-1;this.list.each(function(G,E){var F=E==B;if(G.retrieve("jxTreeFolder")){G.retrieve("jxTreeFolder").update(D,F)}if(G.retrieve("jxTreeItem")){G.retrieve("jxTreeItem").update(F)}});this.setDirty(false)},items:function(){return this.list.items().map(function(B){return B.retrieve("jxTreeItem")})},empty:function(){this.list.items().each(function(B){var C=B.retrieve("jxTreeItem");if(C&&C instanceof Jx.TreeFolder){C.empty()}if(C&&C instanceof Jx.TreeItem){this.remove(C);C.destroy()}},this);this.setDirty(true)},findChild:function(D){if(D.length==0){return false}var C=D[0];var B=false;this.list.items().some(function(F){var G=F.retrieve("jxTreeItem");if(G&&G.getLabel()==C){if(D.length>0){var E=F.retrieve("jxTreeFolder");if(E&&D.length>1){B=E.findChild(D.slice(1,D.length))}else{B=G}}else{B=G}}return B});return B},setSelection:function(B){if(this.selection&&this.ownsSelection){this.selection.removeEvents(this.bound);this.selection.destroy();this.ownsSelection=false}this.selection=B;this.list.setSelection(B);this.list.each(function(C){C.retrieve("jxTreeItem").setSelection(B)});return this}});Jx.TreeItem=new Class({Family:"Jx.TreeItem",Extends:Jx.Widget,selection:null,domObj:null,owner:null,options:{label:"",contextMenu:null,enabled:true,selectable:true,image:null,imageClass:"",lastLeafClass:"jxTreeLeafLast",template:'<li class="jxTreeContainer jxTreeLeaf"><img class="jxTreeImage" src="'+Jx.aPixel.src+'" alt="" title=""><a class="jxTreeItem" href="javascript:void(0);"><img class="jxTreeIcon" src="'+Jx.aPixel.src+'" alt="" title=""><span class="jxTreeLabel"></span></a></li>',busyMask:{message:null}},classes:new Hash({domObj:"jxTreeContainer",domA:"jxTreeItem",domImg:"jxTreeImage",domIcon:"jxTreeIcon",domLabel:"jxTreeLabel"}),render:function(){this.parent();this.domObj=this.elements.get("jxTreeContainer");this.domObj.store("jxTreeItem",this);this.domA.store("jxTreeItem",this);if(this.options.contextMenu){this.domA.store("jxContextMenu",this.options.contextMenu)}this.domObj.store("jxListTarget",this.domA);if(!this.options.selectable){this.domObj.addClass("jxUnselectable")}if(this.options.id){this.domObj.id=this.options.id}if(!this.options.enabled){this.domObj.addClass("jxDisabled")}if(this.options.image&&this.domIcon){this.domIcon.setStyle("backgroundImage","url("+this.options.image+")");if(this.options.imageClass){this.domIcon.addClass(this.options.imageClass)}}if(this.options.label&&this.domLabel){this.setLabel(this.options.label)}if(this.domA){this.domA.addEvents({click:this.click.bind(this),dblclick:this.dblclick.bind(this),drag:function(B){B.stop()}});if(typeof Drag!="undefined"){new Drag(this.domA,{onStart:function(){this.stop()}})}}if($defined(this.options.enabled)){this.enable(this.options.enabled,true)}},setDirty:function(B){if(B&&this.owner&&this.owner.setDirty){this.owner.setDirty(B)}},finalize:function(){this.destroy()},cleanup:function(){this.domObj.eliminate("jxTreeItem");this.domA.eliminate("jxTreeItem");this.domA.eliminate("jxContextMenu");this.domObj.eliminate("jxListTarget");this.domObj.eliminate("jxListTargetItem");this.domA.removeEvents();this.owner=null;this.selection=null;this.parent()},update:function(B){if(B){this.domObj.addClass(this.options.lastLeafClass)}else{this.domObj.removeClass(this.options.lastLeafClass)}},click:function(){if(this.options.enabled){this.fireEvent("click",this)}},dblclick:function(){if(this.options.enabled){this.fireEvent("dblclick",this)}},select:function(){if(this.selection&&this.options.enabled){this.selection.select(this.domA)}},getLabel:function(){return this.options.label},setLabel:function(B){this.options.label=B;if(this.domLabel){this.domLabel.set("html",this.getText(B));this.setDirty(true)}},setImage:function(B,C){if(this.domIcon&&$defined(B)){this.options.image=B;this.domIcon.setStyle("backgroundImage","url("+this.options.image+")");this.setDirty(true)}if(this.domIcon&&$defined(C)){this.domIcon.removeClass(this.options.imageClass);this.options.imageClass=C;this.domIcon.addClass(C);this.setDirty(true)}},enable:function(C,B){if(this.options.enabled!=C||B){this.options.enabled=C;if(this.options.enabled){this.domObj.removeClass("jxDisabled");this.fireEvent("enabled",this)}else{this.domObj.addClass("jxDisabled");this.fireEvent("disabled",this);if(this.selection){this.selection.unselect(document.id(this))}}}},propertyChanged:function(B){this.options.enabled=B.isEnabled();if(this.options.enabled){this.domObj.removeClass("jxDisabled")}else{this.domObj.addClass("jxDisabled")}},setSelection:function(B){this.selection=B},setBusy:function(B){if(this.busy==B){return }this.busy=B;this.fireEvent("busy",this.busy);if(this.busy){this.domImg.addClass(this.options.busyClass)}else{if(this.options.busyClass){this.domImg.removeClass(this.options.busyClass)}}},changeText:function(B){this.parent();this.setLabel(this.options.label)}});Jx.TreeFolder=new Class({Family:"Jx.TreeFolder",Extends:Jx.TreeItem,tree:null,options:{open:false,select:false,template:'<li class="jxTreeContainer jxTreeBranch"><img class="jxTreeImage" src="'+Jx.aPixel.src+'" alt="" title=""><a class="jxTreeItem" href="javascript:void(0);"><img class="jxTreeIcon" src="'+Jx.aPixel.src+'" alt="" title=""><span class="jxTreeLabel"></span></a><ul class="jxTree"></ul></li>'},classes:new Hash({domObj:"jxTreeContainer",domA:"jxTreeItem",domImg:"jxTreeImage",domIcon:"jxTreeIcon",domLabel:"jxTreeLabel",domTree:"jxTree"}),render:function(){this.parent();this.domObj.store("jxTreeFolder",this);this.bound.toggle=this.toggle.bind(this);this.addEvents({click:this.bound.toggle,dblclick:this.bound.toggle});if(this.domImg){this.domImg.addEvent("click",this.bound.toggle)}this.tree=new Jx.Tree({template:this.options.template,onAdd:function(B){this.update();this.fireEvent("add",B)}.bind(this),onRemove:function(B){this.update();this.fireEvent("remove",B)}.bind(this)},this.domTree);if(this.options.open){this.expand()}else{this.collapse()}},cleanup:function(){this.domObj.eliminate("jxTreeFolder");this.removeEvents({click:this.bound.toggle,dblclick:this.bound.toggle});if(this.domImg){this.domImg.removeEvent("click",this.bound.toggle)}this.bound.toggle=null;this.tree.destroy();this.tree=null;this.parent()},add:function(C,B){this.tree.add(C,B);return this},remove:function(B){this.tree.remove(B);return this},replace:function(C,B){this.tree.replace(C,B);return this},items:function(){return this.tree.items()},empty:function(){this.tree.empty()},update:function(C,B){if(!this.domObj.parentNode){return }if(this.tree.dirty||(this.owner&&this.owner.dirty)){if(!$defined(B)){B=this.domObj.hasClass("jxTreeBranchLastOpen")||this.domObj.hasClass("jxTreeBranchLastClosed")}["jxTreeBranchOpen","jxTreeBranchLastOpen","jxTreeBranchClosed","jxTreeBranchLastClosed"].each(function(E){this.removeClass(E)},this.domObj);var D="jxTreeBranch";D+=B?"Last":"";D+=this.options.open?"Open":"Closed";this.domObj.addClass(D)}this.tree.update(C,B)},toggle:function(){if(this.options.enabled){if(this.options.open){this.collapse()}else{this.expand()}}return this},expand:function(){this.options.open=true;document.id(this.tree).setStyle("display","block");this.setDirty(true);this.update(true);this.fireEvent("disclosed",this);return this},collapse:function(){this.options.open=false;document.id(this.tree).setStyle("display","none");this.setDirty(true);this.update(true);this.fireEvent("disclosed",this);return this},findChild:function(B){if(B.length==0){return this}else{return this.tree.findChild(B)}},setSelection:function(B){this.tree.setSelection(B);return this},setDirty:function(B){this.parent(B);if(this.tree){this.tree.setDirty(true)}}});Jx.Slider=new Class({Family:"Jx.Slider",Extends:Jx.Widget,options:{template:'<div class="jxSliderContainer"><div class="jxSliderKnob"></div></div>',max:100,min:0,step:1,mode:"horizontal",wheel:true,snap:true,startAt:0,offset:0,onChange:$empty,onComplete:$empty},classes:new Hash({domObj:"jxSliderContainer",knob:"jxSliderKnob"}),slider:null,knob:null,sliderOpts:null,render:function(){this.parent();this.sliderOpts={range:[this.options.min,this.options.max],snap:this.options.snap,mode:this.options.mode,wheel:this.options.wheel,steps:(this.options.max-this.options.min)/this.options.step,offset:this.options.offset,onChange:this.change.bind(this),onComplete:this.complete.bind(this)}},change:function(B){this.fireEvent("change",[B,this])},complete:function(B){this.fireEvent("complete",[B,this])},start:function(){if(!$defined(this.slider)){this.slider=new Slider(this.domObj,this.knob,this.sliderOpts)}this.slider.set(this.options.startAt)},set:function(B){this.slider.set(B)}});Jx.Notice=new Class({Family:"Jx.Notice",Extends:Jx.ListItem,options:{fx:"fade",chrome:false,enabled:true,template:'<li class="jxNoticeItemContainer"><div class="jxNoticeItem"><span class="jxNotice"></span><a class="jxNoticeClose" href="javascript:void(0);" title="'+MooTools.lang.get("Jx","notice").closeTip+'"></a></div></li>',klass:""},classes:new Hash({domObj:"jxNoticeItemContainer",domItem:"jxNoticeItem",domContent:"jxNotice",domClose:"jxNoticeClose"}),render:function(){this.parent();if(this.options.klass){this.domObj.addClass(this.options.klass)}if(this.domClose){this.domClose.addEvent("click",this.close.bind(this))}},close:function(){this.fireEvent("close",this)},show:function(B,C){if(this.options.chrome){this.showChrome()}if(this.options.fx){document.id(B).adopt(this);if(C){C()}}else{document.id(B).adopt(this);if(C){C()}}},hide:function(B){if(this.options.chrome){this.hideChrome()}if(this.options.fx){document.id(this).dispose();if(B){B()}}else{document.id(this).dispose();if(B){B()}}},changeText:function(B){this.parent()}});Jx.Notice.Information=new Class({Extends:Jx.Notice,options:{template:'<li class="jxNoticeItemContainer"><div class="jxNoticeItem"><img class="jxNoticeIcon" src="'+Jx.aPixel.src+'" title="Success"><span class="jxNotice"></span><a class="jxNoticeClose" href="javascript:void(0);" title="'+MooTools.lang.get("Jx","notice").closeTip+'"></a></div></li>',klass:"jxNoticeInformation"}});Jx.Notice.Success=new Class({Extends:Jx.Notice,options:{template:'<li class="jxNoticeItemContainer"><div class="jxNoticeItem"><img class="jxNoticeIcon" src="'+Jx.aPixel.src+'" title="Success"><span class="jxNotice"></span><a class="jxNoticeClose" href="javascript:void(0);" title="'+MooTools.lang.get("Jx","notice").closeTip+'"></a></div></li>',klass:"jxNoticeSuccess"}});Jx.Notice.Warning=new Class({Extends:Jx.Notice,options:{template:'<li class="jxNoticeItemContainer"><div class="jxNoticeItem"><img class="jxNoticeIcon" src="'+Jx.aPixel.src+'" title="Warning"><span class="jxNotice"></span><a class="jxNoticeClose" href="javascript:void(0);" title="'+MooTools.lang.get("Jx","notice").closeTip+'"></a></div></li>',klass:"jxNoticeWarning"}});Jx.Notice.Error=new Class({Extends:Jx.Notice,options:{template:'<li class="jxNoticeItemContainer"><div class="jxNoticeItem"><img class="jxNoticeIcon" src="'+Jx.aPixel.src+'" title="Error"><span class="jxNotice"></span><a class="jxNoticeClose" href="javascript:void(0);" title="'+MooTools.lang.get("Jx","notice").closeTip+'"></a></div></li>',klass:"jxNoticeError"}});Jx.Notifier=new Class({Family:"Jx.Notifier",Extends:Jx.ListView,options:{parent:null,template:'<div class="jxNoticeListContainer"><ul class="jxNoticeList"></ul></div>',listOptions:{}},classes:new Hash({domObj:"jxNoticeListContainer",listObj:"jxNoticeList"}),render:function(){this.parent();if(!$defined(this.options.parent)){this.options.parent=document.body}document.id(this.options.parent).adopt(this.domObj);this.addEvent("postRender",function(){if(Jx.type(this.options.items)=="array"){this.options.items.each(function(B){this.add(B)},this)}}.bind(this))},add:function(B){if(!(B instanceof Jx.Notice)){B=new Jx.Notice({content:B})}B.addEvent("close",this.remove.bind(this));B.show(this.listObj)},remove:function(B){if(this.domObj.hasChild(B)){B.removeEvents("close");B.hide()}}});Jx.Notifier.Float=new Class({Family:"Jx.Notifier.Float",Extends:Jx.Notifier,options:{chrome:true,fx:null,width:250,position:{horizontal:"center center",vertical:"top top"}},render:function(){this.parent();this.domObj.setStyle("position","absolute");if($defined(this.options.width)){this.domObj.setStyle("width",this.options.width)}this.position(this.domObj,this.options.parent,this.options.position)},add:function(B){if(!(B instanceof Jx.Notice)){B=new Jx.Notice({content:B})}B.options.chrome=this.options.chrome;this.parent(B)}});Jx.Scrollbar=new Class({Family:"Jx.Scrollbar",Extends:Jx.Widget,Binds:["scrollIt"],options:{direction:"vertical",useMouseWheel:true,useScrollers:true,scrollerInterval:50,template:'<div class="jxScrollbarContainer"><div class="jxScrollLeft"></div><div class="jxSlider"></div><div class="jxScrollRight"></div></div>'},classes:new Hash({domObj:"jxScrollbarContainer",scrollLeft:"jxScrollLeft",scrollRight:"jxScrollRight",sliderHolder:"jxSlider"}),el:null,parameters:["element","options"],render:function(){this.parent();this.el=document.id(this.options.element);if(this.el){this.el.addClass("jxHas"+this.options.direction.capitalize()+"Scrollbar");var E=this.el.getChildren();this.wrapper=new Element("div",{"class":"jxScrollbarChildWrapper"});this.wrapper.setStyles({width:this.el.getStyle("width"),height:this.el.getStyle("height")});E.inject(this.wrapper);this.wrapper.inject(this.el);this.domObj.inject(this.el);var F=this.wrapper.getScrollSize();var D=this.wrapper.getContentBoxSize();this.steps=this.options.direction==="horizontal"?F.x-D.width:F.y-D.height;this.slider=new Jx.Slider({snap:false,min:0,max:this.steps,step:1,mode:this.options.direction,onChange:this.scrollIt});if(!this.options.useScrollers){this.scrollLeft.dispose();this.scrollRight.dispose();if(this.options.direction==="horizontal"){this.sliderHolder.setStyle("width","100%")}else{this.sliderHolder.setStyle("height","100%")}}else{this.scrollLeft.addEvents({mousedown:function(){this.slider.slider.set(this.slider.slider.step-this.options.scrollerInterval);this.pid=function(){this.slider.slider.set(this.slider.slider.step-this.options.scrollerInterval)}.periodical(1000,this)}.bind(this),mouseup:function(){$clear(this.pid)}.bind(this)});this.scrollRight.addEvents({mousedown:function(){this.slider.slider.set(this.slider.slider.step+this.options.scrollerInterval);this.pid=function(){this.slider.slider.set(this.slider.slider.step+this.options.scrollerInterval)}.periodical(1000,this)}.bind(this),mouseup:function(){$clear(this.pid)}.bind(this)});var B,G,C;if(this.options.direction==="horizontal"){G=this.scrollRight.getMarginBoxSize().width;C=this.scrollLeft.getMarginBoxSize().width;B=D.width-G-C;this.sliderHolder.setStyle("width",B+"px")}else{G=this.scrollRight.getMarginBoxSize().height;C=this.scrollLeft.getMarginBoxSize().height;B=D.height-G-C;this.sliderHolder.setStyle("height",B+"px")}}document.id(this.slider).inject(this.sliderHolder);if(this.options.useMouseWheel){$$(this.el,this.domObj).addEvent("mousewheel",function(I){I=new Event(I).stop();var H=this.slider.slider.step-I.wheel*30;this.slider.slider.set(H)}.bind(this))}document.id(document.body).addEvent("mouseleave",function(){this.slider.slider.drag.stop()}.bind(this));this.slider.start()}},scrollIt:function(C){var B=this.options.direction==="horizontal"?C:0;var D=this.options.direction==="horizontal"?0:C;this.wrapper.scrollTo(B,D)}});Jx.Formatter=new Class({Family:"Jx.Formatter",Extends:Jx.Object,format:$empty});Jx.Formatter.Number=new Class({Extends:Jx.Formatter,options:{precision:2,useParens:true,useThousands:true},format:function(L){if(Jx.type(L)==="string"){var B=L.split(",");L=B.join("");L=L.toFloat()}L=L.toFixed(this.options.precision);var I=L.split(".");var D=true;if(I.length===1){D=false}var E=false;var G;var K="";if(I[0].contains("-")){E=true;G=I[0].substring(1,I[0].length)}else{G=I[0]}if(this.options.useThousands){var F=G.length;var C=F%3;var H=0;for(var J=0;J<F;J++){K=K+G.charAt(J);if(J===C-1&&J!==F-1){K=K+this.getText({set:"Jx",key:"formatter.number",value:"thousandsSeparator"})}else{if(J>=C){H++;if(H===3&&J!==F-1){K=K+this.getText({set:"Jx",key:"formatter.number",value:"thousandsSeparator"});H=0}}}}}else{K=I[0]}if(D){K=K+this.getText({set:"Jx",key:"formatter.number",value:"decimalSeparator"})+I[1]}if(E&&this.options.useParens){K="("+K+")"}else{if(E&&!this.options.useParens){K="-"+K}}return K},changeText:function(B){this.parent()}});Jx.Formatter.Currency=new Class({Extends:Jx.Formatter.Number,options:{},format:function(C){this.options.precision=2;C=this.parent(C);var D=false;if(C.contains("(")||C.contains("-")){D=true}var B;if(D&&!this.options.useParens){B="-"+this.getText({set:"Jx",key:"formatter.currency",value:"sign"})+C.substring(1,C.length)}else{B=this.getText({set:"Jx",key:"formatter.currency",value:"sign"})+C}return B},changeText:function(B){this.parent()}});Jx.Formatter.Date=new Class({Extends:Jx.Formatter,options:{format:"%B %d, %Y"},format:function(B){var C=Date.parse(B);return C.format(this.options.format)}});Jx.Formatter.Uri=new Class({Extends:Jx.Formatter,options:{format:'<a href="{string}" target="_blank">{host}</a>'},format:function(H){var F=new URI(H),D={},G=new Array(),C=this.options.format.match(/\\?\{([^{}]+)\}/g);C.each(function(I){G.push(I.slice(1,I.length-1))});for(var E=0,B=G.length;E<B;E++){switch(G[E]){case"string":D[G[E]]=F.toString();break;default:D[G[E]]=F.get(G[E]);break}}return this.options.format.substitute(D)}});Jx.Formatter.Boolean=new Class({Extends:Jx.Formatter,options:{},format:function(D){var B=false;var C=Jx.type(D);switch(C){case"string":if(D==="true"){B=true}break;case"number":if(D!==0){B=true}break;case"boolean":B=D;break;default:B=true}return B?this.getText({set:"Jx",key:"formatter.boolean",value:"true"}):this.getText({set:"Jx",key:"formatter.boolean",value:"false"})},changeText:function(B){this.parent()}});Jx.Formatter.Phone=new Class({Extends:Jx.Formatter,options:{useParens:true,separator:"-"},format:function(E){var D=this.options.separator;var B=""+E;B=B.replace(/[^0-9]/g,"");var C="";if(B.length===11){C=B.charAt(0);B=B.substring(1)}if(B.length===10){if(this.options.useParens){C=C+"("+B.substring(0,3)+")"}else{C=C+D+B.substring(0,3)+D}B=B.substring(3)}C=C+B.substring(0,3)+D+B.substring(3);return C}});Jx.Formatter.Text=new Class({Extends:Jx.Formatter,options:{length:null,ellipsis:"..."},format:function(D){var E=""+D,B=this.options.length,C=this.options.ellipsis;if(B&&E.length>B){E=E.substr(0,B-C.length)+C}return E}});Jx.Field.Checkbox=new Class({Extends:Jx.Field,options:{template:'<span class="jxInputContainer"><input class="jxInputCheck" type="checkbox" name="{name}"/><label class="jxInputLabel"></label><span class="jxInputTag"></span></span>',checked:false,labelSeparator:""},type:"Check",render:function(){this.parent();if($defined(this.options.checked)&&this.options.checked){if(Browser.Engine.trident){var C=this.field.getParent();var B;if(C){B=this.field.getPrevious()}this.field.setStyle("visibility","hidden");this.field.inject(document.id(document.body));this.field.checked=true;this.field.defaultChecked=true;this.field.dispose();this.field.setStyle("visibility","visible");if(B){this.field.inject(B,"after")}else{if(C){this.field.inject(C,"top")}}}else{this.field.set("checked","checked");this.field.set("defaultChecked","checked")}}if(this.label){this.label.addEvent("click",function(D){this.setValue(this.getValue()!=null?false:true)}.bind(this))}},setValue:function(B){if(!this.options.readonly){if(B==="checked"||B==="true"||B===true){this.field.set("checked","checked")}else{this.field.erase("checked")}}},getValue:function(){if(this.field.get("checked")){return this.field.get("value")}else{return null}},reset:function(){if(this.options.checked){this.field.set("checked","checked")}else{this.field.erase("checked")}},getChecked:function(){return this.field.get("checked")}});Jx.Field.Radio=new Class({Extends:Jx.Field,options:{template:'<span class="jxInputContainer"><input class="jxInputRadio" type="radio" name="{name}"/><label class="jxInputLabel"></label><span class="jxInputTag"></span></span>',checked:false,labelSeparator:""},type:"Radio",render:function(){this.parent();if($defined(this.options.checked)&&this.options.checked){if(Browser.Engine.trident){var C=this.field.getParent();var B;if(C){B=this.field.getPrevious()}this.field.setStyle("visibility","hidden");this.field.inject(document.id(document.body));this.field.checked=true;this.field.defaultChecked=true;this.field.dispose();this.field.setStyle("visibility","visible");if(B){this.field.inject(B,"after")}else{if(C){this.field.inject(C,"top")}}}else{this.field.set("checked","checked");this.field.set("defaultChecked","checked")}}this.label.addEvent("click",function(D){this.field.checked?this.setValue(false):this.setValue(true)}.bind(this))},setValue:function(B){if(!this.options.readonly){if(B==="checked"||B==="true"||B===true){this.field.set("checked","checked")}else{this.field.erase("checked")}}},getValue:function(){if(this.field.get("checked")){return this.field.get("value")}else{return null}},reset:function(){if(this.options.checked){this.field.set("checked","checked")}else{this.field.erase("checked")}}});Jx.Field.Select=new Class({Extends:Jx.Field,options:{mulitple:false,size:1,comboOpts:null,optGroups:null,template:'<span class="jxInputContainer"><label class="jxInputLabel"></label><select class="jxInputSelect" name="{name}"></select><span class="jxInputTag"></span></span>'},type:"Select",render:function(){this.parent();this.field.addEvent("change",function(){this.fireEvent("change",this)}.bind(this));if($defined(this.options.multiple)){this.field.set("multiple",this.options.multiple)}if($defined(this.options.size)){this.field.set("size",this.options.size)}if($defined(this.options.optGroups)){this.options.optGroups.each(function(C){var B=new Element("optGroup");B.set("label",C.name);C.options.each(function(E){var D=new Element("option",{value:E.value,html:this.getText(E.text)});if($defined(E.selected)&&E.selected){D.set("selected","selected")}B.grab(D)},this);this.field.grab(B)},this)}else{if($defined(this.options.comboOpts)){this.options.comboOpts.each(function(B){this.addOption(B)},this)}}},addOption:function(E,B){var D=new Element("option",{value:E.value,html:this.getText(E.text)});if($defined(E.selected)&&E.selected){D.set("selected","selected")}var C="bottom";var F=this.field;if($defined(B)){if(Jx.type(B)=="integer"&&(B>=0&&B<F.options.length)){F=this.field.options[B];C="before"}else{if(B=="top"){C="top"}}}D.inject(F,C)},removeOption:function(B){},setValue:function(B){if(!this.options.readonly){$$(this.field.options).each(function(C){if(C.get("value")===B){document.id(C).set("selected",true)}},this)}},getValue:function(){var C=this.field.selectedIndex;if(C>-1){var B=this.field.options[C].get("value");if(!$defined(B)){B=this.field.options[C].get("text")}return B}},empty:function(){if($defined(this.field.options)){$A(this.field.options).each(function(B){this.field.remove(B)},this)}}});Jx.Field.Textarea=new Class({Extends:Jx.Field,options:{rows:null,columns:null,template:'<span class="jxInputContainer"><label class="jxInputLabel"></label><textarea class="jxInputTextarea" name="{name}"></textarea><span class="jxInputTag"></span></span>'},type:"Textarea",errorClass:"jxFormErrorTextarea",render:function(){this.parent();if($defined(this.options.rows)){this.field.set("rows",this.options.rows)}if($defined(this.options.columns)){this.field.set("cols",this.options.columns)}}});Jx.Field.Button=new Class({Extends:Jx.Field,options:{buttonClass:Jx.Button,buttonOptions:{},template:'<span class="jxInputContainer"><label class="jxInputLabel"></label><div class="jxInputButton"></div><span class="jxInputTag"></span></span>'},button:null,type:"Button",processTemplate:function(E,C,B){var D=this.parent(E,C,B);this.button=new this.options.buttonClass(this.options.buttonOptions);this.button.addEvent("click",function(){this.fireEvent("click")}.bind(this));var F=D.get("jxInputButton");if(F){this.button.domObj.replaces(F)}this.button.setEnabled(!this.options.disabled);return D},click:function(){this.button.clicked()},enable:function(){this.parent();this.button.setEnabled(true)},disable:function(){this.parent();this.button.setEnabled(false)}});Jx.Field.Combo=new Class({Family:"Jx.Field.Combo",Extends:Jx.Field,pluginNamespace:"Combo",options:{buttonTemplate:'<a class="jxButtonContainer jxButton" href="javascript:void(0);"><img class="jxButtonIcon" src="'+Jx.aPixel.src+'"></a>',template:'<span class="jxInputContainer"><label class="jxInputLabel"></label><span class="jxInputWrapper"><input type="text" class="jxInputCombo"  name="{name}"><img class="jxInputIcon" src="'+Jx.aPixel.src+'"><span class="jxInputRevealer"></span></span><span class="jxInputTag"></span></span>'},type:"Combo",render:function(){this.classes.combine({wrapper:"jxInputWrapper",revealer:"jxInputRevealer",icon:"jxInputIcon"});this.parent();var B=new Jx.Button({template:this.options.buttonTemplate,imageClass:"jxInputRevealerIcon"}).addTo(this.revealer);this.menu=new Jx.Menu();this.menu.button=B;this.buttonSet=new Jx.ButtonSet();this.buttonSet=new Jx.ButtonSet({onChange:(function(G){var F=G.activeButton;var D=F.options.label;if(D=="&nbsp;"){D=""}this.setLabel(D);var E=F.options.image;if(E.indexOf("a_pixel")!=-1){E=""}this.setImage(E,F.options.imageClass);this.fireEvent("change",this)}).bind(this)});if(this.options.items){this.add(this.options.items)}var C=this;B.addEvent("click",function(D){if(this.list.count()===0){return }if(!B.options.enabled){return }this.contentContainer.setStyle("visibility","hidden");this.contentContainer.setStyle("display","block");document.id(document.body).adopt(this.contentContainer);this.contentContainer.setContentBoxSize(this.subDomObj.getMarginBoxSize());this.showChrome(this.contentContainer);this.position(this.contentContainer,C.field,{horizontal:["left left","right right"],vertical:["bottom top","top bottom"],offsets:this.chromeOffsets});this.contentContainer.setStyle("visibility","");document.addEvent("mousedown",this.bound.hide);document.addEvent("keyup",this.bound.keypress);this.fireEvent("show",this)}.bindWithEvent(this.menu));this.menu.addEvents({show:(function(){}).bind(this),hide:(function(){}).bind(this)})},setLabel:function(B){if($defined(this.field)){this.field.value=this.getText(B)}},setImage:function(B,C){if($defined(this.icon)){this.icon.setStyle("background-image","url("+B+")");this.icon.setStyle("background-repeat","no-repeat");if(this.options.imageClass){this.icon.removeClass(this.options.imageClass)}if(C){this.options.imageClass=C;this.icon.addClass(C);this.icon.setStyle("background-position","")}else{this.options.imageClass=null;this.icon.setStyle("background-position","center center")}}if(!B){this.wrapper.addClass("jxInputIconHidden")}else{this.wrapper.removeClass("jxInputIconHidden")}},valueChanged:function(){this.fireEvent("change",this)},setValue:function(B){this.field.set("value",B);this.buttonSet.buttons.each(function(C){C.setActive(C.options.label===B)},this)},onKeyPress:function(B){if(B.key=="enter"){this.valueChanged()}},add:function(){$A(arguments).flatten().each(function(C){var B=new Jx.Menu.Item($merge(C,{toggle:true}));this.menu.add(B);this.buttonSet.add(B);if(C.selected){this.buttonSet.setActiveButton(B)}},this)},remove:function(B){var C;if($type(B)=="number"&&B<this.buttonSet.buttons.length){C=this.buttonSet.buttons[B]}else{if($type(B)=="string"){this.buttonSet.buttons.some(function(D){if(D.options.label===B){C=D;return true}return false},this)}}if(C){this.buttonSet.remove(C);this.menu.remove(C)}},empty:function(){this.menu.empty();this.buttonSet.empty();this.setLabel("");this.setImage(Jx.aPixel.src)},enable:function(){this.parent();this.menu.setEnabled(true)},disable:function(){this.parent();this.menu.setEnabled(false)}});Jx.Field.Password=new Class({Extends:Jx.Field,options:{template:'<span class="jxInputContainer"><label class="jxInputLabel" ></label><input class="jxInputPassword" type="password" name="{name}"/><span class="jxInputTag"></span></span>'},type:"Password"});Jx.Field.Color=new Class({Extends:Jx.Field,Binds:["changed","hide","keyup","changeText"],type:"Color",options:{buttonTemplate:'<a class="jxButtonContainer jxButton" href="javascript:void(0);"><img class="jxButtonIcon" src="'+Jx.aPixel.src+'"></a>',template:'<span class="jxInputContainer"><label class="jxInputLabel"></label><span class="jxInputWrapper"><input type="text" class="jxInputColor"  name="{name}"><img class="jxInputIcon" src="'+Jx.aPixel.src+'"><span class="jxInputRevealer"></span></span><span class="jxInputTag"></span></span>',showOnHover:false,showDelay:250,errorMsg:"Invalid Web-Color",color:"#000000"},button:null,validator:null,render:function(){this.classes.combine({wrapper:"jxInputWrapper",revealer:"jxInputRevealer",icon:"jxInputIcon"});this.parent();var B=this;if(!Jx.Field.Color.ColorPalette){Jx.Field.Color.ColorPalette=new Jx.ColorPalette(this.options)}this.button=new Jx.Button.Flyout({template:this.options.buttonTemplate,imageClass:"jxInputRevealerIcon",positionElement:this.field,onBeforeOpen:function(){if(Jx.Field.Color.ColorPalette.currentButton){Jx.Field.Color.ColorPalette.currentButton.hide()}Jx.Field.Color.ColorPalette.currentButton=this;Jx.Field.Color.ColorPalette.addEvent("change",B.changed);Jx.Field.Color.ColorPalette.addEvent("click",B.hide);this.content.appendChild(Jx.Field.Color.ColorPalette.domObj);Jx.Field.Color.ColorPalette.domObj.setStyle("display","block")},onOpen:function(){Jx.Field.Color.ColorPalette.options.color=B.options.color;Jx.Field.Color.ColorPalette.updateSelected()}}).addTo(this.revealer);this.validator=new Jx.Plugin.Field.Validator({validators:[{validatorClass:"colorHex",validator:{name:"colorValidator",options:{validateOnChange:false,errorMsg:B.options.errorMsg,test:function(F,D){try{var G=F.get("value").hexToRgb(true);if(G==null){return false}for(var C=0;C<3;C++){if(G[C].toString()=="NaN"){return false}}}catch(E){return false}G=G.rgbToHex().toUpperCase();B.setColor(G);return true}}}}],validateOnBlur:true,validateOnChange:true});this.validator.attach(this);this.field.addEvent("keyup",this.onKeyUp.bind(this));if(this.options.showOnHover){this.field.addEvent("mouseenter",function(C){B.button.clicked.delay(B.options.showDelay,B.button)})}this.setValue(this.options.color);this.icon.setStyle("background-color",this.options.color)},onKeyUp:function(C){var B=this.getValue();if(B.substring(0,1)=="#"){B=B.substring(1)}if(B.toLowerCase().match(/^[0-9a-f]{6}$/)){this.options.color="#"+B.toUpperCase();this.setColor(this.options.color)}},setColor:function(B){this.options.color=B;this.setValue(B);this.icon.setStyle("background-color",B)},changed:function(){var B=Jx.Field.Color.ColorPalette.options.color;this.setColor(B)},hide:function(){this.button.setActive(false);Jx.Field.Color.ColorPalette.removeEvent("change",this.changed);Jx.Field.Color.ColorPalette.removeEvent("click",this.hide);this.button.hide();Jx.Field.Color.ColorPalette.currentButton=null},changeText:function(B){this.parent()}});var OpenLayers={VERSION_NUMBER:"Release 2.12",singleFile:true,_getScriptLocation:(function(){var G=new RegExp("(^|(.*?\\/))(OpenLayers[^\\/]*?\\.js)(\\?|$)"),F=document.getElementsByTagName("script"),H,C,D="";for(var E=0,B=F.length;E<B;E++){H=F[E].getAttribute("src");if(H){C=H.match(G);if(C){D=C[1];break}}}return(function(){return D})})(),ImgPath:""};OpenLayers.String={startsWith:function(C,B){return(C.indexOf(B)==0)},contains:function(C,B){return(C.indexOf(B)!=-1)},trim:function(B){return B.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},camelize:function(G){var E=G.split("-");var C=E[0];for(var D=1,B=E.length;D<B;D++){var F=E[D];C+=F.charAt(0).toUpperCase()+F.substring(1)}return C},format:function(E,D,B){if(!D){D=window}var C=function(J,F){var I;var H=F.split(/\.+/);for(var G=0;G<H.length;G++){if(G==0){I=D}I=I[H[G]]}if(typeof I=="function"){I=B?I.apply(null,B):I()}if(typeof I=="undefined"){return"undefined"}else{return I}};return E.replace(OpenLayers.String.tokenRegEx,C)},tokenRegEx:/\$\{([\w.]+?)\}/g,numberRegEx:/^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/,isNumeric:function(B){return OpenLayers.String.numberRegEx.test(B)},numericIf:function(B){return OpenLayers.String.isNumeric(B)?parseFloat(B):B}};OpenLayers.Number={decimalSeparator:".",thousandsSeparator:",",limitSigDigs:function(B,D){var C=0;if(D>0){C=parseFloat(B.toPrecision(D))}return C},format:function(D,B,H,J){B=(typeof B!="undefined")?B:0;H=(typeof H!="undefined")?H:OpenLayers.Number.thousandsSeparator;J=(typeof J!="undefined")?J:OpenLayers.Number.decimalSeparator;if(B!=null){D=parseFloat(D.toFixed(B))}var C=D.toString().split(".");if(C.length==1&&B==null){B=0}var E=C[0];if(H){var F=/(-?[0-9]+)([0-9]{3})/;while(F.test(E)){E=E.replace(F,"$1"+H+"$2")}}var G;if(B==0){G=E}else{var I=C.length>1?C[1]:"0";if(B!=null){I=I+new Array(B-I.length+1).join("0")}G=E+J+I}return G}};OpenLayers.Function={bind:function(D,C){var B=Array.prototype.slice.apply(arguments,[2]);return function(){var E=B.concat(Array.prototype.slice.apply(arguments,[0]));return D.apply(C,E)}},bindAsEventListener:function(C,B){return function(D){return C.call(B,D||window.event)}},False:function(){return false},True:function(){return true},Void:function(){}};OpenLayers.Array={filter:function(H,G,C){var E=[];if(Array.prototype.filter){E=H.filter(G,C)}else{var B=H.length;if(typeof G!="function"){throw new TypeError()}for(var D=0;D<B;D++){if(D in H){var F=H[D];if(G.call(C,F,D,H)){E.push(F)}}}}return E}};OpenLayers.Class=function(){var B=arguments.length;var G=arguments[0];var E=arguments[B-1];var H=typeof E.initialize=="function"?E.initialize:function(){G.prototype.initialize.apply(this,arguments)};if(B>1){var D=[H,G].concat(Array.prototype.slice.call(arguments).slice(1,B-1),E);OpenLayers.inherit.apply(null,D)}else{H.prototype=E}return H};OpenLayers.inherit=function(I,G){var E=function(){};E.prototype=G.prototype;I.prototype=new E;var D,B,H;for(D=2,B=arguments.length;D<B;D++){H=arguments[D];if(typeof H==="function"){H=H.prototype}OpenLayers.Util.extend(I.prototype,H)}};OpenLayers.Util=OpenLayers.Util||{};OpenLayers.Util.extend=function(B,F){B=B||{};if(F){for(var E in F){var D=F[E];if(D!==undefined){B[E]=D}}var C=typeof window.Event=="function"&&F instanceof window.Event;if(!C&&F.hasOwnProperty&&F.hasOwnProperty("toString")){B.toString=F.toString}}return B};OpenLayers.Bounds=OpenLayers.Class({left:null,bottom:null,right:null,top:null,centerLonLat:null,initialize:function(E,B,C,D){if(OpenLayers.Util.isArray(E)){D=E[3];C=E[2];B=E[1];E=E[0]}if(E!=null){this.left=OpenLayers.Util.toFloat(E)}if(B!=null){this.bottom=OpenLayers.Util.toFloat(B)}if(C!=null){this.right=OpenLayers.Util.toFloat(C)}if(D!=null){this.top=OpenLayers.Util.toFloat(D)}},clone:function(){return new OpenLayers.Bounds(this.left,this.bottom,this.right,this.top)},equals:function(C){var B=false;if(C!=null){B=((this.left==C.left)&&(this.right==C.right)&&(this.top==C.top)&&(this.bottom==C.bottom))}return B},toString:function(){return[this.left,this.bottom,this.right,this.top].join(",")},toArray:function(B){if(B===true){return[this.bottom,this.left,this.top,this.right]}else{return[this.left,this.bottom,this.right,this.top]}},toBBOX:function(C,F){if(C==null){C=6}var H=Math.pow(10,C);var G=Math.round(this.left*H)/H;var E=Math.round(this.bottom*H)/H;var D=Math.round(this.right*H)/H;var B=Math.round(this.top*H)/H;if(F===true){return E+","+G+","+B+","+D}else{return G+","+E+","+D+","+B}},toGeometry:function(){return new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing([new OpenLayers.Geometry.Point(this.left,this.bottom),new OpenLayers.Geometry.Point(this.right,this.bottom),new OpenLayers.Geometry.Point(this.right,this.top),new OpenLayers.Geometry.Point(this.left,this.top)])])},getWidth:function(){return(this.right-this.left)},getHeight:function(){return(this.top-this.bottom)},getSize:function(){return new OpenLayers.Size(this.getWidth(),this.getHeight())},getCenterPixel:function(){return new OpenLayers.Pixel((this.left+this.right)/2,(this.bottom+this.top)/2)},getCenterLonLat:function(){if(!this.centerLonLat){this.centerLonLat=new OpenLayers.LonLat((this.left+this.right)/2,(this.bottom+this.top)/2)}return this.centerLonLat},scale:function(F,D){if(D==null){D=this.getCenterLonLat()}var B,I;if(D.CLASS_NAME=="OpenLayers.LonLat"){B=D.lon;I=D.lat}else{B=D.x;I=D.y}var H=(this.left-B)*F+B;var C=(this.bottom-I)*F+I;var E=(this.right-B)*F+B;var G=(this.top-I)*F+I;return new OpenLayers.Bounds(H,C,E,G)},add:function(B,C){if((B==null)||(C==null)){throw new TypeError("Bounds.add cannot receive null values")}return new OpenLayers.Bounds(this.left+B,this.bottom+C,this.right+B,this.top+C)},extend:function(B){var C=null;if(B){switch(B.CLASS_NAME){case"OpenLayers.LonLat":C=new OpenLayers.Bounds(B.lon,B.lat,B.lon,B.lat);break;case"OpenLayers.Geometry.Point":C=new OpenLayers.Bounds(B.x,B.y,B.x,B.y);break;case"OpenLayers.Bounds":C=B;break}if(C){this.centerLonLat=null;if((this.left==null)||(C.left<this.left)){this.left=C.left}if((this.bottom==null)||(C.bottom<this.bottom)){this.bottom=C.bottom}if((this.right==null)||(C.right>this.right)){this.right=C.right}if((this.top==null)||(C.top>this.top)){this.top=C.top}}}},containsLonLat:function(G,D){if(typeof D==="boolean"){D={inclusive:D}}D=D||{};var E=this.contains(G.lon,G.lat,D.inclusive),F=D.worldBounds;if(F&&!E){var H=F.getWidth();var B=(F.left+F.right)/2;var C=Math.round((G.lon-B)/H);E=this.containsLonLat({lon:G.lon-C*H,lat:G.lat},{inclusive:D.inclusive})}return E},containsPixel:function(C,B){return this.contains(C.x,C.y,B)},contains:function(C,E,B){if(B==null){B=true}if(C==null||E==null){return false}C=OpenLayers.Util.toFloat(C);E=OpenLayers.Util.toFloat(E);var D=false;if(B){D=((C>=this.left)&&(C<=this.right)&&(E>=this.bottom)&&(E<=this.top))}else{D=((C>this.left)&&(C<this.right)&&(E>this.bottom)&&(E<this.top))}return D},intersectsBounds:function(B,N){if(typeof N==="boolean"){N={inclusive:N}}N=N||{};if(N.worldBounds){var M=this.wrapDateLine(N.worldBounds);B=B.wrapDateLine(N.worldBounds)}else{M=this}if(N.inclusive==null){N.inclusive=true}var I=false;var J=(M.left==B.right||M.right==B.left||M.top==B.bottom||M.bottom==B.top);if(N.inclusive||!J){var K=(((B.bottom>=M.bottom)&&(B.bottom<=M.top))||((M.bottom>=B.bottom)&&(M.bottom<=B.top)));var L=(((B.top>=M.bottom)&&(B.top<=M.top))||((M.top>B.bottom)&&(M.top<B.top)));var E=(((B.left>=M.left)&&(B.left<=M.right))||((M.left>=B.left)&&(M.left<=B.right)));var D=(((B.right>=M.left)&&(B.right<=M.right))||((M.right>=B.left)&&(M.right<=B.right)));I=((K||L)&&(E||D))}if(N.worldBounds&&!I){var H=N.worldBounds;var C=H.getWidth();var G=!H.containsBounds(M);var F=!H.containsBounds(B);if(G&&!F){B=B.add(-C,0);I=M.intersectsBounds(B,{inclusive:N.inclusive})}else{if(F&&!G){M=M.add(-C,0);I=B.intersectsBounds(M,{inclusive:N.inclusive})}}}return I},containsBounds:function(H,C,B){if(C==null){C=false}if(B==null){B=true}var D=this.contains(H.left,H.bottom,B);var E=this.contains(H.right,H.bottom,B);var G=this.contains(H.left,H.top,B);var F=this.contains(H.right,H.top,B);return(C)?(D||E||G||F):(D&&E&&G&&F)},determineQuadrant:function(D){var C="";var B=this.getCenterLonLat();C+=(D.lat<B.lat)?"b":"t";C+=(D.lon<B.lon)?"l":"r";return C},transform:function(E,C){this.centerLonLat=null;var F=OpenLayers.Projection.transform({x:this.left,y:this.bottom},E,C);var B=OpenLayers.Projection.transform({x:this.right,y:this.bottom},E,C);var D=OpenLayers.Projection.transform({x:this.left,y:this.top},E,C);var G=OpenLayers.Projection.transform({x:this.right,y:this.top},E,C);this.left=Math.min(F.x,D.x);this.bottom=Math.min(F.y,B.y);this.right=Math.max(B.x,G.x);this.top=Math.max(D.y,G.y);return this},wrapDateLine:function(B,D){D=D||{};var F=D.leftTolerance||0;var C=D.rightTolerance||0;var H=this.clone();if(B){var E=B.getWidth();while(H.left<B.left&&H.right-C<=B.left){H=H.add(E,0)}while(H.left+F>=B.right&&H.right>B.right){H=H.add(-E,0)}var G=H.left+F;if(G<B.right&&G>B.left&&H.right-C>B.right){H=H.add(-E,0)}}return H},CLASS_NAME:"OpenLayers.Bounds"});OpenLayers.Bounds.fromString=function(D,C){var B=D.split(",");return OpenLayers.Bounds.fromArray(B,C)};OpenLayers.Bounds.fromArray=function(C,B){return B===true?new OpenLayers.Bounds(C[1],C[0],C[3],C[2]):new OpenLayers.Bounds(C[0],C[1],C[2],C[3])};OpenLayers.Bounds.fromSize=function(B){return new OpenLayers.Bounds(0,B.h,B.w,0)};OpenLayers.Bounds.oppositeQuadrant=function(B){var C="";C+=(B.charAt(0)=="t")?"b":"t";C+=(B.charAt(1)=="l")?"r":"l";return C};OpenLayers.Element={visible:function(B){return OpenLayers.Util.getElement(B).style.display!="none"},toggle:function(){for(var D=0,B=arguments.length;D<B;D++){var C=OpenLayers.Util.getElement(arguments[D]);var E=OpenLayers.Element.visible(C)?"none":"";C.style.display=E}},remove:function(B){B=OpenLayers.Util.getElement(B);B.parentNode.removeChild(B)},getHeight:function(B){B=OpenLayers.Util.getElement(B);return B.offsetHeight},hasClass:function(C,B){var D=C.className;return(!!D&&new RegExp("(^|\\s)"+B+"(\\s|$)").test(D))},addClass:function(C,B){if(!OpenLayers.Element.hasClass(C,B)){C.className+=(C.className?" ":"")+B}return C},removeClass:function(C,B){var D=C.className;if(D){C.className=OpenLayers.String.trim(D.replace(new RegExp("(^|\\s+)"+B+"(\\s+|$)")," "))}return C},toggleClass:function(C,B){if(OpenLayers.Element.hasClass(C,B)){OpenLayers.Element.removeClass(C,B)}else{OpenLayers.Element.addClass(C,B)}return C},getStyle:function(D,E){D=OpenLayers.Util.getElement(D);var F=null;if(D&&D.style){F=D.style[OpenLayers.String.camelize(E)];if(!F){if(document.defaultView&&document.defaultView.getComputedStyle){var C=document.defaultView.getComputedStyle(D,null);F=C?C.getPropertyValue(E):null}else{if(D.currentStyle){F=D.currentStyle[OpenLayers.String.camelize(E)]}}}var B=["left","top","right","bottom"];if(window.opera&&(OpenLayers.Util.indexOf(B,E)!=-1)&&(OpenLayers.Element.getStyle(D,"position")=="static")){F="auto"}}return F=="auto"?null:F}};OpenLayers.LonLat=OpenLayers.Class({lon:0,lat:0,initialize:function(C,B){if(OpenLayers.Util.isArray(C)){B=C[1];C=C[0]}this.lon=OpenLayers.Util.toFloat(C);this.lat=OpenLayers.Util.toFloat(B)},toString:function(){return("lon="+this.lon+",lat="+this.lat)},toShortString:function(){return(this.lon+", "+this.lat)},clone:function(){return new OpenLayers.LonLat(this.lon,this.lat)},add:function(C,B){if((C==null)||(B==null)){throw new TypeError("LonLat.add cannot receive null values")}return new OpenLayers.LonLat(this.lon+OpenLayers.Util.toFloat(C),this.lat+OpenLayers.Util.toFloat(B))},equals:function(C){var B=false;if(C!=null){B=((this.lon==C.lon&&this.lat==C.lat)||(isNaN(this.lon)&&isNaN(this.lat)&&isNaN(C.lon)&&isNaN(C.lat)))}return B},transform:function(D,C){var B=OpenLayers.Projection.transform({x:this.lon,y:this.lat},D,C);this.lon=B.x;this.lat=B.y;return this},wrapDateLine:function(B){var C=this.clone();if(B){while(C.lon<B.left){C.lon+=B.getWidth()}while(C.lon>B.right){C.lon-=B.getWidth()}}return C},CLASS_NAME:"OpenLayers.LonLat"});OpenLayers.LonLat.fromString=function(C){var B=C.split(",");return new OpenLayers.LonLat(B[0],B[1])};OpenLayers.LonLat.fromArray=function(B){var C=OpenLayers.Util.isArray(B),E=C&&B[0],D=C&&B[1];return new OpenLayers.LonLat(E,D)};OpenLayers.Pixel=OpenLayers.Class({x:0,y:0,initialize:function(B,C){this.x=parseFloat(B);this.y=parseFloat(C)},toString:function(){return("x="+this.x+",y="+this.y)},clone:function(){return new OpenLayers.Pixel(this.x,this.y)},equals:function(B){var C=false;if(B!=null){C=((this.x==B.x&&this.y==B.y)||(isNaN(this.x)&&isNaN(this.y)&&isNaN(B.x)&&isNaN(B.y)))}return C},distanceTo:function(B){return Math.sqrt(Math.pow(this.x-B.x,2)+Math.pow(this.y-B.y,2))},add:function(B,C){if((B==null)||(C==null)){throw new TypeError("Pixel.add cannot receive null values")}return new OpenLayers.Pixel(this.x+B,this.y+C)},offset:function(B){var C=this.clone();if(B){C=this.add(B.x,B.y)}return C},CLASS_NAME:"OpenLayers.Pixel"});OpenLayers.Size=OpenLayers.Class({w:0,h:0,initialize:function(B,C){this.w=parseFloat(B);this.h=parseFloat(C)},toString:function(){return("w="+this.w+",h="+this.h)},clone:function(){return new OpenLayers.Size(this.w,this.h)},equals:function(C){var B=false;if(C!=null){B=((this.w==C.w&&this.h==C.h)||(isNaN(this.w)&&isNaN(this.h)&&isNaN(C.w)&&isNaN(C.h)))}return B},CLASS_NAME:"OpenLayers.Size"});OpenLayers.Console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){},userError:function(B){alert(B)},assert:function(){},dir:function(){},dirxml:function(){},trace:function(){},group:function(){},groupEnd:function(){},time:function(){},timeEnd:function(){},profile:function(){},profileEnd:function(){},count:function(){},CLASS_NAME:"OpenLayers.Console"};(function(){var C=document.getElementsByTagName("script");for(var D=0,B=C.length;D<B;++D){if(C[D].src.indexOf("firebug.js")!=-1){if(console){OpenLayers.Util.extend(OpenLayers.Console,console);break}}}})();OpenLayers.Lang={code:null,defaultCode:"en",getCode:function(){if(!OpenLayers.Lang.code){OpenLayers.Lang.setCode()}return OpenLayers.Lang.code},setCode:function(C){var E;if(!C){C=(OpenLayers.BROWSER_NAME=="msie")?navigator.userLanguage:navigator.language}var D=C.split("-");D[0]=D[0].toLowerCase();if(typeof OpenLayers.Lang[D[0]]=="object"){E=D[0]}if(D[1]){var B=D[0]+"-"+D[1].toUpperCase();if(typeof OpenLayers.Lang[B]=="object"){E=B}}if(!E){OpenLayers.Console.warn("Failed to find OpenLayers.Lang."+D.join("-")+" dictionary, falling back to default language");E=OpenLayers.Lang.defaultCode}OpenLayers.Lang.code=E},translate:function(C,B){var E=OpenLayers.Lang[OpenLayers.Lang.getCode()];var D=E&&E[C];if(!D){D=C}if(B){D=OpenLayers.String.format(D,B)}return D}};OpenLayers.i18n=OpenLayers.Lang.translate;OpenLayers.Util=OpenLayers.Util||{};OpenLayers.Util.getElement=function(){var E=[];for(var D=0,B=arguments.length;D<B;D++){var C=arguments[D];if(typeof C=="string"){C=document.getElementById(C)}if(arguments.length==1){return C}E.push(C)}return E};OpenLayers.Util.isElement=function(B){return !!(B&&B.nodeType===1)};OpenLayers.Util.isArray=function(B){return(Object.prototype.toString.call(B)==="[object Array]")};OpenLayers.Util.removeItem=function(D,C){for(var B=D.length-1;B>=0;B--){if(D[B]==C){D.splice(B,1)}}return D};OpenLayers.Util.indexOf=function(E,D){if(typeof E.indexOf=="function"){return E.indexOf(D)}else{for(var C=0,B=E.length;C<B;C++){if(E[C]==D){return C}}return -1}};OpenLayers.Util.modifyDOMElement=function(F,I,E,G,B,D,H,C){if(I){F.id=I}if(E){F.style.left=E.x+"px";F.style.top=E.y+"px"}if(G){F.style.width=G.w+"px";F.style.height=G.h+"px"}if(B){F.style.position=B}if(D){F.style.border=D}if(H){F.style.overflow=H}if(parseFloat(C)>=0&&parseFloat(C)<1){F.style.filter="alpha(opacity="+(C*100)+")";F.style.opacity=C}else{if(parseFloat(C)==1){F.style.filter="";F.style.opacity=""}}};OpenLayers.Util.createDiv=function(B,J,I,G,F,D,C,H){var E=document.createElement("div");if(G){E.style.backgroundImage="url("+G+")"}if(!B){B=OpenLayers.Util.createUniqueID("OpenLayersDiv")}if(!F){F="absolute"}OpenLayers.Util.modifyDOMElement(E,B,J,I,F,D,C,H);return E};OpenLayers.Util.createImage=function(B,J,I,F,E,D,G,K){var C=document.createElement("img");if(!B){B=OpenLayers.Util.createUniqueID("OpenLayersDiv")}if(!E){E="relative"}OpenLayers.Util.modifyDOMElement(C,B,J,I,E,D,null,G);if(K){C.style.display="none";function H(){C.style.display="";OpenLayers.Event.stopObservingElement(C)}OpenLayers.Event.observe(C,"load",H);OpenLayers.Event.observe(C,"error",H)}C.style.alt=B;C.galleryImg="no";if(F){C.src=F}return C};OpenLayers.IMAGE_RELOAD_ATTEMPTS=0;OpenLayers.Util.alphaHackNeeded=null;OpenLayers.Util.alphaHack=function(){if(OpenLayers.Util.alphaHackNeeded==null){var E=navigator.appVersion.split("MSIE");var B=parseFloat(E[1]);var C=false;try{C=!!(document.body.filters)}catch(D){}OpenLayers.Util.alphaHackNeeded=(C&&(B>=5.5)&&(B<7))}return OpenLayers.Util.alphaHackNeeded};OpenLayers.Util.modifyAlphaImageDiv=function(B,C,K,J,H,G,D,E,I){OpenLayers.Util.modifyDOMElement(B,C,K,J,G,null,null,I);var F=B.childNodes[0];if(H){F.src=H}OpenLayers.Util.modifyDOMElement(F,B.id+"_innerImage",null,J,"relative",D);if(OpenLayers.Util.alphaHack()){if(B.style.display!="none"){B.style.display="inline-block"}if(E==null){E="scale"}B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+F.src+"', sizingMethod='"+E+"')";if(parseFloat(B.style.opacity)>=0&&parseFloat(B.style.opacity)<1){B.style.filter+=" alpha(opacity="+B.style.opacity*100+")"}F.style.filter="alpha(opacity=0)"}};OpenLayers.Util.createAlphaImageDiv=function(C,K,J,H,G,D,E,I,L){var B=OpenLayers.Util.createDiv();var F=OpenLayers.Util.createImage(null,null,null,null,null,null,null,L);F.className="olAlphaImg";B.appendChild(F);OpenLayers.Util.modifyAlphaImageDiv(B,C,K,J,H,G,D,E,I);return B};OpenLayers.Util.upperCaseObject=function(C){var B={};for(var D in C){B[D.toUpperCase()]=C[D]}return B};OpenLayers.Util.applyDefaults=function(E,D){E=E||{};var C=typeof window.Event=="function"&&D instanceof window.Event;for(var B in D){if(E[B]===undefined||(!C&&D.hasOwnProperty&&D.hasOwnProperty(B)&&!E.hasOwnProperty(B))){E[B]=D[B]}}if(!C&&D&&D.hasOwnProperty&&D.hasOwnProperty("toString")&&!E.hasOwnProperty("toString")){E.toString=D.toString}return E};OpenLayers.Util.getParameterString=function(D){var C=[];for(var I in D){var H=D[I];if((H!=null)&&(typeof H!="function")){var E;if(typeof H=="object"&&H.constructor==Array){var F=[];var J;for(var B=0,G=H.length;B<G;B++){J=H[B];F.push(encodeURIComponent((J===null||J===undefined)?"":J))}E=F.join(",")}else{E=encodeURIComponent(H)}C.push(encodeURIComponent(I)+"="+E)}}return C.join("&")};OpenLayers.Util.urlAppend=function(B,C){var E=B;if(C){var D=(B+" ").split(/[?&]/);E+=(D.pop()===" "?C:D.length?"&"+C:"?"+C)}return E};OpenLayers.Util.getImagesLocation=function(){return OpenLayers.ImgPath||(OpenLayers._getScriptLocation()+"img/")};OpenLayers.Util.getImageLocation=function(B){return OpenLayers.Util.getImagesLocation()+B};OpenLayers.Util.Try=function(){var E=null;for(var D=0,B=arguments.length;D<B;D++){var C=arguments[D];try{E=C();break}catch(F){}}return E};OpenLayers.Util.getXmlNodeValue=function(B){var C=null;OpenLayers.Util.Try(function(){C=B.text;if(!C){C=B.textContent}if(!C){C=B.firstChild.nodeValue}},function(){C=B.textContent});return C};OpenLayers.Util.mouseLeft=function(B,D){var C=(B.relatedTarget)?B.relatedTarget:B.toElement;while(C!=D&&C!=null){C=C.parentNode}return(C!=D)};OpenLayers.Util.DEFAULT_PRECISION=14;OpenLayers.Util.toFloat=function(C,B){if(B==null){B=OpenLayers.Util.DEFAULT_PRECISION}if(typeof C!=="number"){C=parseFloat(C)}return B===0?C:parseFloat(C.toPrecision(B))};OpenLayers.Util.rad=function(B){return B*Math.PI/180};OpenLayers.Util.deg=function(B){return B*180/Math.PI};OpenLayers.Util.VincentyConstants={a:6378137,b:6356752.3142,f:1/298.257223563};OpenLayers.Util.distVincenty=function(F,E){var J=OpenLayers.Util.VincentyConstants;var u=J.a,r=J.b,l=J.f;var N=OpenLayers.Util.rad(E.lon-F.lon);var q=Math.atan((1-l)*Math.tan(OpenLayers.Util.rad(F.lat)));var o=Math.atan((1-l)*Math.tan(OpenLayers.Util.rad(E.lat)));var M=Math.sin(q),H=Math.cos(q);var K=Math.sin(o),G=Math.cos(o);var R=N,O=2*Math.PI;var Q=20;while(Math.abs(R-O)>1e-12&&--Q>0){var Z=Math.sin(R),D=Math.cos(R);var v=Math.sqrt((G*Z)*(G*Z)+(H*K-M*G*D)*(H*K-M*G*D));if(v==0){return 0}var h=M*K+H*G*D;var Y=Math.atan2(v,h);var I=Math.asin(H*G*Z/v);var j=Math.cos(I)*Math.cos(I);var P=h-2*M*K/j;var U=l/16*j*(4+l*(4-3*j));O=R;R=N+(1-U)*l*Math.sin(I)*(Y+U*v*(P+U*h*(-1+2*P*P)))}if(Q==0){return NaN}var T=j*(u*u-r*r)/(r*r);var W=1+T/16384*(4096+T*(-768+T*(320-175*T)));var V=T/1024*(256+T*(-128+T*(74-47*T)));var g=V*v*(P+V/4*(h*(-1+2*P*P)-V/6*P*(-3+4*v*v)*(-3+4*P*P)));var S=r*W*(Y-g);var m=S.toFixed(3)/1000;return m};OpenLayers.Util.destinationVincenty=function(M,AA,g){var P=OpenLayers.Util;var I=P.VincentyConstants;var AB=I.a,z=I.b,o=I.f;var v=M.lon;var G=M.lat;var R=g;var d=P.rad(AA);var j=Math.sin(d);var H=Math.cos(d);var h=(1-o)*Math.tan(P.rad(G));var D=1/Math.sqrt((1+h*h)),J=h*D;var Q=Math.atan2(h,H);var Y=D*j;var m=1-Y*Y;var T=m*(AB*AB-z*z)/(z*z);var W=1+T/16384*(4096+T*(-768+T*(320-175*T)));var U=T/1024*(256+T*(-128+T*(74-47*T)));var V=R/(z*W),q=2*Math.PI;while(Math.abs(V-q)>1e-12){var N=Math.cos(2*Q+V);var AC=Math.sin(V);var l=Math.cos(V);var Z=U*AC*(N+U/4*(l*(-1+2*N*N)-U/6*N*(-3+4*AC*AC)*(-3+4*N*N)));q=V;V=R/(z*W)+Z}var r=J*AC-D*l*H;var E=Math.atan2(J*l+D*AC*H,(1-o)*Math.sqrt(Y*Y+r*r));var O=Math.atan2(AC*j,D*l-J*AC*H);var S=o/16*m*(4+o*(4-3*m));var K=O-(1-S)*o*Y*(V+S*AC*(N+S*l*(-1+2*N*N)));var F=Math.atan2(Y,-r);return new OpenLayers.LonLat(v+P.deg(K),P.deg(E))};OpenLayers.Util.getParameters=function(C){C=(C===null||C===undefined)?window.location.href:C;var B="";if(OpenLayers.String.contains(C,"?")){var D=C.indexOf("?")+1;var G=OpenLayers.String.contains(C,"#")?C.indexOf("#"):C.length;B=C.substring(D,G)}var M={};var E=B.split(/[&;]/);for(var I=0,J=E.length;I<J;++I){var H=E[I].split("=");if(H[0]){var L=H[0];try{L=decodeURIComponent(L)}catch(F){L=unescape(L)}var K=(H[1]||"").replace(/\+/g," ");try{K=decodeURIComponent(K)}catch(F){K=unescape(K)}K=K.split(",");if(K.length==1){K=K[0]}M[L]=K}}return M};OpenLayers.Util.lastSeqID=0;OpenLayers.Util.createUniqueID=function(B){if(B==null){B="id_"}OpenLayers.Util.lastSeqID+=1;return B+OpenLayers.Util.lastSeqID};OpenLayers.INCHES_PER_UNIT={inches:1,ft:12,mi:63360,m:39.3701,km:39370.1,dd:4374754,yd:36};OpenLayers.INCHES_PER_UNIT["in"]=OpenLayers.INCHES_PER_UNIT.inches;OpenLayers.INCHES_PER_UNIT.degrees=OpenLayers.INCHES_PER_UNIT.dd;OpenLayers.INCHES_PER_UNIT.nmi=1852*OpenLayers.INCHES_PER_UNIT.m;OpenLayers.METERS_PER_INCH=0.0254000508001016;OpenLayers.Util.extend(OpenLayers.INCHES_PER_UNIT,{Inch:OpenLayers.INCHES_PER_UNIT.inches,Meter:1/OpenLayers.METERS_PER_INCH,Foot:0.3048006096012192/OpenLayers.METERS_PER_INCH,IFoot:0.3048/OpenLayers.METERS_PER_INCH,ClarkeFoot:0.3047972651151/OpenLayers.METERS_PER_INCH,SearsFoot:0.30479947153867626/OpenLayers.METERS_PER_INCH,GoldCoastFoot:0.3047997101815088/OpenLayers.METERS_PER_INCH,IInch:0.0254/OpenLayers.METERS_PER_INCH,MicroInch:0.0000254/OpenLayers.METERS_PER_INCH,Mil:2.54e-8/OpenLayers.METERS_PER_INCH,Centimeter:0.01/OpenLayers.METERS_PER_INCH,Kilometer:1000/OpenLayers.METERS_PER_INCH,Yard:0.9144018288036576/OpenLayers.METERS_PER_INCH,SearsYard:0.914398414616029/OpenLayers.METERS_PER_INCH,IndianYard:0.9143985307444408/OpenLayers.METERS_PER_INCH,IndianYd37:0.91439523/OpenLayers.METERS_PER_INCH,IndianYd62:0.9143988/OpenLayers.METERS_PER_INCH,IndianYd75:0.9143985/OpenLayers.METERS_PER_INCH,IndianFoot:0.30479951/OpenLayers.METERS_PER_INCH,IndianFt37:0.30479841/OpenLayers.METERS_PER_INCH,IndianFt62:0.3047996/OpenLayers.METERS_PER_INCH,IndianFt75:0.3047995/OpenLayers.METERS_PER_INCH,Mile:1609.3472186944373/OpenLayers.METERS_PER_INCH,IYard:0.9144/OpenLayers.METERS_PER_INCH,IMile:1609.344/OpenLayers.METERS_PER_INCH,NautM:1852/OpenLayers.METERS_PER_INCH,"Lat-66":110943.31648893273/OpenLayers.METERS_PER_INCH,"Lat-83":110946.25736872235/OpenLayers.METERS_PER_INCH,Decimeter:0.1/OpenLayers.METERS_PER_INCH,Millimeter:0.001/OpenLayers.METERS_PER_INCH,Dekameter:10/OpenLayers.METERS_PER_INCH,Decameter:10/OpenLayers.METERS_PER_INCH,Hectometer:100/OpenLayers.METERS_PER_INCH,GermanMeter:1.0000135965/OpenLayers.METERS_PER_INCH,CaGrid:0.999738/OpenLayers.METERS_PER_INCH,ClarkeChain:20.1166194976/OpenLayers.METERS_PER_INCH,GunterChain:20.11684023368047/OpenLayers.METERS_PER_INCH,BenoitChain:20.116782494375872/OpenLayers.METERS_PER_INCH,SearsChain:20.11676512155/OpenLayers.METERS_PER_INCH,ClarkeLink:0.201166194976/OpenLayers.METERS_PER_INCH,GunterLink:0.2011684023368047/OpenLayers.METERS_PER_INCH,BenoitLink:0.20116782494375873/OpenLayers.METERS_PER_INCH,SearsLink:0.2011676512155/OpenLayers.METERS_PER_INCH,Rod:5.02921005842012/OpenLayers.METERS_PER_INCH,IntnlChain:20.1168/OpenLayers.METERS_PER_INCH,IntnlLink:0.201168/OpenLayers.METERS_PER_INCH,Perch:5.02921005842012/OpenLayers.METERS_PER_INCH,Pole:5.02921005842012/OpenLayers.METERS_PER_INCH,Furlong:201.1684023368046/OpenLayers.METERS_PER_INCH,Rood:3.778266898/OpenLayers.METERS_PER_INCH,CapeFoot:0.3047972615/OpenLayers.METERS_PER_INCH,Brealey:375/OpenLayers.METERS_PER_INCH,ModAmFt:0.304812252984506/OpenLayers.METERS_PER_INCH,Fathom:1.8288/OpenLayers.METERS_PER_INCH,"NautM-UK":1853.184/OpenLayers.METERS_PER_INCH,"50kilometers":50000/OpenLayers.METERS_PER_INCH,"150kilometers":150000/OpenLayers.METERS_PER_INCH});OpenLayers.Util.extend(OpenLayers.INCHES_PER_UNIT,{mm:OpenLayers.INCHES_PER_UNIT.Meter/1000,cm:OpenLayers.INCHES_PER_UNIT.Meter/100,dm:OpenLayers.INCHES_PER_UNIT.Meter*100,km:OpenLayers.INCHES_PER_UNIT.Meter*1000,kmi:OpenLayers.INCHES_PER_UNIT.nmi,fath:OpenLayers.INCHES_PER_UNIT.Fathom,ch:OpenLayers.INCHES_PER_UNIT.IntnlChain,link:OpenLayers.INCHES_PER_UNIT.IntnlLink,"us-in":OpenLayers.INCHES_PER_UNIT.inches,"us-ft":OpenLayers.INCHES_PER_UNIT.Foot,"us-yd":OpenLayers.INCHES_PER_UNIT.Yard,"us-ch":OpenLayers.INCHES_PER_UNIT.GunterChain,"us-mi":OpenLayers.INCHES_PER_UNIT.Mile,"ind-yd":OpenLayers.INCHES_PER_UNIT.IndianYd37,"ind-ft":OpenLayers.INCHES_PER_UNIT.IndianFt37,"ind-ch":20.11669506/OpenLayers.METERS_PER_INCH});OpenLayers.DOTS_PER_INCH=72;OpenLayers.Util.normalizeScale=function(C){var B=(C>1)?(1/C):C;return B};OpenLayers.Util.getResolutionFromScale=function(E,B){var C;if(E){if(B==null){B="degrees"}var D=OpenLayers.Util.normalizeScale(E);C=1/(D*OpenLayers.INCHES_PER_UNIT[B]*OpenLayers.DOTS_PER_INCH)}return C};OpenLayers.Util.getScaleFromResolution=function(C,B){if(B==null){B="degrees"}var D=C*OpenLayers.INCHES_PER_UNIT[B]*OpenLayers.DOTS_PER_INCH;return D};OpenLayers.Util.pagePosition=function(E){var J=[0,0];var I=OpenLayers.Util.getViewportElement();if(!E||E==window||E==I){return J}var G=OpenLayers.IS_GECKO&&document.getBoxObjectFor&&OpenLayers.Element.getStyle(E,"position")=="absolute"&&(E.style.top==""||E.style.left=="");var K=null;var H;if(E.getBoundingClientRect){H=E.getBoundingClientRect();var C=I.scrollTop;var D=I.scrollLeft;J[0]=H.left+D;J[1]=H.top+C}else{if(document.getBoxObjectFor&&!G){H=document.getBoxObjectFor(E);var B=document.getBoxObjectFor(I);J[0]=H.screenX-B.screenX;J[1]=H.screenY-B.screenY}else{J[0]=E.offsetLeft;J[1]=E.offsetTop;K=E.offsetParent;if(K!=E){while(K){J[0]+=K.offsetLeft;J[1]+=K.offsetTop;K=K.offsetParent}}var F=OpenLayers.BROWSER_NAME;if(F=="opera"||(F=="safari"&&OpenLayers.Element.getStyle(E,"position")=="absolute")){J[1]-=document.body.offsetTop}K=E.offsetParent;while(K&&K!=document.body){J[0]-=K.scrollLeft;if(F!="opera"||K.tagName!="TR"){J[1]-=K.scrollTop}K=K.offsetParent}}}return J};OpenLayers.Util.getViewportElement=function(){var B=arguments.callee.viewportElement;if(B==undefined){B=(OpenLayers.BROWSER_NAME=="msie"&&document.compatMode!="CSS1Compat")?document.body:document.documentElement;arguments.callee.viewportElement=B}return B};OpenLayers.Util.isEquivalentUrl=function(G,F,D){D=D||{};OpenLayers.Util.applyDefaults(D,{ignoreCase:true,ignorePort80:true,ignoreHash:true});var C=OpenLayers.Util.createUrlObject(G,D);var B=OpenLayers.Util.createUrlObject(F,D);for(var E in C){if(E!=="args"){if(C[E]!=B[E]){return false}}}for(var E in C.args){if(C.args[E]!=B.args[E]){return false}delete B.args[E]}for(var E in B.args){return false}return true};OpenLayers.Util.createUrlObject=function(C,K){K=K||{};if(!(/^\w+:\/\//).test(C)){var G=window.location;var E=G.port?":"+G.port:"";var H=G.protocol+"//"+G.host.split(":").shift()+E;if(C.indexOf("/")===0){C=H+C}else{var F=G.pathname.split("/");F.pop();C=H+F.join("/")+"/"+C}}if(K.ignoreCase){C=C.toLowerCase()}var I=document.createElement("a");I.href=C;var D={};D.host=I.host.split(":").shift();D.protocol=I.protocol;if(K.ignorePort80){D.port=(I.port=="80"||I.port=="0")?"":I.port}else{D.port=(I.port==""||I.port=="0")?"80":I.port}D.hash=(K.ignoreHash||I.hash==="#")?"":I.hash;var B=I.search;if(!B){var J=C.indexOf("?");B=(J!=-1)?C.substr(J):""}D.args=OpenLayers.Util.getParameters(B);D.pathname=(I.pathname.charAt(0)=="/")?I.pathname:"/"+I.pathname;return D};OpenLayers.Util.removeTail=function(C){var D=null;var B=C.indexOf("?");var E=C.indexOf("#");if(B==-1){D=(E!=-1)?C.substr(0,E):C}else{D=(E!=-1)?C.substr(0,Math.min(B,E)):C.substr(0,B)}return D};OpenLayers.IS_GECKO=(function(){var B=navigator.userAgent.toLowerCase();return B.indexOf("webkit")==-1&&B.indexOf("gecko")!=-1})();OpenLayers.CANVAS_SUPPORTED=(function(){var B=document.createElement("canvas");return !!(B.getContext&&B.getContext("2d"))})();OpenLayers.BROWSER_NAME=(function(){var B="";var C=navigator.userAgent.toLowerCase();if(C.indexOf("opera")!=-1){B="opera"}else{if(C.indexOf("msie")!=-1){B="msie"}else{if(C.indexOf("safari")!=-1){B="safari"}else{if(C.indexOf("mozilla")!=-1){if(C.indexOf("firefox")!=-1){B="firefox"}else{B="mozilla"}}}}}return B})();OpenLayers.Util.getBrowserName=function(){return OpenLayers.BROWSER_NAME};OpenLayers.Util.getRenderedDimensions=function(C,M,N){var K,F;var B=document.createElement("div");B.style.visibility="hidden";var L=(N&&N.containerElement)?N.containerElement:document.body;var O=false;var H=null;var J=L;while(J&&J.tagName.toLowerCase()!="body"){var I=OpenLayers.Element.getStyle(J,"position");if(I=="absolute"){O=true;break}else{if(I&&I!="static"){break}}J=J.parentNode}if(O&&(L.clientHeight===0||L.clientWidth===0)){H=document.createElement("div");H.style.visibility="hidden";H.style.position="absolute";H.style.overflow="visible";H.style.width=document.body.clientWidth+"px";H.style.height=document.body.clientHeight+"px";H.appendChild(B)}B.style.position="absolute";if(M){if(M.w){K=M.w;B.style.width=K+"px"}else{if(M.h){F=M.h;B.style.height=F+"px"}}}if(N&&N.displayClass){B.className=N.displayClass}var G=document.createElement("div");G.innerHTML=C;G.style.overflow="visible";if(G.childNodes){for(var E=0,D=G.childNodes.length;E<D;E++){if(!G.childNodes[E].style){continue}G.childNodes[E].style.overflow="visible"}}B.appendChild(G);if(H){L.appendChild(H)}else{L.appendChild(B)}if(!K){K=parseInt(G.scrollWidth);B.style.width=K+"px"}if(!F){F=parseInt(G.scrollHeight)}B.removeChild(G);if(H){H.removeChild(B);L.removeChild(H)}else{L.removeChild(B)}return new OpenLayers.Size(K,F)};OpenLayers.Util.getScrollbarWidth=function(){var D=OpenLayers.Util._scrollbarWidth;if(D==null){var F=null;var E=null;var B=0;var C=0;F=document.createElement("div");F.style.position="absolute";F.style.top="-1000px";F.style.left="-1000px";F.style.width="100px";F.style.height="50px";F.style.overflow="hidden";E=document.createElement("div");E.style.width="100%";E.style.height="200px";F.appendChild(E);document.body.appendChild(F);B=E.offsetWidth;F.style.overflow="scroll";C=E.offsetWidth;document.body.removeChild(document.body.lastChild);OpenLayers.Util._scrollbarWidth=(B-C);D=OpenLayers.Util._scrollbarWidth}return D};OpenLayers.Util.getFormattedLonLat=function(I,C,F){if(!F){F="dms"}I=(I+540)%360-180;var E=Math.abs(I);var J=Math.floor(E);var B=(E-J)/(1/60);var D=B;B=Math.floor(B);var H=(D-B)/(1/60);H=Math.round(H*10);H/=10;if(H>=60){H-=60;B+=1;if(B>=60){B-=60;J+=1}}if(J<10){J="0"+J}var G=J+"\u00B0";if(F.indexOf("dm")>=0){if(B<10){B="0"+B}G+=B+"'";if(F.indexOf("dms")>=0){if(H<10){H="0"+H}G+=H+'"'}}if(C=="lon"){G+=I<0?OpenLayers.i18n("W"):OpenLayers.i18n("E")}else{G+=I<0?OpenLayers.i18n("S"):OpenLayers.i18n("N")}return G};OpenLayers.Event={observers:false,KEY_SPACE:32,KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,element:function(B){return B.target||B.srcElement},isSingleTouch:function(B){return B.touches&&B.touches.length==1},isMultiTouch:function(B){return B.touches&&B.touches.length>1},isLeftClick:function(B){return(((B.which)&&(B.which==1))||((B.button)&&(B.button==1)))},isRightClick:function(B){return(((B.which)&&(B.which==3))||((B.button)&&(B.button==2)))},stop:function(C,B){if(!B){if(C.preventDefault){C.preventDefault()}else{C.returnValue=false}}if(C.stopPropagation){C.stopPropagation()}else{C.cancelBubble=true}},findElement:function(D,C){var B=OpenLayers.Event.element(D);while(B.parentNode&&(!B.tagName||(B.tagName.toUpperCase()!=C.toUpperCase()))){B=B.parentNode}return B},observe:function(C,E,D,B){var F=OpenLayers.Util.getElement(C);B=B||false;if(E=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||F.attachEvent)){E="keydown"}if(!this.observers){this.observers={}}if(!F._eventCacheID){var G="eventCacheID_";if(F.id){G=F.id+"_"+G}F._eventCacheID=OpenLayers.Util.createUniqueID(G)}var H=F._eventCacheID;if(!this.observers[H]){this.observers[H]=[]}this.observers[H].push({element:F,name:E,observer:D,useCapture:B});if(F.addEventListener){F.addEventListener(E,D,B)}else{if(F.attachEvent){F.attachEvent("on"+E,D)}}},stopObservingElement:function(B){var C=OpenLayers.Util.getElement(B);var D=C._eventCacheID;this._removeElementObservers(OpenLayers.Event.observers[D])},_removeElementObservers:function(F){if(F){for(var C=F.length-1;C>=0;C--){var D=F[C];var B=new Array(D.element,D.name,D.observer,D.useCapture);var E=OpenLayers.Event.stopObserving.apply(this,B)}}},stopObserving:function(I,B,H,C){C=C||false;var G=OpenLayers.Util.getElement(I);var E=G._eventCacheID;if(B=="keypress"){if(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||G.detachEvent){B="keydown"}}var K=false;var D=OpenLayers.Event.observers[E];if(D){var F=0;while(!K&&F<D.length){var J=D[F];if((J.name==B)&&(J.observer==H)&&(J.useCapture==C)){D.splice(F,1);if(D.length==0){delete OpenLayers.Event.observers[E]}K=true;break}F++}}if(K){if(G.removeEventListener){G.removeEventListener(B,H,C)}else{if(G&&G.detachEvent){G.detachEvent("on"+B,H)}}}return K},unloadCache:function(){if(OpenLayers.Event&&OpenLayers.Event.observers){for(var B in OpenLayers.Event.observers){var C=OpenLayers.Event.observers[B];OpenLayers.Event._removeElementObservers.apply(this,[C])}OpenLayers.Event.observers=false}},CLASS_NAME:"OpenLayers.Event"};OpenLayers.Event.observe(window,"unload",OpenLayers.Event.unloadCache,false);OpenLayers.Events=OpenLayers.Class({BROWSER_EVENTS:["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown"],listeners:null,object:null,element:null,eventHandler:null,fallThrough:null,includeXY:false,extensions:null,extensionCount:null,clearMouseListener:null,initialize:function(C,D,F,E,B){OpenLayers.Util.extend(this,B);this.object=C;this.fallThrough=E;this.listeners={};this.extensions={};this.extensionCount={};if(D!=null){this.attachToElement(D)}},destroy:function(){for(var B in this.extensions){if(typeof this.extensions[B]!=="boolean"){this.extensions[B].destroy()}}this.extensions=null;if(this.element){OpenLayers.Event.stopObservingElement(this.element);if(this.element.hasScrollEvent){OpenLayers.Event.stopObserving(window,"scroll",this.clearMouseListener)}}this.element=null;this.listeners=null;this.object=null;this.fallThrough=null;this.eventHandler=null},addEventType:function(B){},attachToElement:function(D){if(this.element){OpenLayers.Event.stopObservingElement(this.element)}else{this.eventHandler=OpenLayers.Function.bindAsEventListener(this.handleBrowserEvent,this);this.clearMouseListener=OpenLayers.Function.bind(this.clearMouseCache,this)}this.element=D;for(var C=0,B=this.BROWSER_EVENTS.length;C<B;C++){OpenLayers.Event.observe(D,this.BROWSER_EVENTS[C],this.eventHandler)}OpenLayers.Event.observe(D,"dragstart",OpenLayers.Event.stop)},on:function(B){for(var C in B){if(C!="scope"&&B.hasOwnProperty(C)){this.register(C,B.scope,B[C])}}},register:function(D,G,E,B){if(D in OpenLayers.Events&&!this.extensions[D]){this.extensions[D]=new OpenLayers.Events[D](this)}if(E!=null){if(G==null){G=this.object}var C=this.listeners[D];if(!C){C=[];this.listeners[D]=C;this.extensionCount[D]=0}var F={obj:G,func:E};if(B){C.splice(this.extensionCount[D],0,F);if(typeof B==="object"&&B.extension){this.extensionCount[D]++}}else{C.push(F)}}},registerPriority:function(B,D,C){this.register(B,D,C,true)},un:function(B){for(var C in B){if(C!="scope"&&B.hasOwnProperty(C)){this.unregister(C,B.scope,B[C])}}},unregister:function(E,G,F){if(G==null){G=this.object}var D=this.listeners[E];if(D!=null){for(var C=0,B=D.length;C<B;C++){if(D[C].obj==G&&D[C].func==F){D.splice(C,1);break}}}},remove:function(B){if(this.listeners[B]!=null){this.listeners[B]=[]}},triggerEvent:function(F,C){var E=this.listeners[F];if(!E||E.length==0){return undefined}if(C==null){C={}}C.object=this.object;C.element=this.element;if(!C.type){C.type=F}E=E.slice();var G;for(var D=0,B=E.length;D<B;D++){var H=E[D];G=H.func.apply(H.obj,[C]);if((G!=undefined)&&(G==false)){break}}if(!this.fallThrough){OpenLayers.Event.stop(C,true)}return G},handleBrowserEvent:function(J){var F=J.type,G=this.listeners[F];if(!G||G.length==0){return }var D=J.touches;if(D&&D[0]){var I=0;var H=0;var E=D.length;var C;for(var B=0;B<E;++B){C=D[B];I+=C.clientX;H+=C.clientY}J.clientX=I/E;J.clientY=H/E}if(this.includeXY){J.xy=this.getMousePosition(J)}this.triggerEvent(F,J)},clearMouseCache:function(){this.element.scrolls=null;this.element.lefttop=null;var B=document.body;if(B&&!((B.scrollTop!=0||B.scrollLeft!=0)&&navigator.userAgent.match(/iPhone/i))){this.element.offsets=null}},getMousePosition:function(B){if(!this.includeXY){this.clearMouseCache()}else{if(!this.element.hasScrollEvent){OpenLayers.Event.observe(window,"scroll",this.clearMouseListener);this.element.hasScrollEvent=true}}if(!this.element.scrolls){var C=OpenLayers.Util.getViewportElement();this.element.scrolls=[C.scrollLeft,C.scrollTop]}if(!this.element.lefttop){this.element.lefttop=[(document.documentElement.clientLeft||0),(document.documentElement.clientTop||0)]}if(!this.element.offsets){this.element.offsets=OpenLayers.Util.pagePosition(this.element)}return new OpenLayers.Pixel((B.clientX+this.element.scrolls[0])-this.element.offsets[0]-this.element.lefttop[0],(B.clientY+this.element.scrolls[1])-this.element.offsets[1]-this.element.lefttop[1])},CLASS_NAME:"OpenLayers.Events"});OpenLayers.Events.buttonclick=OpenLayers.Class({target:null,events:["mousedown","mouseup","click","dblclick","touchstart","touchmove","touchend","keydown"],startRegEx:/^mousedown|touchstart$/,cancelRegEx:/^touchmove$/,completeRegEx:/^mouseup|touchend$/,initialize:function(C){this.target=C;for(var B=this.events.length-1;B>=0;--B){this.target.register(this.events[B],this,this.buttonClick,{extension:true})}},destroy:function(){for(var B=this.events.length-1;B>=0;--B){this.target.unregister(this.events[B],this,this.buttonClick)}delete this.target},getPressedButton:function(C){var D=3,B;do{if(OpenLayers.Element.hasClass(C,"olButton")){B=C;break}C=C.parentNode}while(--D>0&&C);return B},buttonClick:function(C){var B=true,E=OpenLayers.Event.element(C);if(E&&(OpenLayers.Event.isLeftClick(C)||!~C.type.indexOf("mouse"))){var D=this.getPressedButton(E);if(D){if(C.type==="keydown"){switch(C.keyCode){case OpenLayers.Event.KEY_RETURN:case OpenLayers.Event.KEY_SPACE:this.target.triggerEvent("buttonclick",{buttonElement:D});OpenLayers.Event.stop(C);B=false;break}}else{if(this.startEvt){if(this.completeRegEx.test(C.type)){var F=OpenLayers.Util.pagePosition(D);this.target.triggerEvent("buttonclick",{buttonElement:D,buttonXY:{x:this.startEvt.clientX-F[0],y:this.startEvt.clientY-F[1]}})}if(this.cancelRegEx.test(C.type)){delete this.startEvt}OpenLayers.Event.stop(C);B=false}}if(this.startRegEx.test(C.type)){this.startEvt=C;OpenLayers.Event.stop(C);B=false}}else{delete this.startEvt}}return B}});OpenLayers.Animation=(function(G){var D=!!(G.requestAnimationFrame||G.webkitRequestAnimationFrame||G.mozRequestAnimationFrame||G.oRequestAnimationFrame||G.msRequestAnimationFrame);var F=(function(){var I=G.requestAnimationFrame||G.webkitRequestAnimationFrame||G.mozRequestAnimationFrame||G.oRequestAnimationFrame||G.msRequestAnimationFrame||function(K,J){G.setTimeout(K,16)};return function(K,J){I.apply(G,[K,J])}})();var C=0;var B={};function H(M,J,I){J=J>0?J:Number.POSITIVE_INFINITY;var L=++C;var K=+new Date;B[L]=function(){if(B[L]&&+new Date-K<=J){M();if(B[L]){F(B[L],I)}}else{delete B[L]}};F(B[L],I);return L}function E(I){delete B[I]}return{isNative:D,requestFrame:F,start:H,stop:E}})(window);OpenLayers.Tween=OpenLayers.Class({easing:null,begin:null,finish:null,duration:null,callbacks:null,time:null,animationId:null,playing:false,initialize:function(B){this.easing=(B)?B:OpenLayers.Easing.Expo.easeOut},start:function(D,C,E,B){this.playing=true;this.begin=D;this.finish=C;this.duration=E;this.callbacks=B.callbacks;this.time=0;OpenLayers.Animation.stop(this.animationId);this.animationId=null;if(this.callbacks&&this.callbacks.start){this.callbacks.start.call(this,this.begin)}this.animationId=OpenLayers.Animation.start(OpenLayers.Function.bind(this.play,this))},stop:function(){if(!this.playing){return }if(this.callbacks&&this.callbacks.done){this.callbacks.done.call(this,this.finish)}OpenLayers.Animation.stop(this.animationId);this.animationId=null;this.playing=false},play:function(){var E={};for(var C in this.begin){var B=this.begin[C];var D=this.finish[C];if(B==null||D==null||isNaN(B)||isNaN(D)){throw new TypeError("invalid value for Tween")}var F=D-B;E[C]=this.easing.apply(this,[this.time,B,F,this.duration])}this.time++;if(this.callbacks&&this.callbacks.eachStep){this.callbacks.eachStep.call(this,E)}if(this.time>this.duration){this.stop()}},CLASS_NAME:"OpenLayers.Tween"});OpenLayers.Easing={CLASS_NAME:"OpenLayers.Easing"};OpenLayers.Easing.Linear={easeIn:function(C,B,E,D){return E*C/D+B},easeOut:function(C,B,E,D){return E*C/D+B},easeInOut:function(C,B,E,D){return E*C/D+B},CLASS_NAME:"OpenLayers.Easing.Linear"};OpenLayers.Easing.Expo={easeIn:function(C,B,E,D){return(C==0)?B:E*Math.pow(2,10*(C/D-1))+B},easeOut:function(C,B,E,D){return(C==D)?B+E:E*(-Math.pow(2,-10*C/D)+1)+B},easeInOut:function(C,B,E,D){if(C==0){return B}if(C==D){return B+E}if((C/=D/2)<1){return E/2*Math.pow(2,10*(C-1))+B}return E/2*(-Math.pow(2,-10*--C)+2)+B},CLASS_NAME:"OpenLayers.Easing.Expo"};OpenLayers.Easing.Quad={easeIn:function(C,B,E,D){return E*(C/=D)*C+B},easeOut:function(C,B,E,D){return -E*(C/=D)*(C-2)+B},easeInOut:function(C,B,E,D){if((C/=D/2)<1){return E/2*C*C+B}return -E/2*((--C)*(C-2)-1)+B},CLASS_NAME:"OpenLayers.Easing.Quad"};OpenLayers.Projection=OpenLayers.Class({proj:null,projCode:null,titleRegEx:/\+title=[^\+]*/,initialize:function(C,B){OpenLayers.Util.extend(this,B);this.projCode=C;if(window.Proj4js){this.proj=new Proj4js.Proj(C)}},getCode:function(){return this.proj?this.proj.srsCode:this.projCode},getUnits:function(){return this.proj?this.proj.units:null},toString:function(){return this.getCode()},equals:function(B){var F=B,C=false;if(F){if(!(F instanceof OpenLayers.Projection)){F=new OpenLayers.Projection(F)}if(window.Proj4js&&this.proj.defData&&F.proj.defData){C=this.proj.defData.replace(this.titleRegEx,"")==F.proj.defData.replace(this.titleRegEx,"")}else{if(F.getCode){var D=this.getCode(),E=F.getCode();C=D==E||!!OpenLayers.Projection.transforms[D]&&OpenLayers.Projection.transforms[D][E]===OpenLayers.Projection.nullTransform}}}return C},destroy:function(){delete this.proj;delete this.projCode},CLASS_NAME:"OpenLayers.Projection"});OpenLayers.Projection.transforms={};OpenLayers.Projection.defaults={"EPSG:4326":{units:"degrees",maxExtent:[-180,-90,180,90],yx:true},"CRS:84":{units:"degrees",maxExtent:[-180,-90,180,90]},"EPSG:900913":{units:"m",maxExtent:[-20037508.34,-20037508.34,20037508.34,20037508.34]}};OpenLayers.Projection.addTransform=function(E,D,C){if(C===OpenLayers.Projection.nullTransform){var B=OpenLayers.Projection.defaults[E];if(B&&!OpenLayers.Projection.defaults[D]){OpenLayers.Projection.defaults[D]=B}}if(!OpenLayers.Projection.transforms[E]){OpenLayers.Projection.transforms[E]={}}OpenLayers.Projection.transforms[E][D]=C};OpenLayers.Projection.transform=function(B,F,C){if(F&&C){if(!(F instanceof OpenLayers.Projection)){F=new OpenLayers.Projection(F)}if(!(C instanceof OpenLayers.Projection)){C=new OpenLayers.Projection(C)}if(F.proj&&C.proj){B=Proj4js.transform(F.proj,C.proj,B)}else{var E=F.getCode();var G=C.getCode();var D=OpenLayers.Projection.transforms;if(D[E]&&D[E][G]){D[E][G](B)}}}return B};OpenLayers.Projection.nullTransform=function(B){return B};(function(){var F=20037508.34;function H(I){I.x=180*I.x/F;I.y=180/Math.PI*(2*Math.atan(Math.exp((I.y/F)*Math.PI))-Math.PI/2);return I}function C(I){I.x=I.x*F/180;I.y=Math.log(Math.tan((90+I.y)*Math.PI/360))/Math.PI*F;return I}function G(J,I){var Q=OpenLayers.Projection.addTransform;var P=OpenLayers.Projection.nullTransform;var M,N,K,O,L;for(M=0,N=I.length;M<N;++M){K=I[M];Q(J,K,C);Q(K,J,H);for(L=M+1;L<N;++L){O=I[L];Q(K,O,P);Q(O,K,P)}}}var B=["EPSG:900913","EPSG:3857","EPSG:102113","EPSG:102100"],E=["CRS:84","urn:ogc:def:crs:EPSG:6.6:4326","EPSG:4326"],D;for(D=B.length-1;D>=0;--D){G(B[D],E)}for(D=E.length-1;D>=0;--D){G(E[D],B)}})();OpenLayers.Map=OpenLayers.Class({Z_INDEX_BASE:{BaseLayer:100,Overlay:325,Feature:725,Popup:750,Control:1000},id:null,fractionalZoom:false,events:null,allOverlays:false,div:null,dragging:false,size:null,viewPortDiv:null,layerContainerOrigin:null,layerContainerDiv:null,layers:null,controls:null,popups:null,baseLayer:null,center:null,resolution:null,zoom:0,panRatio:1.5,options:null,tileSize:null,projection:"EPSG:4326",units:null,resolutions:null,maxResolution:null,minResolution:null,maxScale:null,minScale:null,maxExtent:null,minExtent:null,restrictedExtent:null,numZoomLevels:16,theme:null,displayProjection:null,fallThrough:true,panTween:null,eventListeners:null,panMethod:OpenLayers.Easing.Expo.easeOut,panDuration:50,paddingForPopups:null,minPx:null,maxPx:null,initialize:function(C,J){if(arguments.length===1&&typeof C==="object"){J=C;C=J&&J.div}this.tileSize=new OpenLayers.Size(OpenLayers.Map.TILE_WIDTH,OpenLayers.Map.TILE_HEIGHT);this.paddingForPopups=new OpenLayers.Bounds(15,15,15,15);this.theme=OpenLayers._getScriptLocation()+"theme/default/style.css";this.options=OpenLayers.Util.extend({},J);OpenLayers.Util.extend(this,J);var B=this.projection instanceof OpenLayers.Projection?this.projection.projCode:this.projection;OpenLayers.Util.applyDefaults(this,OpenLayers.Projection.defaults[B]);if(this.maxExtent&&!(this.maxExtent instanceof OpenLayers.Bounds)){this.maxExtent=new OpenLayers.Bounds(this.maxExtent)}if(this.minExtent&&!(this.minExtent instanceof OpenLayers.Bounds)){this.minExtent=new OpenLayers.Bounds(this.minExtent)}if(this.restrictedExtent&&!(this.restrictedExtent instanceof OpenLayers.Bounds)){this.restrictedExtent=new OpenLayers.Bounds(this.restrictedExtent)}if(this.center&&!(this.center instanceof OpenLayers.LonLat)){this.center=new OpenLayers.LonLat(this.center)}this.layers=[];this.id=OpenLayers.Util.createUniqueID("OpenLayers.Map_");this.div=OpenLayers.Util.getElement(C);if(!this.div){this.div=document.createElement("div");this.div.style.height="1px";this.div.style.width="1px"}OpenLayers.Element.addClass(this.div,"olMap");var E=this.id+"_OpenLayers_ViewPort";this.viewPortDiv=OpenLayers.Util.createDiv(E,null,null,null,"relative",null,"hidden");this.viewPortDiv.style.width="100%";this.viewPortDiv.style.height="100%";this.viewPortDiv.className="olMapViewport";this.div.appendChild(this.viewPortDiv);this.events=new OpenLayers.Events(this,this.viewPortDiv,null,this.fallThrough,{includeXY:true});E=this.id+"_OpenLayers_Container";this.layerContainerDiv=OpenLayers.Util.createDiv(E);this.layerContainerDiv.style.width="100px";this.layerContainerDiv.style.height="100px";this.layerContainerDiv.style.zIndex=this.Z_INDEX_BASE.Popup-1;this.viewPortDiv.appendChild(this.layerContainerDiv);this.updateSize();if(this.eventListeners instanceof Object){this.events.on(this.eventListeners)}if(parseFloat(navigator.appVersion.split("MSIE")[1])<9){this.events.register("resize",this,this.updateSize)}else{this.updateSizeDestroy=OpenLayers.Function.bind(this.updateSize,this);OpenLayers.Event.observe(window,"resize",this.updateSizeDestroy)}if(this.theme){var F=true;var D=document.getElementsByTagName("link");for(var G=0,H=D.length;G<H;++G){if(OpenLayers.Util.isEquivalentUrl(D.item(G).href,this.theme)){F=false;break}}if(F){var I=document.createElement("link");I.setAttribute("rel","stylesheet");I.setAttribute("type","text/css");I.setAttribute("href",this.theme);document.getElementsByTagName("head")[0].appendChild(I)}}if(this.controls==null){this.controls=[];if(OpenLayers.Control!=null){if(OpenLayers.Control.Navigation){this.controls.push(new OpenLayers.Control.Navigation())}else{if(OpenLayers.Control.TouchNavigation){this.controls.push(new OpenLayers.Control.TouchNavigation())}}if(OpenLayers.Control.Zoom){this.controls.push(new OpenLayers.Control.Zoom())}else{if(OpenLayers.Control.PanZoom){this.controls.push(new OpenLayers.Control.PanZoom())}}if(OpenLayers.Control.ArgParser){this.controls.push(new OpenLayers.Control.ArgParser())}if(OpenLayers.Control.Attribution){this.controls.push(new OpenLayers.Control.Attribution())}}}for(var G=0,H=this.controls.length;G<H;G++){this.addControlToMap(this.controls[G])}this.popups=[];this.unloadDestroy=OpenLayers.Function.bind(this.destroy,this);OpenLayers.Event.observe(window,"unload",this.unloadDestroy);if(J&&J.layers){delete this.center;this.addLayers(J.layers);if(J.center&&!this.getCenter()){this.setCenter(J.center,J.zoom)}}},getViewport:function(){return this.viewPortDiv},render:function(B){this.div=OpenLayers.Util.getElement(B);OpenLayers.Element.addClass(this.div,"olMap");this.viewPortDiv.parentNode.removeChild(this.viewPortDiv);this.div.appendChild(this.viewPortDiv);this.updateSize()},unloadDestroy:null,updateSizeDestroy:null,destroy:function(){if(!this.unloadDestroy){return false}if(this.panTween){this.panTween.stop();this.panTween=null}OpenLayers.Event.stopObserving(window,"unload",this.unloadDestroy);this.unloadDestroy=null;if(this.updateSizeDestroy){OpenLayers.Event.stopObserving(window,"resize",this.updateSizeDestroy)}else{this.events.unregister("resize",this,this.updateSize)}this.paddingForPopups=null;if(this.controls!=null){for(var B=this.controls.length-1;B>=0;--B){this.controls[B].destroy()}this.controls=null}if(this.layers!=null){for(var B=this.layers.length-1;B>=0;--B){this.layers[B].destroy(false)}this.layers=null}if(this.viewPortDiv){this.div.removeChild(this.viewPortDiv)}this.viewPortDiv=null;if(this.eventListeners){this.events.un(this.eventListeners);this.eventListeners=null}this.events.destroy();this.events=null;this.options=null},setOptions:function(B){var C=this.minPx&&B.restrictedExtent!=this.restrictedExtent;OpenLayers.Util.extend(this,B);C&&this.moveTo(this.getCachedCenter(),this.zoom,{forceZoomChange:true})},getTileSize:function(){return this.tileSize},getBy:function(F,D,B){var E=(typeof B.test=="function");var C=OpenLayers.Array.filter(this[F],function(G){return G[D]==B||(E&&B.test(G[D]))});return C},getLayersBy:function(C,B){return this.getBy("layers",C,B)},getLayersByName:function(B){return this.getLayersBy("name",B)},getLayersByClass:function(B){return this.getLayersBy("CLASS_NAME",B)},getControlsBy:function(C,B){return this.getBy("controls",C,B)},getControlsByClass:function(B){return this.getControlsBy("CLASS_NAME",B)},getLayer:function(F){var C=null;for(var E=0,B=this.layers.length;E<B;E++){var D=this.layers[E];if(D.id==F){C=D;break}}return C},setLayerZIndex:function(C,B){C.setZIndex(this.Z_INDEX_BASE[C.isBaseLayer?"BaseLayer":"Overlay"]+B*5)},resetLayersZIndex:function(){for(var D=0,B=this.layers.length;D<B;D++){var C=this.layers[D];this.setLayerZIndex(C,D)}},addLayer:function(D){for(var C=0,B=this.layers.length;C<B;C++){if(this.layers[C]==D){return false}}if(this.events.triggerEvent("preaddlayer",{layer:D})===false){return false}if(this.allOverlays){D.isBaseLayer=false}D.div.className="olLayerDiv";D.div.style.overflow="";this.setLayerZIndex(D,this.layers.length);if(D.isFixed){this.viewPortDiv.appendChild(D.div)}else{this.layerContainerDiv.appendChild(D.div)}this.layers.push(D);D.setMap(this);if(D.isBaseLayer||(this.allOverlays&&!this.baseLayer)){if(this.baseLayer==null){this.setBaseLayer(D)}else{D.setVisibility(false)}}else{D.redraw()}this.events.triggerEvent("addlayer",{layer:D});D.events.triggerEvent("added",{map:this,layer:D});D.afterAdd();return true},addLayers:function(D){for(var C=0,B=D.length;C<B;C++){this.addLayer(D[C])}},removeLayer:function(D,F){if(this.events.triggerEvent("preremovelayer",{layer:D})===false){return }if(F==null){F=true}if(D.isFixed){this.viewPortDiv.removeChild(D.div)}else{this.layerContainerDiv.removeChild(D.div)}OpenLayers.Util.removeItem(this.layers,D);D.removeMap(this);D.map=null;if(this.baseLayer==D){this.baseLayer=null;if(F){for(var C=0,B=this.layers.length;C<B;C++){var E=this.layers[C];if(E.isBaseLayer||this.allOverlays){this.setBaseLayer(E);break}}}}this.resetLayersZIndex();this.events.triggerEvent("removelayer",{layer:D});D.events.triggerEvent("removed",{map:this,layer:D})},getNumLayers:function(){return this.layers.length},getLayerIndex:function(B){return OpenLayers.Util.indexOf(this.layers,B)},setLayerIndex:function(E,C){var F=this.getLayerIndex(E);if(C<0){C=0}else{if(C>this.layers.length){C=this.layers.length}}if(F!=C){this.layers.splice(F,1);this.layers.splice(C,0,E);for(var D=0,B=this.layers.length;D<B;D++){this.setLayerZIndex(this.layers[D],D)}this.events.triggerEvent("changelayer",{layer:E,property:"order"});if(this.allOverlays){if(C===0){this.setBaseLayer(E)}else{if(this.baseLayer!==this.layers[0]){this.setBaseLayer(this.layers[0])}}}}},raiseLayer:function(C,D){var B=this.getLayerIndex(C)+D;this.setLayerIndex(C,B)},setBaseLayer:function(D){if(D!=this.baseLayer){if(OpenLayers.Util.indexOf(this.layers,D)!=-1){var B=this.getCachedCenter();var E=OpenLayers.Util.getResolutionFromScale(this.getScale(),D.units);if(this.baseLayer!=null&&!this.allOverlays){this.baseLayer.setVisibility(false)}this.baseLayer=D;if(!this.allOverlays||this.baseLayer.visibility){this.baseLayer.setVisibility(true);if(this.baseLayer.inRange===false){this.baseLayer.redraw()}}if(B!=null){var C=this.getZoomForResolution(E||this.resolution,true);this.setCenter(B,C,false,true)}this.events.triggerEvent("changebaselayer",{layer:this.baseLayer})}}},addControl:function(C,B){this.controls.push(C);this.addControlToMap(C,B)},addControls:function(C,H){var F=(arguments.length===1)?[]:H;for(var E=0,B=C.length;E<B;E++){var G=C[E];var D=(F[E])?F[E]:null;this.addControl(G,D)}},addControlToMap:function(C,B){C.outsideViewport=(C.div!=null);if(this.displayProjection&&!C.displayProjection){C.displayProjection=this.displayProjection}C.setMap(this);var D=C.draw(B);if(D){if(!C.outsideViewport){D.style.zIndex=this.Z_INDEX_BASE.Control+this.controls.length;this.viewPortDiv.appendChild(D)}}if(C.autoActivate){C.activate()}},getControl:function(F){var C=null;for(var D=0,B=this.controls.length;D<B;D++){var E=this.controls[D];if(E.id==F){C=E;break}}return C},removeControl:function(B){if((B)&&(B==this.getControl(B.id))){if(B.div&&(B.div.parentNode==this.viewPortDiv)){this.viewPortDiv.removeChild(B.div)}OpenLayers.Util.removeItem(this.controls,B)}},addPopup:function(B,E){if(E){for(var C=this.popups.length-1;C>=0;--C){this.removePopup(this.popups[C])}}B.map=this;this.popups.push(B);var D=B.draw();if(D){D.style.zIndex=this.Z_INDEX_BASE.Popup+this.popups.length;this.layerContainerDiv.appendChild(D)}},removePopup:function(B){OpenLayers.Util.removeItem(this.popups,B);if(B.div){try{this.layerContainerDiv.removeChild(B.div)}catch(C){}}B.map=null},getSize:function(){var B=null;if(this.size!=null){B=this.size.clone()}return B},updateSize:function(){var D=this.getCurrentSize();if(D&&!isNaN(D.h)&&!isNaN(D.w)){this.events.clearMouseCache();var G=this.getSize();if(G==null){this.size=G=D}if(!D.equals(G)){this.size=D;for(var E=0,C=this.layers.length;E<C;E++){this.layers[E].onMapResize()}var B=this.getCachedCenter();if(this.baseLayer!=null&&B!=null){var F=this.getZoom();this.zoom=null;this.setCenter(B,F)}}}},getCurrentSize:function(){var B=new OpenLayers.Size(this.div.clientWidth,this.div.clientHeight);if(B.w==0&&B.h==0||isNaN(B.w)&&isNaN(B.h)){B.w=this.div.offsetWidth;B.h=this.div.offsetHeight}if(B.w==0&&B.h==0||isNaN(B.w)&&isNaN(B.h)){B.w=parseInt(this.div.style.width);B.h=parseInt(this.div.style.height)}return B},calculateBounds:function(B,C){var D=null;if(B==null){B=this.getCachedCenter()}if(C==null){C=this.getResolution()}if((B!=null)&&(C!=null)){var E=(this.size.w*C)/2;var F=(this.size.h*C)/2;D=new OpenLayers.Bounds(B.lon-E,B.lat-F,B.lon+E,B.lat+F)}return D},getCenter:function(){var B=null;var C=this.getCachedCenter();if(C){B=C.clone()}return B},getCachedCenter:function(){if(!this.center&&this.size){this.center=this.getLonLatFromViewPortPx({x:this.size.w/2,y:this.size.h/2})}return this.center},getZoom:function(){return this.zoom},pan:function(E,D,F){F=OpenLayers.Util.applyDefaults(F,{animate:true,dragging:false});if(F.dragging){if(E!=0||D!=0){this.moveByPx(E,D)}}else{var G=this.getViewPortPxFromLonLat(this.getCachedCenter());var C=G.add(E,D);if(this.dragging||!C.equals(G)){var B=this.getLonLatFromViewPortPx(C);if(F.animate){this.panTo(B)}else{this.moveTo(B);if(this.dragging){this.dragging=false;this.events.triggerEvent("moveend")}}}}},panTo:function(E){if(this.panMethod&&this.getExtent().scale(this.panRatio).containsLonLat(E)){if(!this.panTween){this.panTween=new OpenLayers.Tween(this.panMethod)}var B=this.getCachedCenter();if(E.equals(B)){return }var G=this.getPixelFromLonLat(B);var F=this.getPixelFromLonLat(E);var C={x:F.x-G.x,y:F.y-G.y};var D={x:0,y:0};this.panTween.start({x:0,y:0},C,this.panDuration,{callbacks:{eachStep:OpenLayers.Function.bind(function(I){var H=I.x-D.x,J=I.y-D.y;this.moveByPx(H,J);D.x=Math.round(I.x);D.y=Math.round(I.y)},this),done:OpenLayers.Function.bind(function(H){this.moveTo(E);this.dragging=false;this.events.triggerEvent("moveend")},this)}})}else{this.setCenter(E)}},setCenter:function(D,B,C,E){this.panTween&&this.panTween.stop();this.moveTo(D,B,{dragging:C,forceZoomChange:E})},moveByPx:function(M,L){var G=this.size.w/2;var B=this.size.h/2;var J=G+M;var I=B+L;var C=this.baseLayer.wrapDateLine;var K=0;var H=0;if(this.restrictedExtent){K=G;H=B;C=false}M=C||J<=this.maxPx.x-K&&J>=this.minPx.x+K?Math.round(M):0;L=I<=this.maxPx.y-H&&I>=this.minPx.y+H?Math.round(L):0;if(M||L){if(!this.dragging){this.dragging=true;this.events.triggerEvent("movestart")}this.center=null;if(M){this.layerContainerDiv.style.left=parseInt(this.layerContainerDiv.style.left)-M+"px";this.minPx.x-=M;this.maxPx.x-=M}if(L){this.layerContainerDiv.style.top=parseInt(this.layerContainerDiv.style.top)-L+"px";this.minPx.y-=L;this.maxPx.y-=L}var E,D,F;for(D=0,F=this.layers.length;D<F;++D){E=this.layers[D];if(E.visibility&&(E===this.baseLayer||E.inRange)){E.moveByPx(M,L);E.events.triggerEvent("move")}}this.events.triggerEvent("move")}},adjustZoom:function(G){var D,B=this.baseLayer.resolutions,C=this.getMaxExtent().getWidth()/this.size.w;if(this.getResolutionForZoom(G)>C){for(var E=G|0,F=B.length;E<F;++E){if(B[E]<=C){G=E;break}}}return G},moveTo:function(I,C,F){if(I!=null&&!(I instanceof OpenLayers.LonLat)){I=new OpenLayers.LonLat(I)}if(!F){F={}}if(C!=null){C=parseFloat(C);if(!this.fractionalZoom){C=Math.round(C)}}if(this.baseLayer.wrapDateLine){var M=C;C=this.adjustZoom(C);if(C!==M){I=this.getCenter()}}var P=F.dragging||this.dragging;var K=F.forceZoomChange;if(!this.getCachedCenter()&&!this.isValidLonLat(I)){I=this.maxExtent.getCenterLonLat();this.center=I.clone()}if(this.restrictedExtent!=null){if(I==null){I=this.center}if(C==null){C=this.getZoom()}var Q=this.getResolutionForZoom(C);var N=this.calculateBounds(I,Q);if(!this.restrictedExtent.containsBounds(N)){var W=this.restrictedExtent.getCenterLonLat();if(N.getWidth()>this.restrictedExtent.getWidth()){I=new OpenLayers.LonLat(W.lon,I.lat)}else{if(N.left<this.restrictedExtent.left){I=I.add(this.restrictedExtent.left-N.left,0)}else{if(N.right>this.restrictedExtent.right){I=I.add(this.restrictedExtent.right-N.right,0)}}}if(N.getHeight()>this.restrictedExtent.getHeight()){I=new OpenLayers.LonLat(I.lon,W.lat)}else{if(N.bottom<this.restrictedExtent.bottom){I=I.add(0,this.restrictedExtent.bottom-N.bottom)}else{if(N.top>this.restrictedExtent.top){I=I.add(0,this.restrictedExtent.top-N.top)}}}}}var L=K||((this.isValidZoomLevel(C))&&(C!=this.getZoom()));var H=(this.isValidLonLat(I))&&(!I.equals(this.center));if(L||H||P){P||this.events.triggerEvent("movestart");if(H){if(!L&&this.center){this.centerLayerContainer(I)}this.center=I.clone()}var Y=L?this.getResolutionForZoom(C):this.getResolution();if(L||this.layerContainerOrigin==null){this.layerContainerOrigin=this.getCachedCenter();this.layerContainerDiv.style.left="0px";this.layerContainerDiv.style.top="0px";var O=this.getMaxExtent({restricted:true});var E=O.getCenterLonLat();var J=this.center.lon-E.lon;var D=E.lat-this.center.lat;var U=Math.round(O.getWidth()/Y);var T=Math.round(O.getHeight()/Y);this.minPx={x:(this.size.w-U)/2-J/Y,y:(this.size.h-T)/2-D/Y};this.maxPx={x:this.minPx.x+Math.round(O.getWidth()/Y),y:this.minPx.y+Math.round(O.getHeight()/Y)}}if(L){this.zoom=C;this.resolution=Y}var G=this.getExtent();if(this.baseLayer.visibility){this.baseLayer.moveTo(G,L,F.dragging);F.dragging||this.baseLayer.events.triggerEvent("moveend",{zoomChanged:L})}G=this.baseLayer.getExtent();for(var R=this.layers.length-1;R>=0;--R){var V=this.layers[R];if(V!==this.baseLayer&&!V.isBaseLayer){var B=V.calculateInRange();if(V.inRange!=B){V.inRange=B;if(!B){V.display(false)}this.events.triggerEvent("changelayer",{layer:V,property:"visibility"})}if(B&&V.visibility){V.moveTo(G,L,F.dragging);F.dragging||V.events.triggerEvent("moveend",{zoomChanged:L})}}}this.events.triggerEvent("move");P||this.events.triggerEvent("moveend");if(L){for(var R=0,S=this.popups.length;R<S;R++){this.popups[R].updatePosition()}this.events.triggerEvent("zoomend")}}},centerLayerContainer:function(D){var E=this.getViewPortPxFromLonLat(this.layerContainerOrigin);var H=this.getViewPortPxFromLonLat(D);if((E!=null)&&(H!=null)){var B=parseInt(this.layerContainerDiv.style.left);var C=parseInt(this.layerContainerDiv.style.top);var G=Math.round(E.x-H.x);var F=Math.round(E.y-H.y);this.layerContainerDiv.style.left=G+"px";this.layerContainerDiv.style.top=F+"px";var J=B-G;var I=C-F;this.minPx.x-=J;this.maxPx.x-=J;this.minPx.y-=I;this.maxPx.y-=I}},isValidZoomLevel:function(B){return((B!=null)&&(B>=0)&&(B<this.getNumZoomLevels()))},isValidLonLat:function(E){var D=false;if(E!=null){var B=this.getMaxExtent();var C=this.baseLayer.wrapDateLine&&B;D=B.containsLonLat(E,{worldBounds:C})}return D},getProjection:function(){var B=this.getProjectionObject();return B?B.getCode():null},getProjectionObject:function(){var B=null;if(this.baseLayer!=null){B=this.baseLayer.projection}return B},getMaxResolution:function(){var B=null;if(this.baseLayer!=null){B=this.baseLayer.maxResolution}return B},getMaxExtent:function(C){var B=null;if(C&&C.restricted&&this.restrictedExtent){B=this.restrictedExtent}else{if(this.baseLayer!=null){B=this.baseLayer.maxExtent}}return B},getNumZoomLevels:function(){var B=null;if(this.baseLayer!=null){B=this.baseLayer.numZoomLevels}return B},getExtent:function(){var B=null;if(this.baseLayer!=null){B=this.baseLayer.getExtent()}return B},getResolution:function(){var B=null;if(this.baseLayer!=null){B=this.baseLayer.getResolution()}else{if(this.allOverlays===true&&this.layers.length>0){B=this.layers[0].getResolution()}}return B},getUnits:function(){var B=null;if(this.baseLayer!=null){B=this.baseLayer.units}return B},getScale:function(){var D=null;if(this.baseLayer!=null){var C=this.getResolution();var B=this.baseLayer.units;D=OpenLayers.Util.getScaleFromResolution(C,B)}return D},getZoomForExtent:function(D,C){var B=null;if(this.baseLayer!=null){B=this.baseLayer.getZoomForExtent(D,C)}return B},getResolutionForZoom:function(C){var B=null;if(this.baseLayer){B=this.baseLayer.getResolutionForZoom(C)}return B},getZoomForResolution:function(B,D){var C=null;if(this.baseLayer!=null){C=this.baseLayer.getZoomForResolution(B,D)}return C},zoomTo:function(B){if(this.isValidZoomLevel(B)){this.setCenter(null,B)}},zoomIn:function(){this.zoomTo(this.getZoom()+1)},zoomOut:function(){this.zoomTo(this.getZoom()-1)},zoomToExtent:function(E,D){if(!(E instanceof OpenLayers.Bounds)){E=new OpenLayers.Bounds(E)}var C=E.getCenterLonLat();if(this.baseLayer.wrapDateLine){var B=this.getMaxExtent();E=E.clone();while(E.right<E.left){E.right+=B.getWidth()}C=E.getCenterLonLat().wrapDateLine(B)}this.setCenter(C,this.getZoomForExtent(E,D))},zoomToMaxExtent:function(D){var C=(D)?D.restricted:true;var B=this.getMaxExtent({restricted:C});this.zoomToExtent(B)},zoomToScale:function(H,E){var C=OpenLayers.Util.getResolutionFromScale(H,this.baseLayer.units);var F=(this.size.w*C)/2;var G=(this.size.h*C)/2;var B=this.getCachedCenter();var D=new OpenLayers.Bounds(B.lon-F,B.lat-G,B.lon+F,B.lat+G);this.zoomToExtent(D,E)},getLonLatFromViewPortPx:function(B){var C=null;if(this.baseLayer!=null){C=this.baseLayer.getLonLatFromViewPortPx(B)}return C},getViewPortPxFromLonLat:function(C){var B=null;if(this.baseLayer!=null){B=this.baseLayer.getViewPortPxFromLonLat(C)}return B},getLonLatFromPixel:function(B){return this.getLonLatFromViewPortPx(B)},getPixelFromLonLat:function(C){var B=this.getViewPortPxFromLonLat(C);B.x=Math.round(B.x);B.y=Math.round(B.y);return B},getGeodesicPixelSize:function(H){var E=H?this.getLonLatFromPixel(H):(this.getCachedCenter()||new OpenLayers.LonLat(0,0));var F=this.getResolution();var D=E.add(-F/2,0);var J=E.add(F/2,0);var C=E.add(0,-F/2);var G=E.add(0,F/2);var I=new OpenLayers.Projection("EPSG:4326");var B=this.getProjectionObject()||I;if(!B.equals(I)){D.transform(B,I);J.transform(B,I);C.transform(B,I);G.transform(B,I)}return new OpenLayers.Size(OpenLayers.Util.distVincenty(D,J),OpenLayers.Util.distVincenty(C,G))},getViewPortPxFromLayerPx:function(E){var D=null;if(E!=null){var C=parseInt(this.layerContainerDiv.style.left);var B=parseInt(this.layerContainerDiv.style.top);D=E.add(C,B)}return D},getLayerPxFromViewPortPx:function(D){var E=null;if(D!=null){var C=-parseInt(this.layerContainerDiv.style.left);var B=-parseInt(this.layerContainerDiv.style.top);E=D.add(C,B);if(isNaN(E.x)||isNaN(E.y)){E=null}}return E},getLonLatFromLayerPx:function(B){B=this.getViewPortPxFromLayerPx(B);return this.getLonLatFromViewPortPx(B)},getLayerPxFromLonLat:function(C){var B=this.getPixelFromLonLat(C);return this.getLayerPxFromViewPortPx(B)},CLASS_NAME:"OpenLayers.Map"});OpenLayers.Map.TILE_WIDTH=256;OpenLayers.Map.TILE_HEIGHT=256;OpenLayers.Layer=OpenLayers.Class({id:null,name:null,div:null,opacity:1,alwaysInRange:null,RESOLUTION_PROPERTIES:["scales","resolutions","maxScale","minScale","maxResolution","minResolution","numZoomLevels","maxZoomLevel"],events:null,map:null,isBaseLayer:false,alpha:false,displayInLayerSwitcher:true,visibility:true,attribution:null,inRange:false,imageSize:null,options:null,eventListeners:null,gutter:0,projection:null,units:null,scales:null,resolutions:null,maxExtent:null,minExtent:null,maxResolution:null,minResolution:null,numZoomLevels:null,minScale:null,maxScale:null,displayOutsideMaxExtent:false,wrapDateLine:false,metadata:null,initialize:function(C,B){this.metadata={};this.addOptions(B);this.name=C;if(this.id==null){this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_");this.div=OpenLayers.Util.createDiv(this.id);this.div.style.width="100%";this.div.style.height="100%";this.div.dir="ltr";this.events=new OpenLayers.Events(this,this.div);if(this.eventListeners instanceof Object){this.events.on(this.eventListeners)}}},destroy:function(B){if(B==null){B=true}if(this.map!=null){this.map.removeLayer(this,B)}this.projection=null;this.map=null;this.name=null;this.div=null;this.options=null;if(this.events){if(this.eventListeners){this.events.un(this.eventListeners)}this.events.destroy()}this.eventListeners=null;this.events=null},clone:function(B){if(B==null){B=new OpenLayers.Layer(this.name,this.getOptions())}OpenLayers.Util.applyDefaults(B,this);B.map=null;return B},getOptions:function(){var B={};for(var C in this.options){B[C]=this[C]}return B},setName:function(B){if(B!=this.name){this.name=B;if(this.map!=null){this.map.events.triggerEvent("changelayer",{layer:this,property:"name"})}}},addOptions:function(F,B){if(this.options==null){this.options={}}if(F){if(typeof F.projection=="string"){F.projection=new OpenLayers.Projection(F.projection)}if(F.projection){OpenLayers.Util.applyDefaults(F,OpenLayers.Projection.defaults[F.projection.getCode()])}if(F.maxExtent&&!(F.maxExtent instanceof OpenLayers.Bounds)){F.maxExtent=new OpenLayers.Bounds(F.maxExtent)}if(F.minExtent&&!(F.minExtent instanceof OpenLayers.Bounds)){F.minExtent=new OpenLayers.Bounds(F.minExtent)}}OpenLayers.Util.extend(this.options,F);OpenLayers.Util.extend(this,F);if(this.projection&&this.projection.getUnits()){this.units=this.projection.getUnits()}if(this.map){var C=this.map.getResolution();var D=this.RESOLUTION_PROPERTIES.concat(["projection","units","minExtent","maxExtent"]);for(var E in F){if(F.hasOwnProperty(E)&&OpenLayers.Util.indexOf(D,E)>=0){this.initResolutions();if(B&&this.map.baseLayer===this){this.map.setCenter(this.map.getCenter(),this.map.getZoomForResolution(C),false,true);this.map.events.triggerEvent("changebaselayer",{layer:this})}break}}}},onMapResize:function(){},redraw:function(){var C=false;if(this.map){this.inRange=this.calculateInRange();var D=this.getExtent();if(D&&this.inRange&&this.visibility){var B=true;this.moveTo(D,B,false);this.events.triggerEvent("moveend",{zoomChanged:B});C=true}}return C},moveTo:function(C,B,D){var E=this.visibility;if(!this.isBaseLayer){E=E&&this.inRange}this.display(E)},moveByPx:function(C,B){},setMap:function(C){if(this.map==null){this.map=C;this.maxExtent=this.maxExtent||this.map.maxExtent;this.minExtent=this.minExtent||this.map.minExtent;this.projection=this.projection||this.map.projection;if(typeof this.projection=="string"){this.projection=new OpenLayers.Projection(this.projection)}this.units=this.projection.getUnits()||this.units||this.map.units;this.initResolutions();if(!this.isBaseLayer){this.inRange=this.calculateInRange();var B=((this.visibility)&&(this.inRange));this.div.style.display=B?"":"none"}this.setTileSize()}},afterAdd:function(){},removeMap:function(B){},getImageSize:function(B){return(this.imageSize||this.tileSize)},setTileSize:function(B){var C=(B)?B:((this.tileSize)?this.tileSize:this.map.getTileSize());this.tileSize=C;if(this.gutter){this.imageSize=new OpenLayers.Size(C.w+(2*this.gutter),C.h+(2*this.gutter))}},getVisibility:function(){return this.visibility},setVisibility:function(B){if(B!=this.visibility){this.visibility=B;this.display(B);this.redraw();if(this.map!=null){this.map.events.triggerEvent("changelayer",{layer:this,property:"visibility"})}this.events.triggerEvent("visibilitychanged")}},display:function(B){if(B!=(this.div.style.display!="none")){this.div.style.display=(B&&this.calculateInRange())?"block":"none"}},calculateInRange:function(){var C=false;if(this.alwaysInRange){C=true}else{if(this.map){var B=this.map.getResolution();C=((B>=this.minResolution)&&(B<=this.maxResolution))}}return C},setIsBaseLayer:function(B){if(B!=this.isBaseLayer){this.isBaseLayer=B;if(this.map!=null){this.map.events.triggerEvent("changebaselayer",{layer:this})}}},initResolutions:function(){var F,B,I;var G={},E=true;for(F=0,B=this.RESOLUTION_PROPERTIES.length;F<B;F++){I=this.RESOLUTION_PROPERTIES[F];G[I]=this.options[I];if(E&&this.options[I]){E=false}}if(this.alwaysInRange==null){this.alwaysInRange=E}if(G.resolutions==null){G.resolutions=this.resolutionsFromScales(G.scales)}if(G.resolutions==null){G.resolutions=this.calculateResolutions(G)}if(G.resolutions==null){for(F=0,B=this.RESOLUTION_PROPERTIES.length;F<B;F++){I=this.RESOLUTION_PROPERTIES[F];G[I]=this.options[I]!=null?this.options[I]:this.map[I]}if(G.resolutions==null){G.resolutions=this.resolutionsFromScales(G.scales)}if(G.resolutions==null){G.resolutions=this.calculateResolutions(G)}}var D;if(this.options.maxResolution&&this.options.maxResolution!=="auto"){D=this.options.maxResolution}if(this.options.minScale){D=OpenLayers.Util.getResolutionFromScale(this.options.minScale,this.units)}var C;if(this.options.minResolution&&this.options.minResolution!=="auto"){C=this.options.minResolution}if(this.options.maxScale){C=OpenLayers.Util.getResolutionFromScale(this.options.maxScale,this.units)}if(G.resolutions){G.resolutions.sort(function(K,J){return(J-K)});if(!D){D=G.resolutions[0]}if(!C){var H=G.resolutions.length-1;C=G.resolutions[H]}}this.resolutions=G.resolutions;if(this.resolutions){B=this.resolutions.length;this.scales=new Array(B);for(F=0;F<B;F++){this.scales[F]=OpenLayers.Util.getScaleFromResolution(this.resolutions[F],this.units)}this.numZoomLevels=B}this.minResolution=C;if(C){this.maxScale=OpenLayers.Util.getScaleFromResolution(C,this.units)}this.maxResolution=D;if(D){this.minScale=OpenLayers.Util.getScaleFromResolution(D,this.units)}},resolutionsFromScales:function(E){if(E==null){return }var C,D,B;B=E.length;C=new Array(B);for(D=0;D<B;D++){C[D]=OpenLayers.Util.getResolutionFromScale(E[D],this.units)}return C},calculateResolutions:function(K){var L,J,H;var M=K.maxResolution;if(K.minScale!=null){M=OpenLayers.Util.getResolutionFromScale(K.minScale,this.units)}else{if(M=="auto"&&this.maxExtent!=null){L=this.map.getSize();J=this.maxExtent.getWidth()/L.w;H=this.maxExtent.getHeight()/L.h;M=Math.max(J,H)}}var G=K.minResolution;if(K.maxScale!=null){G=OpenLayers.Util.getResolutionFromScale(K.maxScale,this.units)}else{if(K.minResolution=="auto"&&this.minExtent!=null){L=this.map.getSize();J=this.minExtent.getWidth()/L.w;H=this.minExtent.getHeight()/L.h;G=Math.max(J,H)}}if(typeof M!=="number"&&typeof G!=="number"&&this.maxExtent!=null){var N=this.map.getTileSize();M=Math.max(this.maxExtent.getWidth()/N.w,this.maxExtent.getHeight()/N.h)}var B=K.maxZoomLevel;var C=K.numZoomLevels;if(typeof G==="number"&&typeof M==="number"&&C===undefined){var I=M/G;C=Math.floor(Math.log(I)/Math.log(2))+1}else{if(C===undefined&&B!=null){C=B+1}}if(typeof C!=="number"||C<=0||(typeof M!=="number"&&typeof G!=="number")){return }var E=new Array(C);var D=2;if(typeof G=="number"&&typeof M=="number"){D=Math.pow((M/G),(1/(C-1)))}var F;if(typeof M==="number"){for(F=0;F<C;F++){E[F]=M/Math.pow(D,F)}}else{for(F=0;F<C;F++){E[C-1-F]=G*Math.pow(D,F)}}return E},getResolution:function(){var B=this.map.getZoom();return this.getResolutionForZoom(B)},getExtent:function(){return this.map.calculateBounds()},getZoomForExtent:function(C,D){var E=this.map.getSize();var B=Math.max(C.getWidth()/E.w,C.getHeight()/E.h);return this.getZoomForResolution(B,D)},getDataExtent:function(){},getResolutionForZoom:function(D){D=Math.max(0,Math.min(D,this.resolutions.length-1));var C;if(this.map.fractionalZoom){var B=Math.floor(D);var E=Math.ceil(D);C=this.resolutions[B]-((D-B)*(this.resolutions[B]-this.resolutions[E]))}else{C=this.resolutions[Math.round(D)]}return C},getZoomForResolution:function(F,C){var N,G,H;if(this.map.fractionalZoom){var K=0;var D=this.resolutions.length-1;var E=this.resolutions[K];var B=this.resolutions[D];var J;for(G=0,H=this.resolutions.length;G<H;++G){J=this.resolutions[G];if(J>=F){E=J;K=G}if(J<=F){B=J;D=G;break}}var I=E-B;if(I>0){N=K+((E-F)/I)}else{N=K}}else{var L;var M=Number.POSITIVE_INFINITY;for(G=0,H=this.resolutions.length;G<H;G++){if(C){L=Math.abs(this.resolutions[G]-F);if(L>M){break}M=L}else{if(this.resolutions[G]<F){break}}}N=Math.max(0,G-1)}return N},getLonLatFromViewPortPx:function(C){var E=null;var G=this.map;if(C!=null&&G.minPx){var D=G.getResolution();var B=G.getMaxExtent({restricted:true});var H=(C.x-G.minPx.x)*D+B.left;var F=(G.minPx.y-C.y)*D+B.top;E=new OpenLayers.LonLat(H,F);if(this.wrapDateLine){E=E.wrapDateLine(this.maxExtent)}}return E},getViewPortPxFromLonLat:function(E,B){var C=null;if(E!=null){B=B||this.map.getResolution();var D=this.map.calculateBounds(null,B);C=new OpenLayers.Pixel((1/B*(E.lon-D.left)),(1/B*(D.top-E.lat)))}return C},setOpacity:function(C){if(C!=this.opacity){this.opacity=C;var G=this.div.childNodes;for(var E=0,B=G.length;E<B;++E){var D=G[E].firstChild||G[E];var F=G[E].lastChild;if(F&&F.nodeName.toLowerCase()==="iframe"){D=F.parentNode}OpenLayers.Util.modifyDOMElement(D,null,null,null,null,null,null,C)}if(this.map!=null){this.map.events.triggerEvent("changelayer",{layer:this,property:"opacity"})}}},getZIndex:function(){return this.div.style.zIndex},setZIndex:function(B){this.div.style.zIndex=B},adjustBounds:function(C){if(this.gutter){var B=this.gutter*this.map.getResolution();C=new OpenLayers.Bounds(C.left-B,C.bottom-B,C.right+B,C.top+B)}if(this.wrapDateLine){var D={rightTolerance:this.getResolution(),leftTolerance:this.getResolution()};C=C.wrapDateLine(this.maxExtent,D)}return C},CLASS_NAME:"OpenLayers.Layer"});OpenLayers.Layer.SphericalMercator={getExtent:function(){var B=null;if(this.sphericalMercator){B=this.map.calculateBounds()}else{B=OpenLayers.Layer.FixedZoomLevels.prototype.getExtent.apply(this)}return B},getLonLatFromViewPortPx:function(B){return OpenLayers.Layer.prototype.getLonLatFromViewPortPx.apply(this,arguments)},getViewPortPxFromLonLat:function(B){return OpenLayers.Layer.prototype.getViewPortPxFromLonLat.apply(this,arguments)},initMercatorParameters:function(){this.RESOLUTIONS=[];var B=156543.03390625;for(var C=0;C<=this.MAX_ZOOM_LEVEL;++C){this.RESOLUTIONS[C]=B/Math.pow(2,C)}this.units="m";this.projection=this.projection||"EPSG:900913"},forwardMercator:(function(){var B=new OpenLayers.Projection("EPSG:4326");var C=new OpenLayers.Projection("EPSG:900913");return function(F,E){var D=OpenLayers.Projection.transform({x:F,y:E},B,C);return new OpenLayers.LonLat(D.x,D.y)}})(),inverseMercator:(function(){var B=new OpenLayers.Projection("EPSG:4326");var C=new OpenLayers.Projection("EPSG:900913");return function(E,F){var D=OpenLayers.Projection.transform({x:E,y:F},C,B);return new OpenLayers.LonLat(D.x,D.y)}})()};OpenLayers.Layer.EventPane=OpenLayers.Class(OpenLayers.Layer,{smoothDragPan:true,isBaseLayer:true,isFixed:true,pane:null,mapObject:null,initialize:function(C,B){OpenLayers.Layer.prototype.initialize.apply(this,arguments);if(this.pane==null){this.pane=OpenLayers.Util.createDiv(this.div.id+"_EventPane")}},destroy:function(){this.mapObject=null;this.pane=null;OpenLayers.Layer.prototype.destroy.apply(this,arguments)},setMap:function(B){OpenLayers.Layer.prototype.setMap.apply(this,arguments);this.pane.style.zIndex=parseInt(this.div.style.zIndex)+1;this.pane.style.display=this.div.style.display;this.pane.style.width="100%";this.pane.style.height="100%";if(OpenLayers.BROWSER_NAME=="msie"){this.pane.style.background="url("+OpenLayers.Util.getImageLocation("blank.gif")+")"}if(this.isFixed){this.map.viewPortDiv.appendChild(this.pane)}else{this.map.layerContainerDiv.appendChild(this.pane)}this.loadMapObject();if(this.mapObject==null){this.loadWarningMessage()}},removeMap:function(B){if(this.pane&&this.pane.parentNode){this.pane.parentNode.removeChild(this.pane)}OpenLayers.Layer.prototype.removeMap.apply(this,arguments)},loadWarningMessage:function(){this.div.style.backgroundColor="darkblue";var H=this.map.getSize();var B=Math.min(H.w,300);var F=Math.min(H.h,200);var C=new OpenLayers.Size(B,F);var E=new OpenLayers.Pixel(H.w/2,H.h/2);var D=E.add(-C.w/2,-C.h/2);var G=OpenLayers.Util.createDiv(this.name+"_warning",D,C,null,null,null,"auto");G.style.padding="7px";G.style.backgroundColor="yellow";G.innerHTML=this.getWarningHTML();this.div.appendChild(G)},getWarningHTML:function(){return""},display:function(B){OpenLayers.Layer.prototype.display.apply(this,arguments);this.pane.style.display=this.div.style.display},setZIndex:function(B){OpenLayers.Layer.prototype.setZIndex.apply(this,arguments);this.pane.style.zIndex=parseInt(this.div.style.zIndex)+1},moveByPx:function(C,B){OpenLayers.Layer.prototype.moveByPx.apply(this,arguments);if(this.dragPanMapObject){this.dragPanMapObject(C,-B)}else{this.moveTo(this.map.getCachedCenter())}},moveTo:function(D,E,K){OpenLayers.Layer.prototype.moveTo.apply(this,arguments);if(this.mapObject!=null){var F=this.map.getCenter();var H=this.map.getZoom();if(F!=null){var G=this.getMapObjectCenter();var C=this.getOLLonLatFromMapObjectLonLat(G);var I=this.getMapObjectZoom();var N=this.getOLZoomFromMapObjectZoom(I);if(!(F.equals(C))||H!=N){if(!E&&C&&this.dragPanMapObject&&this.smoothDragPan){var J=this.map.getViewPortPxFromLonLat(C);var L=this.map.getViewPortPxFromLonLat(F);this.dragPanMapObject(L.x-J.x,J.y-L.y)}else{var B=this.getMapObjectLonLatFromOLLonLat(F);var M=this.getMapObjectZoomFromOLZoom(H);this.setMapObjectCenter(B,M,K)}}}}},getLonLatFromViewPortPx:function(B){var C=null;if((this.mapObject!=null)&&(this.getMapObjectCenter()!=null)){var E=this.getMapObjectPixelFromOLPixel(B);var D=this.getMapObjectLonLatFromMapObjectPixel(E);C=this.getOLLonLatFromMapObjectLonLat(D)}return C},getViewPortPxFromLonLat:function(C){var B=null;if((this.mapObject!=null)&&(this.getMapObjectCenter()!=null)){var E=this.getMapObjectLonLatFromOLLonLat(C);var D=this.getMapObjectPixelFromMapObjectLonLat(E);B=this.getOLPixelFromMapObjectPixel(D)}return B},getOLLonLatFromMapObjectLonLat:function(E){var B=null;if(E!=null){var D=this.getLongitudeFromMapObjectLonLat(E);var C=this.getLatitudeFromMapObjectLonLat(E);B=new OpenLayers.LonLat(D,C)}return B},getMapObjectLonLatFromOLLonLat:function(B){var C=null;if(B!=null){C=this.getMapObjectLonLatFromLonLat(B.lon,B.lat)}return C},getOLPixelFromMapObjectPixel:function(E){var C=null;if(E!=null){var B=this.getXFromMapObjectPixel(E);var D=this.getYFromMapObjectPixel(E);C=new OpenLayers.Pixel(B,D)}return C},getMapObjectPixelFromOLPixel:function(B){var C=null;if(B!=null){C=this.getMapObjectPixelFromXY(B.x,B.y)}return C},CLASS_NAME:"OpenLayers.Layer.EventPane"});OpenLayers.Layer.FixedZoomLevels=OpenLayers.Class({initialize:function(){},initResolutions:function(){var D=["minZoomLevel","maxZoomLevel","numZoomLevels"];for(var C=0,B=D.length;C<B;C++){var G=D[C];this[G]=(this.options[G]!=null)?this.options[G]:this.map[G]}if((this.minZoomLevel==null)||(this.minZoomLevel<this.MIN_ZOOM_LEVEL)){this.minZoomLevel=this.MIN_ZOOM_LEVEL}var H;var F=this.MAX_ZOOM_LEVEL-this.minZoomLevel+1;if(((this.options.numZoomLevels==null)&&(this.options.maxZoomLevel!=null))||((this.numZoomLevels==null)&&(this.maxZoomLevel!=null))){H=this.maxZoomLevel-this.minZoomLevel+1}else{H=this.numZoomLevels}if(H!=null){this.numZoomLevels=Math.min(H,F)}else{this.numZoomLevels=F}this.maxZoomLevel=this.minZoomLevel+this.numZoomLevels-1;if(this.RESOLUTIONS!=null){var E=0;this.resolutions=[];for(var C=this.minZoomLevel;C<=this.maxZoomLevel;C++){this.resolutions[E++]=this.RESOLUTIONS[C]}this.maxResolution=this.resolutions[0];this.minResolution=this.resolutions[this.resolutions.length-1]}},getResolution:function(){if(this.resolutions!=null){return OpenLayers.Layer.prototype.getResolution.apply(this,arguments)}else{var B=null;var D=this.map.getSize();var C=this.getExtent();if((D!=null)&&(C!=null)){B=Math.max(C.getWidth()/D.w,C.getHeight()/D.h)}return B}},getExtent:function(){var D=this.map.getSize();var B=this.getLonLatFromViewPortPx({x:0,y:0});var C=this.getLonLatFromViewPortPx({x:D.w,y:D.h});if((B!=null)&&(C!=null)){return new OpenLayers.Bounds(B.lon,C.lat,C.lon,B.lat)}else{return null}},getZoomForResolution:function(B){if(this.resolutions!=null){return OpenLayers.Layer.prototype.getZoomForResolution.apply(this,arguments)}else{var C=OpenLayers.Layer.prototype.getExtent.apply(this,[]);return this.getZoomForExtent(C)}},getOLZoomFromMapObjectZoom:function(B){var C=null;if(B!=null){C=B-this.minZoomLevel;if(this.map.baseLayer!==this){C=this.map.baseLayer.getZoomForResolution(this.getResolutionForZoom(C))}}return C},getMapObjectZoomFromOLZoom:function(B){var C=null;if(B!=null){C=B+this.minZoomLevel;if(this.map.baseLayer!==this){C=this.getZoomForResolution(this.map.baseLayer.getResolutionForZoom(C))}}return C},CLASS_NAME:"OpenLayers.Layer.FixedZoomLevels"});OpenLayers.Layer.Google=OpenLayers.Class(OpenLayers.Layer.EventPane,OpenLayers.Layer.FixedZoomLevels,{MIN_ZOOM_LEVEL:0,MAX_ZOOM_LEVEL:21,RESOLUTIONS:[1.40625,0.703125,0.3515625,0.17578125,0.087890625,0.0439453125,0.02197265625,0.010986328125,0.0054931640625,0.00274658203125,0.001373291015625,0.0006866455078125,0.00034332275390625,0.000171661376953125,0.0000858306884765625,0.00004291534423828125,0.00002145767211914062,0.00001072883605957031,0.00000536441802978515,0.00000268220901489257,0.000001341104507446289,6.705522537231445e-7],type:null,wrapDateLine:true,sphericalMercator:false,version:null,initialize:function(D,C){C=C||{};if(!C.version){C.version=typeof GMap2==="function"?"2":"3"}var B=OpenLayers.Layer.Google["v"+C.version.replace(/\./g,"_")];if(B){OpenLayers.Util.applyDefaults(C,B)}else{throw"Unsupported Google Maps API version: "+C.version}OpenLayers.Util.applyDefaults(C,B.DEFAULTS);if(C.maxExtent){C.maxExtent=C.maxExtent.clone()}OpenLayers.Layer.EventPane.prototype.initialize.apply(this,[D,C]);OpenLayers.Layer.FixedZoomLevels.prototype.initialize.apply(this,[D,C]);if(this.sphericalMercator){OpenLayers.Util.extend(this,OpenLayers.Layer.SphericalMercator);this.initMercatorParameters()}},clone:function(){return new OpenLayers.Layer.Google(this.name,this.getOptions())},setVisibility:function(C){var B=this.opacity==null?1:this.opacity;OpenLayers.Layer.EventPane.prototype.setVisibility.apply(this,arguments);this.setOpacity(B)},display:function(B){if(!this._dragging){this.setGMapVisibility(B)}OpenLayers.Layer.EventPane.prototype.display.apply(this,arguments)},moveTo:function(C,B,D){this._dragging=D;OpenLayers.Layer.EventPane.prototype.moveTo.apply(this,arguments);delete this._dragging},setOpacity:function(C){if(C!==this.opacity){if(this.map!=null){this.map.events.triggerEvent("changelayer",{layer:this,property:"opacity"})}this.opacity=C}if(this.getVisibility()){var B=this.getMapContainer();OpenLayers.Util.modifyDOMElement(B,null,null,null,null,null,null,C)}},destroy:function(){if(this.map){this.setGMapVisibility(false);var B=OpenLayers.Layer.Google.cache[this.map.id];if(B&&B.count<=1){this.removeGMapElements()}}OpenLayers.Layer.EventPane.prototype.destroy.apply(this,arguments)},removeGMapElements:function(){var E=OpenLayers.Layer.Google.cache[this.map.id];if(E){var C=this.mapObject&&this.getMapContainer();if(C&&C.parentNode){C.parentNode.removeChild(C)}var D=E.termsOfUse;if(D&&D.parentNode){D.parentNode.removeChild(D)}var B=E.poweredBy;if(B&&B.parentNode){B.parentNode.removeChild(B)}}},removeMap:function(C){if(this.visibility&&this.mapObject){this.setGMapVisibility(false)}var B=OpenLayers.Layer.Google.cache[C.id];if(B){if(B.count<=1){this.removeGMapElements();delete OpenLayers.Layer.Google.cache[C.id]}else{--B.count}}delete this.termsOfUse;delete this.poweredBy;delete this.mapObject;delete this.dragObject;OpenLayers.Layer.EventPane.prototype.removeMap.apply(this,arguments)},getOLBoundsFromMapObjectBounds:function(C){var D=null;if(C!=null){var B=C.getSouthWest();var E=C.getNorthEast();if(this.sphericalMercator){B=this.forwardMercator(B.lng(),B.lat());E=this.forwardMercator(E.lng(),E.lat())}else{B=new OpenLayers.LonLat(B.lng(),B.lat());E=new OpenLayers.LonLat(E.lng(),E.lat())}D=new OpenLayers.Bounds(B.lon,B.lat,E.lon,E.lat)}return D},getWarningHTML:function(){return OpenLayers.i18n("googleWarning")},getMapObjectCenter:function(){return this.mapObject.getCenter()},getMapObjectZoom:function(){return this.mapObject.getZoom()},getLongitudeFromMapObjectLonLat:function(B){return this.sphericalMercator?this.forwardMercator(B.lng(),B.lat()).lon:B.lng()},getLatitudeFromMapObjectLonLat:function(C){var B=this.sphericalMercator?this.forwardMercator(C.lng(),C.lat()).lat:C.lat();return B},getXFromMapObjectPixel:function(B){return B.x},getYFromMapObjectPixel:function(B){return B.y},CLASS_NAME:"OpenLayers.Layer.Google"});OpenLayers.Layer.Google.cache={};OpenLayers.Layer.Google.v2={termsOfUse:null,poweredBy:null,dragObject:null,loadMapObject:function(){if(!this.type){this.type=G_NORMAL_MAP}var G,E,B;var D=OpenLayers.Layer.Google.cache[this.map.id];if(D){G=D.mapObject;E=D.termsOfUse;B=D.poweredBy;++D.count}else{var C=this.map.viewPortDiv;var H=document.createElement("div");H.id=this.map.id+"_GMap2Container";H.style.position="absolute";H.style.width="100%";H.style.height="100%";C.appendChild(H);try{G=new GMap2(H);E=H.lastChild;C.appendChild(E);E.style.zIndex="1100";E.style.right="";E.style.bottom="";E.className="olLayerGoogleCopyright";B=H.lastChild;C.appendChild(B);B.style.zIndex="1100";B.style.right="";B.style.bottom="";B.className="olLayerGooglePoweredBy gmnoprint"}catch(F){throw (F)}OpenLayers.Layer.Google.cache[this.map.id]={mapObject:G,termsOfUse:E,poweredBy:B,count:1}}this.mapObject=G;this.termsOfUse=E;this.poweredBy=B;if(OpenLayers.Util.indexOf(this.mapObject.getMapTypes(),this.type)===-1){this.mapObject.addMapType(this.type)}if(typeof G.getDragObject=="function"){this.dragObject=G.getDragObject()}else{this.dragPanMapObject=null}if(this.isBaseLayer===false){this.setGMapVisibility(this.div.style.display!=="none")}},onMapResize:function(){if(this.visibility&&this.mapObject.isLoaded()){this.mapObject.checkResize()}else{if(!this._resized){var B=this;var C=GEvent.addListener(this.mapObject,"load",function(){GEvent.removeListener(C);delete B._resized;B.mapObject.checkResize();B.moveTo(B.map.getCenter(),B.map.getZoom())})}this._resized=true}},setGMapVisibility:function(D){var C=OpenLayers.Layer.Google.cache[this.map.id];if(C){var B=this.mapObject.getContainer();if(D===true){this.mapObject.setMapType(this.type);B.style.display="";this.termsOfUse.style.left="";this.termsOfUse.style.display="";this.poweredBy.style.display="";C.displayed=this.id}else{if(C.displayed===this.id){delete C.displayed}if(!C.displayed){B.style.display="none";this.termsOfUse.style.display="none";this.termsOfUse.style.left="-9999px";this.poweredBy.style.display="none"}}}},getMapContainer:function(){return this.mapObject.getContainer()},getMapObjectBoundsFromOLBounds:function(D){var C=null;if(D!=null){var B=this.sphericalMercator?this.inverseMercator(D.bottom,D.left):new OpenLayers.LonLat(D.bottom,D.left);var E=this.sphericalMercator?this.inverseMercator(D.top,D.right):new OpenLayers.LonLat(D.top,D.right);C=new GLatLngBounds(new GLatLng(B.lat,B.lon),new GLatLng(E.lat,E.lon))}return C},setMapObjectCenter:function(B,C){this.mapObject.setCenter(B,C)},dragPanMapObject:function(C,B){this.dragObject.moveBy(new GSize(-C,B))},getMapObjectLonLatFromMapObjectPixel:function(B){return this.mapObject.fromContainerPixelToLatLng(B)},getMapObjectPixelFromMapObjectLonLat:function(B){return this.mapObject.fromLatLngToContainerPixel(B)},getMapObjectZoomFromMapObjectBounds:function(B){return this.mapObject.getBoundsZoomLevel(B)},getMapObjectLonLatFromLonLat:function(E,C){var D;if(this.sphericalMercator){var B=this.inverseMercator(E,C);D=new GLatLng(B.lat,B.lon)}else{D=new GLatLng(C,E)}return D},getMapObjectPixelFromXY:function(B,C){return new GPoint(B,C)}};OpenLayers.Format=OpenLayers.Class({options:null,externalProjection:null,internalProjection:null,data:null,keepData:false,initialize:function(B){OpenLayers.Util.extend(this,B);this.options=B},destroy:function(){},read:function(B){throw new Error("Read not implemented.")},write:function(B){throw new Error("Write not implemented.")},CLASS_NAME:"OpenLayers.Format"});OpenLayers.Format.XML=OpenLayers.Class(OpenLayers.Format,{namespaces:null,namespaceAlias:null,defaultPrefix:null,readers:{},writers:{},xmldom:null,initialize:function(B){if(window.ActiveXObject){this.xmldom=new ActiveXObject("Microsoft.XMLDOM")}OpenLayers.Format.prototype.initialize.apply(this,[B]);this.namespaces=OpenLayers.Util.extend({},this.namespaces);this.namespaceAlias={};for(var C in this.namespaces){this.namespaceAlias[this.namespaces[C]]=C}},destroy:function(){this.xmldom=null;OpenLayers.Format.prototype.destroy.apply(this,arguments)},setNamespace:function(B,C){this.namespaces[B]=C;this.namespaceAlias[C]=B},read:function(D){var B=D.indexOf("<");if(B>0){D=D.substring(B)}var C=OpenLayers.Util.Try(OpenLayers.Function.bind((function(){var E;if(window.ActiveXObject&&!this.xmldom){E=new ActiveXObject("Microsoft.XMLDOM")}else{E=this.xmldom}E.loadXML(D);return E}),this),function(){return new DOMParser().parseFromString(D,"text/xml")},function(){var E=new XMLHttpRequest();E.open("GET","data:text/xml;charset=utf-8,"+encodeURIComponent(D),false);if(E.overrideMimeType){E.overrideMimeType("text/xml")}E.send(null);return E.responseXML});if(this.keepData){this.data=C}return C},write:function(C){var D;if(this.xmldom){D=C.xml}else{var B=new XMLSerializer();if(C.nodeType==1){var E=document.implementation.createDocument("","",null);if(E.importNode){C=E.importNode(C,true)}E.appendChild(C);D=B.serializeToString(E)}else{D=B.serializeToString(C)}}return D},createElementNS:function(D,B){var C;if(this.xmldom){if(typeof D=="string"){C=this.xmldom.createNode(1,B,D)}else{C=this.xmldom.createNode(1,B,"")}}else{C=document.createElementNS(D,B)}return C},createTextNode:function(C){var B;if(typeof C!=="string"){C=String(C)}if(this.xmldom){B=this.xmldom.createTextNode(C)}else{B=document.createTextNode(C)}return B},getElementsByTagNameNS:function(F,E,D){var B=[];if(F.getElementsByTagNameNS){B=F.getElementsByTagNameNS(E,D)}else{var C=F.getElementsByTagName("*");var J,G;for(var H=0,I=C.length;H<I;++H){J=C[H];G=(J.prefix)?(J.prefix+":"+D):D;if((D=="*")||(G==J.nodeName)){if((E=="*")||(E==J.namespaceURI)){B.push(J)}}}}return B},getAttributeNodeNS:function(D,C,B){var J=null;if(D.getAttributeNodeNS){J=D.getAttributeNodeNS(C,B)}else{var F=D.attributes;var I,E;for(var G=0,H=F.length;G<H;++G){I=F[G];if(I.namespaceURI==C){E=(I.prefix)?(I.prefix+":"+B):B;if(E==I.nodeName){J=I;break}}}}return J},getAttributeNS:function(F,E,B){var C="";if(F.getAttributeNS){C=F.getAttributeNS(E,B)||""}else{var D=this.getAttributeNodeNS(F,E,B);if(D){C=D.nodeValue}}return C},getChildValue:function(B,D){var C=D||"";if(B){for(var E=B.firstChild;E;E=E.nextSibling){switch(E.nodeType){case 3:case 4:C+=E.nodeValue}}}return C},isSimpleContent:function(B){var D=true;for(var C=B.firstChild;C;C=C.nextSibling){if(C.nodeType===1){D=false;break}}return D},contentType:function(D){var F=false,C=false;var B=OpenLayers.Format.XML.CONTENT_TYPE.EMPTY;for(var E=D.firstChild;E;E=E.nextSibling){switch(E.nodeType){case 1:C=true;break;case 8:break;default:F=true}if(C&&F){break}}if(C&&F){B=OpenLayers.Format.XML.CONTENT_TYPE.MIXED}else{if(C){return OpenLayers.Format.XML.CONTENT_TYPE.COMPLEX}else{if(F){return OpenLayers.Format.XML.CONTENT_TYPE.SIMPLE}}}return B},hasAttributeNS:function(D,C,B){var E=false;if(D.hasAttributeNS){E=D.hasAttributeNS(C,B)}else{E=!!this.getAttributeNodeNS(D,C,B)}return E},setAttributeNS:function(E,D,B,F){if(E.setAttributeNS){E.setAttributeNS(D,B,F)}else{if(this.xmldom){if(D){var C=E.ownerDocument.createNode(2,B,D);C.nodeValue=F;E.setAttributeNode(C)}else{E.setAttribute(B,F)}}else{throw"setAttributeNS not implemented"}}},createElementNSPlus:function(C,B){B=B||{};var E=B.uri||this.namespaces[B.prefix];if(!E){var G=C.indexOf(":");E=this.namespaces[C.substring(0,G)]}if(!E){E=this.namespaces[this.defaultPrefix]}var D=this.createElementNS(E,C);if(B.attributes){this.setAttributes(D,B.attributes)}var F=B.value;if(F!=null){D.appendChild(this.createTextNode(F))}return D},setAttributes:function(D,F){var E,C;for(var B in F){if(F[B]!=null&&F[B].toString){E=F[B].toString();C=this.namespaces[B.substring(0,B.indexOf(":"))]||null;this.setAttributeNS(D,C,B,E)}}},readNode:function(D,F){if(!F){F={}}var E=this.readers[D.namespaceURI?this.namespaceAlias[D.namespaceURI]:this.defaultPrefix];if(E){var C=D.localName||D.nodeName.split(":").pop();var B=E[C]||E["*"];if(B){B.apply(this,[D,F])}}return F},readChildNodes:function(E,F){if(!F){F={}}var D=E.childNodes;var G;for(var C=0,B=D.length;C<B;++C){G=D[C];if(G.nodeType==1){this.readNode(G,F)}}return F},writeNode:function(B,G,E){var F,D;var C=B.indexOf(":");if(C>0){F=B.substring(0,C);D=B.substring(C+1)}else{if(E){F=this.namespaceAlias[E.namespaceURI]}else{F=this.defaultPrefix}D=B}var H=this.writers[F][D].apply(this,[G]);if(E){E.appendChild(H)}return H},getChildEl:function(D,B,C){return D&&this.getThisOrNextEl(D.firstChild,B,C)},getNextEl:function(D,B,C){return D&&this.getThisOrNextEl(D.nextSibling,B,C)},getThisOrNextEl:function(E,B,D){outer:for(var C=E;C;C=C.nextSibling){switch(C.nodeType){case 1:if((!B||B===(C.localName||C.nodeName.split(":").pop()))&&(!D||D===C.namespaceURI)){break outer}C=null;break outer;case 3:if(/^\s*$/.test(C.nodeValue)){break}case 4:case 6:case 12:case 10:case 11:C=null;break outer}}return C||null},lookupNamespaceURI:function(F,G){var E=null;if(F){if(F.lookupNamespaceURI){E=F.lookupNamespaceURI(G)}else{outer:switch(F.nodeType){case 1:if(F.namespaceURI!==null&&F.prefix===G){E=F.namespaceURI;break outer}var C=F.attributes.length;if(C){var B;for(var D=0;D<C;++D){B=F.attributes[D];if(B.prefix==="xmlns"&&B.name==="xmlns:"+G){E=B.value||null;break outer}else{if(B.name==="xmlns"&&G===null){E=B.value||null;break outer}}}}E=this.lookupNamespaceURI(F.parentNode,G);break outer;case 2:E=this.lookupNamespaceURI(F.ownerElement,G);break outer;case 9:E=this.lookupNamespaceURI(F.documentElement,G);break outer;case 6:case 12:case 10:case 11:break outer;default:E=this.lookupNamespaceURI(F.parentNode,G);break outer}}}return E},getXMLDoc:function(){if(!OpenLayers.Format.XML.document&&!this.xmldom){if(document.implementation&&document.implementation.createDocument){OpenLayers.Format.XML.document=document.implementation.createDocument("","",null)}else{if(!this.xmldom&&window.ActiveXObject){this.xmldom=new ActiveXObject("Microsoft.XMLDOM")}}}return OpenLayers.Format.XML.document||this.xmldom},CLASS_NAME:"OpenLayers.Format.XML"});OpenLayers.Format.XML.CONTENT_TYPE={EMPTY:0,SIMPLE:1,COMPLEX:2,MIXED:3};OpenLayers.Format.XML.lookupNamespaceURI=OpenLayers.Function.bind(OpenLayers.Format.XML.prototype.lookupNamespaceURI,OpenLayers.Format.XML.prototype);OpenLayers.Format.XML.document=null;OpenLayers.Format.WFST=function(C){C=OpenLayers.Util.applyDefaults(C,OpenLayers.Format.WFST.DEFAULTS);var B=OpenLayers.Format.WFST["v"+C.version.replace(/\./g,"_")];if(!B){throw"Unsupported WFST version: "+C.version}return new B(C)};OpenLayers.Format.WFST.DEFAULTS={version:"1.0.0"};OpenLayers.Format.WFST.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance",wfs:"http://www.opengis.net/wfs",gml:"http://www.opengis.net/gml",ogc:"http://www.opengis.net/ogc",ows:"http://www.opengis.net/ows"},defaultPrefix:"wfs",version:null,schemaLocations:null,srsName:null,extractAttributes:true,xy:true,stateName:null,initialize:function(B){this.stateName={};this.stateName[OpenLayers.State.INSERT]="wfs:Insert";this.stateName[OpenLayers.State.UPDATE]="wfs:Update";this.stateName[OpenLayers.State.DELETE]="wfs:Delete";OpenLayers.Format.XML.prototype.initialize.apply(this,[B])},getSrsName:function(D,C){var B=C&&C.srsName;if(!B){if(D&&D.layer){B=D.layer.projection.getCode()}else{B=this.srsName}}return B},read:function(C,B){B=B||{};OpenLayers.Util.applyDefaults(B,{output:"features"});if(typeof C=="string"){C=OpenLayers.Format.XML.prototype.read.apply(this,[C])}if(C&&C.nodeType==9){C=C.documentElement}var D={};if(C){this.readNode(C,D,true)}if(D.features&&B.output==="features"){D=D.features}return D},readers:{wfs:{FeatureCollection:function(B,C){C.features=[];this.readChildNodes(B,C)}}},write:function(C,B){var D=this.writeNode("wfs:Transaction",{features:C,options:B});var E=this.schemaLocationAttr();if(E){this.setAttributeNS(D,this.namespaces.xsi,"xsi:schemaLocation",E)}return OpenLayers.Format.XML.prototype.write.apply(this,[D])},writers:{wfs:{GetFeature:function(C){var E=this.createElementNSPlus("wfs:GetFeature",{attributes:{service:"WFS",version:this.version,handle:C&&C.handle,outputFormat:C&&C.outputFormat,maxFeatures:C&&C.maxFeatures,"xsi:schemaLocation":this.schemaLocationAttr(C)}});if(typeof this.featureType=="string"){this.writeNode("Query",C,E)}else{for(var D=0,B=this.featureType.length;D<B;D++){C.featureType=this.featureType[D];this.writeNode("Query",C,E)}}return E},Transaction:function(I){I=I||{};var D=I.options||{};var H=this.createElementNSPlus("wfs:Transaction",{attributes:{service:"WFS",version:this.version,handle:D.handle}});var F,B;var G=I.features;if(G){if(D.multi===true){OpenLayers.Util.extend(this.geometryTypes,{"OpenLayers.Geometry.Point":"MultiPoint","OpenLayers.Geometry.LineString":(this.multiCurve===true)?"MultiCurve":"MultiLineString","OpenLayers.Geometry.Polygon":(this.multiSurface===true)?"MultiSurface":"MultiPolygon"})}var C,E;for(F=0,B=G.length;F<B;++F){E=G[F];C=this.stateName[E.state];if(C){this.writeNode(C,{feature:E,options:D},H)}}if(D.multi===true){this.setGeometryTypes()}}if(D.nativeElements){for(F=0,B=D.nativeElements.length;F<B;++F){this.writeNode("wfs:Native",D.nativeElements[F],H)}}return H},Native:function(C){var B=this.createElementNSPlus("wfs:Native",{attributes:{vendorId:C.vendorId,safeToIgnore:C.safeToIgnore},value:C.value});return B},Insert:function(E){var C=E.feature;var B=E.options;var D=this.createElementNSPlus("wfs:Insert",{attributes:{handle:B&&B.handle}});this.srsName=this.getSrsName(C);this.writeNode("feature:_typeName",C,D);return D},Update:function(G){var E=G.feature;var C=G.options;var F=this.createElementNSPlus("wfs:Update",{attributes:{handle:C&&C.handle,typeName:(this.featureNS?this.featurePrefix+":":"")+this.featureType}});if(this.featureNS){F.setAttribute("xmlns:"+this.featurePrefix,this.featureNS)}var B=E.modified;if(this.geometryName!==null&&(!B||B.geometry!==undefined)){this.srsName=this.getSrsName(E);this.writeNode("Property",{name:this.geometryName,value:E.geometry},F)}for(var D in E.attributes){if(E.attributes[D]!==undefined&&(!B||!B.attributes||(B.attributes&&B.attributes[D]!==undefined))){this.writeNode("Property",{name:D,value:E.attributes[D]},F)}}this.writeNode("ogc:Filter",new OpenLayers.Filter.FeatureId({fids:[E.fid]}),F);return F},Property:function(C){var B=this.createElementNSPlus("wfs:Property");this.writeNode("Name",C.name,B);if(C.value!==null){this.writeNode("Value",C.value,B)}return B},Name:function(B){return this.createElementNSPlus("wfs:Name",{value:B})},Value:function(D){var C;if(D instanceof OpenLayers.Geometry){C=this.createElementNSPlus("wfs:Value");var B=this.writeNode("feature:_geometry",D).firstChild;C.appendChild(B)}else{C=this.createElementNSPlus("wfs:Value",{value:D})}return C},Delete:function(E){var C=E.feature;var B=E.options;var D=this.createElementNSPlus("wfs:Delete",{attributes:{handle:B&&B.handle,typeName:(this.featureNS?this.featurePrefix+":":"")+this.featureType}});if(this.featureNS){D.setAttribute("xmlns:"+this.featurePrefix,this.featureNS)}this.writeNode("ogc:Filter",new OpenLayers.Filter.FeatureId({fids:[C.fid]}),D);return D}}},schemaLocationAttr:function(B){B=OpenLayers.Util.extend({featurePrefix:this.featurePrefix,schema:this.schema},B);var G=OpenLayers.Util.extend({},this.schemaLocations);if(B.schema){G[B.featurePrefix]=B.schema}var F=[];var D;for(var C in G){D=this.namespaces[C];if(D){F.push(D+" "+G[C])}}var E=F.join(" ")||undefined;return E},setFilterProperty:function(D){if(D.filters){for(var C=0,B=D.filters.length;C<B;++C){OpenLayers.Format.WFST.v1.prototype.setFilterProperty.call(this,D.filters[C])}}else{if(D instanceof OpenLayers.Filter.Spatial&&!D.property){D.property=this.geometryName}}},CLASS_NAME:"OpenLayers.Format.WFST.v1"});OpenLayers.Format.OGCExceptionReport=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ogc:"http://www.opengis.net/ogc"},regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},defaultPrefix:"ogc",read:function(D){var B;if(typeof D=="string"){D=OpenLayers.Format.XML.prototype.read.apply(this,[D])}var C=D.documentElement;var E={exceptionReport:null};if(C){this.readChildNodes(D,E);if(E.exceptionReport===null){E=new OpenLayers.Format.OWSCommon().read(D)}}return E},readers:{ogc:{ServiceExceptionReport:function(B,C){C.exceptionReport={exceptions:[]};this.readChildNodes(B,C.exceptionReport)},ServiceException:function(C,D){var B={code:C.getAttribute("code"),locator:C.getAttribute("locator"),text:this.getChildValue(C)};D.exceptions.push(B)}}},CLASS_NAME:"OpenLayers.Format.OGCExceptionReport"});OpenLayers.Format.XML.VersionedOGC=OpenLayers.Class(OpenLayers.Format.XML,{defaultVersion:null,version:null,profile:null,errorProperty:null,name:null,stringifyOutput:false,parser:null,initialize:function(B){OpenLayers.Format.XML.prototype.initialize.apply(this,[B]);var C=this.CLASS_NAME;this.name=C.substring(C.lastIndexOf(".")+1)},getVersion:function(C,D){var B;if(C){B=this.version;if(!B){B=C.getAttribute("version");if(!B){B=this.defaultVersion}}}else{B=(D&&D.version)||this.version||this.defaultVersion}return B},getParser:function(B){B=B||this.defaultVersion;var C=this.profile?"_"+this.profile:"";if(!this.parser||this.parser.VERSION!=B){var D=OpenLayers.Format[this.name]["v"+B.replace(/\./g,"_")+C];if(!D){throw"Can't find a "+this.name+" parser for version "+B+C}this.parser=new D(this.options)}return this.parser},write:function(E,D){var C=this.getVersion(null,D);this.parser=this.getParser(C);var B=this.parser.write(E,D);if(this.stringifyOutput===false){return B}else{return OpenLayers.Format.XML.prototype.write.apply(this,[B])}},read:function(E,D){if(typeof E=="string"){E=OpenLayers.Format.XML.prototype.read.apply(this,[E])}var C=E.documentElement;var B=this.getVersion(C);this.parser=this.getParser(B);var G=this.parser.read(E,D);if(this.errorProperty!==null&&G[this.errorProperty]===undefined){var F=new OpenLayers.Format.OGCExceptionReport();G.error=F.read(E)}G.version=B;return G},CLASS_NAME:"OpenLayers.Format.XML.VersionedOGC"});OpenLayers.Feature=OpenLayers.Class({layer:null,id:null,lonlat:null,data:null,marker:null,popupClass:null,popup:null,initialize:function(B,D,C){this.layer=B;this.lonlat=D;this.data=(C!=null)?C:{};this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){if((this.layer!=null)&&(this.layer.map!=null)){if(this.popup!=null){this.layer.map.removePopup(this.popup)}}if(this.layer!=null&&this.marker!=null){this.layer.removeMarker(this.marker)}this.layer=null;this.id=null;this.lonlat=null;this.data=null;if(this.marker!=null){this.destroyMarker(this.marker);this.marker=null}if(this.popup!=null){this.destroyPopup(this.popup);this.popup=null}},onScreen:function(){var C=false;if((this.layer!=null)&&(this.layer.map!=null)){var B=this.layer.map.getExtent();C=B.containsLonLat(this.lonlat)}return C},createMarker:function(){if(this.lonlat!=null){this.marker=new OpenLayers.Marker(this.lonlat,this.data.icon)}return this.marker},destroyMarker:function(){this.marker.destroy()},createPopup:function(C){if(this.lonlat!=null){if(!this.popup){var B=(this.marker)?this.marker.icon:null;var D=this.popupClass?this.popupClass:OpenLayers.Popup.Anchored;this.popup=new D(this.id+"_popup",this.lonlat,this.data.popupSize,this.data.popupContentHTML,B,C)}if(this.data.overflow!=null){this.popup.contentDiv.style.overflow=this.data.overflow}this.popup.feature=this}return this.popup},destroyPopup:function(){if(this.popup){this.popup.feature=null;this.popup.destroy();this.popup=null}},CLASS_NAME:"OpenLayers.Feature"});OpenLayers.State={UNKNOWN:"Unknown",INSERT:"Insert",UPDATE:"Update",DELETE:"Delete"};OpenLayers.Feature.Vector=OpenLayers.Class(OpenLayers.Feature,{fid:null,geometry:null,attributes:null,bounds:null,state:null,style:null,url:null,renderIntent:"default",modified:null,initialize:function(D,B,C){OpenLayers.Feature.prototype.initialize.apply(this,[null,null,B]);this.lonlat=null;this.geometry=D?D:null;this.state=null;this.attributes={};if(B){this.attributes=OpenLayers.Util.extend(this.attributes,B)}this.style=C?C:null},destroy:function(){if(this.layer){this.layer.removeFeatures(this);this.layer=null}this.geometry=null;this.modified=null;OpenLayers.Feature.prototype.destroy.apply(this,arguments)},clone:function(){return new OpenLayers.Feature.Vector(this.geometry?this.geometry.clone():null,this.attributes,this.style)},onScreen:function(E){var D=false;if(this.layer&&this.layer.map){var B=this.layer.map.getExtent();if(E){var C=this.geometry.getBounds();D=B.intersectsBounds(C)}else{var F=B.toGeometry();D=F.intersects(this.geometry)}}return D},getVisibility:function(){return !(this.style&&this.style.display=="none"||!this.layer||this.layer&&this.layer.styleMap&&this.layer.styleMap.createSymbolizer(this,this.renderIntent).display=="none"||this.layer&&!this.layer.getVisibility())},createMarker:function(){return null},destroyMarker:function(){},createPopup:function(){return null},atPoint:function(C,E,D){var B=false;if(this.geometry){B=this.geometry.atPoint(C,E,D)}return B},destroyPopup:function(){},move:function(B){if(!this.layer||!this.geometry.move){return undefined}var C;if(B.CLASS_NAME=="OpenLayers.LonLat"){C=this.layer.getViewPortPxFromLonLat(B)}else{C=B}var E=this.layer.getViewPortPxFromLonLat(this.geometry.getBounds().getCenterLonLat());var D=this.layer.map.getResolution();this.geometry.move(D*(C.x-E.x),D*(E.y-C.y));this.layer.drawFeature(this);return E},toState:function(B){if(B==OpenLayers.State.UPDATE){switch(this.state){case OpenLayers.State.UNKNOWN:case OpenLayers.State.DELETE:this.state=B;break;case OpenLayers.State.UPDATE:case OpenLayers.State.INSERT:break}}else{if(B==OpenLayers.State.INSERT){switch(this.state){case OpenLayers.State.UNKNOWN:break;default:this.state=B;break}}else{if(B==OpenLayers.State.DELETE){switch(this.state){case OpenLayers.State.INSERT:break;case OpenLayers.State.DELETE:break;case OpenLayers.State.UNKNOWN:case OpenLayers.State.UPDATE:this.state=B;break}}else{if(B==OpenLayers.State.UNKNOWN){this.state=B}}}}},CLASS_NAME:"OpenLayers.Feature.Vector"});OpenLayers.Feature.Vector.style={"default":{fillColor:"#ee9900",fillOpacity:0.4,hoverFillColor:"white",hoverFillOpacity:0.8,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:0.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"inherit",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},select:{fillColor:"blue",fillOpacity:0.4,hoverFillColor:"white",hoverFillOpacity:0.8,strokeColor:"blue",strokeOpacity:1,strokeWidth:2,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:0.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"pointer",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},temporary:{fillColor:"#66cccc",fillOpacity:0.2,hoverFillColor:"white",hoverFillOpacity:0.8,strokeColor:"#66cccc",strokeOpacity:1,strokeLinecap:"round",strokeWidth:2,strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:0.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"inherit",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},"delete":{display:"none"}};OpenLayers.Style=OpenLayers.Class({id:null,name:null,title:null,description:null,layerName:null,isDefault:false,rules:null,context:null,defaultStyle:null,defaultsPerSymbolizer:false,propertyStyles:null,initialize:function(C,B){OpenLayers.Util.extend(this,B);this.rules=[];if(B&&B.rules){this.addRules(B.rules)}this.setDefaultStyle(C||OpenLayers.Feature.Vector.style["default"]);this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){for(var C=0,B=this.rules.length;C<B;C++){this.rules[C].destroy();this.rules[C]=null}this.rules=null;this.defaultStyle=null},createSymbolizer:function(K){var B=this.defaultsPerSymbolizer?{}:this.createLiterals(OpenLayers.Util.extend({},this.defaultStyle),K);var J=this.rules;var I,C;var D=[];var G=false;for(var E=0,F=J.length;E<F;E++){I=J[E];var H=I.evaluate(K);if(H){if(I instanceof OpenLayers.Rule&&I.elseFilter){D.push(I)}else{G=true;this.applySymbolizer(I,B,K)}}}if(G==false&&D.length>0){G=true;for(var E=0,F=D.length;E<F;E++){this.applySymbolizer(D[E],B,K)}}if(J.length>0&&G==false){B.display="none"}if(B.label!=null&&typeof B.label!=="string"){B.label=String(B.label)}return B},applySymbolizer:function(G,E,C){var B=C.geometry?this.getSymbolizerPrefix(C.geometry):OpenLayers.Style.SYMBOLIZER_PREFIXES[0];var D=G.symbolizer[B]||G.symbolizer;if(this.defaultsPerSymbolizer===true){var F=this.defaultStyle;OpenLayers.Util.applyDefaults(D,{pointRadius:F.pointRadius});if(D.stroke===true||D.graphic===true){OpenLayers.Util.applyDefaults(D,{strokeWidth:F.strokeWidth,strokeColor:F.strokeColor,strokeOpacity:F.strokeOpacity,strokeDashstyle:F.strokeDashstyle,strokeLinecap:F.strokeLinecap})}if(D.fill===true||D.graphic===true){OpenLayers.Util.applyDefaults(D,{fillColor:F.fillColor,fillOpacity:F.fillOpacity})}if(D.graphic===true){OpenLayers.Util.applyDefaults(D,{pointRadius:this.defaultStyle.pointRadius,externalGraphic:this.defaultStyle.externalGraphic,graphicName:this.defaultStyle.graphicName,graphicOpacity:this.defaultStyle.graphicOpacity,graphicWidth:this.defaultStyle.graphicWidth,graphicHeight:this.defaultStyle.graphicHeight,graphicXOffset:this.defaultStyle.graphicXOffset,graphicYOffset:this.defaultStyle.graphicYOffset})}}return this.createLiterals(OpenLayers.Util.extend(E,D),C)},createLiterals:function(E,D){var C=OpenLayers.Util.extend({},D.attributes||D.data);OpenLayers.Util.extend(C,this.context);for(var B in this.propertyStyles){E[B]=OpenLayers.Style.createLiteral(E[B],C,D,B)}return E},findPropertyStyles:function(){var E={};var G=this.defaultStyle;this.addPropertyStyles(E,G);var I=this.rules;var F,H;for(var D=0,B=I.length;D<B;D++){F=I[D].symbolizer;for(var C in F){H=F[C];if(typeof H=="object"){this.addPropertyStyles(E,H)}else{this.addPropertyStyles(E,F);break}}}return E},addPropertyStyles:function(C,D){var E;for(var B in D){E=D[B];if(typeof E=="string"&&E.match(/\$\{\w+\}/)){C[B]=true}}return C},addRules:function(B){Array.prototype.push.apply(this.rules,B);this.propertyStyles=this.findPropertyStyles()},setDefaultStyle:function(B){this.defaultStyle=B;this.propertyStyles=this.findPropertyStyles()},getSymbolizerPrefix:function(E){var D=OpenLayers.Style.SYMBOLIZER_PREFIXES;for(var C=0,B=D.length;C<B;C++){if(E.CLASS_NAME.indexOf(D[C])!=-1){return D[C]}}},clone:function(){var C=OpenLayers.Util.extend({},this);if(this.rules){C.rules=[];for(var D=0,B=this.rules.length;D<B;++D){C.rules.push(this.rules[D].clone())}}C.context=this.context&&OpenLayers.Util.extend({},this.context);var E=OpenLayers.Util.extend({},this.defaultStyle);return new OpenLayers.Style(E,C)},CLASS_NAME:"OpenLayers.Style"});OpenLayers.Style.createLiteral=function(E,C,B,D){if(typeof E=="string"&&E.indexOf("${")!=-1){E=OpenLayers.String.format(E,C,[B,D]);E=(isNaN(E)||!E)?E:parseFloat(E)}return E};OpenLayers.Style.SYMBOLIZER_PREFIXES=["Point","Line","Polygon","Text","Raster"];OpenLayers.Filter=OpenLayers.Class({initialize:function(B){OpenLayers.Util.extend(this,B)},destroy:function(){},evaluate:function(B){return true},clone:function(){return null},toString:function(){var B;if(OpenLayers.Format&&OpenLayers.Format.CQL){B=OpenLayers.Format.CQL.prototype.write(this)}else{B=Object.prototype.toString.call(this)}return B},CLASS_NAME:"OpenLayers.Filter"});OpenLayers.Filter.FeatureId=OpenLayers.Class(OpenLayers.Filter,{fids:null,type:"FID",initialize:function(B){this.fids=[];OpenLayers.Filter.prototype.initialize.apply(this,[B])},evaluate:function(D){for(var C=0,B=this.fids.length;C<B;C++){var E=D.fid||D.id;if(E==this.fids[C]){return true}}return false},clone:function(){var B=new OpenLayers.Filter.FeatureId();OpenLayers.Util.extend(B,this);B.fids=this.fids.slice();return B},CLASS_NAME:"OpenLayers.Filter.FeatureId"});OpenLayers.Filter.Logical=OpenLayers.Class(OpenLayers.Filter,{filters:null,type:null,initialize:function(B){this.filters=[];OpenLayers.Filter.prototype.initialize.apply(this,[B])},destroy:function(){this.filters=null;OpenLayers.Filter.prototype.destroy.apply(this)},evaluate:function(D){var C,B;switch(this.type){case OpenLayers.Filter.Logical.AND:for(C=0,B=this.filters.length;C<B;C++){if(this.filters[C].evaluate(D)==false){return false}}return true;case OpenLayers.Filter.Logical.OR:for(C=0,B=this.filters.length;C<B;C++){if(this.filters[C].evaluate(D)==true){return true}}return false;case OpenLayers.Filter.Logical.NOT:return(!this.filters[0].evaluate(D))}return undefined},clone:function(){var D=[];for(var C=0,B=this.filters.length;C<B;++C){D.push(this.filters[C].clone())}return new OpenLayers.Filter.Logical({type:this.type,filters:D})},CLASS_NAME:"OpenLayers.Filter.Logical"});OpenLayers.Filter.Logical.AND="&&";OpenLayers.Filter.Logical.OR="||";OpenLayers.Filter.Logical.NOT="!";OpenLayers.Filter.Comparison=OpenLayers.Class(OpenLayers.Filter,{type:null,property:null,value:null,matchCase:true,lowerBoundary:null,upperBoundary:null,initialize:function(B){OpenLayers.Filter.prototype.initialize.apply(this,[B]);if(this.type===OpenLayers.Filter.Comparison.LIKE&&B.matchCase===undefined){this.matchCase=null}},evaluate:function(D){if(D instanceof OpenLayers.Feature.Vector){D=D.attributes}var B=false;var C=D[this.property];var F;switch(this.type){case OpenLayers.Filter.Comparison.EQUAL_TO:F=this.value;if(!this.matchCase&&typeof C=="string"&&typeof F=="string"){B=(C.toUpperCase()==F.toUpperCase())}else{B=(C==F)}break;case OpenLayers.Filter.Comparison.NOT_EQUAL_TO:F=this.value;if(!this.matchCase&&typeof C=="string"&&typeof F=="string"){B=(C.toUpperCase()!=F.toUpperCase())}else{B=(C!=F)}break;case OpenLayers.Filter.Comparison.LESS_THAN:B=C<this.value;break;case OpenLayers.Filter.Comparison.GREATER_THAN:B=C>this.value;break;case OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO:B=C<=this.value;break;case OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO:B=C>=this.value;break;case OpenLayers.Filter.Comparison.BETWEEN:B=(C>=this.lowerBoundary)&&(C<=this.upperBoundary);break;case OpenLayers.Filter.Comparison.LIKE:var E=new RegExp(this.value,"gi");B=E.test(C);break}return B},value2regex:function(D,C,B){if(D=="."){throw new Error("'.' is an unsupported wildCard character for OpenLayers.Filter.Comparison")}D=D?D:"*";C=C?C:".";B=B?B:"!";this.value=this.value.replace(new RegExp("\\"+B+"(.|$)","g"),"\\$1");this.value=this.value.replace(new RegExp("\\"+C,"g"),".");this.value=this.value.replace(new RegExp("\\"+D,"g"),".*");this.value=this.value.replace(new RegExp("\\\\.\\*","g"),"\\"+D);this.value=this.value.replace(new RegExp("\\\\\\.","g"),"\\"+C);return this.value},regex2value:function(){var B=this.value;B=B.replace(/!/g,"!!");B=B.replace(/(\\)?\\\./g,function(D,C){return C?D:"!."});B=B.replace(/(\\)?\\\*/g,function(D,C){return C?D:"!*"});B=B.replace(/\\\\/g,"\\");B=B.replace(/\.\*/g,"*");return B},clone:function(){return OpenLayers.Util.extend(new OpenLayers.Filter.Comparison(),this)},CLASS_NAME:"OpenLayers.Filter.Comparison"});OpenLayers.Filter.Comparison.EQUAL_TO="==";OpenLayers.Filter.Comparison.NOT_EQUAL_TO="!=";OpenLayers.Filter.Comparison.LESS_THAN="<";OpenLayers.Filter.Comparison.GREATER_THAN=">";OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO="<=";OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO=">=";OpenLayers.Filter.Comparison.BETWEEN="..";OpenLayers.Filter.Comparison.LIKE="~";OpenLayers.Format.Filter=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",CLASS_NAME:"OpenLayers.Format.Filter"});OpenLayers.Filter.Function=OpenLayers.Class(OpenLayers.Filter,{name:null,params:null,CLASS_NAME:"OpenLayers.Filter.Function"});OpenLayers.Format.Filter.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ogc:"http://www.opengis.net/ogc",gml:"http://www.opengis.net/gml",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},defaultPrefix:"ogc",schemaLocation:null,initialize:function(B){OpenLayers.Format.XML.prototype.initialize.apply(this,[B])},read:function(B){var C={};this.readers.ogc.Filter.apply(this,[B,C]);return C.filter},readers:{ogc:{_expression:function(B){var D,C="";for(var E=B.firstChild;E;E=E.nextSibling){switch(E.nodeType){case 1:D=this.readNode(E);if(D.property){C+="${"+D.property+"}"}else{if(D.value!==undefined){C+=D.value}}break;case 3:case 4:C+=E.nodeValue}}return C},Filter:function(C,B){var D={fids:[],filters:[]};this.readChildNodes(C,D);if(D.fids.length>0){B.filter=new OpenLayers.Filter.FeatureId({fids:D.fids})}else{if(D.filters.length>0){B.filter=D.filters[0]}}},FeatureId:function(B,C){var D=B.getAttribute("fid");if(D){C.fids.push(D)}},And:function(C,D){var B=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND});this.readChildNodes(C,B);D.filters.push(B)},Or:function(C,D){var B=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.OR});this.readChildNodes(C,B);D.filters.push(B)},Not:function(C,D){var B=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.NOT});this.readChildNodes(C,B);D.filters.push(B)},PropertyIsLessThan:function(C,D){var B=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN});this.readChildNodes(C,B);D.filters.push(B)},PropertyIsGreaterThan:function(C,D){var B=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN});this.readChildNodes(C,B);D.filters.push(B)},PropertyIsLessThanOrEqualTo:function(C,D){var B=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO});this.readChildNodes(C,B);D.filters.push(B)},PropertyIsGreaterThanOrEqualTo:function(C,D){var B=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO});this.readChildNodes(C,B);D.filters.push(B)},PropertyIsBetween:function(C,D){var B=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.BETWEEN});this.readChildNodes(C,B);D.filters.push(B)},Literal:function(B,C){C.value=OpenLayers.String.numericIf(this.getChildValue(B))},PropertyName:function(C,B){B.property=this.getChildValue(C)},LowerBoundary:function(C,B){B.lowerBoundary=OpenLayers.String.numericIf(this.readers.ogc._expression.call(this,C))},UpperBoundary:function(C,B){B.upperBoundary=OpenLayers.String.numericIf(this.readers.ogc._expression.call(this,C))},Intersects:function(B,C){this.readSpatial(B,C,OpenLayers.Filter.Spatial.INTERSECTS)},Within:function(B,C){this.readSpatial(B,C,OpenLayers.Filter.Spatial.WITHIN)},Contains:function(B,C){this.readSpatial(B,C,OpenLayers.Filter.Spatial.CONTAINS)},DWithin:function(B,C){this.readSpatial(B,C,OpenLayers.Filter.Spatial.DWITHIN)},Distance:function(B,C){C.distance=parseInt(this.getChildValue(B));C.distanceUnits=B.getAttribute("units")},Function:function(B,C){return }}},readSpatial:function(D,E,C){var B=new OpenLayers.Filter.Spatial({type:C});this.readChildNodes(D,B);B.value=B.components[0];delete B.components;E.filters.push(B)},writeOgcExpression:function(C,B){if(C instanceof OpenLayers.Filter.Function){var D=this.writeNode("Function",C,B);B.appendChild(D)}else{this.writeNode("Literal",C,B)}return B},write:function(B){return this.writers.ogc.Filter.apply(this,[B])},writeFeatureIdNodes:function(D,E){for(var B=0,C=D.fids.length;B<C;++B){this.writeNode("FeatureId",D.fids[B],E)}},writers:{ogc:{Filter:function(B){var C=this.createElementNSPlus("ogc:Filter");if(B.type==="FID"){OpenLayers.Format.Filter.v1.prototype.writeFeatureIdNodes.call(this,B,C)}else{this.writeNode(this.getFilterType(B),B,C)}return C},FeatureId:function(B){return this.createElementNSPlus("ogc:FeatureId",{attributes:{fid:B}})},And:function(E){var F=this.createElementNSPlus("ogc:And");var D;for(var B=0,C=E.filters.length;B<C;++B){D=E.filters[B];if(D.type==="FID"){OpenLayers.Format.Filter.v1.prototype.writeFeatureIdNodes.call(this,D,F)}else{this.writeNode(this.getFilterType(D),D,F)}}return F},Or:function(E){var F=this.createElementNSPlus("ogc:Or");var D;for(var B=0,C=E.filters.length;B<C;++B){D=E.filters[B];if(D.type==="FID"){OpenLayers.Format.Filter.v1.prototype.writeFeatureIdNodes.call(this,D,F)}else{this.writeNode(this.getFilterType(D),D,F)}}return F},Not:function(C){var D=this.createElementNSPlus("ogc:Not");var B=C.filters[0];if(B.type==="FID"){OpenLayers.Format.Filter.v1.prototype.writeFeatureIdNodes.call(this,B,D)}else{this.writeNode(this.getFilterType(B),B,D)}return D},PropertyIsLessThan:function(B){var C=this.createElementNSPlus("ogc:PropertyIsLessThan");this.writeNode("PropertyName",B,C);this.writeOgcExpression(B.value,C);return C},PropertyIsGreaterThan:function(B){var C=this.createElementNSPlus("ogc:PropertyIsGreaterThan");this.writeNode("PropertyName",B,C);this.writeOgcExpression(B.value,C);return C},PropertyIsLessThanOrEqualTo:function(B){var C=this.createElementNSPlus("ogc:PropertyIsLessThanOrEqualTo");this.writeNode("PropertyName",B,C);this.writeOgcExpression(B.value,C);return C},PropertyIsGreaterThanOrEqualTo:function(B){var C=this.createElementNSPlus("ogc:PropertyIsGreaterThanOrEqualTo");this.writeNode("PropertyName",B,C);this.writeOgcExpression(B.value,C);return C},PropertyIsBetween:function(B){var C=this.createElementNSPlus("ogc:PropertyIsBetween");this.writeNode("PropertyName",B,C);this.writeNode("LowerBoundary",B,C);this.writeNode("UpperBoundary",B,C);return C},PropertyName:function(B){return this.createElementNSPlus("ogc:PropertyName",{value:B.property})},Literal:function(B){return this.createElementNSPlus("ogc:Literal",{value:B})},LowerBoundary:function(B){var C=this.createElementNSPlus("ogc:LowerBoundary");this.writeOgcExpression(B.lowerBoundary,C);return C},UpperBoundary:function(B){var C=this.createElementNSPlus("ogc:UpperBoundary");this.writeNode("Literal",B.upperBoundary,C);return C},INTERSECTS:function(B){return this.writeSpatial(B,"Intersects")},WITHIN:function(B){return this.writeSpatial(B,"Within")},CONTAINS:function(B){return this.writeSpatial(B,"Contains")},DWITHIN:function(B){var C=this.writeSpatial(B,"DWithin");this.writeNode("Distance",B,C);return C},Distance:function(B){return this.createElementNSPlus("ogc:Distance",{attributes:{units:B.distanceUnits},value:B.distance})},Function:function(D){var E=this.createElementNSPlus("ogc:Function",{attributes:{name:D.name}});var F=D.params;for(var C=0,B=F.length;C<B;C++){this.writeOgcExpression(F[C],E)}return E}}},getFilterType:function(B){var C=this.filterMap[B.type];if(!C){throw"Filter writing not supported for rule type: "+B.type}return C},filterMap:{"&&":"And","||":"Or","!":"Not","==":"PropertyIsEqualTo","!=":"PropertyIsNotEqualTo","<":"PropertyIsLessThan",">":"PropertyIsGreaterThan","<=":"PropertyIsLessThanOrEqualTo",">=":"PropertyIsGreaterThanOrEqualTo","..":"PropertyIsBetween","~":"PropertyIsLike",BBOX:"BBOX",DWITHIN:"DWITHIN",WITHIN:"WITHIN",CONTAINS:"CONTAINS",INTERSECTS:"INTERSECTS",FID:"FeatureId"},CLASS_NAME:"OpenLayers.Format.Filter.v1"});OpenLayers.Geometry=OpenLayers.Class({id:null,parent:null,bounds:null,initialize:function(){this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){this.id=null;this.bounds=null},clone:function(){return new OpenLayers.Geometry()},setBounds:function(B){if(B){this.bounds=B.clone()}},clearBounds:function(){this.bounds=null;if(this.parent){this.parent.clearBounds()}},extendBounds:function(C){var B=this.getBounds();if(!B){this.setBounds(C)}else{this.bounds.extend(C)}},getBounds:function(){if(this.bounds==null){this.calculateBounds()}return this.bounds},calculateBounds:function(){},distanceTo:function(C,B){},getVertices:function(B){},atPoint:function(F,I,G){var D=false;var E=this.getBounds();if((E!=null)&&(F!=null)){var C=(I!=null)?I:0;var B=(G!=null)?G:0;var H=new OpenLayers.Bounds(this.bounds.left-C,this.bounds.bottom-B,this.bounds.right+C,this.bounds.top+B);D=H.containsLonLat(F)}return D},getLength:function(){return 0},getArea:function(){return 0},getCentroid:function(){return null},toString:function(){var B;if(OpenLayers.Format&&OpenLayers.Format.WKT){B=OpenLayers.Format.WKT.prototype.write(new OpenLayers.Feature.Vector(this))}else{B=Object.prototype.toString.call(this)}return B},CLASS_NAME:"OpenLayers.Geometry"});OpenLayers.Geometry.fromWKT=function(G){var E;if(OpenLayers.Format&&OpenLayers.Format.WKT){var H=OpenLayers.Geometry.fromWKT.format;if(!H){H=new OpenLayers.Format.WKT();OpenLayers.Geometry.fromWKT.format=H}var C=H.read(G);if(C instanceof OpenLayers.Feature.Vector){E=C.geometry}else{if(OpenLayers.Util.isArray(C)){var B=C.length;var F=new Array(B);for(var D=0;D<B;++D){F[D]=C[D].geometry}E=new OpenLayers.Geometry.Collection(F)}}}return E};OpenLayers.Geometry.segmentsIntersect=function(B,g,C){var P=C&&C.point;var U=C&&C.tolerance;var F=false;var W=B.x1-g.x1;var b=B.y1-g.y1;var M=B.x2-B.x1;var T=B.y2-B.y1;var Q=g.y2-g.y1;var J=g.x2-g.x1;var Z=(Q*M)-(J*T);var E=(J*b)-(Q*W);var D=(M*b)-(T*W);if(Z==0){if(E==0&&D==0){F=true}}else{var a=E/Z;var Y=D/Z;if(a>=0&&a<=1&&Y>=0&&Y<=1){if(!P){F=true}else{var H=B.x1+(a*M);var G=B.y1+(a*T);F=new OpenLayers.Geometry.Point(H,G)}}}if(U){var O;if(F){if(P){var L=[B,g];var V,H,G;outer:for(var S=0;S<2;++S){V=L[S];for(var R=1;R<3;++R){H=V["x"+R];G=V["y"+R];O=Math.sqrt(Math.pow(H-F.x,2)+Math.pow(G-F.y,2));if(O<U){F.x=H;F.y=G;break outer}}}}}else{var L=[B,g];var N,f,H,G,K,I;outer:for(var S=0;S<2;++S){N=L[S];f=L[(S+1)%2];for(var R=1;R<3;++R){K={x:N["x"+R],y:N["y"+R]};I=OpenLayers.Geometry.distanceToSegment(K,f);if(I.distance<U){if(P){F=new OpenLayers.Geometry.Point(K.x,K.y)}else{F=true}break outer}}}}}return F};OpenLayers.Geometry.distanceToSegment=function(L,E){var D=L.x;var K=L.y;var C=E.x1;var J=E.y1;var B=E.x2;var G=E.y2;var N=B-C;var M=G-J;var I=((N*(D-C))+(M*(K-J)))/(Math.pow(N,2)+Math.pow(M,2));var H,F;if(I<=0){H=C;F=J}else{if(I>=1){H=B;F=G}else{H=C+I*N;F=J+I*M}}return{distance:Math.sqrt(Math.pow(H-D,2)+Math.pow(F-K,2)),x:H,y:F}};OpenLayers.Geometry.Point=OpenLayers.Class(OpenLayers.Geometry,{x:null,y:null,initialize:function(B,C){OpenLayers.Geometry.prototype.initialize.apply(this,arguments);this.x=parseFloat(B);this.y=parseFloat(C)},clone:function(B){if(B==null){B=new OpenLayers.Geometry.Point(this.x,this.y)}OpenLayers.Util.applyDefaults(B,this);return B},calculateBounds:function(){this.bounds=new OpenLayers.Bounds(this.x,this.y,this.x,this.y)},distanceTo:function(G,K){var E=!(K&&K.edge===false);var B=E&&K&&K.details;var C,F,I,D,H,J;if(G instanceof OpenLayers.Geometry.Point){F=this.x;I=this.y;D=G.x;H=G.y;C=Math.sqrt(Math.pow(F-D,2)+Math.pow(I-H,2));J=!B?C:{x0:F,y0:I,x1:D,y1:H,distance:C}}else{J=G.distanceTo(this,K);if(B){J={x0:J.x1,y0:J.y1,x1:J.x0,y1:J.y0,distance:J.distance}}}return J},equals:function(B){var C=false;if(B!=null){C=((this.x==B.x&&this.y==B.y)||(isNaN(this.x)&&isNaN(this.y)&&isNaN(B.x)&&isNaN(B.y)))}return C},toShortString:function(){return(this.x+", "+this.y)},move:function(B,C){this.x=this.x+B;this.y=this.y+C;this.clearBounds()},rotate:function(E,C){E*=Math.PI/180;var B=this.distanceTo(C);var D=E+Math.atan2(this.y-C.y,this.x-C.x);this.x=C.x+(B*Math.cos(D));this.y=C.y+(B*Math.sin(D));this.clearBounds()},getCentroid:function(){return new OpenLayers.Geometry.Point(this.x,this.y)},resize:function(D,B,C){C=(C==undefined)?1:C;this.x=B.x+(D*C*(this.x-B.x));this.y=B.y+(D*(this.y-B.y));this.clearBounds();return this},intersects:function(C){var B=false;if(C.CLASS_NAME=="OpenLayers.Geometry.Point"){B=this.equals(C)}else{B=C.intersects(this)}return B},transform:function(C,B){if((C&&B)){OpenLayers.Projection.transform(this,C,B);this.bounds=null}return this},getVertices:function(B){return[this]},CLASS_NAME:"OpenLayers.Geometry.Point"});OpenLayers.Geometry.Collection=OpenLayers.Class(OpenLayers.Geometry,{components:null,componentTypes:null,initialize:function(B){OpenLayers.Geometry.prototype.initialize.apply(this,arguments);this.components=[];if(B!=null){this.addComponents(B)}},destroy:function(){this.components.length=0;this.components=null;OpenLayers.Geometry.prototype.destroy.apply(this,arguments)},clone:function(){var geometry=eval("new "+this.CLASS_NAME+"()");for(var i=0,len=this.components.length;i<len;i++){geometry.addComponent(this.components[i].clone())}OpenLayers.Util.applyDefaults(geometry,this);return geometry},getComponentsString:function(){var C=[];for(var D=0,B=this.components.length;D<B;D++){C.push(this.components[D].toShortString())}return C.join(",")},calculateBounds:function(){this.bounds=null;var E=new OpenLayers.Bounds();var D=this.components;if(D){for(var C=0,B=D.length;C<B;C++){E.extend(D[C].getBounds())}}if(E.left!=null&&E.bottom!=null&&E.right!=null&&E.top!=null){this.setBounds(E)}},addComponents:function(D){if(!(OpenLayers.Util.isArray(D))){D=[D]}for(var C=0,B=D.length;C<B;C++){this.addComponent(D[C])}},addComponent:function(C,B){var E=false;if(C){if(this.componentTypes==null||(OpenLayers.Util.indexOf(this.componentTypes,C.CLASS_NAME)>-1)){if(B!=null&&(B<this.components.length)){var F=this.components.slice(0,B);var D=this.components.slice(B,this.components.length);F.push(C);this.components=F.concat(D)}else{this.components.push(C)}C.parent=this;this.clearBounds();E=true}}return E},removeComponents:function(C){var D=false;if(!(OpenLayers.Util.isArray(C))){C=[C]}for(var B=C.length-1;B>=0;--B){D=this.removeComponent(C[B])||D}return D},removeComponent:function(B){OpenLayers.Util.removeItem(this.components,B);this.clearBounds();return true},getLength:function(){var D=0;for(var C=0,B=this.components.length;C<B;C++){D+=this.components[C].getLength()}return D},getArea:function(){var D=0;for(var C=0,B=this.components.length;C<B;C++){D+=this.components[C].getArea()}return D},getGeodesicArea:function(C){var E=0;for(var D=0,B=this.components.length;D<B;D++){E+=this.components[D].getGeodesicArea(C)}return E},getCentroid:function(H){if(!H){return this.components.length&&this.components[0].getCentroid()}var L=this.components.length;if(!L){return false}var C=[];var D=[];var E=0;var I=Number.MAX_VALUE;var M;for(var K=0;K<L;++K){M=this.components[K];var F=M.getArea();var G=M.getCentroid(true);if(isNaN(F)||isNaN(G.x)||isNaN(G.y)){continue}C.push(F);E+=F;I=(F<I&&F>0)?F:I;D.push(G)}L=C.length;if(E===0){for(var K=0;K<L;++K){C[K]=1}E=C.length}else{for(var K=0;K<L;++K){C[K]/=I}E/=I}var J=0,B=0,G,F;for(var K=0;K<L;++K){G=D[K];F=C[K];J+=G.x*F;B+=G.y*F}return new OpenLayers.Geometry.Point(J/E,B/E)},getGeodesicLength:function(C){var E=0;for(var D=0,B=this.components.length;D<B;D++){E+=this.components[D].getGeodesicLength(C)}return E},move:function(C,E){for(var D=0,B=this.components.length;D<B;D++){this.components[D].move(C,E)}},rotate:function(E,C){for(var D=0,B=this.components.length;D<B;++D){this.components[D].rotate(E,C)}},resize:function(E,B,D){for(var C=0;C<this.components.length;++C){this.components[C].resize(E,B,D)}return this},distanceTo:function(I,J){var D=!(J&&J.edge===false);var B=D&&J&&J.details;var K,E,C;var F=Number.POSITIVE_INFINITY;for(var G=0,H=this.components.length;G<H;++G){K=this.components[G].distanceTo(I,J);C=B?K.distance:K;if(C<F){F=C;E=K;if(F==0){break}}}return E},equals:function(E){var C=true;if(!E||!E.CLASS_NAME||(this.CLASS_NAME!=E.CLASS_NAME)){C=false}else{if(!(OpenLayers.Util.isArray(E.components))||(E.components.length!=this.components.length)){C=false}else{for(var D=0,B=this.components.length;D<B;++D){if(!this.components[D].equals(E.components[D])){C=false;break}}}}return C},transform:function(F,D){if(F&&D){for(var E=0,B=this.components.length;E<B;E++){var C=this.components[E];C.transform(F,D)}this.bounds=null}return this},intersects:function(E){var C=false;for(var D=0,B=this.components.length;D<B;++D){C=E.intersects(this.components[D]);if(C){break}}return C},getVertices:function(C){var D=[];for(var E=0,B=this.components.length;E<B;++E){Array.prototype.push.apply(D,this.components[E].getVertices(C))}return D},CLASS_NAME:"OpenLayers.Geometry.Collection"});OpenLayers.Geometry.MultiPoint=OpenLayers.Class(OpenLayers.Geometry.Collection,{componentTypes:["OpenLayers.Geometry.Point"],addPoint:function(B,C){this.addComponent(B,C)},removePoint:function(B){this.removeComponent(B)},CLASS_NAME:"OpenLayers.Geometry.MultiPoint"});OpenLayers.Geometry.Curve=OpenLayers.Class(OpenLayers.Geometry.MultiPoint,{componentTypes:["OpenLayers.Geometry.Point"],getLength:function(){var D=0;if(this.components&&(this.components.length>1)){for(var C=1,B=this.components.length;C<B;C++){D+=this.components[C-1].distanceTo(this.components[C])}}return D},getGeodesicLength:function(C){var F=this;if(C){var D=new OpenLayers.Projection("EPSG:4326");if(!D.equals(C)){F=this.clone().transform(C,D)}}var G=0;if(F.components&&(F.components.length>1)){var I,H;for(var E=1,B=F.components.length;E<B;E++){I=F.components[E-1];H=F.components[E];G+=OpenLayers.Util.distVincenty({lon:I.x,lat:I.y},{lon:H.x,lat:H.y})}}return G*1000},CLASS_NAME:"OpenLayers.Geometry.Curve"});OpenLayers.Geometry.LineString=OpenLayers.Class(OpenLayers.Geometry.Curve,{removeComponent:function(B){var C=this.components&&(this.components.length>2);if(C){OpenLayers.Geometry.Collection.prototype.removeComponent.apply(this,arguments)}return C},intersects:function(L){var D=false;var K=L.CLASS_NAME;if(K=="OpenLayers.Geometry.LineString"||K=="OpenLayers.Geometry.LinearRing"||K=="OpenLayers.Geometry.Point"){var O=this.getSortedSegments();var M;if(K=="OpenLayers.Geometry.Point"){M=[{x1:L.x,y1:L.y,x2:L.x,y2:L.y}]}else{M=L.getSortedSegments()}var R,H,F,B,Q,P,E,C;outer:for(var I=0,J=O.length;I<J;++I){R=O[I];H=R.x1;F=R.x2;B=R.y1;Q=R.y2;inner:for(var G=0,N=M.length;G<N;++G){P=M[G];if(P.x1>F){break}if(P.x2<H){continue}E=P.y1;C=P.y2;if(Math.min(E,C)>Math.max(B,Q)){continue}if(Math.max(E,C)<Math.min(B,Q)){continue}if(OpenLayers.Geometry.segmentsIntersect(R,P)){D=true;break outer}}}}else{D=L.intersects(this)}return D},getSortedSegments:function(){var B=this.components.length-1;var C=new Array(B),F,E;for(var D=0;D<B;++D){F=this.components[D];E=this.components[D+1];if(F.x<E.x){C[D]={x1:F.x,y1:F.y,x2:E.x,y2:E.y}}else{C[D]={x1:E.x,y1:E.y,x2:F.x,y2:F.y}}}function G(I,H){return I.x1-H.x1}return C.sort(G)},splitWithSegment:function(R,C){var D=!(C&&C.edge===false);var O=C&&C.tolerance;var B=[];var T=this.getVertices();var N=[];var V=[];var I=false;var F,E,L;var J,Q,U;var G={point:true,tolerance:O};var H=null;for(var M=0,K=T.length-2;M<=K;++M){F=T[M];N.push(F.clone());E=T[M+1];U={x1:F.x,y1:F.y,x2:E.x,y2:E.y};L=OpenLayers.Geometry.segmentsIntersect(R,U,G);if(L instanceof OpenLayers.Geometry.Point){if((L.x===R.x1&&L.y===R.y1)||(L.x===R.x2&&L.y===R.y2)||L.equals(F)||L.equals(E)){Q=true}else{Q=false}if(Q||D){if(!L.equals(V[V.length-1])){V.push(L.clone())}if(M===0){if(L.equals(F)){continue}}if(L.equals(E)){continue}I=true;if(!L.equals(F)){N.push(L)}B.push(new OpenLayers.Geometry.LineString(N));N=[L.clone()]}}}if(I){N.push(E.clone());B.push(new OpenLayers.Geometry.LineString(N))}if(V.length>0){var P=R.x1<R.x2?1:-1;var S=R.y1<R.y2?1:-1;H={lines:B,points:V.sort(function(Y,W){return(P*Y.x-P*W.x)||(S*Y.y-S*W.y)})}}return H},split:function(V,C){var L=null;var E=C&&C.mutual;var J,F,K,D;if(V instanceof OpenLayers.Geometry.LineString){var U=this.getVertices();var H,G,T,I,B,N;var Q=[];K=[];for(var R=0,M=U.length-2;R<=M;++R){H=U[R];G=U[R+1];T={x1:H.x,y1:H.y,x2:G.x,y2:G.y};D=D||[V];if(E){Q.push(H.clone())}for(var P=0;P<D.length;++P){I=D[P].splitWithSegment(T,C);if(I){B=I.lines;if(B.length>0){B.unshift(P,1);Array.prototype.splice.apply(D,B);P+=B.length-2}if(E){for(var O=0,S=I.points.length;O<S;++O){N=I.points[O];if(!N.equals(H)){Q.push(N);K.push(new OpenLayers.Geometry.LineString(Q));if(N.equals(G)){Q=[]}else{Q=[N.clone()]}}}}}}}if(E&&K.length>0&&Q.length>0){Q.push(G.clone());K.push(new OpenLayers.Geometry.LineString(Q))}}else{L=V.splitWith(this,C)}if(D&&D.length>1){F=true}else{D=[]}if(K&&K.length>1){J=true}else{K=[]}if(F||J){if(E){L=[K,D]}else{L=D}}return L},splitWith:function(C,B){return C.split(this,B)},getVertices:function(B){var C;if(B===true){C=[this.components[0],this.components[this.components.length-1]]}else{if(B===false){C=this.components.slice(1,this.components.length-1)}else{C=this.components.slice()}}return C},distanceTo:function(I,H){var J=!(H&&H.edge===false);var Z=J&&H&&H.details;var P,F={};var S=Number.POSITIVE_INFINITY;if(I instanceof OpenLayers.Geometry.Point){var Q=this.getSortedSegments();var O=I.x;var N=I.y;var W;for(var U=0,V=Q.length;U<V;++U){W=Q[U];P=OpenLayers.Geometry.distanceToSegment(I,W);if(P.distance<S){S=P.distance;F=P;if(S===0){break}}else{if(W.x2>O&&((N>W.y1&&N<W.y2)||(N<W.y1&&N>W.y2))){break}}}if(Z){F={distance:F.distance,x0:F.x,y0:F.y,x1:O,y1:N}}else{F=F.distance}}else{if(I instanceof OpenLayers.Geometry.LineString){var E=this.getSortedSegments();var D=I.getSortedSegments();var C,B,M,Y,G;var L=D.length;var K={point:true};outer:for(var U=0,V=E.length;U<V;++U){C=E[U];Y=C.x1;G=C.y1;for(var T=0;T<L;++T){B=D[T];M=OpenLayers.Geometry.segmentsIntersect(C,B,K);if(M){S=0;F={distance:0,x0:M.x,y0:M.y,x1:M.x,y1:M.y};break outer}else{P=OpenLayers.Geometry.distanceToSegment({x:Y,y:G},B);if(P.distance<S){S=P.distance;F={distance:S,x0:Y,y0:G,x1:P.x,y1:P.y}}}}}if(!Z){F=F.distance}if(S!==0){if(C){P=I.distanceTo(new OpenLayers.Geometry.Point(C.x2,C.y2),H);var R=Z?P.distance:P;if(R<S){if(Z){F={distance:S,x0:P.x1,y0:P.y1,x1:P.x0,y1:P.y0}}else{F=R}}}}}else{F=I.distanceTo(this,H);if(Z){F={distance:F.distance,x0:F.x1,y0:F.y1,x1:F.x0,y1:F.y0}}}}return F},simplify:function(I){if(this&&this!==null){var K=this.getVertices();if(K.length<3){return this}var E=function(M,L){return(M-L)};var D=function(O,R,P,L){var Q=0;var N=0;for(var M=R,S;M<P;M++){S=C(O[R],O[P],O[M]);if(S>Q){Q=S;N=M}}if(Q>L&&N!=R){F.push(N);D(O,R,N,L);D(O,N,P,L)}};var C=function(P,O,M){var Q=Math.abs(0.5*(P.x*O.y+O.x*M.y+M.x*P.y-O.x*P.y-M.x*O.y-P.x*M.y));var N=Math.sqrt(Math.pow(P.x-O.x,2)+Math.pow(P.y-O.y,2));var L=Q/N*2;return L};var G=0;var J=K.length-1;var F=[];F.push(G);F.push(J);while(K[G].equals(K[J])){J--;F.push(J)}D(K,G,J,I);var B=[];F.sort(E);for(var H=0;H<F.length;H++){B.push(K[F[H]])}return new OpenLayers.Geometry.LineString(B)}else{return this}},CLASS_NAME:"OpenLayers.Geometry.LineString"});OpenLayers.Geometry.MultiLineString=OpenLayers.Class(OpenLayers.Geometry.Collection,{componentTypes:["OpenLayers.Geometry.LineString"],split:function(L,Q){var H=null;var P=Q&&Q.mutual;var M,B,O,K,C;var F=[];var N=[L];for(var G=0,I=this.components.length;G<I;++G){B=this.components[G];K=false;for(var E=0;E<N.length;++E){M=B.split(N[E],Q);if(M){if(P){O=M[0];for(var D=0,J=O.length;D<J;++D){if(D===0&&F.length){F[F.length-1].addComponent(O[D])}else{F.push(new OpenLayers.Geometry.MultiLineString([O[D]]))}}K=true;M=M[1]}if(M.length){M.unshift(E,1);Array.prototype.splice.apply(N,M);break}}}if(!K){if(F.length){F[F.length-1].addComponent(B.clone())}else{F=[new OpenLayers.Geometry.MultiLineString(B.clone())]}}}if(F&&F.length>1){K=true}else{F=[]}if(N&&N.length>1){C=true}else{N=[]}if(K||C){if(P){H=[F,N]}else{H=N}}return H},splitWith:function(L,Q){var H=null;var P=Q&&Q.mutual;var M,D,O,K,B,F,N;if(L instanceof OpenLayers.Geometry.LineString){N=[];F=[L];for(var G=0,I=this.components.length;G<I;++G){B=false;D=this.components[G];for(var E=0;E<F.length;++E){M=F[E].split(D,Q);if(M){if(P){O=M[0];if(O.length){O.unshift(E,1);Array.prototype.splice.apply(F,O);E+=O.length-2}M=M[1];if(M.length===0){M=[D.clone()]}}for(var C=0,J=M.length;C<J;++C){if(C===0&&N.length){N[N.length-1].addComponent(M[C])}else{N.push(new OpenLayers.Geometry.MultiLineString([M[C]]))}}B=true}}if(!B){if(N.length){N[N.length-1].addComponent(D.clone())}else{N=[new OpenLayers.Geometry.MultiLineString([D.clone()])]}}}}else{H=L.split(this)}if(F&&F.length>1){K=true}else{F=[]}if(N&&N.length>1){B=true}else{N=[]}if(K||B){if(P){H=[F,N]}else{H=N}}return H},CLASS_NAME:"OpenLayers.Geometry.MultiLineString"});OpenLayers.Geometry.LinearRing=OpenLayers.Class(OpenLayers.Geometry.LineString,{componentTypes:["OpenLayers.Geometry.Point"],addComponent:function(B,C){var D=false;var E=this.components.pop();if(C!=null||!B.equals(E)){D=OpenLayers.Geometry.Collection.prototype.addComponent.apply(this,arguments)}var F=this.components[0];OpenLayers.Geometry.Collection.prototype.addComponent.apply(this,[F]);return D},removeComponent:function(B){var C=this.components&&(this.components.length>3);if(C){this.components.pop();OpenLayers.Geometry.Collection.prototype.removeComponent.apply(this,arguments);var D=this.components[0];OpenLayers.Geometry.Collection.prototype.addComponent.apply(this,[D])}return C},move:function(C,E){for(var D=0,B=this.components.length;D<B-1;D++){this.components[D].move(C,E)}},rotate:function(E,C){for(var D=0,B=this.components.length;D<B-1;++D){this.components[D].rotate(E,C)}},resize:function(F,C,E){for(var D=0,B=this.components.length;D<B-1;++D){this.components[D].resize(F,C,E)}return this},transform:function(F,D){if(F&&D){for(var E=0,B=this.components.length;E<B-1;E++){var C=this.components[E];C.transform(F,D)}this.bounds=null}return this},getCentroid:function(){if(this.components&&(this.components.length>2)){var G=0;var F=0;for(var D=0;D<this.components.length-1;D++){var C=this.components[D];var I=this.components[D+1];G+=(C.x+I.x)*(C.x*I.y-I.x*C.y);F+=(C.y+I.y)*(C.x*I.y-I.x*C.y)}var E=-1*this.getArea();var B=G/(6*E);var H=F/(6*E);return new OpenLayers.Geometry.Point(B,H)}else{return null}},getArea:function(){var F=0;if(this.components&&(this.components.length>2)){var E=0;for(var D=0,C=this.components.length;D<C-1;D++){var B=this.components[D];var G=this.components[D+1];E+=(B.x+G.x)*(G.y-B.y)}F=-E/2}return F},getGeodesicArea:function(C){var E=this;if(C){var D=new OpenLayers.Projection("EPSG:4326");if(!D.equals(C)){E=this.clone().transform(C,D)}}var G=0;var B=E.components&&E.components.length;if(B>2){var I,H;for(var F=0;F<B-1;F++){I=E.components[F];H=E.components[F+1];G+=OpenLayers.Util.rad(H.x-I.x)*(2+Math.sin(OpenLayers.Util.rad(I.y))+Math.sin(OpenLayers.Util.rad(H.y)))}G=G*6378137*6378137/2}return G},containsPoint:function(M){var S=OpenLayers.Number.limitSigDigs;var L=14;var K=S(M.x,L);var J=S(M.y,L);function R(Y,U,W,T,V){return(Y-V)*((T-U)/(V-W))+T}var B=this.components.length-1;var H,G,Q,E,O,C,F,D;var I=0;for(var N=0;N<B;++N){H=this.components[N];Q=S(H.x,L);E=S(H.y,L);G=this.components[N+1];O=S(G.x,L);C=S(G.y,L);if(E==C){if(J==E){if(Q<=O&&(K>=Q&&K<=O)||Q>=O&&(K<=Q&&K>=O)){I=-1;break}}continue}F=S(R(J,Q,E,O,C),L);if(F==K){if(E<C&&(J>=E&&J<=C)||E>C&&(J<=E&&J>=C)){I=-1;break}}if(F<=K){continue}if(Q!=O&&(F<Math.min(Q,O)||F>Math.max(Q,O))){continue}if(E<C&&(J>=E&&J<C)||E>C&&(J<E&&J>=C)){++I}}var P=(I==-1)?1:!!(I&1);return P},intersects:function(E){var C=false;if(E.CLASS_NAME=="OpenLayers.Geometry.Point"){C=this.containsPoint(E)}else{if(E.CLASS_NAME=="OpenLayers.Geometry.LineString"){C=E.intersects(this)}else{if(E.CLASS_NAME=="OpenLayers.Geometry.LinearRing"){C=OpenLayers.Geometry.LineString.prototype.intersects.apply(this,[E])}else{for(var D=0,B=E.components.length;D<B;++D){C=E.components[D].intersects(this);if(C){break}}}}}return C},getVertices:function(B){return(B===true)?[]:this.components.slice(0,this.components.length-1)},CLASS_NAME:"OpenLayers.Geometry.LinearRing"});OpenLayers.Geometry.Polygon=OpenLayers.Class(OpenLayers.Geometry.Collection,{componentTypes:["OpenLayers.Geometry.LinearRing"],getArea:function(){var D=0;if(this.components&&(this.components.length>0)){D+=Math.abs(this.components[0].getArea());for(var C=1,B=this.components.length;C<B;C++){D-=Math.abs(this.components[C].getArea())}}return D},getGeodesicArea:function(C){var E=0;if(this.components&&(this.components.length>0)){E+=Math.abs(this.components[0].getGeodesicArea(C));for(var D=1,B=this.components.length;D<B;D++){E-=Math.abs(this.components[D].getGeodesicArea(C))}}return E},containsPoint:function(B){var F=this.components.length;var D=false;if(F>0){D=this.components[0].containsPoint(B);if(D!==1){if(D&&F>1){var E;for(var C=1;C<F;++C){E=this.components[C].containsPoint(B);if(E){if(E===1){D=1}else{D=false}break}}}}}return D},intersects:function(F){var C=false;var E,B;if(F.CLASS_NAME=="OpenLayers.Geometry.Point"){C=this.containsPoint(F)}else{if(F.CLASS_NAME=="OpenLayers.Geometry.LineString"||F.CLASS_NAME=="OpenLayers.Geometry.LinearRing"){for(E=0,B=this.components.length;E<B;++E){C=F.intersects(this.components[E]);if(C){break}}if(!C){for(E=0,B=F.components.length;E<B;++E){C=this.containsPoint(F.components[E]);if(C){break}}}}else{for(E=0,B=F.components.length;E<B;++E){C=this.intersects(F.components[E]);if(C){break}}}}if(!C&&F.CLASS_NAME=="OpenLayers.Geometry.Polygon"){var D=this.components[0];for(E=0,B=D.components.length;E<B;++E){C=F.containsPoint(D.components[E]);if(C){break}}}return C},distanceTo:function(E,C){var D=!(C&&C.edge===false);var B;if(!D&&this.intersects(E)){B=0}else{B=OpenLayers.Geometry.Collection.prototype.distanceTo.apply(this,[E,C])}return B},CLASS_NAME:"OpenLayers.Geometry.Polygon"});OpenLayers.Geometry.Polygon.createRegularPolygon=function(J,G,C,L){var D=Math.PI*((1/C)-(1/2));if(L){D+=(L/180)*Math.PI}var B,I,H;var K=[];for(var F=0;F<C;++F){B=D+(F*2*Math.PI/C);I=J.x+(G*Math.cos(B));H=J.y+(G*Math.sin(B));K.push(new OpenLayers.Geometry.Point(I,H))}var E=new OpenLayers.Geometry.LinearRing(K);return new OpenLayers.Geometry.Polygon([E])};OpenLayers.Geometry.MultiPolygon=OpenLayers.Class(OpenLayers.Geometry.Collection,{componentTypes:["OpenLayers.Geometry.Polygon"],CLASS_NAME:"OpenLayers.Geometry.MultiPolygon"});OpenLayers.Format.GML=OpenLayers.Class(OpenLayers.Format.XML,{featureNS:"http://mapserver.gis.umn.edu/mapserver",featurePrefix:"feature",featureName:"featureMember",layerName:"features",geometryName:"geometry",collectionName:"FeatureCollection",gmlns:"http://www.opengis.net/gml",extractAttributes:true,xy:true,initialize:function(B){this.regExes={trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)};OpenLayers.Format.XML.prototype.initialize.apply(this,[B])},read:function(E){if(typeof E=="string"){E=OpenLayers.Format.XML.prototype.read.apply(this,[E])}var F=this.getElementsByTagNameNS(E.documentElement,this.gmlns,this.featureName);var D=[];for(var C=0;C<F.length;C++){var B=this.parseFeature(F[C]);if(B){D.push(B)}}return D},parseFeature:function(E){var F=["MultiPolygon","Polygon","MultiLineString","LineString","MultiPoint","Point","Envelope"];var P,I,Q,D;for(var L=0;L<F.length;++L){P=F[L];I=this.getElementsByTagNameNS(E,this.gmlns,P);if(I.length>0){D=this.parseGeometry[P.toLowerCase()];if(D){Q=D.apply(this,[I[0]]);if(this.internalProjection&&this.externalProjection){Q.transform(this.externalProjection,this.internalProjection)}}else{throw new TypeError("Unsupported geometry type: "+P)}break}}var C;var K=this.getElementsByTagNameNS(E,this.gmlns,"Box");for(L=0;L<K.length;++L){var O=K[L];var N=this.parseGeometry.box.apply(this,[O]);var M=O.parentNode;var H=M.localName||M.nodeName.split(":").pop();if(H==="boundedBy"){C=N}else{Q=N.toGeometry()}}var J;if(this.extractAttributes){J=this.parseAttributes(E)}var R=new OpenLayers.Feature.Vector(Q,J);R.bounds=C;R.gml={featureType:E.firstChild.nodeName.split(":")[1],featureNS:E.firstChild.namespaceURI,featureNSPrefix:E.firstChild.prefix};var B=E.firstChild;var G;while(B){if(B.nodeType==1){G=B.getAttribute("fid")||B.getAttribute("id");if(G){break}}B=B.nextSibling}R.fid=G;return R},parseGeometry:{point:function(E){var C,B;var F=[];var C=this.getElementsByTagNameNS(E,this.gmlns,"pos");if(C.length>0){B=C[0].firstChild.nodeValue;B=B.replace(this.regExes.trimSpace,"");F=B.split(this.regExes.splitSpace)}if(F.length==0){C=this.getElementsByTagNameNS(E,this.gmlns,"coordinates");if(C.length>0){B=C[0].firstChild.nodeValue;B=B.replace(this.regExes.removeSpace,"");F=B.split(",")}}if(F.length==0){C=this.getElementsByTagNameNS(E,this.gmlns,"coord");if(C.length>0){var G=this.getElementsByTagNameNS(C[0],this.gmlns,"X");var D=this.getElementsByTagNameNS(C[0],this.gmlns,"Y");if(G.length>0&&D.length>0){F=[G[0].firstChild.nodeValue,D[0].firstChild.nodeValue]}}}if(F.length==2){F[2]=null}if(this.xy){return new OpenLayers.Geometry.Point(F[0],F[1],F[2])}else{return new OpenLayers.Geometry.Point(F[1],F[0],F[2])}},multipoint:function(F){var C=this.getElementsByTagNameNS(F,this.gmlns,"Point");var E=[];if(C.length>0){var B;for(var D=0;D<C.length;++D){B=this.parseGeometry.point.apply(this,[C[D]]);if(B){E.push(B)}}}return new OpenLayers.Geometry.MultiPoint(E)},linestring:function(D,F){var E,C;var M=[];var N=[];E=this.getElementsByTagNameNS(D,this.gmlns,"posList");if(E.length>0){C=this.getChildValue(E[0]);C=C.replace(this.regExes.trimSpace,"");M=C.split(this.regExes.splitSpace);var I=parseInt(E[0].getAttribute("dimension"));var G,L,K,J;for(var H=0;H<M.length/I;++H){G=H*I;L=M[G];K=M[G+1];J=(I==2)?null:M[G+2];if(this.xy){N.push(new OpenLayers.Geometry.Point(L,K,J))}else{N.push(new OpenLayers.Geometry.Point(K,L,J))}}}if(M.length==0){E=this.getElementsByTagNameNS(D,this.gmlns,"coordinates");if(E.length>0){C=this.getChildValue(E[0]);C=C.replace(this.regExes.trimSpace,"");C=C.replace(this.regExes.trimComma,",");var B=C.split(this.regExes.splitSpace);for(var H=0;H<B.length;++H){M=B[H].split(",");if(M.length==2){M[2]=null}if(this.xy){N.push(new OpenLayers.Geometry.Point(M[0],M[1],M[2]))}else{N.push(new OpenLayers.Geometry.Point(M[1],M[0],M[2]))}}}}var O=null;if(N.length!=0){if(F){O=new OpenLayers.Geometry.LinearRing(N)}else{O=new OpenLayers.Geometry.LineString(N)}}return O},multilinestring:function(F){var C=this.getElementsByTagNameNS(F,this.gmlns,"LineString");var E=[];if(C.length>0){var B;for(var D=0;D<C.length;++D){B=this.parseGeometry.linestring.apply(this,[C[D]]);if(B){E.push(B)}}}return new OpenLayers.Geometry.MultiLineString(E)},polygon:function(F){var C=this.getElementsByTagNameNS(F,this.gmlns,"LinearRing");var E=[];if(C.length>0){var B;for(var D=0;D<C.length;++D){B=this.parseGeometry.linestring.apply(this,[C[D],true]);if(B){E.push(B)}}}return new OpenLayers.Geometry.Polygon(E)},multipolygon:function(F){var B=this.getElementsByTagNameNS(F,this.gmlns,"Polygon");var E=[];if(B.length>0){var D;for(var C=0;C<B.length;++C){D=this.parseGeometry.polygon.apply(this,[B[C]]);if(D){E.push(D)}}}return new OpenLayers.Geometry.MultiPolygon(E)},envelope:function(C){var F=[];var B;var G;var K=this.getElementsByTagNameNS(C,this.gmlns,"lowerCorner");if(K.length>0){var I=[];if(K.length>0){B=K[0].firstChild.nodeValue;B=B.replace(this.regExes.trimSpace,"");I=B.split(this.regExes.splitSpace)}if(I.length==2){I[2]=null}if(this.xy){var E=new OpenLayers.Geometry.Point(I[0],I[1],I[2])}else{var E=new OpenLayers.Geometry.Point(I[1],I[0],I[2])}}var H=this.getElementsByTagNameNS(C,this.gmlns,"upperCorner");if(H.length>0){var I=[];if(H.length>0){B=H[0].firstChild.nodeValue;B=B.replace(this.regExes.trimSpace,"");I=B.split(this.regExes.splitSpace)}if(I.length==2){I[2]=null}if(this.xy){var J=new OpenLayers.Geometry.Point(I[0],I[1],I[2])}else{var J=new OpenLayers.Geometry.Point(I[1],I[0],I[2])}}if(E&&J){F.push(new OpenLayers.Geometry.Point(E.x,E.y));F.push(new OpenLayers.Geometry.Point(J.x,E.y));F.push(new OpenLayers.Geometry.Point(J.x,J.y));F.push(new OpenLayers.Geometry.Point(E.x,J.y));F.push(new OpenLayers.Geometry.Point(E.x,E.y));var D=new OpenLayers.Geometry.LinearRing(F);G=new OpenLayers.Geometry.Polygon([D])}return G},box:function(F){var D=this.getElementsByTagNameNS(F,this.gmlns,"coordinates");var C;var G,B=null,E=null;if(D.length>0){C=D[0].firstChild.nodeValue;G=C.split(" ");if(G.length==2){B=G[0].split(",");E=G[1].split(",")}}if(B!==null&&E!==null){return new OpenLayers.Bounds(parseFloat(B[0]),parseFloat(B[1]),parseFloat(E[0]),parseFloat(E[1]))}}},parseAttributes:function(F){var G={};var B=F.firstChild;var E,H,D,K,J,C,I;while(B){if(B.nodeType==1){E=B.childNodes;for(H=0;H<E.length;++H){D=E[H];if(D.nodeType==1){K=D.childNodes;if(K.length==1){J=K[0];if(J.nodeType==3||J.nodeType==4){C=(D.prefix)?D.nodeName.split(":")[1]:D.nodeName;I=J.nodeValue.replace(this.regExes.trimSpace,"");G[C]=I}}else{G[D.nodeName.split(":").pop()]=null}}}break}B=B.nextSibling}return G},write:function(D){if(!(OpenLayers.Util.isArray(D))){D=[D]}var C=this.createElementNS("http://www.opengis.net/wfs","wfs:"+this.collectionName);for(var B=0;B<D.length;B++){C.appendChild(this.createFeatureXML(D[B]))}return OpenLayers.Format.XML.prototype.write.apply(this,[C])},createFeatureXML:function(K){var I=K.geometry;var F=this.buildGeometryNode(I);var J=this.createElementNS(this.featureNS,this.featurePrefix+":"+this.geometryName);J.appendChild(F);var B=this.createElementNS(this.gmlns,"gml:"+this.featureName);var L=this.createElementNS(this.featureNS,this.featurePrefix+":"+this.layerName);var D=K.fid||K.id;L.setAttribute("fid",D);L.appendChild(J);for(var H in K.attributes){var G=this.createTextNode(K.attributes[H]);var E=H.substring(H.lastIndexOf(":")+1);var C=this.createElementNS(this.featureNS,this.featurePrefix+":"+E);C.appendChild(G);L.appendChild(C)}B.appendChild(L);return B},buildGeometryNode:function(E){if(this.externalProjection&&this.internalProjection){E=E.clone();E.transform(this.internalProjection,this.externalProjection)}var D=E.CLASS_NAME;var C=D.substring(D.lastIndexOf(".")+1);var B=this.buildGeometry[C.toLowerCase()];return B.apply(this,[E])},buildGeometry:{point:function(C){var B=this.createElementNS(this.gmlns,"gml:Point");B.appendChild(this.buildCoordinatesNode(C));return B},multipoint:function(G){var E=this.createElementNS(this.gmlns,"gml:MultiPoint");var D=G.components;var C,F;for(var B=0;B<D.length;B++){C=this.createElementNS(this.gmlns,"gml:pointMember");F=this.buildGeometry.point.apply(this,[D[B]]);C.appendChild(F);E.appendChild(C)}return E},linestring:function(C){var B=this.createElementNS(this.gmlns,"gml:LineString");B.appendChild(this.buildCoordinatesNode(C));return B},multilinestring:function(G){var E=this.createElementNS(this.gmlns,"gml:MultiLineString");var B=G.components;var D,F;for(var C=0;C<B.length;++C){D=this.createElementNS(this.gmlns,"gml:lineStringMember");F=this.buildGeometry.linestring.apply(this,[B[C]]);D.appendChild(F);E.appendChild(D)}return E},linearring:function(C){var B=this.createElementNS(this.gmlns,"gml:LinearRing");B.appendChild(this.buildCoordinatesNode(C));return B},polygon:function(H){var E=this.createElementNS(this.gmlns,"gml:Polygon");var G=H.components;var D,F,C;for(var B=0;B<G.length;++B){C=(B==0)?"outerBoundaryIs":"innerBoundaryIs";D=this.createElementNS(this.gmlns,"gml:"+C);F=this.buildGeometry.linearring.apply(this,[G[B]]);D.appendChild(F);E.appendChild(D)}return E},multipolygon:function(G){var E=this.createElementNS(this.gmlns,"gml:MultiPolygon");var B=G.components;var F,C;for(var D=0;D<B.length;++D){F=this.createElementNS(this.gmlns,"gml:polygonMember");C=this.buildGeometry.polygon.apply(this,[B[D]]);F.appendChild(C);E.appendChild(F)}return E},bounds:function(C){var B=this.createElementNS(this.gmlns,"gml:Box");B.appendChild(this.buildCoordinatesNode(C));return B}},buildCoordinatesNode:function(G){var B=this.createElementNS(this.gmlns,"gml:coordinates");B.setAttribute("decimal",".");B.setAttribute("cs",",");B.setAttribute("ts"," ");var F=[];if(G instanceof OpenLayers.Bounds){F.push(G.left+","+G.bottom);F.push(G.right+","+G.top)}else{var D=(G.components)?G.components:[G];for(var C=0;C<D.length;C++){F.push(D[C].x+","+D[C].y)}}var E=this.createTextNode(F.join(" "));B.appendChild(E);return B},CLASS_NAME:"OpenLayers.Format.GML"});if(!OpenLayers.Format.GML){OpenLayers.Format.GML={}}OpenLayers.Format.GML.Base=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{gml:"http://www.opengis.net/gml",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance",wfs:"http://www.opengis.net/wfs"},defaultPrefix:"gml",schemaLocation:null,featureType:null,featureNS:null,geometryName:"geometry",extractAttributes:true,srsName:null,xy:true,geometryTypes:null,singleFeatureType:null,regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g),featureMember:(/^(.*:)?featureMembers?$/)},initialize:function(B){OpenLayers.Format.XML.prototype.initialize.apply(this,[B]);this.setGeometryTypes();if(B&&B.featureNS){this.setNamespace("feature",B.featureNS)}this.singleFeatureType=!B||(typeof B.featureType==="string")},read:function(F){if(typeof F=="string"){F=OpenLayers.Format.XML.prototype.read.apply(this,[F])}if(F&&F.nodeType==9){F=F.documentElement}var D=[];this.readNode(F,{features:D},true);if(D.length==0){var E=this.getElementsByTagNameNS(F,this.namespaces.gml,"featureMember");if(E.length){for(var C=0,B=E.length;C<B;++C){this.readNode(E[C],{features:D},true)}}else{var E=this.getElementsByTagNameNS(F,this.namespaces.gml,"featureMembers");if(E.length){this.readNode(E[0],{features:D},true)}}}return D},readNode:function(B,C,D){if(D===true&&this.autoConfig===true){this.featureType=null;delete this.namespaceAlias[this.featureNS];delete this.namespaces.feature;this.featureNS=null}if(!this.featureNS&&(!(B.prefix in this.namespaces)&&B.parentNode.namespaceURI==this.namespaces.gml&&this.regExes.featureMember.test(B.parentNode.nodeName))){this.featureType=B.nodeName.split(":").pop();this.setNamespace("feature",B.namespaceURI);this.featureNS=B.namespaceURI;this.autoConfig=true}return OpenLayers.Format.XML.prototype.readNode.apply(this,[B,C])},readers:{gml:{featureMember:function(B,C){this.readChildNodes(B,C)},featureMembers:function(B,C){this.readChildNodes(B,C)},name:function(B,C){C.name=this.getChildValue(B)},boundedBy:function(C,D){var B={};this.readChildNodes(C,B);if(B.components&&B.components.length>0){D.bounds=B.components[0]}},Point:function(C,B){var D={points:[]};this.readChildNodes(C,D);if(!B.components){B.components=[]}B.components.push(D.points[0])},coordinates:function(F,H){var I=this.getChildValue(F).replace(this.regExes.trimSpace,"");I=I.replace(this.regExes.trimComma,",");var B=I.split(this.regExes.splitSpace);var G;var E=B.length;var D=new Array(E);for(var C=0;C<E;++C){G=B[C].split(",");if(this.xy){D[C]=new OpenLayers.Geometry.Point(G[0],G[1],G[2])}else{D[C]=new OpenLayers.Geometry.Point(G[1],G[0],G[2])}}H.points=D},coord:function(B,C){var D={};this.readChildNodes(B,D);if(!C.points){C.points=[]}C.points.push(new OpenLayers.Geometry.Point(D.x,D.y,D.z))},X:function(B,C){C.x=this.getChildValue(B)},Y:function(B,C){C.y=this.getChildValue(B)},Z:function(B,C){C.z=this.getChildValue(B)},MultiPoint:function(C,B){var D={components:[]};this.readChildNodes(C,D);B.components=[new OpenLayers.Geometry.MultiPoint(D.components)]},pointMember:function(B,C){this.readChildNodes(B,C)},LineString:function(C,B){var D={};this.readChildNodes(C,D);if(!B.components){B.components=[]}B.components.push(new OpenLayers.Geometry.LineString(D.points))},MultiLineString:function(C,B){var D={components:[]};this.readChildNodes(C,D);B.components=[new OpenLayers.Geometry.MultiLineString(D.components)]},lineStringMember:function(B,C){this.readChildNodes(B,C)},Polygon:function(C,B){var D={outer:null,inner:[]};this.readChildNodes(C,D);D.inner.unshift(D.outer);if(!B.components){B.components=[]}B.components.push(new OpenLayers.Geometry.Polygon(D.inner))},LinearRing:function(C,D){var B={};this.readChildNodes(C,B);D.components=[new OpenLayers.Geometry.LinearRing(B.points)]},MultiPolygon:function(C,B){var D={components:[]};this.readChildNodes(C,D);B.components=[new OpenLayers.Geometry.MultiPolygon(D.components)]},polygonMember:function(B,C){this.readChildNodes(B,C)},GeometryCollection:function(C,B){var D={components:[]};this.readChildNodes(C,D);B.components=[new OpenLayers.Geometry.Collection(D.components)]},geometryMember:function(B,C){this.readChildNodes(B,C)}},feature:{"*":function(D,E){var B;var C=D.localName||D.nodeName.split(":").pop();if(E.features){if(!this.singleFeatureType&&(OpenLayers.Util.indexOf(this.featureType,C)!==-1)){B="_typeName"}else{if(C===this.featureType){B="_typeName"}}}else{if(D.childNodes.length==0||(D.childNodes.length==1&&D.firstChild.nodeType==3)){if(this.extractAttributes){B="_attribute"}}else{B="_geometry"}}if(B){this.readers.feature[B].apply(this,[D,E])}},_typeName:function(D,E){var B={components:[],attributes:{}};this.readChildNodes(D,B);if(B.name){B.attributes.name=B.name}var C=new OpenLayers.Feature.Vector(B.components[0],B.attributes);if(!this.singleFeatureType){C.type=D.nodeName.split(":").pop();C.namespace=D.namespaceURI}var F=D.getAttribute("fid")||this.getAttributeNS(D,this.namespaces.gml,"id");if(F){C.fid=F}if(this.internalProjection&&this.externalProjection&&C.geometry){C.geometry.transform(this.externalProjection,this.internalProjection)}if(B.bounds){C.bounds=B.bounds}E.features.push(C)},_geometry:function(B,C){if(!this.geometryName){this.geometryName=B.nodeName.split(":").pop()}this.readChildNodes(B,C)},_attribute:function(C,E){var B=C.localName||C.nodeName.split(":").pop();var D=this.getChildValue(C);E.attributes[B]=D}},wfs:{FeatureCollection:function(B,C){this.readChildNodes(B,C)}}},write:function(D){var C;if(OpenLayers.Util.isArray(D)){C="featureMembers"}else{C="featureMember"}var B=this.writeNode("gml:"+C,D);this.setAttributeNS(B,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation);return OpenLayers.Format.XML.prototype.write.apply(this,[B])},writers:{gml:{featureMember:function(B){var C=this.createElementNSPlus("gml:featureMember");this.writeNode("feature:_typeName",B,C);return C},MultiPoint:function(F){var E=this.createElementNSPlus("gml:MultiPoint");var D=F.components||[F];for(var B=0,C=D.length;B<C;++B){this.writeNode("pointMember",D[B],E)}return E},pointMember:function(C){var B=this.createElementNSPlus("gml:pointMember");this.writeNode("Point",C,B);return B},MultiLineString:function(F){var E=this.createElementNSPlus("gml:MultiLineString");var D=F.components||[F];for(var B=0,C=D.length;B<C;++B){this.writeNode("lineStringMember",D[B],E)}return E},lineStringMember:function(C){var B=this.createElementNSPlus("gml:lineStringMember");this.writeNode("LineString",C,B);return B},MultiPolygon:function(F){var E=this.createElementNSPlus("gml:MultiPolygon");var D=F.components||[F];for(var B=0,C=D.length;B<C;++B){this.writeNode("polygonMember",D[B],E)}return E},polygonMember:function(C){var B=this.createElementNSPlus("gml:polygonMember");this.writeNode("Polygon",C,B);return B},GeometryCollection:function(E){var D=this.createElementNSPlus("gml:GeometryCollection");for(var C=0,B=E.components.length;C<B;++C){this.writeNode("geometryMember",E.components[C],D)}return D},geometryMember:function(C){var B=this.createElementNSPlus("gml:geometryMember");var D=this.writeNode("feature:_geometry",C);B.appendChild(D.firstChild);return B}},feature:{_typeName:function(C){var D=this.createElementNSPlus("feature:"+this.featureType,{attributes:{fid:C.fid}});if(C.geometry){this.writeNode("feature:_geometry",C.geometry,D)}for(var B in C.attributes){var E=C.attributes[B];if(E!=null){this.writeNode("feature:_attribute",{name:B,value:E},D)}}return D},_geometry:function(D){if(this.externalProjection&&this.internalProjection){D=D.clone().transform(this.internalProjection,this.externalProjection)}var C=this.createElementNSPlus("feature:"+this.geometryName);var B=this.geometryTypes[D.CLASS_NAME];var E=this.writeNode("gml:"+B,D,C);if(this.srsName){E.setAttribute("srsName",this.srsName)}return C},_attribute:function(B){return this.createElementNSPlus("feature:"+B.name,{value:B.value})}},wfs:{FeatureCollection:function(D){var E=this.createElementNSPlus("wfs:FeatureCollection");for(var C=0,B=D.length;C<B;++C){this.writeNode("gml:featureMember",D[C],E)}return E}}},setGeometryTypes:function(){this.geometryTypes={"OpenLayers.Geometry.Point":"Point","OpenLayers.Geometry.MultiPoint":"MultiPoint","OpenLayers.Geometry.LineString":"LineString","OpenLayers.Geometry.MultiLineString":"MultiLineString","OpenLayers.Geometry.Polygon":"Polygon","OpenLayers.Geometry.MultiPolygon":"MultiPolygon","OpenLayers.Geometry.Collection":"GeometryCollection"}},CLASS_NAME:"OpenLayers.Format.GML.Base"});OpenLayers.Format.GML.v3=OpenLayers.Class(OpenLayers.Format.GML.Base,{schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",curve:false,multiCurve:true,surface:false,multiSurface:true,initialize:function(B){OpenLayers.Format.GML.Base.prototype.initialize.apply(this,[B])},readers:{gml:OpenLayers.Util.applyDefaults({featureMembers:function(B,C){this.readChildNodes(B,C)},Curve:function(C,B){var D={points:[]};this.readChildNodes(C,D);if(!B.components){B.components=[]}B.components.push(new OpenLayers.Geometry.LineString(D.points))},segments:function(B,C){this.readChildNodes(B,C)},LineStringSegment:function(C,B){var D={};this.readChildNodes(C,D);if(D.points){Array.prototype.push.apply(B.points,D.points)}},pos:function(C,E){var F=this.getChildValue(C).replace(this.regExes.trimSpace,"");var D=F.split(this.regExes.splitSpace);var B;if(this.xy){B=new OpenLayers.Geometry.Point(D[0],D[1],D[2])}else{B=new OpenLayers.Geometry.Point(D[1],D[0],D[2])}E.points=[B]},posList:function(B,E){var I=this.getChildValue(B).replace(this.regExes.trimSpace,"");var L=I.split(this.regExes.splitSpace);var F=parseInt(B.getAttribute("dimension"))||2;var C,M,K,H;var J=L.length/F;var N=new Array(J);for(var D=0,G=L.length;D<G;D+=F){M=L[D];K=L[D+1];H=(F==2)?undefined:L[D+2];if(this.xy){N[D/F]=new OpenLayers.Geometry.Point(M,K,H)}else{N[D/F]=new OpenLayers.Geometry.Point(K,M,H)}}E.points=N},Surface:function(B,C){this.readChildNodes(B,C)},patches:function(B,C){this.readChildNodes(B,C)},PolygonPatch:function(B,C){this.readers.gml.Polygon.apply(this,[B,C])},exterior:function(C,B){var D={};this.readChildNodes(C,D);B.outer=D.components[0]},interior:function(C,B){var D={};this.readChildNodes(C,D);B.inner.push(D.components[0])},MultiCurve:function(C,B){var D={components:[]};this.readChildNodes(C,D);if(D.components.length>0){B.components=[new OpenLayers.Geometry.MultiLineString(D.components)]}},curveMember:function(B,C){this.readChildNodes(B,C)},MultiSurface:function(C,B){var D={components:[]};this.readChildNodes(C,D);if(D.components.length>0){B.components=[new OpenLayers.Geometry.MultiPolygon(D.components)]}},surfaceMember:function(B,C){this.readChildNodes(B,C)},surfaceMembers:function(B,C){this.readChildNodes(B,C)},pointMembers:function(B,C){this.readChildNodes(B,C)},lineStringMembers:function(B,C){this.readChildNodes(B,C)},polygonMembers:function(B,C){this.readChildNodes(B,C)},geometryMembers:function(B,C){this.readChildNodes(B,C)},Envelope:function(E,C){var F={points:new Array(2)};this.readChildNodes(E,F);if(!C.components){C.components=[]}var D=F.points[0];var B=F.points[1];C.components.push(new OpenLayers.Bounds(D.x,D.y,B.x,B.y))},lowerCorner:function(C,B){var D={};this.readers.gml.pos.apply(this,[C,D]);B.points[0]=D.points[0]},upperCorner:function(C,B){var D={};this.readers.gml.pos.apply(this,[C,D]);B.points[1]=D.points[0]}},OpenLayers.Format.GML.Base.prototype.readers.gml),feature:OpenLayers.Format.GML.Base.prototype.readers.feature,wfs:OpenLayers.Format.GML.Base.prototype.readers.wfs},write:function(D){var C;if(OpenLayers.Util.isArray(D)){C="featureMembers"}else{C="featureMember"}var B=this.writeNode("gml:"+C,D);this.setAttributeNS(B,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation);return OpenLayers.Format.XML.prototype.write.apply(this,[B])},writers:{gml:OpenLayers.Util.applyDefaults({featureMembers:function(D){var E=this.createElementNSPlus("gml:featureMembers");for(var C=0,B=D.length;C<B;++C){this.writeNode("feature:_typeName",D[C],E)}return E},Point:function(C){var B=this.createElementNSPlus("gml:Point");this.writeNode("pos",C,B);return B},pos:function(B){var C=(this.xy)?(B.x+" "+B.y):(B.y+" "+B.x);return this.createElementNSPlus("gml:pos",{value:C})},LineString:function(C){var B=this.createElementNSPlus("gml:LineString");this.writeNode("posList",C.components,B);return B},Curve:function(C){var B=this.createElementNSPlus("gml:Curve");this.writeNode("segments",C,B);return B},segments:function(C){var B=this.createElementNSPlus("gml:segments");this.writeNode("LineStringSegment",C,B);return B},LineStringSegment:function(C){var B=this.createElementNSPlus("gml:LineStringSegment");this.writeNode("posList",C.components,B);return B},posList:function(E){var C=E.length;var F=new Array(C);var B;for(var D=0;D<C;++D){B=E[D];if(this.xy){F[D]=B.x+" "+B.y}else{F[D]=B.y+" "+B.x}}return this.createElementNSPlus("gml:posList",{value:F.join(" ")})},Surface:function(C){var B=this.createElementNSPlus("gml:Surface");this.writeNode("patches",C,B);return B},patches:function(C){var B=this.createElementNSPlus("gml:patches");this.writeNode("PolygonPatch",C,B);return B},PolygonPatch:function(E){var D=this.createElementNSPlus("gml:PolygonPatch",{attributes:{interpolation:"planar"}});this.writeNode("exterior",E.components[0],D);for(var C=1,B=E.components.length;C<B;++C){this.writeNode("interior",E.components[C],D)}return D},Polygon:function(E){var D=this.createElementNSPlus("gml:Polygon");this.writeNode("exterior",E.components[0],D);for(var C=1,B=E.components.length;C<B;++C){this.writeNode("interior",E.components[C],D)}return D},exterior:function(B){var C=this.createElementNSPlus("gml:exterior");this.writeNode("LinearRing",B,C);return C},interior:function(B){var C=this.createElementNSPlus("gml:interior");this.writeNode("LinearRing",B,C);return C},LinearRing:function(B){var C=this.createElementNSPlus("gml:LinearRing");this.writeNode("posList",B.components,C);return C},MultiCurve:function(F){var E=this.createElementNSPlus("gml:MultiCurve");var D=F.components||[F];for(var C=0,B=D.length;C<B;++C){this.writeNode("curveMember",D[C],E)}return E},curveMember:function(C){var B=this.createElementNSPlus("gml:curveMember");if(this.curve){this.writeNode("Curve",C,B)}else{this.writeNode("LineString",C,B)}return B},MultiSurface:function(F){var E=this.createElementNSPlus("gml:MultiSurface");var D=F.components||[F];for(var C=0,B=D.length;C<B;++C){this.writeNode("surfaceMember",D[C],E)}return E},surfaceMember:function(B){var C=this.createElementNSPlus("gml:surfaceMember");if(this.surface){this.writeNode("Surface",B,C)}else{this.writeNode("Polygon",B,C)}return C},Envelope:function(C){var B=this.createElementNSPlus("gml:Envelope");this.writeNode("lowerCorner",C,B);this.writeNode("upperCorner",C,B);if(this.srsName){B.setAttribute("srsName",this.srsName)}return B},lowerCorner:function(B){var C=(this.xy)?(B.left+" "+B.bottom):(B.bottom+" "+B.left);return this.createElementNSPlus("gml:lowerCorner",{value:C})},upperCorner:function(B){var C=(this.xy)?(B.right+" "+B.top):(B.top+" "+B.right);return this.createElementNSPlus("gml:upperCorner",{value:C})}},OpenLayers.Format.GML.Base.prototype.writers.gml),feature:OpenLayers.Format.GML.Base.prototype.writers.feature,wfs:OpenLayers.Format.GML.Base.prototype.writers.wfs},setGeometryTypes:function(){this.geometryTypes={"OpenLayers.Geometry.Point":"Point","OpenLayers.Geometry.MultiPoint":"MultiPoint","OpenLayers.Geometry.LineString":(this.curve===true)?"Curve":"LineString","OpenLayers.Geometry.MultiLineString":(this.multiCurve===false)?"MultiLineString":"MultiCurve","OpenLayers.Geometry.Polygon":(this.surface===true)?"Surface":"Polygon","OpenLayers.Geometry.MultiPolygon":(this.multiSurface===false)?"MultiPolygon":"MultiSurface","OpenLayers.Geometry.Collection":"GeometryCollection"}},CLASS_NAME:"OpenLayers.Format.GML.v3"});OpenLayers.Format.Filter.v1_1_0=OpenLayers.Class(OpenLayers.Format.GML.v3,OpenLayers.Format.Filter.v1,{VERSION:"1.1.0",schemaLocation:"http://www.opengis.net/ogc/filter/1.1.0/filter.xsd",initialize:function(B){OpenLayers.Format.GML.v3.prototype.initialize.apply(this,[B])},readers:{ogc:OpenLayers.Util.applyDefaults({PropertyIsEqualTo:function(C,E){var D=C.getAttribute("matchCase");var B=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,matchCase:!(D==="false"||D==="0")});this.readChildNodes(C,B);E.filters.push(B)},PropertyIsNotEqualTo:function(C,E){var D=C.getAttribute("matchCase");var B=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.NOT_EQUAL_TO,matchCase:!(D==="false"||D==="0")});this.readChildNodes(C,B);E.filters.push(B)},PropertyIsLike:function(E,F){var D=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LIKE});this.readChildNodes(E,D);var G=E.getAttribute("wildCard");var C=E.getAttribute("singleChar");var B=E.getAttribute("escapeChar");D.value2regex(G,C,B);F.filters.push(D)}},OpenLayers.Format.Filter.v1.prototype.readers.ogc),gml:OpenLayers.Format.GML.v3.prototype.readers.gml,feature:OpenLayers.Format.GML.v3.prototype.readers.feature},writers:{ogc:OpenLayers.Util.applyDefaults({PropertyIsEqualTo:function(B){var C=this.createElementNSPlus("ogc:PropertyIsEqualTo",{attributes:{matchCase:B.matchCase}});this.writeNode("PropertyName",B,C);this.writeOgcExpression(B.value,C);return C},PropertyIsNotEqualTo:function(B){var C=this.createElementNSPlus("ogc:PropertyIsNotEqualTo",{attributes:{matchCase:B.matchCase}});this.writeNode("PropertyName",B,C);this.writeOgcExpression(B.value,C);return C},PropertyIsLike:function(B){var C=this.createElementNSPlus("ogc:PropertyIsLike",{attributes:{matchCase:B.matchCase,wildCard:"*",singleChar:".",escapeChar:"!"}});this.writeNode("PropertyName",B,C);this.writeNode("Literal",B.regex2value(),C);return C},BBOX:function(B){var D=this.createElementNSPlus("ogc:BBOX");B.property&&this.writeNode("PropertyName",B,D);var C=this.writeNode("gml:Envelope",B.value);if(B.projection){C.setAttribute("srsName",B.projection)}D.appendChild(C);return D},SortBy:function(E){var D=this.createElementNSPlus("ogc:SortBy");for(var C=0,B=E.length;C<B;C++){this.writeNode("ogc:SortProperty",E[C],D)}return D},SortProperty:function(C){var B=this.createElementNSPlus("ogc:SortProperty");this.writeNode("ogc:PropertyName",C,B);this.writeNode("ogc:SortOrder",(C.order=="DESC")?"DESC":"ASC",B);return B},SortOrder:function(C){var B=this.createElementNSPlus("ogc:SortOrder",{value:C});return B}},OpenLayers.Format.Filter.v1.prototype.writers.ogc),gml:OpenLayers.Format.GML.v3.prototype.writers.gml,feature:OpenLayers.Format.GML.v3.prototype.writers.feature},writeSpatial:function(C,B){var D=this.createElementNSPlus("ogc:"+B);this.writeNode("PropertyName",C,D);if(C.value instanceof OpenLayers.Filter.Function){this.writeNode("Function",C.value,D)}else{var E;if(C.value instanceof OpenLayers.Geometry){E=this.writeNode("feature:_geometry",C.value).firstChild}else{E=this.writeNode("gml:Envelope",C.value)}if(C.projection){E.setAttribute("srsName",C.projection)}D.appendChild(E)}return D},CLASS_NAME:"OpenLayers.Format.Filter.v1_1_0"});OpenLayers.Format.OWSCommon=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",getVersion:function(C,D){var B=this.version;if(!B){var E=C.getAttribute("xmlns:ows");if(E&&E.substring(E.lastIndexOf("/")+1)==="1.1"){B="1.1.0"}if(!B){B=this.defaultVersion}}return B},CLASS_NAME:"OpenLayers.Format.OWSCommon"});OpenLayers.Format.OWSCommon.v1=OpenLayers.Class(OpenLayers.Format.XML,{regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},read:function(C,B){B=OpenLayers.Util.applyDefaults(B,this.options);var D={};this.readChildNodes(C,D);return D},readers:{ows:{Exception:function(C,D){var B={code:C.getAttribute("exceptionCode"),locator:C.getAttribute("locator"),texts:[]};D.exceptions.push(B);this.readChildNodes(C,B)},ExceptionText:function(C,B){var D=this.getChildValue(C);B.texts.push(D)},ServiceIdentification:function(B,C){C.serviceIdentification={};this.readChildNodes(B,C.serviceIdentification)},Title:function(B,C){C.title=this.getChildValue(B)},Abstract:function(B,C){C["abstract"]=this.getChildValue(B)},Keywords:function(B,C){C.keywords={};this.readChildNodes(B,C.keywords)},Keyword:function(C,B){B[this.getChildValue(C)]=true},ServiceType:function(B,C){C.serviceType={codeSpace:B.getAttribute("codeSpace"),value:this.getChildValue(B)}},ServiceTypeVersion:function(B,C){C.serviceTypeVersion=this.getChildValue(B)},Fees:function(B,C){C.fees=this.getChildValue(B)},AccessConstraints:function(B,C){C.accessConstraints=this.getChildValue(B)},ServiceProvider:function(B,C){C.serviceProvider={};this.readChildNodes(B,C.serviceProvider)},ProviderName:function(B,C){C.providerName=this.getChildValue(B)},ProviderSite:function(B,C){C.providerSite=this.getAttributeNS(B,this.namespaces.xlink,"href")},ServiceContact:function(B,C){C.serviceContact={};this.readChildNodes(B,C.serviceContact)},IndividualName:function(C,B){B.individualName=this.getChildValue(C)},PositionName:function(C,B){B.positionName=this.getChildValue(C)},ContactInfo:function(C,B){B.contactInfo={};this.readChildNodes(C,B.contactInfo)},Phone:function(C,B){B.phone={};this.readChildNodes(C,B.phone)},Voice:function(C,B){B.voice=this.getChildValue(C)},Address:function(C,B){B.address={};this.readChildNodes(C,B.address)},DeliveryPoint:function(C,B){B.deliveryPoint=this.getChildValue(C)},City:function(C,B){B.city=this.getChildValue(C)},AdministrativeArea:function(C,B){B.administrativeArea=this.getChildValue(C)},PostalCode:function(C,B){B.postalCode=this.getChildValue(C)},Country:function(C,B){B.country=this.getChildValue(C)},ElectronicMailAddress:function(C,B){B.electronicMailAddress=this.getChildValue(C)},Role:function(C,B){B.role=this.getChildValue(C)},OperationsMetadata:function(B,C){C.operationsMetadata={};this.readChildNodes(B,C.operationsMetadata)},Operation:function(D,C){var B=D.getAttribute("name");C[B]={};this.readChildNodes(D,C[B])},DCP:function(C,B){B.dcp={};this.readChildNodes(C,B.dcp)},HTTP:function(C,B){B.http={};this.readChildNodes(C,B.http)},Get:function(C,B){if(!B.get){B.get=[]}var D={url:this.getAttributeNS(C,this.namespaces.xlink,"href")};this.readChildNodes(C,D);B.get.push(D)},Post:function(C,B){if(!B.post){B.post=[]}var D={url:this.getAttributeNS(C,this.namespaces.xlink,"href")};this.readChildNodes(C,D);B.post.push(D)},Parameter:function(D,B){if(!B.parameters){B.parameters={}}var C=D.getAttribute("name");B.parameters[C]={};this.readChildNodes(D,B.parameters[C])},Constraint:function(C,D){if(!D.constraints){D.constraints={}}var B=C.getAttribute("name");D.constraints[B]={};this.readChildNodes(C,D.constraints[B])},Value:function(B,C){C[this.getChildValue(B)]=true},OutputFormat:function(B,C){C.formats.push({value:this.getChildValue(B)});this.readChildNodes(B,C)},WGS84BoundingBox:function(C,D){var B={};B.crs=C.getAttribute("crs");if(D.BoundingBox){D.BoundingBox.push(B)}else{D.projection=B.crs;B=D}this.readChildNodes(C,B)},BoundingBox:function(B,C){this.readers.ows["WGS84BoundingBox"].apply(this,[B,C])},LowerCorner:function(C,D){var E=this.getChildValue(C).replace(this.regExes.trimSpace,"");E=E.replace(this.regExes.trimComma,",");var B=E.split(this.regExes.splitSpace);D.left=B[0];D.bottom=B[1]},UpperCorner:function(C,D){var E=this.getChildValue(C).replace(this.regExes.trimSpace,"");E=E.replace(this.regExes.trimComma,",");var B=E.split(this.regExes.splitSpace);D.right=B[0];D.top=B[1];D.bounds=new OpenLayers.Bounds(D.left,D.bottom,D.right,D.top);delete D.left;delete D.bottom;delete D.right;delete D.top},Language:function(B,C){C.language=this.getChildValue(B)}}},writers:{ows:{BoundingBox:function(B){var C=this.createElementNSPlus("ows:BoundingBox",{attributes:{crs:B.projection}});this.writeNode("ows:LowerCorner",B,C);this.writeNode("ows:UpperCorner",B,C);return C},LowerCorner:function(B){var C=this.createElementNSPlus("ows:LowerCorner",{value:B.bounds.left+" "+B.bounds.bottom});return C},UpperCorner:function(B){var C=this.createElementNSPlus("ows:UpperCorner",{value:B.bounds.right+" "+B.bounds.top});return C},Identifier:function(B){var C=this.createElementNSPlus("ows:Identifier",{value:B});return C},Title:function(C){var B=this.createElementNSPlus("ows:Title",{value:C});return B},Abstract:function(B){var C=this.createElementNSPlus("ows:Abstract",{value:B});return C},OutputFormat:function(C){var B=this.createElementNSPlus("ows:OutputFormat",{value:C});return B}}},CLASS_NAME:"OpenLayers.Format.OWSCommon.v1"});OpenLayers.Format.OWSCommon.v1_0_0=OpenLayers.Class(OpenLayers.Format.OWSCommon.v1,{namespaces:{ows:"http://www.opengis.net/ows",xlink:"http://www.w3.org/1999/xlink"},readers:{ows:OpenLayers.Util.applyDefaults({ExceptionReport:function(B,C){C.success=false;C.exceptionReport={version:B.getAttribute("version"),language:B.getAttribute("language"),exceptions:[]};this.readChildNodes(B,C.exceptionReport)}},OpenLayers.Format.OWSCommon.v1.prototype.readers.ows)},writers:{ows:OpenLayers.Format.OWSCommon.v1.prototype.writers.ows},CLASS_NAME:"OpenLayers.Format.OWSCommon.v1_0_0"});OpenLayers.Format.WFST.v1_1_0=OpenLayers.Class(OpenLayers.Format.Filter.v1_1_0,OpenLayers.Format.WFST.v1,{version:"1.1.0",schemaLocations:{wfs:"http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"},initialize:function(B){OpenLayers.Format.Filter.v1_1_0.prototype.initialize.apply(this,[B]);OpenLayers.Format.WFST.v1.prototype.initialize.apply(this,[B])},readNode:function(B,C,D){return OpenLayers.Format.GML.v3.prototype.readNode.apply(this,[B,C])},readers:{wfs:OpenLayers.Util.applyDefaults({FeatureCollection:function(B,C){C.numberOfFeatures=parseInt(B.getAttribute("numberOfFeatures"));OpenLayers.Format.WFST.v1.prototype.readers.wfs["FeatureCollection"].apply(this,arguments)},TransactionResponse:function(B,C){C.insertIds=[];C.success=false;this.readChildNodes(B,C)},TransactionSummary:function(B,C){C.success=true},InsertResults:function(B,C){this.readChildNodes(B,C)},Feature:function(C,B){var D={fids:[]};this.readChildNodes(C,D);B.insertIds.push(D.fids[0])}},OpenLayers.Format.WFST.v1.prototype.readers.wfs),gml:OpenLayers.Format.GML.v3.prototype.readers.gml,feature:OpenLayers.Format.GML.v3.prototype.readers.feature,ogc:OpenLayers.Format.Filter.v1_1_0.prototype.readers.ogc,ows:OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows},writers:{wfs:OpenLayers.Util.applyDefaults({GetFeature:function(B){var C=OpenLayers.Format.WFST.v1.prototype.writers.wfs["GetFeature"].apply(this,arguments);B&&this.setAttributes(C,{resultType:B.resultType,startIndex:B.startIndex,count:B.count});return C},Query:function(C){C=OpenLayers.Util.extend({featureNS:this.featureNS,featurePrefix:this.featurePrefix,featureType:this.featureType,srsName:this.srsName},C);var F=C.featurePrefix;var E=this.createElementNSPlus("wfs:Query",{attributes:{typeName:(F?F+":":"")+C.featureType,srsName:C.srsName}});if(C.featureNS){E.setAttribute("xmlns:"+F,C.featureNS)}if(C.propertyNames){for(var D=0,B=C.propertyNames.length;D<B;D++){this.writeNode("wfs:PropertyName",{property:C.propertyNames[D]},E)}}if(C.filter){OpenLayers.Format.WFST.v1_1_0.prototype.setFilterProperty.call(this,C.filter);this.writeNode("ogc:Filter",C.filter,E)}return E},PropertyName:function(B){return this.createElementNSPlus("wfs:PropertyName",{value:B.property})}},OpenLayers.Format.WFST.v1.prototype.writers.wfs),gml:OpenLayers.Format.GML.v3.prototype.writers.gml,feature:OpenLayers.Format.GML.v3.prototype.writers.feature,ogc:OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc},CLASS_NAME:"OpenLayers.Format.WFST.v1_1_0"});OpenLayers.Strategy=OpenLayers.Class({layer:null,options:null,active:null,autoActivate:true,autoDestroy:true,initialize:function(B){OpenLayers.Util.extend(this,B);this.options=B;this.active=false},destroy:function(){this.deactivate();this.layer=null;this.options=null},setLayer:function(B){this.layer=B},activate:function(){if(!this.active){this.active=true;return true}return false},deactivate:function(){if(this.active){this.active=false;return true}return false},CLASS_NAME:"OpenLayers.Strategy"});OpenLayers.Strategy.Filter=OpenLayers.Class(OpenLayers.Strategy,{filter:null,cache:null,caching:false,activate:function(){var B=OpenLayers.Strategy.prototype.activate.apply(this,arguments);if(B){this.cache=[];this.layer.events.on({beforefeaturesadded:this.handleAdd,beforefeaturesremoved:this.handleRemove,scope:this})}return B},deactivate:function(){this.cache=null;if(this.layer&&this.layer.events){this.layer.events.un({beforefeaturesadded:this.handleAdd,beforefeaturesremoved:this.handleRemove,scope:this})}return OpenLayers.Strategy.prototype.deactivate.apply(this,arguments)},handleAdd:function(F){if(!this.caching&&this.filter){var E=F.features;F.features=[];var C;for(var B=0,D=E.length;B<D;++B){C=E[B];if(this.filter.evaluate(C)){F.features.push(C)}else{this.cache.push(C)}}}},handleRemove:function(B){if(!this.caching){this.cache=[]}},setFilter:function(B){this.filter=B;var D=this.cache;this.cache=[];this.handleAdd({features:this.layer.features});if(this.cache.length>0){this.caching=true;this.layer.removeFeatures(this.cache.slice());this.caching=false}if(D.length>0){var C={features:D};this.handleAdd(C);if(C.features.length>0){this.caching=true;this.layer.addFeatures(C.features);this.caching=false}}},CLASS_NAME:"OpenLayers.Strategy.Filter"});OpenLayers.Strategy.Save=OpenLayers.Class(OpenLayers.Strategy,{events:null,auto:false,timer:null,initialize:function(B){OpenLayers.Strategy.prototype.initialize.apply(this,[B]);this.events=new OpenLayers.Events(this)},activate:function(){var B=OpenLayers.Strategy.prototype.activate.call(this);if(B){if(this.auto){if(typeof this.auto==="number"){this.timer=window.setInterval(OpenLayers.Function.bind(this.save,this),this.auto*1000)}else{this.layer.events.on({featureadded:this.triggerSave,afterfeaturemodified:this.triggerSave,scope:this})}}}return B},deactivate:function(){var B=OpenLayers.Strategy.prototype.deactivate.call(this);if(B){if(this.auto){if(typeof this.auto==="number"){window.clearInterval(this.timer)}else{this.layer.events.un({featureadded:this.triggerSave,afterfeaturemodified:this.triggerSave,scope:this})}}}return B},triggerSave:function(C){var B=C.feature;if(B.state===OpenLayers.State.INSERT||B.state===OpenLayers.State.UPDATE||B.state===OpenLayers.State.DELETE){this.save([C.feature])}},save:function(E){if(!E){E=this.layer.features}this.events.triggerEvent("start",{features:E});var G=this.layer.projection;var D=this.layer.map.getProjectionObject();if(!D.equals(G)){var B=E.length;var F=new Array(B);var I,H;for(var C=0;C<B;++C){I=E[C];H=I.clone();H.fid=I.fid;H.state=I.state;if(I.url){H.url=I.url}H._original=I;H.geometry.transform(D,G);F[C]=H}E=F}this.layer.protocol.commit(E,{callback:this.onCommit,scope:this})},onCommit:function(E){var J={response:E};if(E.success()){var C=E.reqFeatures;var B,K;var D=[];var I=E.insertIds||[];var F=0;for(var G=0,H=C.length;G<H;++G){K=C[G];K=K._original||K;B=K.state;if(B){if(B==OpenLayers.State.DELETE){D.push(K)}else{if(B==OpenLayers.State.INSERT){K.fid=I[F];++F}}K.state=null}}if(D.length>0){this.layer.destroyFeatures(D)}this.events.triggerEvent("success",J)}else{this.events.triggerEvent("fail",J)}},CLASS_NAME:"OpenLayers.Strategy.Save"});OpenLayers.Layer.HTTPRequest=OpenLayers.Class(OpenLayers.Layer,{URL_HASH_FACTOR:(Math.sqrt(5)-1)/2,url:null,params:null,reproject:false,initialize:function(D,C,E,B){OpenLayers.Layer.prototype.initialize.apply(this,[D,B]);this.url=C;if(!this.params){this.params=OpenLayers.Util.extend({},E)}},destroy:function(){this.url=null;this.params=null;OpenLayers.Layer.prototype.destroy.apply(this,arguments)},clone:function(B){if(B==null){B=new OpenLayers.Layer.HTTPRequest(this.name,this.url,this.params,this.getOptions())}B=OpenLayers.Layer.prototype.clone.apply(this,[B]);return B},setUrl:function(B){this.url=B},mergeNewParams:function(C){this.params=OpenLayers.Util.extend(this.params,C);var B=this.redraw();if(this.map!=null){this.map.events.triggerEvent("changelayer",{layer:this,property:"params"})}return B},redraw:function(B){if(B){return this.mergeNewParams({_olSalt:Math.random()})}else{return OpenLayers.Layer.prototype.redraw.apply(this,[])}},selectUrl:function(F,E){var D=1;for(var C=0,B=F.length;C<B;C++){D*=F.charCodeAt(C)*this.URL_HASH_FACTOR;D-=Math.floor(D)}return E[Math.floor(D*E.length)]},getFullRequestString:function(H,E){var C=E||this.url;var G=OpenLayers.Util.extend({},this.params);G=OpenLayers.Util.extend(G,H);var F=OpenLayers.Util.getParameterString(G);if(OpenLayers.Util.isArray(C)){C=this.selectUrl(F,C)}var B=OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(C));for(var D in G){if(D.toUpperCase() in B){delete G[D]}}F=OpenLayers.Util.getParameterString(G);return OpenLayers.Util.urlAppend(C,F)},CLASS_NAME:"OpenLayers.Layer.HTTPRequest"});OpenLayers.Tile=OpenLayers.Class({events:null,eventListeners:null,id:null,layer:null,url:null,bounds:null,size:null,position:null,isLoading:false,initialize:function(F,B,G,D,E,C){this.layer=F;this.position=B.clone();this.setBounds(G);this.url=D;if(E){this.size=E.clone()}this.id=OpenLayers.Util.createUniqueID("Tile_");OpenLayers.Util.extend(this,C);this.events=new OpenLayers.Events(this);if(this.eventListeners instanceof Object){this.events.on(this.eventListeners)}},unload:function(){if(this.isLoading){this.isLoading=false;this.events.triggerEvent("unload")}},destroy:function(){this.layer=null;this.bounds=null;this.size=null;this.position=null;if(this.eventListeners){this.events.un(this.eventListeners)}this.events.destroy();this.eventListeners=null;this.events=null},draw:function(C){if(!C){this.clear()}var B=this.shouldDraw();if(B&&!C){B=this.events.triggerEvent("beforedraw")!==false}return B},shouldDraw:function(){var C=false,B=this.layer.maxExtent;if(B){var E=this.layer.map;var D=E.baseLayer.wrapDateLine&&E.getMaxExtent();if(this.bounds.intersectsBounds(B,{inclusive:false,worldBounds:D})){C=true}}return C||this.layer.displayOutsideMaxExtent},setBounds:function(D){D=D.clone();if(this.layer.map.baseLayer.wrapDateLine){var C=this.layer.map.getMaxExtent(),B=this.layer.map.getResolution();D=D.wrapDateLine(C,{leftTolerance:B,rightTolerance:B})}this.bounds=D},moveTo:function(C,B,D){if(D==null){D=true}this.setBounds(C);this.position=B.clone();if(D){this.draw()}},clear:function(B){},CLASS_NAME:"OpenLayers.Tile"});OpenLayers.Tile.Image=OpenLayers.Class(OpenLayers.Tile,{url:null,imgDiv:null,frame:null,imageReloadAttempts:null,layerAlphaHack:null,asyncRequestId:null,blankImageUrl:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAQAIBRAA7",maxGetUrlLength:null,canvasContext:null,crossOriginKeyword:null,initialize:function(F,B,G,D,E,C){OpenLayers.Tile.prototype.initialize.apply(this,arguments);this.url=D;this.layerAlphaHack=this.layer.alpha&&OpenLayers.Util.alphaHack();if(this.maxGetUrlLength!=null||this.layer.gutter||this.layerAlphaHack){this.frame=document.createElement("div");this.frame.style.position="absolute";this.frame.style.overflow="hidden"}if(this.maxGetUrlLength!=null){OpenLayers.Util.extend(this,OpenLayers.Tile.Image.IFrame)}},destroy:function(){if(this.imgDiv){this.clear();this.imgDiv=null;this.frame=null}this.asyncRequestId=null;OpenLayers.Tile.prototype.destroy.apply(this,arguments)},draw:function(){var B=OpenLayers.Tile.prototype.draw.apply(this,arguments);if(B){if(this.layer!=this.layer.map.baseLayer&&this.layer.reproject){this.bounds=this.getBoundsFromBaseLayer(this.position)}if(this.isLoading){this._loadEvent="reload"}else{this.isLoading=true;this._loadEvent="loadstart"}this.positionTile();this.renderTile()}else{this.unload()}return B},renderTile:function(){this.layer.div.appendChild(this.getTile());if(this.layer.async){var B=this.asyncRequestId=(this.asyncRequestId||0)+1;this.layer.getURLasync(this.bounds,function(C){if(B==this.asyncRequestId){this.url=C;this.initImage()}},this)}else{this.url=this.layer.getURL(this.bounds);this.initImage()}},positionTile:function(){var C=this.getTile().style,B=this.frame?this.size:this.layer.getImageSize(this.bounds);C.left=this.position.x+"%";C.top=this.position.y+"%";C.width=B.w+"%";C.height=B.h+"%"},clear:function(){OpenLayers.Tile.prototype.clear.apply(this,arguments);var B=this.imgDiv;if(B){OpenLayers.Event.stopObservingElement(B);var C=this.getTile();if(C.parentNode===this.layer.div){this.layer.div.removeChild(C)}this.setImgSrc();if(this.layerAlphaHack===true){B.style.filter=""}OpenLayers.Element.removeClass(B,"olImageLoadError")}this.canvasContext=null},getImage:function(){if(!this.imgDiv){this.imgDiv=document.createElement("img");this.imgDiv.className="olTileImage";this.imgDiv.galleryImg="no";var B=this.imgDiv.style;if(this.frame){var D=0,C=0;if(this.layer.gutter){D=this.layer.gutter/this.layer.tileSize.w*100;C=this.layer.gutter/this.layer.tileSize.h*100}B.left=-D+"%";B.top=-C+"%";B.width=(2*D+100)+"%";B.height=(2*C+100)+"%"}B.visibility="hidden";B.opacity=0;if(this.layer.opacity<1){B.filter="alpha(opacity="+(this.layer.opacity*100)+")"}B.position="absolute";if(this.layerAlphaHack){B.paddingTop=B.height;B.height="0";B.width="100%"}if(this.frame){this.frame.appendChild(this.imgDiv)}}return this.imgDiv},initImage:function(){this.events.triggerEvent(this._loadEvent);var B=this.getImage();if(this.url&&B.getAttribute("src")==this.url){this.onImageLoad()}else{var C=OpenLayers.Function.bind(function(){OpenLayers.Event.stopObservingElement(B);OpenLayers.Event.observe(B,"load",OpenLayers.Function.bind(this.onImageLoad,this));OpenLayers.Event.observe(B,"error",OpenLayers.Function.bind(this.onImageError,this));this.imageReloadAttempts=0;this.setImgSrc(this.url)},this);if(B.getAttribute("src")==this.blankImageUrl){C()}else{OpenLayers.Event.observe(B,"load",C);OpenLayers.Event.observe(B,"error",C);if(this.crossOriginKeyword){B.removeAttribute("crossorigin")}B.src=this.blankImageUrl}}},setImgSrc:function(C){var B=this.imgDiv;B.style.visibility="hidden";B.style.opacity=0;if(C){if(this.crossOriginKeyword){if(C.substr(0,5)!=="data:"){B.setAttribute("crossorigin",this.crossOriginKeyword)}else{B.removeAttribute("crossorigin")}}B.src=C}},getTile:function(){return this.frame?this.frame:this.getImage()},createBackBuffer:function(){if(!this.imgDiv||this.isLoading){return }var B;if(this.frame){B=this.frame.cloneNode(false);B.appendChild(this.imgDiv)}else{B=this.imgDiv}this.imgDiv=null;return B},onImageLoad:function(){var C=this.imgDiv;OpenLayers.Event.stopObservingElement(C);C.style.visibility="inherit";C.style.opacity=this.layer.opacity;this.isLoading=false;this.canvasContext=null;this.events.triggerEvent("loadend");if(parseFloat(navigator.appVersion.split("MSIE")[1])<7&&this.layer&&this.layer.div){var D=document.createElement("span");D.style.display="none";var B=this.layer.div;B.appendChild(D);window.setTimeout(function(){D.parentNode===B&&D.parentNode.removeChild(D)},0)}if(this.layerAlphaHack===true){C.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+C.src+"', sizingMethod='scale')"}},onImageError:function(){var B=this.imgDiv;if(B.src!=null){this.imageReloadAttempts++;if(this.imageReloadAttempts<=OpenLayers.IMAGE_RELOAD_ATTEMPTS){this.setImgSrc(this.layer.getURL(this.bounds))}else{OpenLayers.Element.addClass(B,"olImageLoadError");this.events.triggerEvent("loaderror");this.onImageLoad()}}},getCanvasContext:function(){if(OpenLayers.CANVAS_SUPPORTED&&this.imgDiv&&!this.isLoading){if(!this.canvasContext){var B=document.createElement("canvas");B.width=this.size.w;B.height=this.size.h;this.canvasContext=B.getContext("2d");this.canvasContext.drawImage(this.imgDiv,0,0)}return this.canvasContext}},CLASS_NAME:"OpenLayers.Tile.Image"});OpenLayers.Layer.Grid=OpenLayers.Class(OpenLayers.Layer.HTTPRequest,{tileSize:null,tileOriginCorner:"bl",tileOrigin:null,tileOptions:null,tileClass:OpenLayers.Tile.Image,grid:null,singleTile:false,ratio:1.5,buffer:0,transitionEffect:null,numLoadingTiles:0,tileLoadingDelay:85,serverResolutions:null,moveTimerId:null,deferMoveGriddedTiles:null,tileQueueId:null,tileQueue:null,loading:false,backBuffer:null,gridResolution:null,backBufferResolution:null,backBufferLonLat:null,backBufferTimerId:null,removeBackBufferDelay:null,className:null,initialize:function(D,C,E,B){OpenLayers.Layer.HTTPRequest.prototype.initialize.apply(this,arguments);this.grid=[];this.tileQueue=[];if(this.removeBackBufferDelay===null){this.removeBackBufferDelay=this.singleTile?0:2500}if(this.className===null){this.className=this.singleTile?"olLayerGridSingleTile":"olLayerGrid"}if(!OpenLayers.Animation.isNative){this.deferMoveGriddedTiles=OpenLayers.Function.bind(function(){this.moveGriddedTiles(true);this.moveTimerId=null},this)}},setMap:function(B){OpenLayers.Layer.HTTPRequest.prototype.setMap.call(this,B);OpenLayers.Element.addClass(this.div,this.className)},removeMap:function(B){if(this.moveTimerId!==null){window.clearTimeout(this.moveTimerId);this.moveTimerId=null}this.clearTileQueue();if(this.backBufferTimerId!==null){window.clearTimeout(this.backBufferTimerId);this.backBufferTimerId=null}},destroy:function(){this.removeBackBuffer();this.clearGrid();this.grid=null;this.tileSize=null;OpenLayers.Layer.HTTPRequest.prototype.destroy.apply(this,arguments)},clearGrid:function(){this.clearTileQueue();if(this.grid){for(var G=0,C=this.grid.length;G<C;G++){var F=this.grid[G];for(var D=0,B=F.length;D<B;D++){var E=F[D];this.destroyTile(E)}}this.grid=[];this.gridResolution=null}},clone:function(B){if(B==null){B=new OpenLayers.Layer.Grid(this.name,this.url,this.params,this.getOptions())}B=OpenLayers.Layer.HTTPRequest.prototype.clone.apply(this,[B]);if(this.tileSize!=null){B.tileSize=this.tileSize.clone()}B.grid=[];B.gridResolution=null;B.backBuffer=null;B.backBufferTimerId=null;B.tileQueue=[];B.tileQueueId=null;B.loading=false;B.moveTimerId=null;return B},moveTo:function(G,C,H){OpenLayers.Layer.HTTPRequest.prototype.moveTo.apply(this,arguments);G=G||this.map.getExtent();if(G!=null){var F=!this.grid.length||C;var E=this.getTilesBounds();var D=this.map.getResolution();var B=this.getServerResolution(D);if(this.singleTile){if(F||(!H&&!E.containsBounds(G))){if(C&&this.transitionEffect!=="resize"){this.removeBackBuffer()}if(!C||this.transitionEffect==="resize"){this.applyBackBuffer(B)}this.initSingleTile(G)}}else{F=F||!E.intersectsBounds(G,{worldBounds:this.map.baseLayer.wrapDateLine&&this.map.getMaxExtent()});if(D!==B){G=this.map.calculateBounds(null,B);if(F){var I=B/D;this.transformDiv(I)}}else{this.div.style.width="100%";this.div.style.height="100%";this.div.style.left="0%";this.div.style.top="0%"}if(F){if(C&&this.transitionEffect==="resize"){this.applyBackBuffer(B)}this.initGriddedTiles(G)}else{this.moveGriddedTiles()}}}},getTileData:function(N){var R=null,O=N.lon,M=N.lat,E=this.grid.length;if(this.map&&E){var S=this.map.getResolution(),B=this.tileSize.w,L=this.tileSize.h,K=this.grid[0][0].bounds,F=K.left,P=K.top;if(O<F){if(this.map.baseLayer.wrapDateLine){var C=this.map.getMaxExtent().getWidth();var D=Math.ceil((F-O)/C);O+=C*D}}var I=(O-F)/(S*B);var G=(P-M)/(S*L);var H=Math.floor(I);var J=Math.floor(G);if(J>=0&&J<E){var Q=this.grid[J][H];if(Q){R={tile:Q,i:Math.floor((I-H)*B),j:Math.floor((G-J)*L)}}}}return R},queueTileDraw:function(B){var C=B.object;if(!~OpenLayers.Util.indexOf(this.tileQueue,C)){this.tileQueue.push(C)}if(!this.tileQueueId){this.tileQueueId=OpenLayers.Animation.start(OpenLayers.Function.bind(this.drawTileFromQueue,this),null,this.div)}return false},drawTileFromQueue:function(){if(this.tileQueue.length===0){this.clearTileQueue()}else{this.tileQueue.shift().draw(true)}},clearTileQueue:function(){OpenLayers.Animation.stop(this.tileQueueId);this.tileQueueId=null;this.tileQueue=[]},destroyTile:function(B){this.removeTileMonitoringHooks(B);B.destroy()},getServerResolution:function(C){C=C||this.map.getResolution();if(this.serverResolutions&&OpenLayers.Util.indexOf(this.serverResolutions,C)===-1){var D,B;for(D=this.serverResolutions.length-1;D>=0;D--){B=this.serverResolutions[D];if(B>C){C=B;break}}if(D===-1){throw"no appropriate resolution in serverResolutions"}}return C},getServerZoom:function(){var B=this.getServerResolution();return this.serverResolutions?OpenLayers.Util.indexOf(this.serverResolutions,B):this.map.getZoomForResolution(B)+(this.zoomOffset||0)},transformDiv:function(F){this.div.style.width=100*F+"%";this.div.style.height=100*F+"%";var C=this.map.getSize();var E=parseInt(this.map.layerContainerDiv.style.left,10);var D=parseInt(this.map.layerContainerDiv.style.top,10);var B=(E-(C.w/2))*(F-1);var G=(D-(C.h/2))*(F-1);this.div.style.left=B+"%";this.div.style.top=G+"%"},getResolutionScale:function(){return parseInt(this.div.style.width,10)/100},applyBackBuffer:function(E){if(this.backBufferTimerId!==null){this.removeBackBuffer()}var D=this.backBuffer;if(!D){D=this.createBackBuffer();if(!D){return }this.div.insertBefore(D,this.div.firstChild);this.backBuffer=D;var C=this.grid[0][0].bounds;this.backBufferLonLat={lon:C.left,lat:C.top};this.backBufferResolution=this.gridResolution}var H=D.style;var G=this.backBufferResolution/E;H.width=100*G+"%";H.height=100*G+"%";var B=this.getViewPortPxFromLonLat(this.backBufferLonLat,E);var I=parseInt(this.map.layerContainerDiv.style.left,10);var F=parseInt(this.map.layerContainerDiv.style.top,10);D.style.left=Math.round(B.x-I)+"%";D.style.top=Math.round(B.y-F)+"%"},createBackBuffer:function(){var D;if(this.grid.length>0){D=document.createElement("div");D.id=this.div.id+"_bb";D.className="olBackBuffer";D.style.position="absolute";D.style.width="100%";D.style.height="100%";for(var F=0,C=this.grid.length;F<C;F++){for(var E=0,B=this.grid[F].length;E<B;E++){var G=this.grid[F][E].createBackBuffer();if(!G){continue}G.style.top=(F*this.tileSize.h)+"%";G.style.left=(E*this.tileSize.w)+"%";D.appendChild(G)}}}return D},removeBackBuffer:function(){if(this.backBuffer){this.div.removeChild(this.backBuffer);this.backBuffer=null;this.backBufferResolution=null;if(this.backBufferTimerId!==null){window.clearTimeout(this.backBufferTimerId);this.backBufferTimerId=null}}},moveByPx:function(C,B){if(!this.singleTile){this.moveGriddedTiles()}},setTileSize:function(B){if(this.singleTile){B=this.map.getSize();B.h=parseInt(B.h*this.ratio);B.w=parseInt(B.w*this.ratio)}OpenLayers.Layer.HTTPRequest.prototype.setTileSize.apply(this,[B])},getTilesBounds:function(){var E=null;var D=this.grid.length;if(D){var F=this.grid[D-1][0].bounds,C=this.grid[0].length*F.getWidth(),B=this.grid.length*F.getHeight();E=new OpenLayers.Bounds(F.left,F.bottom,F.left+C,F.bottom+B)}return E},initSingleTile:function(F){this.clearTileQueue();var B=F.getCenterLonLat();var H=F.getWidth()*this.ratio;var C=F.getHeight()*this.ratio;var G=new OpenLayers.Bounds(B.lon-(H/2),B.lat-(C/2),B.lon+(H/2),B.lat+(C/2));var D=this.map.getLayerPxFromLonLat({lon:G.left,lat:G.top});if(!this.grid.length){this.grid[0]=[]}var E=this.grid[0][0];if(!E){E=this.addTile(G,D);this.addTileMonitoringHooks(E);E.draw();this.grid[0][0]=E}else{E.moveTo(G,D)}this.removeExcessTiles(1,1);this.gridResolution=this.getServerResolution()},calculateGridLayout:function(B,O,F){var L=F*this.tileSize.w;var D=F*this.tileSize.h;var J=B.left-O.lon;var M=Math.floor(J/L)-this.buffer;var K=J/L-M;var G=-K*this.tileSize.w;var N=O.lon+M*L;var C=B.top-(O.lat+D);var I=Math.ceil(C/D)+this.buffer;var P=I-C/D;var E=-P*this.tileSize.h;var H=O.lat+I*D;return{tilelon:L,tilelat:D,tileoffsetlon:N,tileoffsetlat:H,tileoffsetx:G,tileoffsety:E}},getTileOrigin:function(){var C=this.tileOrigin;if(!C){var D=this.getMaxExtent();var B=({tl:["left","top"],tr:["right","top"],bl:["left","bottom"],br:["right","bottom"]})[this.tileOriginCorner];C=new OpenLayers.LonLat(D[B[0]],D[B[1]])}return C},initGriddedTiles:function(J){this.clearTileQueue();var H=this.map.getSize();var Z=Math.ceil(H.h/this.tileSize.h)+Math.max(1,2*this.buffer);var d=Math.ceil(H.w/this.tileSize.w)+Math.max(1,2*this.buffer);var h=this.getTileOrigin();var S=this.getServerResolution();var R=this.calculateGridLayout(J,h,S);var G=Math.round(R.tileoffsetx);var D=Math.round(R.tileoffsety);var L=R.tileoffsetlon;var O=R.tileoffsetlat;var F=R.tilelon;var K=R.tilelat;var Y=G;var b=L;var W=0;var B=parseInt(this.map.layerContainerDiv.style.left);var U=parseInt(this.map.layerContainerDiv.style.top);var a=[],f=this.map.getCenter();do{var I=this.grid[W++];if(!I){I=[];this.grid.push(I)}L=b;G=Y;var E=0;do{var C=new OpenLayers.Bounds(L,O,L+F,O+K);var N=G;N-=B;var M=D;M-=U;var Q=new OpenLayers.Pixel(N,M);var g=I[E++];if(!g){g=this.addTile(C,Q);this.addTileMonitoringHooks(g);I.push(g)}else{g.moveTo(C,Q,false)}var T=C.getCenterLonLat();a.push({tile:g,distance:Math.pow(T.lon-f.lon,2)+Math.pow(T.lat-f.lat,2)});L+=F;G+=this.tileSize.w}while((L<=J.right+F*this.buffer)||E<d);O-=K;D+=this.tileSize.h}while((O>=J.bottom-K*this.buffer)||W<Z);this.removeExcessTiles(W,E);this.gridResolution=this.getServerResolution();a.sort(function(l,j){return l.distance-j.distance});for(var V=0,P=a.length;V<P;++V){a[V].tile.draw()}},getMaxExtent:function(){return this.maxExtent},addTile:function(D,B){var C=new this.tileClass(this,B,D,null,this.tileSize,this.tileOptions);C.events.register("beforedraw",this,this.queueTileDraw);return C},addTileMonitoringHooks:function(B){B.onLoadStart=function(){if(this.loading===false){this.loading=true;this.events.triggerEvent("loadstart")}this.events.triggerEvent("tileloadstart",{tile:B});this.numLoadingTiles++};B.onLoadEnd=function(){this.numLoadingTiles--;this.events.triggerEvent("tileloaded",{tile:B});if(this.tileQueue.length===0&&this.numLoadingTiles===0){this.loading=false;this.events.triggerEvent("loadend");if(this.backBuffer){this.backBufferTimerId=window.setTimeout(OpenLayers.Function.bind(this.removeBackBuffer,this),this.removeBackBufferDelay)}}};B.onLoadError=function(){this.events.triggerEvent("tileerror",{tile:B})};B.events.on({loadstart:B.onLoadStart,loadend:B.onLoadEnd,unload:B.onLoadEnd,loaderror:B.onLoadError,scope:this})},removeTileMonitoringHooks:function(B){B.unload();B.events.un({loadstart:B.onLoadStart,loadend:B.onLoadEnd,unload:B.onLoadEnd,loaderror:B.onLoadError,scope:this})},moveGriddedTiles:function(C){if(!C&&!OpenLayers.Animation.isNative){if(this.moveTimerId!=null){window.clearTimeout(this.moveTimerId)}this.moveTimerId=window.setTimeout(this.deferMoveGriddedTiles,this.tileLoadingDelay);return }var B=this.buffer||1;var F=this.getResolutionScale();while(true){var E={x:(this.grid[0][0].position.x*F)+parseInt(this.div.style.left,10)+parseInt(this.map.layerContainerDiv.style.left),y:(this.grid[0][0].position.y*F)+parseInt(this.div.style.top,10)+parseInt(this.map.layerContainerDiv.style.top)};var D={w:this.tileSize.w*F,h:this.tileSize.h*F};if(E.x>-D.w*(B-1)){this.shiftColumn(true)}else{if(E.x<-D.w*B){this.shiftColumn(false)}else{if(E.y>-D.h*(B-1)){this.shiftRow(true)}else{if(E.y<-D.h*B){this.shiftRow(false)}else{break}}}}}},shiftRow:function(N){var D=(N)?0:(this.grid.length-1);var C=this.grid;var G=C[D];var F=this.getServerResolution();var I=(N)?-this.tileSize.h:this.tileSize.h;var H=F*-I;var M=(N)?C.pop():C.shift();for(var J=0,L=G.length;J<L;J++){var E=G[J];var B=E.bounds.clone();var K=E.position.clone();B.bottom=B.bottom+H;B.top=B.top+H;K.y=K.y+I;M[J].moveTo(B,K)}if(N){C.unshift(M)}else{C.push(M)}},shiftColumn:function(M){var E=(M)?-this.tileSize.w:this.tileSize.w;var D=this.getServerResolution();var K=D*E;for(var F=0,H=this.grid.length;F<H;F++){var L=this.grid[F];var J=(M)?0:(L.length-1);var C=L[J];var B=C.bounds.clone();var G=C.position.clone();B.left=B.left+K;B.right=B.right+K;G.x=G.x+E;var I=M?this.grid[F].pop():this.grid[F].shift();I.moveTo(B,G);if(M){L.unshift(I)}else{L.push(I)}}},removeExcessTiles:function(F,D){var C,B;while(this.grid.length>F){var G=this.grid.pop();for(C=0,B=G.length;C<B;C++){var E=G[C];this.destroyTile(E)}}for(C=0,B=this.grid.length;C<B;C++){while(this.grid[C].length>D){var G=this.grid[C];var E=G.pop();this.destroyTile(E)}}},onMapResize:function(){if(this.singleTile){this.clearGrid();this.setTileSize()}},getTileBounds:function(E){var D=this.maxExtent;var G=this.getResolution();var F=G*this.tileSize.w;var C=G*this.tileSize.h;var I=this.getLonLatFromViewPortPx(E);var B=D.left+(F*Math.floor((I.lon-D.left)/F));var H=D.bottom+(C*Math.floor((I.lat-D.bottom)/C));return new OpenLayers.Bounds(B,H,B+F,H+C)},CLASS_NAME:"OpenLayers.Layer.Grid"});OpenLayers.Layer.XYZ=OpenLayers.Class(OpenLayers.Layer.Grid,{isBaseLayer:true,sphericalMercator:false,zoomOffset:0,serverResolutions:null,initialize:function(D,C,B){if(B&&B.sphericalMercator||this.sphericalMercator){B=OpenLayers.Util.extend({projection:"EPSG:900913",numZoomLevels:19},B)}OpenLayers.Layer.Grid.prototype.initialize.apply(this,[D||this.name,C||this.url,{},B])},clone:function(B){if(B==null){B=new OpenLayers.Layer.XYZ(this.name,this.url,this.getOptions())}B=OpenLayers.Layer.Grid.prototype.clone.apply(this,[B]);return B},getURL:function(E){var B=this.getXYZ(E);var C=this.url;if(OpenLayers.Util.isArray(C)){var D=""+B.x+B.y+B.z;C=this.selectUrl(D,C)}return OpenLayers.String.format(C,B)},getXYZ:function(E){var D=this.getServerResolution();var B=Math.round((E.left-this.maxExtent.left)/(D*this.tileSize.w));var G=Math.round((this.maxExtent.top-E.top)/(D*this.tileSize.h));var F=this.getServerZoom();if(this.wrapDateLine){var C=Math.pow(2,F);B=((B%C)+C)%C}return{x:B,y:G,z:F}},setMap:function(B){OpenLayers.Layer.Grid.prototype.setMap.apply(this,arguments);if(!this.tileOrigin){this.tileOrigin=new OpenLayers.LonLat(this.maxExtent.left,this.maxExtent.bottom)}},CLASS_NAME:"OpenLayers.Layer.XYZ"});OpenLayers.Layer.OSM=OpenLayers.Class(OpenLayers.Layer.XYZ,{name:"OpenStreetMap",url:["http://a.tile.openstreetmap.org/${z}/${x}/${y}.png","http://b.tile.openstreetmap.org/${z}/${x}/${y}.png","http://c.tile.openstreetmap.org/${z}/${x}/${y}.png"],attribution:"Data CC-By-SA by <a href='http://openstreetmap.org/'>OpenStreetMap</a>",sphericalMercator:true,wrapDateLine:true,tileOptions:null,initialize:function(D,C,B){OpenLayers.Layer.XYZ.prototype.initialize.apply(this,arguments);this.tileOptions=OpenLayers.Util.extend({crossOriginKeyword:"anonymous"},this.options&&this.options.tileOptions)},clone:function(B){if(B==null){B=new OpenLayers.Layer.OSM(this.name,this.url,this.getOptions())}B=OpenLayers.Layer.XYZ.prototype.clone.apply(this,[B]);return B},CLASS_NAME:"OpenLayers.Layer.OSM"});OpenLayers.Renderer=OpenLayers.Class({container:null,root:null,extent:null,locked:false,size:null,resolution:null,map:null,featureDx:0,initialize:function(B,C){this.container=OpenLayers.Util.getElement(B);OpenLayers.Util.extend(this,C)},destroy:function(){this.container=null;this.extent=null;this.size=null;this.resolution=null;this.map=null},supported:function(){return false},setExtent:function(C,D){this.extent=C.clone();if(this.map.baseLayer&&this.map.baseLayer.wrapDateLine){var B=C.getWidth()/this.map.getExtent().getWidth(),C=C.scale(1/B);this.extent=C.wrapDateLine(this.map.getMaxExtent()).scale(B)}if(D){this.resolution=null}return true},setSize:function(B){this.size=B.clone();this.resolution=null},getResolution:function(){this.resolution=this.resolution||this.map.getResolution();return this.resolution},drawFeature:function(J,C){if(C==null){C=J.style}if(J.geometry){var B=J.geometry.getBounds();if(B){var I;if(this.map.baseLayer&&this.map.baseLayer.wrapDateLine){I=this.map.getMaxExtent()}if(!B.intersectsBounds(this.extent,{worldBounds:I})){C={display:"none"}}else{this.calculateFeatureDx(B,I)}var D=this.drawGeometry(J.geometry,C,J.id);if(C.display!="none"&&C.label&&D!==false){var H=J.geometry.getCentroid();if(C.labelXOffset||C.labelYOffset){var F=isNaN(C.labelXOffset)?0:C.labelXOffset;var E=isNaN(C.labelYOffset)?0:C.labelYOffset;var G=this.getResolution();H.move(F*G,E*G)}this.drawText(J.id,C,H)}else{this.removeText(J.id)}return D}}},calculateFeatureDx:function(F,E){this.featureDx=0;if(E){var G=E.getWidth(),C=(this.extent.left+this.extent.right)/2,D=(F.left+F.right)/2,B=Math.round((D-C)/G);this.featureDx=B*G}},drawGeometry:function(D,B,C){},drawText:function(D,C,B){},removeText:function(B){},clear:function(){},getFeatureIdFromEvent:function(B){},eraseFeatures:function(E){if(!(OpenLayers.Util.isArray(E))){E=[E]}for(var D=0,B=E.length;D<B;++D){var C=E[D];this.eraseGeometry(C.geometry,C.id);this.removeText(C.id)}},eraseGeometry:function(C,B){},moveRoot:function(B){},getRenderLayerId:function(){return this.container.id},applyDefaultSymbolizer:function(C){var B=OpenLayers.Util.extend({},OpenLayers.Renderer.defaultSymbolizer);if(C.stroke===false){delete B.strokeWidth;delete B.strokeColor}if(C.fill===false){delete B.fillColor}OpenLayers.Util.extend(B,C);return B},CLASS_NAME:"OpenLayers.Renderer"});OpenLayers.Renderer.defaultSymbolizer={fillColor:"#000000",strokeColor:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,pointRadius:0,labelAlign:"cm"};OpenLayers.Renderer.symbol={star:[350,75,379,161,469,161,397,215,423,301,350,250,277,301,303,215,231,161,321,161,350,75],cross:[4,0,6,0,6,4,10,4,10,6,6,6,6,10,4,10,4,6,0,6,0,4,4,4,4,0],x:[0,0,25,0,50,35,75,0,100,0,65,50,100,100,75,100,50,65,25,100,0,100,35,50,0,0],square:[0,0,0,1,1,1,1,0,0,0],triangle:[0,10,10,10,5,0,0,10]};OpenLayers.Renderer.Canvas=OpenLayers.Class(OpenLayers.Renderer,{hitDetection:true,hitOverflow:0,canvas:null,features:null,pendingRedraw:false,cachedSymbolBounds:{},initialize:function(B,C){OpenLayers.Renderer.prototype.initialize.apply(this,arguments);this.root=document.createElement("canvas");this.container.appendChild(this.root);this.canvas=this.root.getContext("2d");this.features={};if(this.hitDetection){this.hitCanvas=document.createElement("canvas");this.hitContext=this.hitCanvas.getContext("2d")}},setExtent:function(){OpenLayers.Renderer.prototype.setExtent.apply(this,arguments);return false},eraseGeometry:function(C,B){this.eraseFeatures(this.features[B][0])},supported:function(){return OpenLayers.CANVAS_SUPPORTED},setSize:function(C){this.size=C.clone();var B=this.root;B.style.width=C.w+"px";B.style.height=C.h+"px";B.width=C.w;B.height=C.h;this.resolution=null;if(this.hitDetection){var D=this.hitCanvas;D.style.width=C.w+"px";D.style.height=C.h+"px";D.width=C.w;D.height=C.h}},drawFeature:function(B,C){var G;if(B.geometry){C=this.applyDefaultSymbolizer(C||B.style);var F=B.geometry.getBounds();var E;if(this.map.baseLayer&&this.map.baseLayer.wrapDateLine){E=this.map.getMaxExtent()}var D=F&&F.intersectsBounds(this.extent,{worldBounds:E});G=(C.display!=="none")&&!!F&&D;if(G){this.features[B.id]=[B,C]}else{delete (this.features[B.id])}this.pendingRedraw=true}if(this.pendingRedraw&&!this.locked){this.redraw();this.pendingRedraw=false}return G},drawGeometry:function(F,D,E){var C=F.CLASS_NAME;if((C=="OpenLayers.Geometry.Collection")||(C=="OpenLayers.Geometry.MultiPoint")||(C=="OpenLayers.Geometry.MultiLineString")||(C=="OpenLayers.Geometry.MultiPolygon")){for(var B=0;B<F.components.length;B++){this.drawGeometry(F.components[B],D,E)}return }switch(F.CLASS_NAME){case"OpenLayers.Geometry.Point":this.drawPoint(F,D,E);break;case"OpenLayers.Geometry.LineString":this.drawLineString(F,D,E);break;case"OpenLayers.Geometry.LinearRing":this.drawLinearRing(F,D,E);break;case"OpenLayers.Geometry.Polygon":this.drawPolygon(F,D,E);break;default:break}},drawExternalGraphic:function(J,B,E){var F=new Image();if(B.graphicTitle){F.title=B.graphicTitle}var C=B.graphicWidth||B.graphicHeight;var K=B.graphicHeight||B.graphicWidth;C=C?C:B.pointRadius*2;K=K?K:B.pointRadius*2;var H=(B.graphicXOffset!=undefined)?B.graphicXOffset:-(0.5*C);var D=(B.graphicYOffset!=undefined)?B.graphicYOffset:-(0.5*K);var G=B.graphicOpacity||B.fillOpacity;var I=function(){if(!this.features[E]){return }var O=this.getLocalXY(J);var R=O[0];var P=O[1];if(!isNaN(R)&&!isNaN(P)){var L=(R+H)|0;var Q=(P+D)|0;var M=this.canvas;M.globalAlpha=G;var N=OpenLayers.Renderer.Canvas.drawImageScaleFactor||(OpenLayers.Renderer.Canvas.drawImageScaleFactor=/android 2.1/.test(navigator.userAgent.toLowerCase())?320/window.screen.width:1);M.drawImage(F,L*N,Q*N,C*N,K*N);if(this.hitDetection){this.setHitContextStyle("fill",E);this.hitContext.fillRect(L,Q,C,K)}}};F.onload=OpenLayers.Function.bind(I,this);F.src=B.externalGraphic},drawNamedSymbol:function(M,C,I){var N,L,H,G,J,B,D,F;var K;var O=Math.PI/180;var E=OpenLayers.Renderer.symbol[C.graphicName];if(!E){throw new Error(C.graphicName+" is not a valid symbol name")}if(!E.length||E.length<2){return }var R=this.getLocalXY(M);var Q=R[0];var P=R[1];if(isNaN(Q)||isNaN(P)){return }this.canvas.lineCap="round";this.canvas.lineJoin="round";if(this.hitDetection){this.hitContext.lineCap="round";this.hitContext.lineJoin="round"}if(C.graphicName in this.cachedSymbolBounds){B=this.cachedSymbolBounds[C.graphicName]}else{B=new OpenLayers.Bounds();for(J=0;J<E.length;J+=2){B.extend(new OpenLayers.LonLat(E[J],E[J+1]))}this.cachedSymbolBounds[C.graphicName]=B}this.canvas.save();if(this.hitDetection){this.hitContext.save()}this.canvas.translate(Q,P);if(this.hitDetection){this.hitContext.translate(Q,P)}F=O*C.rotation;if(!isNaN(F)){this.canvas.rotate(F);if(this.hitDetection){this.hitContext.rotate(F)}}D=2*C.pointRadius/Math.max(B.getWidth(),B.getHeight());this.canvas.scale(D,D);if(this.hitDetection){this.hitContext.scale(D,D)}H=B.getCenterLonLat().lon;G=B.getCenterLonLat().lat;this.canvas.translate(-H,-G);if(this.hitDetection){this.hitContext.translate(-H,-G)}K=C.strokeWidth;C.strokeWidth=K/D;if(C.fill!==false){this.setCanvasStyle("fill",C);this.canvas.beginPath();for(J=0;J<E.length;J=J+2){N=E[J];L=E[J+1];if(J==0){this.canvas.moveTo(N,L)}this.canvas.lineTo(N,L)}this.canvas.closePath();this.canvas.fill();if(this.hitDetection){this.setHitContextStyle("fill",I,C);this.hitContext.beginPath();for(J=0;J<E.length;J=J+2){N=E[J];L=E[J+1];if(J==0){this.canvas.moveTo(N,L)}this.hitContext.lineTo(N,L)}this.hitContext.closePath();this.hitContext.fill()}}if(C.stroke!==false){this.setCanvasStyle("stroke",C);this.canvas.beginPath();for(J=0;J<E.length;J=J+2){N=E[J];L=E[J+1];if(J==0){this.canvas.moveTo(N,L)}this.canvas.lineTo(N,L)}this.canvas.closePath();this.canvas.stroke();if(this.hitDetection){this.setHitContextStyle("stroke",I,C,D);this.hitContext.beginPath();for(J=0;J<E.length;J=J+2){N=E[J];L=E[J+1];if(J==0){this.hitContext.moveTo(N,L)}this.hitContext.lineTo(N,L)}this.hitContext.closePath();this.hitContext.stroke()}}C.strokeWidth=K;this.canvas.restore();if(this.hitDetection){this.hitContext.restore()}this.setCanvasStyle("reset")},setCanvasStyle:function(C,B){if(C==="fill"){this.canvas.globalAlpha=B.fillOpacity;this.canvas.fillStyle=B.fillColor}else{if(C==="stroke"){this.canvas.globalAlpha=B.strokeOpacity;this.canvas.strokeStyle=B.strokeColor;this.canvas.lineWidth=B.strokeWidth}else{this.canvas.globalAlpha=0;this.canvas.lineWidth=1}}},featureIdToHex:function(D){var E=Number(D.split("_").pop())+1;if(E>=16777216){this.hitOverflow=E-16777215;E=E%16777216+1}var C="000000"+E.toString(16);var B=C.length;C="#"+C.substring(B-6,B);return C},setHitContextStyle:function(C,F,B,E){var D=this.featureIdToHex(F);if(C=="fill"){this.hitContext.globalAlpha=1;this.hitContext.fillStyle=D}else{if(C=="stroke"){this.hitContext.globalAlpha=1;this.hitContext.strokeStyle=D;if(typeof E==="undefined"){this.hitContext.lineWidth=B.strokeWidth+2}else{if(!isNaN(E)){this.hitContext.lineWidth=B.strokeWidth+2/E}}}else{this.hitContext.globalAlpha=0;this.hitContext.lineWidth=1}}},drawPoint:function(H,D,G){if(D.graphic!==false){if(D.externalGraphic){this.drawExternalGraphic(H,D,G)}else{if(D.graphicName&&(D.graphicName!="circle")){this.drawNamedSymbol(H,D,G)}else{var E=this.getLocalXY(H);var I=E[0];var F=E[1];if(!isNaN(I)&&!isNaN(F)){var C=Math.PI*2;var B=D.pointRadius;if(D.fill!==false){this.setCanvasStyle("fill",D);this.canvas.beginPath();this.canvas.arc(I,F,B,0,C,true);this.canvas.fill();if(this.hitDetection){this.setHitContextStyle("fill",G,D);this.hitContext.beginPath();this.hitContext.arc(I,F,B,0,C,true);this.hitContext.fill()}}if(D.stroke!==false){this.setCanvasStyle("stroke",D);this.canvas.beginPath();this.canvas.arc(I,F,B,0,C,true);this.canvas.stroke();if(this.hitDetection){this.setHitContextStyle("stroke",G,D);this.hitContext.beginPath();this.hitContext.arc(I,F,B,0,C,true);this.hitContext.stroke()}this.setCanvasStyle("reset")}}}}}},drawLineString:function(D,B,C){B=OpenLayers.Util.applyDefaults({fill:false},B);this.drawLinearRing(D,B,C)},drawLinearRing:function(D,B,C){if(B.fill!==false){this.setCanvasStyle("fill",B);this.renderPath(this.canvas,D,B,C,"fill");if(this.hitDetection){this.setHitContextStyle("fill",C,B);this.renderPath(this.hitContext,D,B,C,"fill")}}if(B.stroke!==false){this.setCanvasStyle("stroke",B);this.renderPath(this.canvas,D,B,C,"stroke");if(this.hitDetection){this.setHitContextStyle("stroke",C,B);this.renderPath(this.hitContext,D,B,C,"stroke")}}this.setCanvasStyle("reset")},renderPath:function(D,K,B,F,I){var G=K.components;var H=G.length;D.beginPath();var C=this.getLocalXY(G[0]);var L=C[0];var J=C[1];if(!isNaN(L)&&!isNaN(J)){D.moveTo(C[0],C[1]);for(var E=1;E<H;++E){var M=this.getLocalXY(G[E]);D.lineTo(M[0],M[1])}if(I==="fill"){D.fill()}else{D.stroke()}}},drawPolygon:function(G,D,F){var E=G.components;var B=E.length;this.drawLinearRing(E[0],D,F);for(var C=1;C<B;++C){this.canvas.globalCompositeOperation="destination-out";if(this.hitDetection){this.hitContext.globalCompositeOperation="destination-out"}this.drawLinearRing(E[C],OpenLayers.Util.applyDefaults({stroke:false,fillOpacity:1},D),F);this.canvas.globalCompositeOperation="source-over";if(this.hitDetection){this.hitContext.globalCompositeOperation="source-over"}this.drawLinearRing(E[C],OpenLayers.Util.applyDefaults({fill:false},D),F)}},drawText:function(L,B){var M=this.getLocalXY(L);this.setCanvasStyle("reset");this.canvas.fillStyle=B.fontColor;this.canvas.globalAlpha=B.fontOpacity||1;var E=[B.fontStyle?B.fontStyle:"normal","normal",B.fontWeight?B.fontWeight:"normal",B.fontSize?B.fontSize:"1em",B.fontFamily?B.fontFamily:"sans-serif"].join(" ");var D=B.label.split("\n");var G=D.length;if(this.canvas.fillText){this.canvas.font=E;this.canvas.textAlign=OpenLayers.Renderer.Canvas.LABEL_ALIGN[B.labelAlign[0]]||"center";this.canvas.textBaseline=OpenLayers.Renderer.Canvas.LABEL_ALIGN[B.labelAlign[1]]||"middle";var J=OpenLayers.Renderer.Canvas.LABEL_FACTOR[B.labelAlign[1]];if(J==null){J=-0.5}var K=this.canvas.measureText("Mg").height||this.canvas.measureText("xx").width;M[1]+=K*J*(G-1);for(var F=0;F<G;F++){if(B.labelOutlineWidth){this.canvas.save();this.canvas.strokeStyle=B.labelOutlineColor;this.canvas.lineWidth=B.labelOutlineWidth;this.canvas.strokeText(D[F],M[0],M[1]+(K*F)+1);this.canvas.restore()}this.canvas.fillText(D[F],M[0],M[1]+(K*F))}}else{if(this.canvas.mozDrawText){this.canvas.mozTextStyle=E;var C=OpenLayers.Renderer.Canvas.LABEL_FACTOR[B.labelAlign[0]];if(C==null){C=-0.5}var J=OpenLayers.Renderer.Canvas.LABEL_FACTOR[B.labelAlign[1]];if(J==null){J=-0.5}var K=this.canvas.mozMeasureText("xx");M[1]+=K*(1+(J*G));for(var F=0;F<G;F++){var I=M[0]+(C*this.canvas.mozMeasureText(D[F]));var H=M[1]+(F*K);this.canvas.translate(I,H);this.canvas.mozDrawText(D[F]);this.canvas.translate(-I,-H)}}}this.setCanvasStyle("reset")},getLocalXY:function(C){var D=this.getResolution();var E=this.extent;var B=((C.x-this.featureDx)/D+(-E.left/D));var F=((E.top/D)-C.y/D);return[B,F]},clear:function(){var B=this.root.height;var C=this.root.width;this.canvas.clearRect(0,0,C,B);this.features={};if(this.hitDetection){this.hitContext.clearRect(0,0,C,B)}},getFeatureIdFromEvent:function(H){var D,J;if(this.hitDetection&&this.root.style.display!=="none"){if(!this.map.dragging){var I=H.xy;var G=I.x|0;var F=I.y|0;var E=this.hitContext.getImageData(G,F,1,1).data;if(E[3]===255){var B=E[2]+(256*(E[1]+(256*E[0])));if(B){D="OpenLayers.Feature.Vector_"+(B-1+this.hitOverflow);try{J=this.features[D][0]}catch(C){}}}}}return J},eraseFeatures:function(C){if(!(OpenLayers.Util.isArray(C))){C=[C]}for(var B=0;B<C.length;++B){delete this.features[C[B].id]}this.redraw()},redraw:function(){if(!this.locked){var J=this.root.height;var D=this.root.width;this.canvas.clearRect(0,0,D,J);if(this.hitDetection){this.hitContext.clearRect(0,0,D,J)}var G=[];var L,H,B;var I=(this.map.baseLayer&&this.map.baseLayer.wrapDateLine)&&this.map.getMaxExtent();for(var C in this.features){if(!this.features.hasOwnProperty(C)){continue}L=this.features[C][0];H=L.geometry;this.calculateFeatureDx(H.getBounds(),I);B=this.features[C][1];this.drawGeometry(H,B,L.id);if(B.label){G.push([L,B])}}var K;for(var E=0,F=G.length;E<F;++E){K=G[E];this.drawText(K[0].geometry.getCentroid(),K[1])}}},CLASS_NAME:"OpenLayers.Renderer.Canvas"});OpenLayers.Renderer.Canvas.LABEL_ALIGN={l:"left",r:"right",t:"top",b:"bottom"};OpenLayers.Renderer.Canvas.LABEL_FACTOR={l:0,r:-1,t:0,b:-1};OpenLayers.Renderer.Canvas.drawImageScaleFactor=null;OpenLayers.Handler=OpenLayers.Class({id:null,control:null,map:null,keyMask:null,active:false,evt:null,initialize:function(E,C,B){OpenLayers.Util.extend(this,B);this.control=E;this.callbacks=C;var D=this.map||E.map;if(D){this.setMap(D)}this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},setMap:function(B){this.map=B},checkModifiers:function(B){if(this.keyMask==null){return true}var C=(B.shiftKey?OpenLayers.Handler.MOD_SHIFT:0)|(B.ctrlKey?OpenLayers.Handler.MOD_CTRL:0)|(B.altKey?OpenLayers.Handler.MOD_ALT:0);return(C==this.keyMask)},activate:function(){if(this.active){return false}var D=OpenLayers.Events.prototype.BROWSER_EVENTS;for(var C=0,B=D.length;C<B;C++){if(this[D[C]]){this.register(D[C],this[D[C]])}}this.active=true;return true},deactivate:function(){if(!this.active){return false}var D=OpenLayers.Events.prototype.BROWSER_EVENTS;for(var C=0,B=D.length;C<B;C++){if(this[D[C]]){this.unregister(D[C],this[D[C]])}}this.active=false;return true},callback:function(C,B){if(C&&this.callbacks[C]){this.callbacks[C].apply(this.control,B)}},register:function(B,C){this.map.events.registerPriority(B,this,C);this.map.events.registerPriority(B,this,this.setEvent)},unregister:function(B,C){this.map.events.unregister(B,this,C);this.map.events.unregister(B,this,this.setEvent)},setEvent:function(B){this.evt=B;return true},destroy:function(){this.deactivate();this.control=this.map=null},CLASS_NAME:"OpenLayers.Handler"});OpenLayers.Handler.MOD_NONE=0;OpenLayers.Handler.MOD_SHIFT=1;OpenLayers.Handler.MOD_CTRL=2;OpenLayers.Handler.MOD_ALT=4;OpenLayers.Handler.MouseWheel=OpenLayers.Class(OpenLayers.Handler,{wheelListener:null,mousePosition:null,interval:0,delta:0,cumulative:true,initialize:function(D,C,B){OpenLayers.Handler.prototype.initialize.apply(this,arguments);this.wheelListener=OpenLayers.Function.bindAsEventListener(this.onWheelEvent,this)},destroy:function(){OpenLayers.Handler.prototype.destroy.apply(this,arguments);this.wheelListener=null},onWheelEvent:function(J){if(!this.map||!this.checkModifiers(J)){return }var G=false;var L=false;var F=false;var C=OpenLayers.Event.element(J);while((C!=null)&&!F&&!G){if(!G){try{if(C.currentStyle){D=C.currentStyle.overflow}else{var B=document.defaultView.getComputedStyle(C,null);var D=B.getPropertyValue("overflow")}G=(D&&(D=="auto")||(D=="scroll"))}catch(E){}}if(!L){for(var H=0,I=this.map.layers.length;H<I;H++){if(C==this.map.layers[H].div||C==this.map.layers[H].pane){L=true;break}}}F=(C==this.map.div);C=C.parentNode}if(!G&&F){if(L){var K=0;if(!J){J=window.event}if(J.wheelDelta){K=J.wheelDelta/120;if(window.opera&&window.opera.version()<9.2){K=-K}}else{if(J.detail){K=-J.detail/3}}this.delta=this.delta+K;if(this.interval){window.clearTimeout(this._timeoutId);this._timeoutId=window.setTimeout(OpenLayers.Function.bind(function(){this.wheelZoom(J)},this),this.interval)}else{this.wheelZoom(J)}}OpenLayers.Event.stop(J)}},wheelZoom:function(B){var C=this.delta;this.delta=0;if(C){if(this.mousePosition){B.xy=this.mousePosition}if(!B.xy){B.xy=this.map.getPixelFromLonLat(this.map.getCenter())}if(C<0){this.callback("down",[B,this.cumulative?C:-1])}else{this.callback("up",[B,this.cumulative?C:1])}}},mousemove:function(B){this.mousePosition=B.xy},activate:function(B){if(OpenLayers.Handler.prototype.activate.apply(this,arguments)){var C=this.wheelListener;OpenLayers.Event.observe(window,"DOMMouseScroll",C);OpenLayers.Event.observe(window,"mousewheel",C);OpenLayers.Event.observe(document,"mousewheel",C);return true}else{return false}},deactivate:function(B){if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){var C=this.wheelListener;OpenLayers.Event.stopObserving(window,"DOMMouseScroll",C);OpenLayers.Event.stopObserving(window,"mousewheel",C);OpenLayers.Event.stopObserving(document,"mousewheel",C);return true}else{return false}},CLASS_NAME:"OpenLayers.Handler.MouseWheel"});OpenLayers.Format.JSON=OpenLayers.Class(OpenLayers.Format,{indent:"    ",space:" ",newline:"\n",level:0,pretty:false,nativeJSON:(function(){return !!(window.JSON&&typeof JSON.parse=="function"&&typeof JSON.stringify=="function")})(),read:function(json,filter){var object;if(this.nativeJSON){object=JSON.parse(json,filter)}else{try{if(/^[\],:{}\s]*$/.test(json.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){object=eval("("+json+")");if(typeof filter==="function"){function walk(k,v){if(v&&typeof v==="object"){for(var i in v){if(v.hasOwnProperty(i)){v[i]=walk(i,v[i])}}}return filter(k,v)}object=walk("",object)}}}catch(e){}}if(this.keepData){this.data=object}return object},write:function(F,D){this.pretty=!!D;var B=null;var C=typeof F;if(this.serialize[C]){try{B=(!this.pretty&&this.nativeJSON)?JSON.stringify(F):this.serialize[C].apply(this,[F])}catch(E){OpenLayers.Console.error("Trouble serializing: "+E)}}return B},writeIndent:function(){var C=[];if(this.pretty){for(var B=0;B<this.level;++B){C.push(this.indent)}}return C.join("")},writeNewline:function(){return(this.pretty)?this.newline:""},writeSpace:function(){return(this.pretty)?this.space:""},serialize:{object:function(D){if(D==null){return"null"}if(D.constructor==Date){return this.serialize.date.apply(this,[D])}if(D.constructor==Array){return this.serialize.array.apply(this,[D])}var G=["{"];this.level+=1;var E,C,F;var B=false;for(E in D){if(D.hasOwnProperty(E)){C=OpenLayers.Format.JSON.prototype.write.apply(this,[E,this.pretty]);F=OpenLayers.Format.JSON.prototype.write.apply(this,[D[E],this.pretty]);if(C!=null&&F!=null){if(B){G.push(",")}G.push(this.writeNewline(),this.writeIndent(),C,":",this.writeSpace(),F);B=true}}}this.level-=1;G.push(this.writeNewline(),this.writeIndent(),"}");return G.join("")},array:function(F){var D;var E=["["];this.level+=1;for(var C=0,B=F.length;C<B;++C){D=OpenLayers.Format.JSON.prototype.write.apply(this,[F[C],this.pretty]);if(D!=null){if(C>0){E.push(",")}E.push(this.writeNewline(),this.writeIndent(),D)}}this.level-=1;E.push(this.writeNewline(),this.writeIndent(),"]");return E.join("")},string:function(C){var B={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};if(/["\\\x00-\x1f]/.test(C)){return'"'+C.replace(/([\x00-\x1f\\"])/g,function(E,D){var F=B[D];if(F){return F}F=D.charCodeAt();return"\\u00"+Math.floor(F/16).toString(16)+(F%16).toString(16)})+'"'}return'"'+C+'"'},number:function(B){return isFinite(B)?String(B):"null"},"boolean":function(B){return String(B)},date:function(B){function C(D){return(D<10)?"0"+D:D}return'"'+B.getFullYear()+"-"+C(B.getMonth()+1)+"-"+C(B.getDate())+"T"+C(B.getHours())+":"+C(B.getMinutes())+":"+C(B.getSeconds())+'"'}},CLASS_NAME:"OpenLayers.Format.JSON"});OpenLayers.Format.GML.v2=OpenLayers.Class(OpenLayers.Format.GML.Base,{schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd",initialize:function(B){OpenLayers.Format.GML.Base.prototype.initialize.apply(this,[B])},readers:{gml:OpenLayers.Util.applyDefaults({outerBoundaryIs:function(C,B){var D={};this.readChildNodes(C,D);B.outer=D.components[0]},innerBoundaryIs:function(C,B){var D={};this.readChildNodes(C,D);B.inner.push(D.components[0])},Box:function(E,C){var F={};this.readChildNodes(E,F);if(!C.components){C.components=[]}var D=F.points[0];var B=F.points[1];C.components.push(new OpenLayers.Bounds(D.x,D.y,B.x,B.y))}},OpenLayers.Format.GML.Base.prototype.readers.gml),feature:OpenLayers.Format.GML.Base.prototype.readers.feature,wfs:OpenLayers.Format.GML.Base.prototype.readers.wfs},write:function(D){var C;if(OpenLayers.Util.isArray(D)){C="wfs:FeatureCollection"}else{C="gml:featureMember"}var B=this.writeNode(C,D);this.setAttributeNS(B,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation);return OpenLayers.Format.XML.prototype.write.apply(this,[B])},writers:{gml:OpenLayers.Util.applyDefaults({Point:function(C){var B=this.createElementNSPlus("gml:Point");this.writeNode("coordinates",[C],B);return B},coordinates:function(E){var D=E.length;var F=new Array(D);var B;for(var C=0;C<D;++C){B=E[C];if(this.xy){F[C]=B.x+","+B.y}else{F[C]=B.y+","+B.x}if(B.z!=undefined){F[C]+=","+B.z}}return this.createElementNSPlus("gml:coordinates",{attributes:{decimal:".",cs:",",ts:" "},value:(D==1)?F[0]:F.join(" ")})},LineString:function(C){var B=this.createElementNSPlus("gml:LineString");this.writeNode("coordinates",C.components,B);return B},Polygon:function(D){var C=this.createElementNSPlus("gml:Polygon");this.writeNode("outerBoundaryIs",D.components[0],C);for(var B=1;B<D.components.length;++B){this.writeNode("innerBoundaryIs",D.components[B],C)}return C},outerBoundaryIs:function(B){var C=this.createElementNSPlus("gml:outerBoundaryIs");this.writeNode("LinearRing",B,C);return C},innerBoundaryIs:function(B){var C=this.createElementNSPlus("gml:innerBoundaryIs");this.writeNode("LinearRing",B,C);return C},LinearRing:function(B){var C=this.createElementNSPlus("gml:LinearRing");this.writeNode("coordinates",B.components,C);return C},Box:function(C){var B=this.createElementNSPlus("gml:Box");this.writeNode("coordinates",[{x:C.left,y:C.bottom},{x:C.right,y:C.top}],B);if(this.srsName){B.setAttribute("srsName",this.srsName)}return B}},OpenLayers.Format.GML.Base.prototype.writers.gml),feature:OpenLayers.Format.GML.Base.prototype.writers.feature,wfs:OpenLayers.Format.GML.Base.prototype.writers.wfs},CLASS_NAME:"OpenLayers.Format.GML.v2"});OpenLayers.Format.Filter.v1_0_0=OpenLayers.Class(OpenLayers.Format.GML.v2,OpenLayers.Format.Filter.v1,{VERSION:"1.0.0",schemaLocation:"http://www.opengis.net/ogc/filter/1.0.0/filter.xsd",initialize:function(B){OpenLayers.Format.GML.v2.prototype.initialize.apply(this,[B])},readers:{ogc:OpenLayers.Util.applyDefaults({PropertyIsEqualTo:function(C,D){var B=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO});this.readChildNodes(C,B);D.filters.push(B)},PropertyIsNotEqualTo:function(C,D){var B=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.NOT_EQUAL_TO});this.readChildNodes(C,B);D.filters.push(B)},PropertyIsLike:function(E,F){var D=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LIKE});this.readChildNodes(E,D);var G=E.getAttribute("wildCard");var C=E.getAttribute("singleChar");var B=E.getAttribute("escape");D.value2regex(G,C,B);F.filters.push(D)}},OpenLayers.Format.Filter.v1.prototype.readers.ogc),gml:OpenLayers.Format.GML.v2.prototype.readers.gml,feature:OpenLayers.Format.GML.v2.prototype.readers.feature},writers:{ogc:OpenLayers.Util.applyDefaults({PropertyIsEqualTo:function(B){var C=this.createElementNSPlus("ogc:PropertyIsEqualTo");this.writeNode("PropertyName",B,C);this.writeOgcExpression(B.value,C);return C},PropertyIsNotEqualTo:function(B){var C=this.createElementNSPlus("ogc:PropertyIsNotEqualTo");this.writeNode("PropertyName",B,C);this.writeOgcExpression(B.value,C);return C},PropertyIsLike:function(B){var C=this.createElementNSPlus("ogc:PropertyIsLike",{attributes:{wildCard:"*",singleChar:".",escape:"!"}});this.writeNode("PropertyName",B,C);this.writeNode("Literal",B.regex2value(),C);return C},BBOX:function(B){var D=this.createElementNSPlus("ogc:BBOX");B.property&&this.writeNode("PropertyName",B,D);var C=this.writeNode("gml:Box",B.value,D);if(B.projection){C.setAttribute("srsName",B.projection)}return D}},OpenLayers.Format.Filter.v1.prototype.writers.ogc),gml:OpenLayers.Format.GML.v2.prototype.writers.gml,feature:OpenLayers.Format.GML.v2.prototype.writers.feature},writeSpatial:function(C,B){var D=this.createElementNSPlus("ogc:"+B);this.writeNode("PropertyName",C,D);if(C.value instanceof OpenLayers.Filter.Function){this.writeNode("Function",C.value,D)}else{var E;if(C.value instanceof OpenLayers.Geometry){E=this.writeNode("feature:_geometry",C.value).firstChild}else{E=this.writeNode("gml:Box",C.value)}if(C.projection){E.setAttribute("srsName",C.projection)}D.appendChild(E)}return D},CLASS_NAME:"OpenLayers.Format.Filter.v1_0_0"});OpenLayers.Format.WFST.v1_0_0=OpenLayers.Class(OpenLayers.Format.Filter.v1_0_0,OpenLayers.Format.WFST.v1,{version:"1.0.0",srsNameInQuery:false,schemaLocations:{wfs:"http://schemas.opengis.net/wfs/1.0.0/WFS-transaction.xsd"},initialize:function(B){OpenLayers.Format.Filter.v1_0_0.prototype.initialize.apply(this,[B]);OpenLayers.Format.WFST.v1.prototype.initialize.apply(this,[B])},readNode:function(B,C,D){return OpenLayers.Format.GML.v2.prototype.readNode.apply(this,[B,C])},readers:{wfs:OpenLayers.Util.applyDefaults({WFS_TransactionResponse:function(B,C){C.insertIds=[];C.success=false;this.readChildNodes(B,C)},InsertResult:function(C,B){var D={fids:[]};this.readChildNodes(C,D);B.insertIds.push(D.fids[0])},TransactionResult:function(B,C){this.readChildNodes(B,C)},Status:function(B,C){this.readChildNodes(B,C)},SUCCESS:function(B,C){C.success=true}},OpenLayers.Format.WFST.v1.prototype.readers.wfs),gml:OpenLayers.Format.GML.v2.prototype.readers.gml,feature:OpenLayers.Format.GML.v2.prototype.readers.feature,ogc:OpenLayers.Format.Filter.v1_0_0.prototype.readers.ogc},writers:{wfs:OpenLayers.Util.applyDefaults({Query:function(C){C=OpenLayers.Util.extend({featureNS:this.featureNS,featurePrefix:this.featurePrefix,featureType:this.featureType,srsName:this.srsName,srsNameInQuery:this.srsNameInQuery},C);var F=C.featurePrefix;var E=this.createElementNSPlus("wfs:Query",{attributes:{typeName:(F?F+":":"")+C.featureType}});if(C.srsNameInQuery&&C.srsName){E.setAttribute("srsName",C.srsName)}if(C.featureNS){E.setAttribute("xmlns:"+F,C.featureNS)}if(C.propertyNames){for(var D=0,B=C.propertyNames.length;D<B;D++){this.writeNode("ogc:PropertyName",{property:C.propertyNames[D]},E)}}if(C.filter){this.setFilterProperty(C.filter);this.writeNode("ogc:Filter",C.filter,E)}return E}},OpenLayers.Format.WFST.v1.prototype.writers.wfs),gml:OpenLayers.Format.GML.v2.prototype.writers.gml,feature:OpenLayers.Format.GML.v2.prototype.writers.feature,ogc:OpenLayers.Format.Filter.v1_0_0.prototype.writers.ogc},CLASS_NAME:"OpenLayers.Format.WFST.v1_0_0"});OpenLayers.ElementsIndexer=OpenLayers.Class({maxZIndex:null,order:null,indices:null,compare:null,initialize:function(B){this.compare=B?OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER_Y_ORDER:OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER_DRAWING_ORDER;this.clear()},insert:function(D){if(this.exists(D)){this.remove(D)}var G=D.id;this.determineZIndex(D);var E=-1;var F=this.order.length;var B;while(F-E>1){B=parseInt((E+F)/2);var C=this.compare(this,D,OpenLayers.Util.getElement(this.order[B]));if(C>0){E=B}else{F=B}}this.order.splice(F,0,G);this.indices[G]=this.getZIndex(D);return this.getNextElement(F)},remove:function(C){var E=C.id;var B=OpenLayers.Util.indexOf(this.order,E);if(B>=0){this.order.splice(B,1);delete this.indices[E];if(this.order.length>0){var D=this.order[this.order.length-1];this.maxZIndex=this.indices[D]}else{this.maxZIndex=0}}},clear:function(){this.order=[];this.indices={};this.maxZIndex=0},exists:function(B){return(this.indices[B.id]!=null)},getZIndex:function(B){return B._style.graphicZIndex},determineZIndex:function(B){var C=B._style.graphicZIndex;if(C==null){C=this.maxZIndex;B._style.graphicZIndex=C}else{if(C>this.maxZIndex){this.maxZIndex=C}}},getNextElement:function(C){var B=C+1;if(B<this.order.length){var D=OpenLayers.Util.getElement(this.order[B]);if(D==undefined){D=this.getNextElement(B)}return D}else{return null}},CLASS_NAME:"OpenLayers.ElementsIndexer"});OpenLayers.ElementsIndexer.IndexingMethods={Z_ORDER:function(F,E,C){var B=F.getZIndex(E);var G=0;if(C){var D=F.getZIndex(C);G=B-D}return G},Z_ORDER_DRAWING_ORDER:function(D,C,B){var E=OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER(D,C,B);if(B&&E==0){E=1}return E},Z_ORDER_Y_ORDER:function(E,D,C){var F=OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER(E,D,C);if(C&&F===0){var B=C._boundsBottom-D._boundsBottom;F=(B===0)?1:B}return F}};OpenLayers.Renderer.Elements=OpenLayers.Class(OpenLayers.Renderer,{rendererRoot:null,root:null,vectorRoot:null,textRoot:null,xmlns:null,xOffset:0,indexer:null,BACKGROUND_ID_SUFFIX:"_background",LABEL_ID_SUFFIX:"_label",LABEL_OUTLINE_SUFFIX:"_outline",initialize:function(B,C){OpenLayers.Renderer.prototype.initialize.apply(this,arguments);this.rendererRoot=this.createRenderRoot();this.root=this.createRoot("_root");this.vectorRoot=this.createRoot("_vroot");this.textRoot=this.createRoot("_troot");this.root.appendChild(this.vectorRoot);this.root.appendChild(this.textRoot);this.rendererRoot.appendChild(this.root);this.container.appendChild(this.rendererRoot);if(C&&(C.zIndexing||C.yOrdering)){this.indexer=new OpenLayers.ElementsIndexer(C.yOrdering)}},destroy:function(){this.clear();this.rendererRoot=null;this.root=null;this.xmlns=null;OpenLayers.Renderer.prototype.destroy.apply(this,arguments)},clear:function(){var C;var B=this.vectorRoot;if(B){while(C=B.firstChild){B.removeChild(C)}}B=this.textRoot;if(B){while(C=B.firstChild){B.removeChild(C)}}if(this.indexer){this.indexer.clear()}},setExtent:function(F,H){var D=OpenLayers.Renderer.prototype.setExtent.apply(this,arguments);var C=this.getResolution();if(this.map.baseLayer&&this.map.baseLayer.wrapDateLine){var B,E=F.getWidth()/this.map.getExtent().getWidth(),F=F.scale(1/E),G=this.map.getMaxExtent();if(G.right>F.left&&G.right<F.right){B=true}else{if(G.left>F.left&&G.left<F.right){B=false}}if(B!==this.rightOfDateLine||H){D=false;this.xOffset=B===true?G.getWidth()/C:0}this.rightOfDateLine=B}return D},getNodeType:function(C,B){},drawGeometry:function(J,B,E){var I=J.CLASS_NAME;var D=true;if((I=="OpenLayers.Geometry.Collection")||(I=="OpenLayers.Geometry.MultiPoint")||(I=="OpenLayers.Geometry.MultiLineString")||(I=="OpenLayers.Geometry.MultiPolygon")){for(var G=0,H=J.components.length;G<H;G++){D=this.drawGeometry(J.components[G],B,E)&&D}return D}D=false;var F=false;if(B.display!="none"){if(B.backgroundGraphic){this.redrawBackgroundNode(J.id,J,B,E)}else{F=true}D=this.redrawNode(J.id,J,B,E)}if(D==false){var C=document.getElementById(J.id);if(C){if(C._style.backgroundGraphic){F=true}C.parentNode.removeChild(C)}}if(F){var C=document.getElementById(J.id+this.BACKGROUND_ID_SUFFIX);if(C){C.parentNode.removeChild(C)}}return D},redrawNode:function(H,G,C,F){C=this.applyDefaultSymbolizer(C);var D=this.nodeFactory(H,this.getNodeType(G,C));D._featureId=F;D._boundsBottom=G.getBounds().bottom;D._geometryClass=G.CLASS_NAME;D._style=C;var B=this.drawGeometryNode(D,G,C);if(B===false){return false}D=B.node;if(this.indexer){var E=this.indexer.insert(D);if(E){this.vectorRoot.insertBefore(D,E)}else{this.vectorRoot.appendChild(D)}}else{if(D.parentNode!==this.vectorRoot){this.vectorRoot.appendChild(D)}}this.postDraw(D);return B.complete},redrawBackgroundNode:function(F,E,C,D){var B=OpenLayers.Util.extend({},C);B.externalGraphic=B.backgroundGraphic;B.graphicXOffset=B.backgroundXOffset;B.graphicYOffset=B.backgroundYOffset;B.graphicZIndex=B.backgroundGraphicZIndex;B.graphicWidth=B.backgroundWidth||B.graphicWidth;B.graphicHeight=B.backgroundHeight||B.graphicHeight;B.backgroundGraphic=null;B.backgroundXOffset=null;B.backgroundYOffset=null;B.backgroundGraphicZIndex=null;return this.redrawNode(F+this.BACKGROUND_ID_SUFFIX,E,B,null)},drawGeometryNode:function(D,F,C){C=C||D._style;var B={isFilled:C.fill===undefined?true:C.fill,isStroked:C.stroke===undefined?!!C.strokeWidth:C.stroke};var E;switch(F.CLASS_NAME){case"OpenLayers.Geometry.Point":if(C.graphic===false){B.isFilled=false;B.isStroked=false}E=this.drawPoint(D,F);break;case"OpenLayers.Geometry.LineString":B.isFilled=false;E=this.drawLineString(D,F);break;case"OpenLayers.Geometry.LinearRing":E=this.drawLinearRing(D,F);break;case"OpenLayers.Geometry.Polygon":E=this.drawPolygon(D,F);break;case"OpenLayers.Geometry.Rectangle":E=this.drawRectangle(D,F);break;default:break}D._options=B;if(E!=false){return{node:this.setStyle(D,C,B,F),complete:E}}else{return false}},postDraw:function(B){},drawPoint:function(B,C){},drawLineString:function(B,C){},drawLinearRing:function(B,C){},drawPolygon:function(B,C){},drawRectangle:function(B,C){},drawCircle:function(B,C){},removeText:function(D){var B=document.getElementById(D+this.LABEL_ID_SUFFIX);if(B){this.textRoot.removeChild(B)}var C=document.getElementById(D+this.LABEL_OUTLINE_SUFFIX);if(C){this.textRoot.removeChild(C)}},getFeatureIdFromEvent:function(B){var E=B.target;var C=E&&E.correspondingUseElement;var D=C?C:(E||B.srcElement);return D._featureId},eraseGeometry:function(H,G){if((H.CLASS_NAME=="OpenLayers.Geometry.MultiPoint")||(H.CLASS_NAME=="OpenLayers.Geometry.MultiLineString")||(H.CLASS_NAME=="OpenLayers.Geometry.MultiPolygon")||(H.CLASS_NAME=="OpenLayers.Geometry.Collection")){for(var E=0,B=H.components.length;E<B;E++){this.eraseGeometry(H.components[E],G)}}else{var D=OpenLayers.Util.getElement(H.id);if(D&&D.parentNode){if(D.geometry){D.geometry.destroy();D.geometry=null}D.parentNode.removeChild(D);if(this.indexer){this.indexer.remove(D)}if(D._style.backgroundGraphic){var C=H.id+this.BACKGROUND_ID_SUFFIX;var F=OpenLayers.Util.getElement(C);if(F&&F.parentNode){F.parentNode.removeChild(F)}}}}},nodeFactory:function(D,B){var C=OpenLayers.Util.getElement(D);if(C){if(!this.nodeTypeCompare(C,B)){C.parentNode.removeChild(C);C=this.nodeFactory(D,B)}}else{C=this.createNode(B,D)}return C},nodeTypeCompare:function(C,B){},createNode:function(B,C){},moveRoot:function(C){var B=this.root;if(C.root.parentNode==this.rendererRoot){B=C.root}B.parentNode.removeChild(B);C.rendererRoot.appendChild(B)},getRenderLayerId:function(){return this.root.parentNode.parentNode.id},isComplexSymbol:function(B){return(B!="circle")&&!!B},CLASS_NAME:"OpenLayers.Renderer.Elements"});OpenLayers.Strategy.Fixed=OpenLayers.Class(OpenLayers.Strategy,{preload:false,activate:function(){if(OpenLayers.Strategy.prototype.activate.apply(this,arguments)){this.layer.events.on({refresh:this.load,scope:this});if(this.layer.visibility==true||this.preload){this.load()}else{this.layer.events.on({visibilitychanged:this.load,scope:this})}return true}return false},deactivate:function(){var B=OpenLayers.Strategy.prototype.deactivate.call(this);if(B){this.layer.events.un({refresh:this.load,visibilitychanged:this.load,scope:this})}return B},load:function(B){var C=this.layer;C.events.triggerEvent("loadstart");C.protocol.read(OpenLayers.Util.applyDefaults({callback:OpenLayers.Function.bind(this.merge,this,C.map.getProjectionObject()),filter:C.filter},B));C.events.un({visibilitychanged:this.load,scope:this})},merge:function(G,H){var E=this.layer;E.destroyFeatures();var F=H.features;if(F&&F.length>0){if(!G.equals(E.projection)){var D;for(var C=0,B=F.length;C<B;++C){D=F[C].geometry;if(D){D.transform(E.projection,G)}}}E.addFeatures(F)}E.events.triggerEvent("loadend")},CLASS_NAME:"OpenLayers.Strategy.Fixed"});OpenLayers.Format.WFSCapabilities=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.1.0",errorProperty:"service",CLASS_NAME:"OpenLayers.Format.WFSCapabilities"});OpenLayers.Format.WFSCapabilities.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{wfs:"http://www.opengis.net/wfs",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance",ows:"http://www.opengis.net/ows"},defaultPrefix:"wfs",read:function(D){if(typeof D=="string"){D=OpenLayers.Format.XML.prototype.read.apply(this,[D])}var C=D;if(D&&D.nodeType==9){D=D.documentElement}var B={};this.readNode(D,B);return B},readers:{wfs:{WFS_Capabilities:function(B,C){this.readChildNodes(B,C)},FeatureTypeList:function(C,B){B.featureTypeList={featureTypes:[]};this.readChildNodes(C,B.featureTypeList)},FeatureType:function(D,B){var C={};this.readChildNodes(D,C);B.featureTypes.push(C)},Name:function(C,E){var B=this.getChildValue(C);if(B){var D=B.split(":");E.name=D.pop();if(D.length>0){E.featureNS=this.lookupNamespaceURI(C,D[0])}}},Title:function(B,C){var D=this.getChildValue(B);if(D){C.title=D}},Abstract:function(C,D){var B=this.getChildValue(C);if(B){D["abstract"]=B}}}},CLASS_NAME:"OpenLayers.Format.WFSCapabilities.v1"});OpenLayers.Format.WFSCapabilities.v1_1_0=OpenLayers.Class(OpenLayers.Format.WFSCapabilities.v1,{regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},readers:{wfs:OpenLayers.Util.applyDefaults({DefaultSRS:function(C,D){var B=this.getChildValue(C);if(B){D.srs=B}}},OpenLayers.Format.WFSCapabilities.v1.prototype.readers.wfs),ows:OpenLayers.Format.OWSCommon.v1.prototype.readers.ows},CLASS_NAME:"OpenLayers.Format.WFSCapabilities.v1_1_0"});OpenLayers.Protocol=OpenLayers.Class({format:null,options:null,autoDestroy:true,defaultFilter:null,initialize:function(B){B=B||{};OpenLayers.Util.extend(this,B);this.options=B},mergeWithDefaultFilter:function(C){var B;if(C&&this.defaultFilter){B=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[this.defaultFilter,C]})}else{B=C||this.defaultFilter||undefined}return B},destroy:function(){this.options=null;this.format=null},read:function(B){B=B||{};B.filter=this.mergeWithDefaultFilter(B.filter)},create:function(){},update:function(){},"delete":function(){},commit:function(){},abort:function(B){},createCallback:function(D,B,C){return OpenLayers.Function.bind(function(){D.apply(this,[B,C])},this)},CLASS_NAME:"OpenLayers.Protocol"});OpenLayers.Protocol.Response=OpenLayers.Class({code:null,requestType:null,last:true,features:null,data:null,reqFeatures:null,priv:null,error:null,initialize:function(B){OpenLayers.Util.extend(this,B)},success:function(){return this.code>0},CLASS_NAME:"OpenLayers.Protocol.Response"});OpenLayers.Protocol.Response.SUCCESS=1;OpenLayers.Protocol.Response.FAILURE=0;OpenLayers.Protocol.WFS=function(C){C=OpenLayers.Util.applyDefaults(C,OpenLayers.Protocol.WFS.DEFAULTS);var B=OpenLayers.Protocol.WFS["v"+C.version.replace(/\./g,"_")];if(!B){throw"Unsupported WFS version: "+C.version}return new B(C)};OpenLayers.Protocol.WFS.fromWMSLayer=function(E,D){var B,F;var H=E.params.LAYERS;var G=(OpenLayers.Util.isArray(H)?H[0]:H).split(":");if(G.length>1){F=G[0]}B=G.pop();var C={url:E.url,featureType:B,featurePrefix:F,srsName:E.projection&&E.projection.getCode()||E.map&&E.map.getProjectionObject().getCode(),version:"1.1.0"};return new OpenLayers.Protocol.WFS(OpenLayers.Util.applyDefaults(D,C))};OpenLayers.Protocol.WFS.DEFAULTS={version:"1.0.0"};OpenLayers.Layer.Markers=OpenLayers.Class(OpenLayers.Layer,{isBaseLayer:false,markers:null,drawn:false,initialize:function(C,B){OpenLayers.Layer.prototype.initialize.apply(this,arguments);this.markers=[]},destroy:function(){this.clearMarkers();this.markers=null;OpenLayers.Layer.prototype.destroy.apply(this,arguments)},setOpacity:function(C){if(C!=this.opacity){this.opacity=C;for(var D=0,B=this.markers.length;D<B;D++){this.markers[D].setOpacity(this.opacity)}}},moveTo:function(E,C,F){OpenLayers.Layer.prototype.moveTo.apply(this,arguments);if(C||!this.drawn){for(var D=0,B=this.markers.length;D<B;D++){this.drawMarker(this.markers[D])}this.drawn=true}},addMarker:function(B){this.markers.push(B);if(this.opacity<1){B.setOpacity(this.opacity)}if(this.map&&this.map.getExtent()){B.map=this.map;this.drawMarker(B)}},removeMarker:function(B){if(this.markers&&this.markers.length){OpenLayers.Util.removeItem(this.markers,B);B.erase()}},clearMarkers:function(){if(this.markers!=null){while(this.markers.length>0){this.removeMarker(this.markers[0])}}},drawMarker:function(B){var C=this.map.getLayerPxFromLonLat(B.lonlat);if(C==null){B.display(false)}else{if(!B.isDrawn()){var D=B.draw(C);this.div.appendChild(D)}else{if(B.icon){B.icon.moveTo(C)}}}},getDataExtent:function(){var C=null;if(this.markers&&(this.markers.length>0)){var C=new OpenLayers.Bounds();for(var E=0,B=this.markers.length;E<B;E++){var D=this.markers[E];C.extend(D.lonlat)}}return C},CLASS_NAME:"OpenLayers.Layer.Markers"});OpenLayers.Protocol.WFS.v1=OpenLayers.Class(OpenLayers.Protocol,{version:null,srsName:"EPSG:4326",featureType:null,featureNS:null,geometryName:"the_geom",schema:null,featurePrefix:"feature",formatOptions:null,readFormat:null,readOptions:null,initialize:function(B){OpenLayers.Protocol.prototype.initialize.apply(this,[B]);if(!B.format){this.format=OpenLayers.Format.WFST(OpenLayers.Util.extend({version:this.version,featureType:this.featureType,featureNS:this.featureNS,featurePrefix:this.featurePrefix,geometryName:this.geometryName,srsName:this.srsName,schema:this.schema},this.formatOptions))}if(!B.geometryName&&parseFloat(this.format.version)>1){this.setGeometryName(null)}},destroy:function(){if(this.options&&!this.options.format){this.format.destroy()}this.format=null;OpenLayers.Protocol.prototype.destroy.apply(this)},read:function(C){OpenLayers.Protocol.prototype.read.apply(this,arguments);C=OpenLayers.Util.extend({},C);OpenLayers.Util.applyDefaults(C,this.options||{});var B=new OpenLayers.Protocol.Response({requestType:"read"});var D=OpenLayers.Format.XML.prototype.write.apply(this.format,[this.format.writeNode("wfs:GetFeature",C)]);B.priv=OpenLayers.Request.POST({url:C.url,callback:this.createCallback(this.handleRead,B,C),params:C.params,headers:C.headers,data:D});return B},setFeatureType:function(B){this.featureType=B;this.format.featureType=B},setGeometryName:function(B){this.geometryName=B;this.format.geometryName=B},handleRead:function(C,D){D=OpenLayers.Util.extend({},D);OpenLayers.Util.applyDefaults(D,this.options);if(D.callback){var E=C.priv;if(E.status>=200&&E.status<300){var B=this.parseResponse(E,D.readOptions);if(B&&B.success!==false){if(D.readOptions&&D.readOptions.output=="object"){OpenLayers.Util.extend(C,B)}else{C.features=B}C.code=OpenLayers.Protocol.Response.SUCCESS}else{C.code=OpenLayers.Protocol.Response.FAILURE;C.error=B}}else{C.code=OpenLayers.Protocol.Response.FAILURE}D.callback.call(D.scope,C)}},parseResponse:function(D,C){var F=D.responseXML;if(!F||!F.documentElement){F=D.responseText}if(!F||F.length<=0){return null}var B=(this.readFormat!==null)?this.readFormat.read(F):this.format.read(F,C);if(!this.featureNS){var E=this.readFormat||this.format;this.featureNS=E.featureNS;E.autoConfig=false;if(!this.geometryName){this.setGeometryName(E.geometryName)}}return B},commit:function(D,C){C=OpenLayers.Util.extend({},C);OpenLayers.Util.applyDefaults(C,this.options);var B=new OpenLayers.Protocol.Response({requestType:"commit",reqFeatures:D});B.priv=OpenLayers.Request.POST({url:C.url,headers:C.headers,data:this.format.write(D,C),callback:this.createCallback(this.handleCommit,B,C)});return B},handleCommit:function(B,C){if(C.callback){var D=B.priv;var E=D.responseXML;if(!E||!E.documentElement){E=D.responseText}var F=this.format.read(E)||{};B.insertIds=F.insertIds||[];if(F.success){B.code=OpenLayers.Protocol.Response.SUCCESS}else{B.code=OpenLayers.Protocol.Response.FAILURE;B.error=F}C.callback.call(C.scope,B)}},filterDelete:function(F,D){D=OpenLayers.Util.extend({},D);OpenLayers.Util.applyDefaults(D,this.options);var C=new OpenLayers.Protocol.Response({requestType:"commit"});var B=this.format.createElementNSPlus("wfs:Transaction",{attributes:{service:"WFS",version:this.version}});var E=this.format.createElementNSPlus("wfs:Delete",{attributes:{typeName:(D.featureNS?this.featurePrefix+":":"")+D.featureType}});if(D.featureNS){E.setAttribute("xmlns:"+this.featurePrefix,D.featureNS)}var H=this.format.writeNode("ogc:Filter",F);E.appendChild(H);B.appendChild(E);var G=OpenLayers.Format.XML.prototype.write.apply(this.format,[B]);return OpenLayers.Request.POST({url:this.url,callback:D.callback||function(){},data:G})},abort:function(B){if(B){B.priv.abort()}},CLASS_NAME:"OpenLayers.Protocol.WFS.v1"});OpenLayers.Handler.Point=OpenLayers.Class(OpenLayers.Handler,{point:null,layer:null,multi:false,citeCompliant:false,mouseDown:false,stoppedDown:null,lastDown:null,lastUp:null,persist:false,stopDown:false,stopUp:false,layerOptions:null,pixelTolerance:5,touch:false,lastTouchPx:null,initialize:function(D,C,B){if(!(B&&B.layerOptions&&B.layerOptions.styleMap)){this.style=OpenLayers.Util.extend(OpenLayers.Feature.Vector.style["default"],{})}OpenLayers.Handler.prototype.initialize.apply(this,arguments)},activate:function(){if(!OpenLayers.Handler.prototype.activate.apply(this,arguments)){return false}var B=OpenLayers.Util.extend({displayInLayerSwitcher:false,calculateInRange:OpenLayers.Function.True,wrapDateLine:this.citeCompliant},this.layerOptions);this.layer=new OpenLayers.Layer.Vector(this.CLASS_NAME,B);this.map.addLayer(this.layer);return true},createFeature:function(B){var C=this.layer.getLonLatFromViewPortPx(B);var D=new OpenLayers.Geometry.Point(C.lon,C.lat);this.point=new OpenLayers.Feature.Vector(D);this.callback("create",[this.point.geometry,this.point]);this.point.geometry.clearBounds();this.layer.addFeatures([this.point],{silent:true})},deactivate:function(){if(!OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){return false}this.cancel();if(this.layer.map!=null){this.destroyFeature(true);this.layer.destroy(false)}this.layer=null;this.touch=false;return true},destroyFeature:function(B){if(this.layer&&(B||!this.persist)){this.layer.destroyFeatures()}this.point=null},destroyPersistedFeature:function(){var B=this.layer;if(B&&B.features.length>1){this.layer.features[0].destroy()}},finalize:function(C){var B=C?"cancel":"done";this.mouseDown=false;this.lastDown=null;this.lastUp=null;this.lastTouchPx=null;this.callback(B,[this.geometryClone()]);this.destroyFeature(C)},cancel:function(){this.finalize(true)},click:function(B){OpenLayers.Event.stop(B);return false},dblclick:function(B){OpenLayers.Event.stop(B);return false},modifyFeature:function(B){if(!this.point){this.createFeature(B)}var C=this.layer.getLonLatFromViewPortPx(B);this.point.geometry.x=C.lon;this.point.geometry.y=C.lat;this.callback("modify",[this.point.geometry,this.point,false]);this.point.geometry.clearBounds();this.drawFeature()},drawFeature:function(){this.layer.drawFeature(this.point,this.style)},getGeometry:function(){var B=this.point&&this.point.geometry;if(B&&this.multi){B=new OpenLayers.Geometry.MultiPoint([B])}return B},geometryClone:function(){var B=this.getGeometry();return B&&B.clone()},mousedown:function(B){return this.down(B)},touchstart:function(B){if(!this.touch){this.touch=true;this.map.events.un({mousedown:this.mousedown,mouseup:this.mouseup,mousemove:this.mousemove,click:this.click,dblclick:this.dblclick,scope:this})}this.lastTouchPx=B.xy;return this.down(B)},mousemove:function(B){return this.move(B)},touchmove:function(B){this.lastTouchPx=B.xy;return this.move(B)},mouseup:function(B){return this.up(B)},touchend:function(B){B.xy=this.lastTouchPx;return this.up(B)},down:function(B){this.mouseDown=true;this.lastDown=B.xy;if(!this.touch){this.modifyFeature(B.xy)}this.stoppedDown=this.stopDown;return !this.stopDown},move:function(B){if(!this.touch&&(!this.mouseDown||this.stoppedDown)){this.modifyFeature(B.xy)}return true},up:function(B){this.mouseDown=false;this.stoppedDown=this.stopDown;if(!this.checkModifiers(B)){return true}if(this.lastUp&&this.lastUp.equals(B.xy)){return true}if(this.lastDown&&this.passesTolerance(this.lastDown,B.xy,this.pixelTolerance)){if(this.touch){this.modifyFeature(B.xy)}if(this.persist){this.destroyPersistedFeature()}this.lastUp=B.xy;this.finalize();return !this.stopUp}else{return true}},mouseout:function(B){if(OpenLayers.Util.mouseLeft(B,this.map.viewPortDiv)){this.stoppedDown=this.stopDown;this.mouseDown=false}},passesTolerance:function(F,E,B){var C=true;if(B!=null&&F&&E){var D=F.distanceTo(E);if(D>B){C=false}}return C},CLASS_NAME:"OpenLayers.Handler.Point"});OpenLayers.Handler.Path=OpenLayers.Class(OpenLayers.Handler.Point,{line:null,maxVertices:null,doubleTouchTolerance:20,freehand:false,freehandToggle:"shiftKey",timerId:null,redoStack:null,createFeature:function(B){var C=this.layer.getLonLatFromViewPortPx(B);var D=new OpenLayers.Geometry.Point(C.lon,C.lat);this.point=new OpenLayers.Feature.Vector(D);this.line=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString([this.point.geometry]));this.callback("create",[this.point.geometry,this.getSketch()]);this.point.geometry.clearBounds();this.layer.addFeatures([this.line,this.point],{silent:true})},destroyFeature:function(B){OpenLayers.Handler.Point.prototype.destroyFeature.call(this,B);this.line=null},destroyPersistedFeature:function(){var B=this.layer;if(B&&B.features.length>2){this.layer.features[0].destroy()}},removePoint:function(){if(this.point){this.layer.removeFeatures([this.point])}},addPoint:function(B){this.layer.removeFeatures([this.point]);var C=this.layer.getLonLatFromViewPortPx(B);this.point=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(C.lon,C.lat));this.line.geometry.addComponent(this.point.geometry,this.line.geometry.components.length);this.layer.addFeatures([this.point]);this.callback("point",[this.point.geometry,this.getGeometry()]);this.callback("modify",[this.point.geometry,this.getSketch()]);this.drawFeature();delete this.redoStack},insertXY:function(B,C){this.line.geometry.addComponent(new OpenLayers.Geometry.Point(B,C),this.getCurrentPointIndex());this.drawFeature();delete this.redoStack},insertDeltaXY:function(C,B){var D=this.getCurrentPointIndex()-1;var E=this.line.geometry.components[D];if(E&&!isNaN(E.x)&&!isNaN(E.y)){this.insertXY(E.x+C,E.y+B)}},insertDirectionLength:function(E,D){E*=Math.PI/180;var C=D*Math.cos(E);var B=D*Math.sin(E);this.insertDeltaXY(C,B)},insertDeflectionLength:function(D,C){var E=this.getCurrentPointIndex()-1;if(E>0){var F=this.line.geometry.components[E];var G=this.line.geometry.components[E-1];var B=Math.atan2(F.y-G.y,F.x-G.x);this.insertDirectionLength((B*180/Math.PI)+D,C)}},getCurrentPointIndex:function(){return this.line.geometry.components.length-1},undo:function(){var F=this.line.geometry;var C=F.components;var B=this.getCurrentPointIndex()-1;var E=C[B];var D=F.removeComponent(E);if(D){if(!this.redoStack){this.redoStack=[]}this.redoStack.push(E);this.drawFeature()}return D},redo:function(){var B=this.redoStack&&this.redoStack.pop();if(B){this.line.geometry.addComponent(B,this.getCurrentPointIndex());this.drawFeature()}return !!B},freehandMode:function(B){return(this.freehandToggle&&B[this.freehandToggle])?!this.freehand:this.freehand},modifyFeature:function(C,B){if(!this.line){this.createFeature(C)}var D=this.layer.getLonLatFromViewPortPx(C);this.point.geometry.x=D.lon;this.point.geometry.y=D.lat;this.callback("modify",[this.point.geometry,this.getSketch(),B]);this.point.geometry.clearBounds();this.drawFeature()},drawFeature:function(){this.layer.drawFeature(this.line,this.style);this.layer.drawFeature(this.point,this.style)},getSketch:function(){return this.line},getGeometry:function(){var B=this.line&&this.line.geometry;if(B&&this.multi){B=new OpenLayers.Geometry.MultiLineString([B])}return B},touchstart:function(B){if(this.timerId&&this.passesTolerance(this.lastTouchPx,B.xy,this.doubleTouchTolerance)){this.finishGeometry();window.clearTimeout(this.timerId);this.timerId=null;return false}else{if(this.timerId){window.clearTimeout(this.timerId);this.timerId=null}this.timerId=window.setTimeout(OpenLayers.Function.bind(function(){this.timerId=null},this),300);return OpenLayers.Handler.Point.prototype.touchstart.call(this,B)}},down:function(B){var C=this.stopDown;if(this.freehandMode(B)){C=true;if(this.touch){this.modifyFeature(B.xy,!!this.lastUp);OpenLayers.Event.stop(B)}}if(!this.touch&&(!this.lastDown||!this.passesTolerance(this.lastDown,B.xy,this.pixelTolerance))){this.modifyFeature(B.xy,!!this.lastUp)}this.mouseDown=true;this.lastDown=B.xy;this.stoppedDown=C;return !C},move:function(B){if(this.stoppedDown&&this.freehandMode(B)){if(this.persist){this.destroyPersistedFeature()}if(this.maxVertices&&this.line&&this.line.geometry.components.length===this.maxVertices){this.removePoint();this.finalize()}else{this.addPoint(B.xy)}return false}if(!this.touch&&(!this.mouseDown||this.stoppedDown)){this.modifyFeature(B.xy,!!this.lastUp)}return true},up:function(B){if(this.mouseDown&&(!this.lastUp||!this.lastUp.equals(B.xy))){if(this.stoppedDown&&this.freehandMode(B)){if(this.persist){this.destroyPersistedFeature()}this.removePoint();this.finalize()}else{if(this.passesTolerance(this.lastDown,B.xy,this.pixelTolerance)){if(this.touch){this.modifyFeature(B.xy)}if(this.lastUp==null&&this.persist){this.destroyPersistedFeature()}this.addPoint(B.xy);this.lastUp=B.xy;if(this.line.geometry.components.length===this.maxVertices+1){this.finishGeometry()}}}}this.stoppedDown=this.stopDown;this.mouseDown=false;return !this.stopUp},finishGeometry:function(){var B=this.line.geometry.components.length-1;this.line.geometry.removeComponent(this.line.geometry.components[B]);this.removePoint();this.finalize()},dblclick:function(B){if(!this.freehandMode(B)){this.finishGeometry()}return false},CLASS_NAME:"OpenLayers.Handler.Path"});OpenLayers.Filter.Spatial=OpenLayers.Class(OpenLayers.Filter,{type:null,property:null,value:null,distance:null,distanceUnits:null,evaluate:function(D){var B=false;switch(this.type){case OpenLayers.Filter.Spatial.BBOX:case OpenLayers.Filter.Spatial.INTERSECTS:if(D.geometry){var C=this.value;if(this.value.CLASS_NAME=="OpenLayers.Bounds"){C=this.value.toGeometry()}if(D.geometry.intersects(C)){B=true}}break;default:throw new Error("evaluate is not implemented for this filter type.")}return B},clone:function(){var B=OpenLayers.Util.applyDefaults({value:this.value&&this.value.clone&&this.value.clone()},this);return new OpenLayers.Filter.Spatial(B)},CLASS_NAME:"OpenLayers.Filter.Spatial"});OpenLayers.Filter.Spatial.BBOX="BBOX";OpenLayers.Filter.Spatial.INTERSECTS="INTERSECTS";OpenLayers.Filter.Spatial.DWITHIN="DWITHIN";OpenLayers.Filter.Spatial.WITHIN="WITHIN";OpenLayers.Filter.Spatial.CONTAINS="CONTAINS";OpenLayers.Control=OpenLayers.Class({id:null,map:null,div:null,type:null,allowSelection:false,displayClass:"",title:"",autoActivate:false,active:null,handler:null,eventListeners:null,events:null,initialize:function(B){this.displayClass=this.CLASS_NAME.replace("OpenLayers.","ol").replace(/\./g,"");OpenLayers.Util.extend(this,B);this.events=new OpenLayers.Events(this);if(this.eventListeners instanceof Object){this.events.on(this.eventListeners)}if(this.id==null){this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")}},destroy:function(){if(this.events){if(this.eventListeners){this.events.un(this.eventListeners)}this.events.destroy();this.events=null}this.eventListeners=null;if(this.handler){this.handler.destroy();this.handler=null}if(this.handlers){for(var B in this.handlers){if(this.handlers.hasOwnProperty(B)&&typeof this.handlers[B].destroy=="function"){this.handlers[B].destroy()}}this.handlers=null}if(this.map){this.map.removeControl(this);this.map=null}this.div=null},setMap:function(B){this.map=B;if(this.handler){this.handler.setMap(B)}},draw:function(B){if(this.div==null){this.div=OpenLayers.Util.createDiv(this.id);this.div.className=this.displayClass;if(!this.allowSelection){this.div.className+=" olControlNoSelect";this.div.setAttribute("unselectable","on",0);this.div.onselectstart=OpenLayers.Function.False}if(this.title!=""){this.div.title=this.title}}if(B!=null){this.position=B.clone()}this.moveTo(this.position);return this.div},moveTo:function(B){if((B!=null)&&(this.div!=null)){this.div.style.left=B.x+"px";this.div.style.top=B.y+"px"}},activate:function(){if(this.active){return false}if(this.handler){this.handler.activate()}this.active=true;if(this.map){OpenLayers.Element.addClass(this.map.viewPortDiv,this.displayClass.replace(/ /g,"")+"Active")}this.events.triggerEvent("activate");return true},deactivate:function(){if(this.active){if(this.handler){this.handler.deactivate()}this.active=false;if(this.map){OpenLayers.Element.removeClass(this.map.viewPortDiv,this.displayClass.replace(/ /g,"")+"Active")}this.events.triggerEvent("deactivate");return true}return false},CLASS_NAME:"OpenLayers.Control"});OpenLayers.Control.TYPE_BUTTON=1;OpenLayers.Control.TYPE_TOGGLE=2;OpenLayers.Control.TYPE_TOOL=3;OpenLayers.Handler.Drag=OpenLayers.Class(OpenLayers.Handler,{started:false,stopDown:true,dragging:false,touch:false,last:null,start:null,lastMoveEvt:null,oldOnselectstart:null,interval:0,timeoutId:null,documentDrag:false,documentEvents:null,initialize:function(E,D,B){OpenLayers.Handler.prototype.initialize.apply(this,arguments);if(this.documentDrag===true){var C=this;this._docMove=function(F){C.mousemove({xy:{x:F.clientX,y:F.clientY},element:document})};this._docUp=function(F){C.mouseup({xy:{x:F.clientX,y:F.clientY}})}}},dragstart:function(C){var B=true;this.dragging=false;if(this.checkModifiers(C)&&(OpenLayers.Event.isLeftClick(C)||OpenLayers.Event.isSingleTouch(C))){this.started=true;this.start=C.xy;this.last=C.xy;OpenLayers.Element.addClass(this.map.viewPortDiv,"olDragDown");this.down(C);this.callback("down",[C.xy]);OpenLayers.Event.stop(C);if(!this.oldOnselectstart){this.oldOnselectstart=document.onselectstart?document.onselectstart:OpenLayers.Function.True}document.onselectstart=OpenLayers.Function.False;B=!this.stopDown}else{this.started=false;this.start=null;this.last=null}return B},dragmove:function(B){this.lastMoveEvt=B;if(this.started&&!this.timeoutId&&(B.xy.x!=this.last.x||B.xy.y!=this.last.y)){if(this.documentDrag===true&&this.documentEvents){if(B.element===document){this.adjustXY(B);this.setEvent(B)}else{this.removeDocumentEvents()}}if(this.interval>0){this.timeoutId=setTimeout(OpenLayers.Function.bind(this.removeTimeout,this),this.interval)}this.dragging=true;this.move(B);this.callback("move",[B.xy]);if(!this.oldOnselectstart){this.oldOnselectstart=document.onselectstart;document.onselectstart=OpenLayers.Function.False}this.last=B.xy}return true},dragend:function(C){if(this.started){if(this.documentDrag===true&&this.documentEvents){this.adjustXY(C);this.removeDocumentEvents()}var B=(this.start!=this.last);this.started=false;this.dragging=false;OpenLayers.Element.removeClass(this.map.viewPortDiv,"olDragDown");this.up(C);this.callback("up",[C.xy]);if(B){this.callback("done",[C.xy])}document.onselectstart=this.oldOnselectstart}return true},down:function(B){},move:function(B){},up:function(B){},out:function(B){},mousedown:function(B){return this.dragstart(B)},touchstart:function(B){if(!this.touch){this.touch=true;this.map.events.un({mousedown:this.mousedown,mouseup:this.mouseup,mousemove:this.mousemove,click:this.click,scope:this})}return this.dragstart(B)},mousemove:function(B){return this.dragmove(B)},touchmove:function(B){return this.dragmove(B)},removeTimeout:function(){this.timeoutId=null;if(this.dragging){this.mousemove(this.lastMoveEvt)}},mouseup:function(B){return this.dragend(B)},touchend:function(B){B.xy=this.last;return this.dragend(B)},mouseout:function(C){if(this.started&&OpenLayers.Util.mouseLeft(C,this.map.viewPortDiv)){if(this.documentDrag===true){this.addDocumentEvents()}else{var B=(this.start!=this.last);this.started=false;this.dragging=false;OpenLayers.Element.removeClass(this.map.viewPortDiv,"olDragDown");this.out(C);this.callback("out",[]);if(B){this.callback("done",[C.xy])}if(document.onselectstart){document.onselectstart=this.oldOnselectstart}}}return true},click:function(B){return(this.start==this.last)},activate:function(){var B=false;if(OpenLayers.Handler.prototype.activate.apply(this,arguments)){this.dragging=false;B=true}return B},deactivate:function(){var B=false;if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){this.touch=false;this.started=false;this.dragging=false;this.start=null;this.last=null;B=true;OpenLayers.Element.removeClass(this.map.viewPortDiv,"olDragDown")}return B},adjustXY:function(B){var C=OpenLayers.Util.pagePosition(this.map.viewPortDiv);B.xy.x-=C[0];B.xy.y-=C[1]},addDocumentEvents:function(){OpenLayers.Element.addClass(document.body,"olDragDown");this.documentEvents=true;OpenLayers.Event.observe(document,"mousemove",this._docMove);OpenLayers.Event.observe(document,"mouseup",this._docUp)},removeDocumentEvents:function(){OpenLayers.Element.removeClass(document.body,"olDragDown");this.documentEvents=false;OpenLayers.Event.stopObserving(document,"mousemove",this._docMove);OpenLayers.Event.stopObserving(document,"mouseup",this._docUp)},CLASS_NAME:"OpenLayers.Handler.Drag"});OpenLayers.Handler.Box=OpenLayers.Class(OpenLayers.Handler,{dragHandler:null,boxDivClassName:"olHandlerBoxZoomBox",boxOffsets:null,initialize:function(D,C,B){OpenLayers.Handler.prototype.initialize.apply(this,arguments);this.dragHandler=new OpenLayers.Handler.Drag(this,{down:this.startBox,move:this.moveBox,out:this.removeBox,up:this.endBox},{keyMask:this.keyMask})},destroy:function(){OpenLayers.Handler.prototype.destroy.apply(this,arguments);if(this.dragHandler){this.dragHandler.destroy();this.dragHandler=null}},setMap:function(B){OpenLayers.Handler.prototype.setMap.apply(this,arguments);if(this.dragHandler){this.dragHandler.setMap(B)}},startBox:function(B){this.callback("start",[]);this.zoomBox=OpenLayers.Util.createDiv("zoomBox",{x:-9999,y:-9999});this.zoomBox.className=this.boxDivClassName;this.zoomBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.viewPortDiv.appendChild(this.zoomBox);OpenLayers.Element.addClass(this.map.viewPortDiv,"olDrawBox")},moveBox:function(F){var E=this.dragHandler.start.x;var C=this.dragHandler.start.y;var D=Math.abs(E-F.x);var B=Math.abs(C-F.y);var G=this.getBoxOffsets();this.zoomBox.style.width=(D+G.width+1)+"px";this.zoomBox.style.height=(B+G.height+1)+"px";this.zoomBox.style.left=(F.x<E?E-D-G.left:E-G.left)+"px";this.zoomBox.style.top=(F.y<C?C-B-G.top:C-G.top)+"px"},endBox:function(C){var B;if(Math.abs(this.dragHandler.start.x-C.x)>5||Math.abs(this.dragHandler.start.y-C.y)>5){var H=this.dragHandler.start;var G=Math.min(H.y,C.y);var D=Math.max(H.y,C.y);var F=Math.min(H.x,C.x);var E=Math.max(H.x,C.x);B=new OpenLayers.Bounds(F,D,E,G)}else{B=this.dragHandler.start.clone()}this.removeBox();this.callback("done",[B])},removeBox:function(){this.map.viewPortDiv.removeChild(this.zoomBox);this.zoomBox=null;this.boxOffsets=null;OpenLayers.Element.removeClass(this.map.viewPortDiv,"olDrawBox")},activate:function(){if(OpenLayers.Handler.prototype.activate.apply(this,arguments)){this.dragHandler.activate();return true}else{return false}},deactivate:function(){if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){if(this.dragHandler.deactivate()){if(this.zoomBox){this.removeBox()}}return true}else{return false}},getBoxOffsets:function(){if(!this.boxOffsets){var E=document.createElement("div");E.style.position="absolute";E.style.border="1px solid black";E.style.width="3px";document.body.appendChild(E);var B=E.clientWidth==3;document.body.removeChild(E);var G=parseInt(OpenLayers.Element.getStyle(this.zoomBox,"border-left-width"));var D=parseInt(OpenLayers.Element.getStyle(this.zoomBox,"border-right-width"));var F=parseInt(OpenLayers.Element.getStyle(this.zoomBox,"border-top-width"));var C=parseInt(OpenLayers.Element.getStyle(this.zoomBox,"border-bottom-width"));this.boxOffsets={left:G,right:D,top:F,bottom:C,width:B===false?G+D:0,height:B===false?F+C:0}}return this.boxOffsets},CLASS_NAME:"OpenLayers.Handler.Box"});OpenLayers.Control.ZoomBox=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_TOOL,out:false,keyMask:null,alwaysZoom:false,draw:function(){this.handler=new OpenLayers.Handler.Box(this,{done:this.zoomBox},{keyMask:this.keyMask})},zoomBox:function(I){if(I instanceof OpenLayers.Bounds){var C;if(!this.out){var J=this.map.getLonLatFromPixel({x:I.left,y:I.bottom});var N=this.map.getLonLatFromPixel({x:I.right,y:I.top});C=new OpenLayers.Bounds(J.lon,J.lat,N.lon,N.lat)}else{var H=Math.abs(I.right-I.left);var K=Math.abs(I.top-I.bottom);var F=Math.min((this.map.size.h/K),(this.map.size.w/H));var O=this.map.getExtent();var B=this.map.getLonLatFromPixel(I.getCenterPixel());var D=B.lon-(O.getWidth()/2)*F;var G=B.lon+(O.getWidth()/2)*F;var M=B.lat-(O.getHeight()/2)*F;var E=B.lat+(O.getHeight()/2)*F;C=new OpenLayers.Bounds(D,M,G,E)}var L=this.map.getZoom();this.map.zoomToExtent(C);if(L==this.map.getZoom()&&this.alwaysZoom==true){this.map.zoomTo(L+(this.out?-1:1))}}else{if(!this.out){this.map.setCenter(this.map.getLonLatFromPixel(I),this.map.getZoom()+1)}else{this.map.setCenter(this.map.getLonLatFromPixel(I),this.map.getZoom()-1)}}},CLASS_NAME:"OpenLayers.Control.ZoomBox"});OpenLayers.Control.DragPan=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_TOOL,panned:false,interval:1,documentDrag:false,kinetic:null,enableKinetic:false,kineticInterval:10,draw:function(){if(this.enableKinetic){var B={interval:this.kineticInterval};if(typeof this.enableKinetic==="object"){B=OpenLayers.Util.extend(B,this.enableKinetic)}this.kinetic=new OpenLayers.Kinetic(B)}this.handler=new OpenLayers.Handler.Drag(this,{move:this.panMap,done:this.panMapDone,down:this.panMapStart},{interval:this.interval,documentDrag:this.documentDrag})},panMapStart:function(){if(this.kinetic){this.kinetic.begin()}},panMap:function(B){if(this.kinetic){this.kinetic.update(B)}this.panned=true;this.map.pan(this.handler.last.x-B.x,this.handler.last.y-B.y,{dragging:true,animate:false})},panMapDone:function(D){if(this.panned){var C=null;if(this.kinetic){C=this.kinetic.end(D)}this.map.pan(this.handler.last.x-D.x,this.handler.last.y-D.y,{dragging:!!C,animate:false});if(C){var B=this;this.kinetic.move(C,function(E,G,F){B.map.pan(E,G,{dragging:!F,animate:false})})}this.panned=false}},CLASS_NAME:"OpenLayers.Control.DragPan"});OpenLayers.Handler.Click=OpenLayers.Class(OpenLayers.Handler,{delay:300,single:true,"double":false,pixelTolerance:0,dblclickTolerance:13,stopSingle:false,stopDouble:false,timerId:null,touch:false,down:null,last:null,first:null,rightclickTimerId:null,touchstart:function(B){if(!this.touch){this.unregisterMouseListeners();this.touch=true}this.down=this.getEventInfo(B);this.last=this.getEventInfo(B);return true},touchmove:function(B){this.last=this.getEventInfo(B);return true},touchend:function(B){if(this.down){B.xy=this.last.xy;B.lastTouches=this.last.touches;this.handleSingle(B);this.down=null}return true},unregisterMouseListeners:function(){this.map.events.un({mousedown:this.mousedown,mouseup:this.mouseup,click:this.click,dblclick:this.dblclick,scope:this})},mousedown:function(B){this.down=this.getEventInfo(B);this.last=this.getEventInfo(B);return true},mouseup:function(C){var B=true;if(this.checkModifiers(C)&&this.control.handleRightClicks&&OpenLayers.Event.isRightClick(C)){B=this.rightclick(C)}return B},rightclick:function(C){if(this.passesTolerance(C)){if(this.rightclickTimerId!=null){this.clearTimer();this.callback("dblrightclick",[C]);return !this.stopDouble}else{var B=this["double"]?OpenLayers.Util.extend({},C):this.callback("rightclick",[C]);var D=OpenLayers.Function.bind(this.delayedRightCall,this,B);this.rightclickTimerId=window.setTimeout(D,this.delay)}}return !this.stopSingle},delayedRightCall:function(B){this.rightclickTimerId=null;if(B){this.callback("rightclick",[B])}},click:function(B){if(!this.last){this.last=this.getEventInfo(B)}this.handleSingle(B);return !this.stopSingle},dblclick:function(B){this.handleDouble(B);return !this.stopDouble},handleDouble:function(B){if(this.passesDblclickTolerance(B)){if(this["double"]){this.callback("dblclick",[B])}this.clearTimer()}},handleSingle:function(C){if(this.passesTolerance(C)){if(this.timerId!=null){if(this.last.touches&&this.last.touches.length===1){if(this["double"]){OpenLayers.Event.stop(C)}this.handleDouble(C)}if(!this.last.touches||this.last.touches.length!==2){this.clearTimer()}}else{this.first=this.getEventInfo(C);var B=this.single?OpenLayers.Util.extend({},C):null;this.queuePotentialClick(B)}}},queuePotentialClick:function(B){this.timerId=window.setTimeout(OpenLayers.Function.bind(this.delayedCall,this,B),this.delay)},passesTolerance:function(B){var E=true;if(this.pixelTolerance!=null&&this.down&&this.down.xy){E=this.pixelTolerance>=this.down.xy.distanceTo(B.xy);if(E&&this.touch&&this.down.touches.length===this.last.touches.length){for(var C=0,D=this.down.touches.length;C<D;++C){if(this.getTouchDistance(this.down.touches[C],this.last.touches[C])>this.pixelTolerance){E=false;break}}}}return E},getTouchDistance:function(C,B){return Math.sqrt(Math.pow(C.clientX-B.clientX,2)+Math.pow(C.clientY-B.clientY,2))},passesDblclickTolerance:function(B){var C=true;if(this.down&&this.first){C=this.down.xy.distanceTo(this.first.xy)<=this.dblclickTolerance}return C},clearTimer:function(){if(this.timerId!=null){window.clearTimeout(this.timerId);this.timerId=null}if(this.rightclickTimerId!=null){window.clearTimeout(this.rightclickTimerId);this.rightclickTimerId=null}},delayedCall:function(B){this.timerId=null;if(B){this.callback("click",[B])}},getEventInfo:function(C){var E;if(C.touches){var B=C.touches.length;E=new Array(B);var F;for(var D=0;D<B;D++){F=C.touches[D];E[D]={clientX:F.clientX,clientY:F.clientY}}}return{xy:C.xy,touches:E}},deactivate:function(){var B=false;if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){this.clearTimer();this.down=null;this.first=null;this.last=null;this.touch=false;B=true}return B},CLASS_NAME:"OpenLayers.Handler.Click"});OpenLayers.Control.Navigation=OpenLayers.Class(OpenLayers.Control,{dragPan:null,dragPanOptions:null,pinchZoom:null,pinchZoomOptions:null,documentDrag:false,zoomBox:null,zoomBoxEnabled:true,zoomWheelEnabled:true,mouseWheelOptions:null,handleRightClicks:false,zoomBoxKeyMask:OpenLayers.Handler.MOD_SHIFT,autoActivate:true,initialize:function(B){this.handlers={};OpenLayers.Control.prototype.initialize.apply(this,arguments)},destroy:function(){this.deactivate();if(this.dragPan){this.dragPan.destroy()}this.dragPan=null;if(this.zoomBox){this.zoomBox.destroy()}this.zoomBox=null;if(this.pinchZoom){this.pinchZoom.destroy()}this.pinchZoom=null;OpenLayers.Control.prototype.destroy.apply(this,arguments)},activate:function(){this.dragPan.activate();if(this.zoomWheelEnabled){this.handlers.wheel.activate()}this.handlers.click.activate();if(this.zoomBoxEnabled){this.zoomBox.activate()}if(this.pinchZoom){this.pinchZoom.activate()}return OpenLayers.Control.prototype.activate.apply(this,arguments)},deactivate:function(){if(this.pinchZoom){this.pinchZoom.deactivate()}this.zoomBox.deactivate();this.dragPan.deactivate();this.handlers.click.deactivate();this.handlers.wheel.deactivate();return OpenLayers.Control.prototype.deactivate.apply(this,arguments)},draw:function(){if(this.handleRightClicks){this.map.viewPortDiv.oncontextmenu=OpenLayers.Function.False}var B={click:this.defaultClick,dblclick:this.defaultDblClick,dblrightclick:this.defaultDblRightClick};var C={"double":true,stopDouble:true};this.handlers.click=new OpenLayers.Handler.Click(this,B,C);this.dragPan=new OpenLayers.Control.DragPan(OpenLayers.Util.extend({map:this.map,documentDrag:this.documentDrag},this.dragPanOptions));this.zoomBox=new OpenLayers.Control.ZoomBox({map:this.map,keyMask:this.zoomBoxKeyMask});this.dragPan.draw();this.zoomBox.draw();this.handlers.wheel=new OpenLayers.Handler.MouseWheel(this,{up:this.wheelUp,down:this.wheelDown},this.mouseWheelOptions);if(OpenLayers.Control.PinchZoom){this.pinchZoom=new OpenLayers.Control.PinchZoom(OpenLayers.Util.extend({map:this.map},this.pinchZoomOptions))}},defaultClick:function(B){if(B.lastTouches&&B.lastTouches.length==2){this.map.zoomOut()}},defaultDblClick:function(C){var B=this.map.getLonLatFromViewPortPx(C.xy);this.map.setCenter(B,this.map.zoom+1)},defaultDblRightClick:function(C){var B=this.map.getLonLatFromViewPortPx(C.xy);this.map.setCenter(B,this.map.zoom-1)},wheelChange:function(J,D){var I=this.map.getZoom();var G=this.map.getZoom()+Math.round(D);G=Math.max(G,0);G=Math.min(G,this.map.getNumZoomLevels());if(G===I){return }var K=this.map.getSize();var F=K.w/2-J.xy.x;var E=J.xy.y-K.h/2;var H=this.map.baseLayer.getResolutionForZoom(G);var B=this.map.getLonLatFromPixel(J.xy);var C=new OpenLayers.LonLat(B.lon+F*H,B.lat+E*H);this.map.setCenter(C,G)},wheelUp:function(B,C){this.wheelChange(B,C||1)},wheelDown:function(B,C){this.wheelChange(B,C||-1)},disableZoomBox:function(){this.zoomBoxEnabled=false;this.zoomBox.deactivate()},enableZoomBox:function(){this.zoomBoxEnabled=true;if(this.active){this.zoomBox.activate()}},disableZoomWheel:function(){this.zoomWheelEnabled=false;this.handlers.wheel.deactivate()},enableZoomWheel:function(){this.zoomWheelEnabled=true;if(this.active){this.handlers.wheel.activate()}},CLASS_NAME:"OpenLayers.Control.Navigation"});OpenLayers.Layer.WMS=OpenLayers.Class(OpenLayers.Layer.Grid,{DEFAULT_PARAMS:{service:"WMS",version:"1.1.1",request:"GetMap",styles:"",format:"image/jpeg"},isBaseLayer:true,encodeBBOX:false,noMagic:false,yx:{},initialize:function(E,D,F,C){var B=[];F=OpenLayers.Util.upperCaseObject(F);if(parseFloat(F.VERSION)>=1.3&&!F.EXCEPTIONS){F.EXCEPTIONS="INIMAGE"}B.push(E,D,F,C);OpenLayers.Layer.Grid.prototype.initialize.apply(this,B);OpenLayers.Util.applyDefaults(this.params,OpenLayers.Util.upperCaseObject(this.DEFAULT_PARAMS));if(!this.noMagic&&this.params.TRANSPARENT&&this.params.TRANSPARENT.toString().toLowerCase()=="true"){if((C==null)||(!C.isBaseLayer)){this.isBaseLayer=false}if(this.params.FORMAT=="image/jpeg"){this.params.FORMAT=OpenLayers.Util.alphaHack()?"image/gif":"image/png"}}},clone:function(B){if(B==null){B=new OpenLayers.Layer.WMS(this.name,this.url,this.params,this.getOptions())}B=OpenLayers.Layer.Grid.prototype.clone.apply(this,[B]);return B},reverseAxisOrder:function(){var B=this.projection.getCode();return parseFloat(this.params.VERSION)>=1.3&&!!(this.yx[B]||OpenLayers.Projection.defaults[B].yx)},getURL:function(D){D=this.adjustBounds(D);var E=this.getImageSize();var F={};var C=this.reverseAxisOrder();F.BBOX=this.encodeBBOX?D.toBBOX(null,C):D.toArray(C);F.WIDTH=E.w;F.HEIGHT=E.h;var B=this.getFullRequestString(F);return B},mergeNewParams:function(D){var C=OpenLayers.Util.upperCaseObject(D);var B=[C];return OpenLayers.Layer.Grid.prototype.mergeNewParams.apply(this,B)},getFullRequestString:function(F,D){var C=this.map.getProjectionObject();var B=this.projection&&this.projection.equals(C)?this.projection.getCode():C.getCode();var E=(B=="none")?null:B;if(parseFloat(this.params.VERSION)>=1.3){this.params.CRS=E}else{this.params.SRS=E}if(typeof this.params.TRANSPARENT=="boolean"){F.TRANSPARENT=this.params.TRANSPARENT?"TRUE":"FALSE"}return OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this,arguments)},CLASS_NAME:"OpenLayers.Layer.WMS"});OpenLayers.StyleMap=OpenLayers.Class({styles:null,extendDefault:true,initialize:function(D,B){this.styles={"default":new OpenLayers.Style(OpenLayers.Feature.Vector.style["default"]),select:new OpenLayers.Style(OpenLayers.Feature.Vector.style.select),temporary:new OpenLayers.Style(OpenLayers.Feature.Vector.style.temporary),"delete":new OpenLayers.Style(OpenLayers.Feature.Vector.style["delete"])};if(D instanceof OpenLayers.Style){this.styles["default"]=D;this.styles.select=D;this.styles.temporary=D;this.styles["delete"]=D}else{if(typeof D=="object"){for(var C in D){if(D[C] instanceof OpenLayers.Style){this.styles[C]=D[C]}else{if(typeof D[C]=="object"){this.styles[C]=new OpenLayers.Style(D[C])}else{this.styles["default"]=new OpenLayers.Style(D);this.styles.select=new OpenLayers.Style(D);this.styles.temporary=new OpenLayers.Style(D);this.styles["delete"]=new OpenLayers.Style(D);break}}}}}OpenLayers.Util.extend(this,B)},destroy:function(){for(var B in this.styles){this.styles[B].destroy()}this.styles=null},createSymbolizer:function(C,D){if(!C){C=new OpenLayers.Feature.Vector()}if(!this.styles[D]){D="default"}C.renderIntent=D;var B={};if(this.extendDefault&&D!="default"){B=this.styles["default"].createSymbolizer(C)}return OpenLayers.Util.extend(B,this.styles[D].createSymbolizer(C))},addUniqueValueRules:function(C,E,G,B){var F=[];for(var D in G){F.push(new OpenLayers.Rule({symbolizer:G[D],context:B,filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:E,value:D})}))}this.styles[C].addRules(F)},CLASS_NAME:"OpenLayers.StyleMap"});OpenLayers.Layer.Vector=OpenLayers.Class(OpenLayers.Layer,{isBaseLayer:false,isFixed:false,features:null,filter:null,selectedFeatures:null,unrenderedFeatures:null,reportError:true,style:null,styleMap:null,strategies:null,protocol:null,renderers:["SVG","VML","Canvas"],renderer:null,rendererOptions:null,geometryType:null,drawn:false,ratio:1,initialize:function(D,C){OpenLayers.Layer.prototype.initialize.apply(this,arguments);if(!this.renderer||!this.renderer.supported()){this.assignRenderer()}if(!this.renderer||!this.renderer.supported()){this.renderer=null;this.displayError()}if(!this.styleMap){this.styleMap=new OpenLayers.StyleMap()}this.features=[];this.selectedFeatures=[];this.unrenderedFeatures={};if(this.strategies){for(var E=0,B=this.strategies.length;E<B;E++){this.strategies[E].setLayer(this)}}},destroy:function(){if(this.strategies){var D,C,B;for(C=0,B=this.strategies.length;C<B;C++){D=this.strategies[C];if(D.autoDestroy){D.destroy()}}this.strategies=null}if(this.protocol){if(this.protocol.autoDestroy){this.protocol.destroy()}this.protocol=null}this.destroyFeatures();this.features=null;this.selectedFeatures=null;this.unrenderedFeatures=null;if(this.renderer){this.renderer.destroy()}this.renderer=null;this.geometryType=null;this.drawn=null;OpenLayers.Layer.prototype.destroy.apply(this,arguments)},clone:function(F){if(F==null){F=new OpenLayers.Layer.Vector(this.name,this.getOptions())}F=OpenLayers.Layer.prototype.clone.apply(this,[F]);var D=this.features;var B=D.length;var E=new Array(B);for(var C=0;C<B;++C){E[C]=D[C].clone()}F.features=E;return F},refresh:function(B){if(this.calculateInRange()&&this.visibility){this.events.triggerEvent("refresh",B)}},assignRenderer:function(){for(var D=0,B=this.renderers.length;D<B;D++){var C=this.renderers[D];var E=(typeof C=="function")?C:OpenLayers.Renderer[C];if(E&&E.prototype.supported()){this.renderer=new E(this.div,this.rendererOptions);break}}},displayError:function(){if(this.reportError){OpenLayers.Console.userError(OpenLayers.i18n("browserNotSupported",{renderers:this.renderers.join("\n")}))}},setMap:function(C){OpenLayers.Layer.prototype.setMap.apply(this,arguments);if(!this.renderer){this.map.removeLayer(this)}else{this.renderer.map=this.map;var B=this.map.getSize();B.w=B.w*this.ratio;B.h=B.h*this.ratio;this.renderer.setSize(B)}},afterAdd:function(){if(this.strategies){var D,C,B;for(C=0,B=this.strategies.length;C<B;C++){D=this.strategies[C];if(D.autoActivate){D.activate()}}}},removeMap:function(D){this.drawn=false;if(this.strategies){var E,C,B;for(C=0,B=this.strategies.length;C<B;C++){E=this.strategies[C];if(E.autoActivate){E.deactivate()}}}},onMapResize:function(){OpenLayers.Layer.prototype.onMapResize.apply(this,arguments);var B=this.map.getSize();B.w=B.w*this.ratio;B.h=B.h*this.ratio;this.renderer.setSize(B)},moveTo:function(B,C,L){OpenLayers.Layer.prototype.moveTo.apply(this,arguments);var D=true;if(!L){this.renderer.root.style.visibility="hidden";var K=this.map.getSize(),I=K.w,G=K.h,F=(I/2*this.ratio)-I/2,E=(G/2*this.ratio)-G/2;F+=parseInt(this.map.layerContainerDiv.style.left,10);F=-Math.round(F);E+=parseInt(this.map.layerContainerDiv.style.top,10);E=-Math.round(E);this.div.style.left=F+"px";this.div.style.top=E+"px";var M=this.map.getExtent().scale(this.ratio);D=this.renderer.setExtent(M,C);this.renderer.root.style.visibility="visible";if(OpenLayers.IS_GECKO===true){this.div.scrollLeft=this.div.scrollLeft}if(!C&&D){for(var H in this.unrenderedFeatures){var N=this.unrenderedFeatures[H];this.drawFeature(N)}}}if(!this.drawn||C||!D){this.drawn=true;var N;for(var H=0,J=this.features.length;H<J;H++){this.renderer.locked=(H!==(J-1));N=this.features[H];this.drawFeature(N)}}},display:function(B){OpenLayers.Layer.prototype.display.apply(this,arguments);var C=this.div.style.display;if(C!=this.renderer.root.style.display){this.renderer.root.style.display=C}},addFeatures:function(C,J){if(!(OpenLayers.Util.isArray(C))){C=[C]}var H=!J||!J.silent;if(H){var B={features:C};var G=this.events.triggerEvent("beforefeaturesadded",B);if(G===false){return }C=B.features}var E=[];for(var D=0,F=C.length;D<F;D++){if(D!=(C.length-1)){this.renderer.locked=true}else{this.renderer.locked=false}var I=C[D];if(this.geometryType&&!(I.geometry instanceof this.geometryType)){throw new TypeError("addFeatures: component should be an "+this.geometryType.prototype.CLASS_NAME)}I.layer=this;if(!I.style&&this.style){I.style=OpenLayers.Util.extend({},this.style)}if(H){if(this.events.triggerEvent("beforefeatureadded",{feature:I})===false){continue}this.preFeatureInsert(I)}E.push(I);this.features.push(I);this.drawFeature(I);if(H){this.events.triggerEvent("featureadded",{feature:I});this.onFeatureInsert(I)}}if(H){this.events.triggerEvent("featuresadded",{features:E})}},removeFeatures:function(F,B){if(!F||F.length===0){return }if(F===this.features){return this.removeAllFeatures(B)}if(!(OpenLayers.Util.isArray(F))){F=[F]}if(F===this.selectedFeatures){F=F.slice()}var E=!B||!B.silent;if(E){this.events.triggerEvent("beforefeaturesremoved",{features:F})}for(var D=F.length-1;D>=0;D--){if(D!=0&&F[D-1].geometry){this.renderer.locked=true}else{this.renderer.locked=false}var C=F[D];delete this.unrenderedFeatures[C.id];if(E){this.events.triggerEvent("beforefeatureremoved",{feature:C})}this.features=OpenLayers.Util.removeItem(this.features,C);C.layer=null;if(C.geometry){this.renderer.eraseFeatures(C)}if(OpenLayers.Util.indexOf(this.selectedFeatures,C)!=-1){OpenLayers.Util.removeItem(this.selectedFeatures,C)}if(E){this.events.triggerEvent("featureremoved",{feature:C})}}if(E){this.events.triggerEvent("featuresremoved",{features:F})}},removeAllFeatures:function(B){var E=!B||!B.silent;var F=this.features;if(E){this.events.triggerEvent("beforefeaturesremoved",{features:F})}var D;for(var C=F.length-1;C>=0;C--){D=F[C];if(E){this.events.triggerEvent("beforefeatureremoved",{feature:D})}D.layer=null;if(E){this.events.triggerEvent("featureremoved",{feature:D})}}this.renderer.clear();this.features=[];this.unrenderedFeatures={};this.selectedFeatures=[];if(E){this.events.triggerEvent("featuresremoved",{features:F})}},destroyFeatures:function(E,B){var D=(E==undefined);if(D){E=this.features}if(E){this.removeFeatures(E,B);for(var C=E.length-1;C>=0;C--){E[C].destroy()}}},drawFeature:function(B,C){if(!this.drawn){return }if(typeof C!="object"){if(!C&&B.state===OpenLayers.State.DELETE){C="delete"}var D=C||B.renderIntent;C=B.style||this.style;if(!C){C=this.styleMap.createSymbolizer(B,D)}}var E=this.renderer.drawFeature(B,C);if(E===false||E===null){this.unrenderedFeatures[B.id]=B}else{delete this.unrenderedFeatures[B.id]}},eraseFeatures:function(B){this.renderer.eraseFeatures(B)},getFeatureFromEvent:function(B){if(!this.renderer){throw new Error("getFeatureFromEvent called on layer with no renderer. This usually means you destroyed a layer, but not some handler which is associated with it.")}var C=null;var D=this.renderer.getFeatureIdFromEvent(B);if(D){if(typeof D==="string"){C=this.getFeatureById(D)}else{C=D}}return C},getFeatureBy:function(F,E){var D=null;for(var C=0,B=this.features.length;C<B;++C){if(this.features[C][F]==E){D=this.features[C];break}}return D},getFeatureById:function(B){return this.getFeatureBy("id",B)},getFeatureByFid:function(B){return this.getFeatureBy("fid",B)},getFeaturesByAttribute:function(E,F){var D,C,B=this.features.length,G=[];for(D=0;D<B;D++){C=this.features[D];if(C&&C.attributes){if(C.attributes[E]===F){G.push(C)}}}return G},onFeatureInsert:function(B){},preFeatureInsert:function(B){},getDataExtent:function(){var C=null;var E=this.features;if(E&&(E.length>0)){var F=null;for(var D=0,B=E.length;D<B;D++){F=E[D].geometry;if(F){if(C===null){C=new OpenLayers.Bounds()}C.extend(F.getBounds())}}}return C},CLASS_NAME:"OpenLayers.Layer.Vector"});OpenLayers.Renderer.SVG=OpenLayers.Class(OpenLayers.Renderer.Elements,{xmlns:"http://www.w3.org/2000/svg",xlinkns:"http://www.w3.org/1999/xlink",MAX_PIXEL:15000,translationParameters:null,symbolMetrics:null,initialize:function(B){if(!this.supported()){return }OpenLayers.Renderer.Elements.prototype.initialize.apply(this,arguments);this.translationParameters={x:0,y:0};this.symbolMetrics={}},supported:function(){var B="http://www.w3.org/TR/SVG11/feature#";return(document.implementation&&(document.implementation.hasFeature("org.w3c.svg","1.0")||document.implementation.hasFeature(B+"SVG","1.1")||document.implementation.hasFeature(B+"BasicStructure","1.1")))},inValidRange:function(B,F,C){var E=B+(C?0:this.translationParameters.x);var D=F+(C?0:this.translationParameters.y);return(E>=-this.MAX_PIXEL&&E<=this.MAX_PIXEL&&D>=-this.MAX_PIXEL&&D<=this.MAX_PIXEL)},setExtent:function(D,F){var C=OpenLayers.Renderer.Elements.prototype.setExtent.apply(this,arguments);var B=this.getResolution(),H=-D.left/B,G=D.top/B;if(F){this.left=H;this.top=G;var E="0 0 "+this.size.w+" "+this.size.h;this.rendererRoot.setAttributeNS(null,"viewBox",E);this.translate(this.xOffset,0);return true}else{var I=this.translate(H-this.left+this.xOffset,G-this.top);if(!I){this.setExtent(D,true)}return C&&I}},translate:function(B,D){if(!this.inValidRange(B,D,true)){return false}else{var C="";if(B||D){C="translate("+B+","+D+")"}this.root.setAttributeNS(null,"transform",C);this.translationParameters={x:B,y:D};return true}},setSize:function(B){OpenLayers.Renderer.prototype.setSize.apply(this,arguments);this.rendererRoot.setAttributeNS(null,"width",this.size.w);this.rendererRoot.setAttributeNS(null,"height",this.size.h)},getNodeType:function(D,C){var B=null;switch(D.CLASS_NAME){case"OpenLayers.Geometry.Point":if(C.externalGraphic){B="image"}else{if(this.isComplexSymbol(C.graphicName)){B="svg"}else{B="circle"}}break;case"OpenLayers.Geometry.Rectangle":B="rect";break;case"OpenLayers.Geometry.LineString":B="polyline";break;case"OpenLayers.Geometry.LinearRing":B="polygon";break;case"OpenLayers.Geometry.Polygon":case"OpenLayers.Geometry.Curve":B="path";break;default:break}return B},setStyle:function(Q,T,C){T=T||Q._style;C=C||Q._options;var L=parseFloat(Q.getAttributeNS(null,"r"));var K=1;var E;if(Q._geometryClass=="OpenLayers.Geometry.Point"&&L){Q.style.visibility="";if(T.graphic===false){Q.style.visibility="hidden"}else{if(T.externalGraphic){E=this.getPosition(Q);if(T.graphicTitle){Q.setAttributeNS(null,"title",T.graphicTitle);var P=Q.getElementsByTagName("title");if(P.length>0){P[0].firstChild.textContent=T.graphicTitle}else{var G=this.nodeFactory(null,"title");G.textContent=T.graphicTitle;Q.appendChild(G)}}if(T.graphicWidth&&T.graphicHeight){Q.setAttributeNS(null,"preserveAspectRatio","none")}var O=T.graphicWidth||T.graphicHeight;var N=T.graphicHeight||T.graphicWidth;O=O?O:T.pointRadius*2;N=N?N:T.pointRadius*2;var U=(T.graphicXOffset!=undefined)?T.graphicXOffset:-(0.5*O);var H=(T.graphicYOffset!=undefined)?T.graphicYOffset:-(0.5*N);var B=T.graphicOpacity||T.fillOpacity;Q.setAttributeNS(null,"x",(E.x+U).toFixed());Q.setAttributeNS(null,"y",(E.y+H).toFixed());Q.setAttributeNS(null,"width",O);Q.setAttributeNS(null,"height",N);Q.setAttributeNS(this.xlinkns,"href",T.externalGraphic);Q.setAttributeNS(null,"style","opacity: "+B);Q.onclick=OpenLayers.Renderer.SVG.preventDefault}else{if(this.isComplexSymbol(T.graphicName)){var D=T.pointRadius*3;var M=D*2;var F=this.importSymbol(T.graphicName);E=this.getPosition(Q);K=this.symbolMetrics[F.id][0]*3/M;var I=Q.parentNode;var J=Q.nextSibling;if(I){I.removeChild(Q)}Q.firstChild&&Q.removeChild(Q.firstChild);Q.appendChild(F.firstChild.cloneNode(true));Q.setAttributeNS(null,"viewBox",F.getAttributeNS(null,"viewBox"));Q.setAttributeNS(null,"width",M);Q.setAttributeNS(null,"height",M);Q.setAttributeNS(null,"x",E.x-D);Q.setAttributeNS(null,"y",E.y-D);if(J){I.insertBefore(Q,J)}else{if(I){I.appendChild(Q)}}}else{Q.setAttributeNS(null,"r",T.pointRadius)}}}var S=T.rotation;if((S!==undefined||Q._rotation!==undefined)&&E){Q._rotation=S;S|=0;if(Q.nodeName!=="svg"){Q.setAttributeNS(null,"transform","rotate("+S+" "+E.x+" "+E.y+")")}else{var R=this.symbolMetrics[F.id];Q.firstChild.setAttributeNS(null,"transform","rotate("+S+" "+R[1]+" "+R[2]+")")}}}if(C.isFilled){Q.setAttributeNS(null,"fill",T.fillColor);Q.setAttributeNS(null,"fill-opacity",T.fillOpacity)}else{Q.setAttributeNS(null,"fill","none")}if(C.isStroked){Q.setAttributeNS(null,"stroke",T.strokeColor);Q.setAttributeNS(null,"stroke-opacity",T.strokeOpacity);Q.setAttributeNS(null,"stroke-width",T.strokeWidth*K);Q.setAttributeNS(null,"stroke-linecap",T.strokeLinecap||"round");Q.setAttributeNS(null,"stroke-linejoin","round");T.strokeDashstyle&&Q.setAttributeNS(null,"stroke-dasharray",this.dashStyle(T,K))}else{Q.setAttributeNS(null,"stroke","none")}if(T.pointerEvents){Q.setAttributeNS(null,"pointer-events",T.pointerEvents)}if(T.cursor!=null){Q.setAttributeNS(null,"cursor",T.cursor)}return Q},dashStyle:function(D,C){var B=D.strokeWidth*C;var E=D.strokeDashstyle;switch(E){case"solid":return"none";case"dot":return[1,4*B].join();case"dash":return[4*B,4*B].join();case"dashdot":return[4*B,4*B,1,4*B].join();case"longdash":return[8*B,4*B].join();case"longdashdot":return[8*B,4*B,1,4*B].join();default:return OpenLayers.String.trim(E).replace(/\s+/g,",")}},createNode:function(B,D){var C=document.createElementNS(this.xmlns,B);if(D){C.setAttributeNS(null,"id",D)}return C},nodeTypeCompare:function(C,B){return(B==C.nodeName)},createRenderRoot:function(){var B=this.nodeFactory(this.container.id+"_svgRoot","svg");B.style.display="block";return B},createRoot:function(B){return this.nodeFactory(this.container.id+B,"g")},createDefs:function(){var B=this.nodeFactory(this.container.id+"_defs","defs");this.rendererRoot.appendChild(B);return B},drawPoint:function(B,C){return this.drawCircle(B,C,1)},drawCircle:function(E,F,C){var D=this.getResolution();var B=((F.x-this.featureDx)/D+this.left);var G=(this.top-F.y/D);if(this.inValidRange(B,G)){E.setAttributeNS(null,"cx",B);E.setAttributeNS(null,"cy",G);E.setAttributeNS(null,"r",C);return E}else{return false}},drawLineString:function(C,D){var B=this.getComponentsString(D.components);if(B.path){C.setAttributeNS(null,"points",B.path);return(B.complete?C:null)}else{return false}},drawLinearRing:function(C,D){var B=this.getComponentsString(D.components);if(B.path){C.setAttributeNS(null,"points",B.path);return(B.complete?C:null)}else{return false}},drawPolygon:function(C,H){var G="";var I=true;var B=true;var D,J;for(var E=0,F=H.components.length;E<F;E++){G+=" M";D=this.getComponentsString(H.components[E].components," ");J=D.path;if(J){G+=" "+J;B=D.complete&&B}else{I=false}}G+=" z";if(I){C.setAttributeNS(null,"d",G);C.setAttributeNS(null,"fill-rule","evenodd");return B?C:null}else{return false}},drawRectangle:function(D,E){var C=this.getResolution();var B=((E.x-this.featureDx)/C+this.left);var F=(this.top-E.y/C);if(this.inValidRange(B,F)){D.setAttributeNS(null,"x",B);D.setAttributeNS(null,"y",F);D.setAttributeNS(null,"width",E.width/C);D.setAttributeNS(null,"height",E.height/C);return D}else{return false}},drawText:function(G,C,P){var B=(!!C.labelOutlineWidth);if(B){var L=OpenLayers.Util.extend({},C);L.fontColor=L.labelOutlineColor;L.fontStrokeColor=L.labelOutlineColor;L.fontStrokeWidth=C.labelOutlineWidth;delete L.labelOutlineWidth;this.drawText(G,L,P)}var D=this.getResolution();var O=((P.x-this.featureDx)/D+this.left);var K=(P.y/D-this.top);var Q=(B)?this.LABEL_OUTLINE_SUFFIX:this.LABEL_ID_SUFFIX;var N=this.nodeFactory(G+Q,"text");N.setAttributeNS(null,"x",O);N.setAttributeNS(null,"y",-K);if(C.fontColor){N.setAttributeNS(null,"fill",C.fontColor)}if(C.fontStrokeColor){N.setAttributeNS(null,"stroke",C.fontStrokeColor)}if(C.fontStrokeWidth){N.setAttributeNS(null,"stroke-width",C.fontStrokeWidth)}if(C.fontOpacity){N.setAttributeNS(null,"opacity",C.fontOpacity)}if(C.fontFamily){N.setAttributeNS(null,"font-family",C.fontFamily)}if(C.fontSize){N.setAttributeNS(null,"font-size",C.fontSize)}if(C.fontWeight){N.setAttributeNS(null,"font-weight",C.fontWeight)}if(C.fontStyle){N.setAttributeNS(null,"font-style",C.fontStyle)}if(C.labelSelect===true){N.setAttributeNS(null,"pointer-events","visible");N._featureId=G}else{N.setAttributeNS(null,"pointer-events","none")}var I=C.labelAlign||OpenLayers.Renderer.defaultSymbolizer.labelAlign;N.setAttributeNS(null,"text-anchor",OpenLayers.Renderer.SVG.LABEL_ALIGN[I[0]]||"middle");if(OpenLayers.IS_GECKO===true){N.setAttributeNS(null,"dominant-baseline",OpenLayers.Renderer.SVG.LABEL_ALIGN[I[1]]||"central")}var E=C.label.split("\n");var H=E.length;while(N.childNodes.length>H){N.removeChild(N.lastChild)}for(var F=0;F<H;F++){var J=this.nodeFactory(G+Q+"_tspan_"+F,"tspan");if(C.labelSelect===true){J._featureId=G;J._geometry=P;J._geometryClass=P.CLASS_NAME}if(OpenLayers.IS_GECKO===false){J.setAttributeNS(null,"baseline-shift",OpenLayers.Renderer.SVG.LABEL_VSHIFT[I[1]]||"-35%")}J.setAttribute("x",O);if(F==0){var M=OpenLayers.Renderer.SVG.LABEL_VFACTOR[I[1]];if(M==null){M=-0.5}J.setAttribute("dy",(M*(H-1))+"em")}else{J.setAttribute("dy","1em")}J.textContent=(E[F]==="")?" ":E[F];if(!J.parentNode){N.appendChild(J)}}if(!N.parentNode){this.textRoot.appendChild(N)}},getComponentsString:function(E,D){var G=[];var B=true;var F=E.length;var J=[];var H,I;for(var C=0;C<F;C++){I=E[C];G.push(I);H=this.getShortString(I);if(H){J.push(H)}else{if(C>0){if(this.getShortString(E[C-1])){J.push(this.clipLine(E[C],E[C-1]))}}if(C<F-1){if(this.getShortString(E[C+1])){J.push(this.clipLine(E[C],E[C+1]))}}B=false}}return{path:J.join(D||","),complete:B}},clipLine:function(F,I){if(I.equals(F)){return""}var G=this.getResolution();var C=this.MAX_PIXEL-this.translationParameters.x;var B=this.MAX_PIXEL-this.translationParameters.y;var E=(I.x-this.featureDx)/G+this.left;var K=this.top-I.y/G;var D=(F.x-this.featureDx)/G+this.left;var J=this.top-F.y/G;var H;if(D<-C||D>C){H=(J-K)/(D-E);D=D<0?-C:C;J=K+(D-E)*H}if(J<-B||J>B){H=(D-E)/(J-K);J=J<0?-B:B;D=E+(J-K)*H}return D+","+J},getShortString:function(C){var D=this.getResolution();var B=((C.x-this.featureDx)/D+this.left);var E=(this.top-C.y/D);if(this.inValidRange(B,E)){return B+","+E}else{return false}},getPosition:function(B){return({x:parseFloat(B.getAttributeNS(null,"cx")),y:parseFloat(B.getAttributeNS(null,"cy"))})},importSymbol:function(G){if(!this.defs){this.defs=this.createDefs()}var C=this.container.id+"-"+G;var D=document.getElementById(C);if(D!=null){return D}var F=OpenLayers.Renderer.symbol[G];if(!F){throw new Error(G+" is not a valid symbol name")}var I=this.nodeFactory(C,"symbol");var E=this.nodeFactory(null,"polygon");I.appendChild(E);var N=new OpenLayers.Bounds(Number.MAX_VALUE,Number.MAX_VALUE,0,0);var L=[];var K,J;for(var H=0;H<F.length;H=H+2){K=F[H];J=F[H+1];N.left=Math.min(N.left,K);N.bottom=Math.min(N.bottom,J);N.right=Math.max(N.right,K);N.top=Math.max(N.top,J);L.push(K,",",J)}E.setAttributeNS(null,"points",L.join(" "));var B=N.getWidth();var M=N.getHeight();var O=[N.left-B,N.bottom-M,B*3,M*3];I.setAttributeNS(null,"viewBox",O.join(" "));this.symbolMetrics[C]=[Math.max(B,M),N.getCenterLonLat().lon,N.getCenterLonLat().lat];this.defs.appendChild(I);return I},getFeatureIdFromEvent:function(B){var D=OpenLayers.Renderer.Elements.prototype.getFeatureIdFromEvent.apply(this,arguments);if(!D){var C=B.target;D=C.parentNode&&C!=this.rendererRoot?C.parentNode._featureId:undefined}return D},CLASS_NAME:"OpenLayers.Renderer.SVG"});OpenLayers.Renderer.SVG.LABEL_ALIGN={l:"start",r:"end",b:"bottom",t:"hanging"};OpenLayers.Renderer.SVG.LABEL_VSHIFT={t:"-70%",b:"0"};OpenLayers.Renderer.SVG.LABEL_VFACTOR={t:0,b:-1};OpenLayers.Renderer.SVG.preventDefault=function(B){B.preventDefault&&B.preventDefault()};OpenLayers.Control.ScaleLine=OpenLayers.Class(OpenLayers.Control,{maxWidth:100,topOutUnits:"km",topInUnits:"m",bottomOutUnits:"mi",bottomInUnits:"ft",eTop:null,eBottom:null,geodesic:false,draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);if(!this.eTop){this.eTop=document.createElement("div");this.eTop.className=this.displayClass+"Top";var B=this.topInUnits.length;this.div.appendChild(this.eTop);if((this.topOutUnits=="")||(this.topInUnits=="")){this.eTop.style.visibility="hidden"}else{this.eTop.style.visibility="visible"}this.eBottom=document.createElement("div");this.eBottom.className=this.displayClass+"Bottom";this.div.appendChild(this.eBottom);if((this.bottomOutUnits=="")||(this.bottomInUnits=="")){this.eBottom.style.visibility="hidden"}else{this.eBottom.style.visibility="visible"}}this.map.events.register("moveend",this,this.update);this.update();return this.div},getBarLen:function(C){var E=parseInt(Math.log(C)/Math.log(10));var B=Math.pow(10,E);var D=parseInt(C/B);var F;if(D>5){F=5}else{if(D>2){F=2}else{F=1}}return F*B},update:function(){var K=this.map.getResolution();if(!K){return }var P=this.map.getUnits();var F=OpenLayers.INCHES_PER_UNIT;var M=this.maxWidth*K*F[P];var O=1;if(this.geodesic===true){var C=(this.map.getGeodesicPixelSize().w||0.000001)*this.maxWidth;var G=M/F.km;O=C/G;M*=O}var B;var E;if(M>100000){B=this.topOutUnits;E=this.bottomOutUnits}else{B=this.topInUnits;E=this.bottomInUnits}var I=M/F[B];var L=M/F[E];var J=this.getBarLen(I);var H=this.getBarLen(L);I=J/F[P]*F[B];L=H/F[P]*F[E];var D=I/K/O;var N=L/K/O;if(this.eBottom.style.visibility=="visible"){this.eBottom.style.width=Math.round(N)+"px";this.eBottom.innerHTML=H+" "+E}if(this.eTop.style.visibility=="visible"){this.eTop.style.width=Math.round(D)+"px";this.eTop.innerHTML=J+" "+B}},CLASS_NAME:"OpenLayers.Control.ScaleLine"});OpenLayers.Control.PanZoom=OpenLayers.Class(OpenLayers.Control,{slideFactor:50,slideRatio:null,buttons:null,position:null,initialize:function(B){this.position=new OpenLayers.Pixel(OpenLayers.Control.PanZoom.X,OpenLayers.Control.PanZoom.Y);OpenLayers.Control.prototype.initialize.apply(this,arguments)},destroy:function(){if(this.map){this.map.events.unregister("buttonclick",this,this.onButtonClick)}this.removeButtons();this.buttons=null;this.position=null;OpenLayers.Control.prototype.destroy.apply(this,arguments)},setMap:function(B){OpenLayers.Control.prototype.setMap.apply(this,arguments);this.map.events.register("buttonclick",this,this.onButtonClick)},draw:function(C){OpenLayers.Control.prototype.draw.apply(this,arguments);C=this.position;this.buttons=[];var D={w:18,h:18};var B=new OpenLayers.Pixel(C.x+D.w/2,C.y);this._addButton("panup","north-mini.png",B,D);C.y=B.y+D.h;this._addButton("panleft","west-mini.png",C,D);this._addButton("panright","east-mini.png",C.add(D.w,0),D);this._addButton("pandown","south-mini.png",B.add(0,D.h*2),D);this._addButton("zoomin","zoom-plus-mini.png",B.add(0,D.h*3+5),D);this._addButton("zoomworld","zoom-world-mini.png",B.add(0,D.h*4+5),D);this._addButton("zoomout","zoom-minus-mini.png",B.add(0,D.h*5+5),D);return this.div},_addButton:function(G,B,F,E){var D=OpenLayers.Util.getImageLocation(B);var C=OpenLayers.Util.createAlphaImageDiv(this.id+"_"+G,F,E,D,"absolute");C.style.cursor="pointer";this.div.appendChild(C);C.action=G;C.className="olButton";this.buttons.push(C);return C},_removeButton:function(B){this.div.removeChild(B);OpenLayers.Util.removeItem(this.buttons,B)},removeButtons:function(){for(var B=this.buttons.length-1;B>=0;--B){this._removeButton(this.buttons[B])}},onButtonClick:function(B){var C=B.buttonElement;switch(C.action){case"panup":this.map.pan(0,-this.getSlideFactor("h"));break;case"pandown":this.map.pan(0,this.getSlideFactor("h"));break;case"panleft":this.map.pan(-this.getSlideFactor("w"),0);break;case"panright":this.map.pan(this.getSlideFactor("w"),0);break;case"zoomin":this.map.zoomIn();break;case"zoomout":this.map.zoomOut();break;case"zoomworld":this.map.zoomToMaxExtent();break}},getSlideFactor:function(B){return this.slideRatio?this.map.getSize()[B]*this.slideRatio:this.slideFactor},CLASS_NAME:"OpenLayers.Control.PanZoom"});OpenLayers.Control.PanZoom.X=4;OpenLayers.Control.PanZoom.Y=4;OpenLayers.Icon=OpenLayers.Class({url:null,size:null,offset:null,calculateOffset:null,imageDiv:null,px:null,initialize:function(B,C,E,D){this.url=B;this.size=C||{w:20,h:20};this.offset=E||{x:-(this.size.w/2),y:-(this.size.h/2)};this.calculateOffset=D;var F=OpenLayers.Util.createUniqueID("OL_Icon_");this.imageDiv=OpenLayers.Util.createAlphaImageDiv(F)},destroy:function(){this.erase();OpenLayers.Event.stopObservingElement(this.imageDiv.firstChild);this.imageDiv.innerHTML="";this.imageDiv=null},clone:function(){return new OpenLayers.Icon(this.url,this.size,this.offset,this.calculateOffset)},setSize:function(B){if(B!=null){this.size=B}this.draw()},setUrl:function(B){if(B!=null){this.url=B}this.draw()},draw:function(B){OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv,null,null,this.size,this.url,"absolute");this.moveTo(B);return this.imageDiv},erase:function(){if(this.imageDiv!=null&&this.imageDiv.parentNode!=null){OpenLayers.Element.remove(this.imageDiv)}},setOpacity:function(B){OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv,null,null,null,null,null,null,null,B)},moveTo:function(B){if(B!=null){this.px=B}if(this.imageDiv!=null){if(this.px==null){this.display(false)}else{if(this.calculateOffset){this.offset=this.calculateOffset(this.size)}OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv,null,{x:this.px.x+this.offset.x,y:this.px.y+this.offset.y})}}},display:function(B){this.imageDiv.style.display=(B)?"":"none"},isDrawn:function(){var B=(this.imageDiv&&this.imageDiv.parentNode&&(this.imageDiv.parentNode.nodeType!=11));return B},CLASS_NAME:"OpenLayers.Icon"});OpenLayers.Marker=OpenLayers.Class({icon:null,lonlat:null,events:null,map:null,initialize:function(D,C){this.lonlat=D;var B=(C)?C:OpenLayers.Marker.defaultIcon();if(this.icon==null){this.icon=B}else{this.icon.url=B.url;this.icon.size=B.size;this.icon.offset=B.offset;this.icon.calculateOffset=B.calculateOffset}this.events=new OpenLayers.Events(this,this.icon.imageDiv)},destroy:function(){this.erase();this.map=null;this.events.destroy();this.events=null;if(this.icon!=null){this.icon.destroy();this.icon=null}},draw:function(B){return this.icon.draw(B)},erase:function(){if(this.icon!=null){this.icon.erase()}},moveTo:function(B){if((B!=null)&&(this.icon!=null)){this.icon.moveTo(B)}this.lonlat=this.map.getLonLatFromLayerPx(B)},isDrawn:function(){var B=(this.icon&&this.icon.isDrawn());return B},onScreen:function(){var C=false;if(this.map){var B=this.map.getExtent();C=B.containsLonLat(this.lonlat)}return C},inflate:function(B){if(this.icon){this.icon.setSize({w:this.icon.size.w*B,h:this.icon.size.h*B})}},setOpacity:function(B){this.icon.setOpacity(B)},setUrl:function(B){this.icon.setUrl(B)},display:function(B){this.icon.display(B)},CLASS_NAME:"OpenLayers.Marker"});OpenLayers.Marker.defaultIcon=function(){return new OpenLayers.Icon(OpenLayers.Util.getImageLocation("marker.png"),{w:21,h:25},{x:-10.5,y:-25})};OpenLayers.Strategy.Paging=OpenLayers.Class(OpenLayers.Strategy,{features:null,length:10,num:null,paging:false,activate:function(){var B=OpenLayers.Strategy.prototype.activate.call(this);if(B){this.layer.events.on({beforefeaturesadded:this.cacheFeatures,scope:this})}return B},deactivate:function(){var B=OpenLayers.Strategy.prototype.deactivate.call(this);if(B){this.clearCache();this.layer.events.un({beforefeaturesadded:this.cacheFeatures,scope:this})}return B},cacheFeatures:function(B){if(!this.paging){this.clearCache();this.features=B.features;this.pageNext(B)}},clearCache:function(){if(this.features){for(var B=0;B<this.features.length;++B){this.features[B].destroy()}}this.features=null;this.num=null},pageCount:function(){var B=this.features?this.features.length:0;return Math.ceil(B/this.length)},pageNum:function(){return this.num},pageLength:function(B){if(B&&B>0){this.length=B}return this.length},pageNext:function(B){var C=false;if(this.features){if(this.num===null){this.num=-1}var D=(this.num+1)*this.length;C=this.page(D,B)}return C},pagePrevious:function(){var B=false;if(this.features){if(this.num===null){this.num=this.pageCount()}var C=(this.num-1)*this.length;B=this.page(C)}return B},page:function(F,D){var E=false;if(this.features){if(F>=0&&F<this.features.length){var B=Math.floor(F/this.length);if(B!=this.num){this.paging=true;var C=this.features.slice(F,F+this.length);this.layer.removeFeatures(this.layer.features);this.num=B;if(D&&D.features){D.features=C}else{this.layer.addFeatures(C)}this.paging=false;E=true}}}return E},CLASS_NAME:"OpenLayers.Strategy.Paging"});OpenLayers.Format.WKT=OpenLayers.Class(OpenLayers.Format,{initialize:function(B){this.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};OpenLayers.Format.prototype.initialize.apply(this,[B])},read:function(G){var F,E,I;G=G.replace(/[\n\r]/g," ");var H=this.regExes.typeStr.exec(G);if(H){E=H[1].toLowerCase();I=H[2];if(this.parse[E]){F=this.parse[E].apply(this,[I])}if(this.internalProjection&&this.externalProjection){if(F&&F.CLASS_NAME=="OpenLayers.Feature.Vector"){F.geometry.transform(this.externalProjection,this.internalProjection)}else{if(F&&E!="geometrycollection"&&typeof F=="object"){for(var D=0,B=F.length;D<B;D++){var C=F[D];C.geometry.transform(this.externalProjection,this.internalProjection)}}}}}return F},write:function(B){var G,J,I,E,C;if(B.constructor==Array){G=B;C=true}else{G=[B];C=false}var D=[];if(C){D.push("GEOMETRYCOLLECTION(")}for(var F=0,H=G.length;F<H;++F){if(C&&F>0){D.push(",")}J=G[F].geometry;D.push(this.extractGeometry(J))}if(C){D.push(")")}return D.join("")},extractGeometry:function(E){var C=E.CLASS_NAME.split(".")[2].toLowerCase();if(!this.extract[C]){return null}if(this.internalProjection&&this.externalProjection){E=E.clone();E.transform(this.internalProjection,this.externalProjection)}var B=C=="collection"?"GEOMETRYCOLLECTION":C.toUpperCase();var D=B+"("+this.extract[C].apply(this,[E])+")";return D},extract:{point:function(B){return B.x+" "+B.y},multipoint:function(D){var E=[];for(var C=0,B=D.components.length;C<B;++C){E.push("("+this.extract.point.apply(this,[D.components[C]])+")")}return E.join(",")},linestring:function(C){var E=[];for(var D=0,B=C.components.length;D<B;++D){E.push(this.extract.point.apply(this,[C.components[D]]))}return E.join(",")},multilinestring:function(D){var E=[];for(var C=0,B=D.components.length;C<B;++C){E.push("("+this.extract.linestring.apply(this,[D.components[C]])+")")}return E.join(",")},polygon:function(D){var E=[];for(var C=0,B=D.components.length;C<B;++C){E.push("("+this.extract.linestring.apply(this,[D.components[C]])+")")}return E.join(",")},multipolygon:function(E){var D=[];for(var C=0,B=E.components.length;C<B;++C){D.push("("+this.extract.polygon.apply(this,[E.components[C]])+")")}return D.join(",")},collection:function(D){var E=[];for(var C=0,B=D.components.length;C<B;++C){E.push(this.extractGeometry.apply(this,[D.components[C]]))}return E.join(",")}},parse:{point:function(C){var B=OpenLayers.String.trim(C).split(this.regExes.spaces);return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(B[0],B[1]))},multipoint:function(G){var C;var E=OpenLayers.String.trim(G).split(",");var F=[];for(var D=0,B=E.length;D<B;++D){C=E[D].replace(this.regExes.trimParens,"$1");F.push(this.parse.point.apply(this,[C]).geometry)}return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiPoint(F))},linestring:function(F){var D=OpenLayers.String.trim(F).split(",");var E=[];for(var C=0,B=D.length;C<B;++C){E.push(this.parse.point.apply(this,[D[C]]).geometry)}return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString(E))},multilinestring:function(G){var D;var C=OpenLayers.String.trim(G).split(this.regExes.parenComma);var F=[];for(var E=0,B=C.length;E<B;++E){D=C[E].replace(this.regExes.trimParens,"$1");F.push(this.parse.linestring.apply(this,[D]).geometry)}return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiLineString(F))},polygon:function(I){var D,C,G;var H=OpenLayers.String.trim(I).split(this.regExes.parenComma);var F=[];for(var E=0,B=H.length;E<B;++E){D=H[E].replace(this.regExes.trimParens,"$1");C=this.parse.linestring.apply(this,[D]).geometry;G=new OpenLayers.Geometry.LinearRing(C.components);F.push(G)}return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Polygon(F))},multipolygon:function(G){var E;var C=OpenLayers.String.trim(G).split(this.regExes.doubleParenComma);var F=[];for(var D=0,B=C.length;D<B;++D){E=C[D].replace(this.regExes.trimParens,"$1");F.push(this.parse.polygon.apply(this,[E]).geometry)}return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiPolygon(F))},geometrycollection:function(F){F=F.replace(/,\s*([A-Za-z])/g,"|$1");var E=OpenLayers.String.trim(F).split("|");var D=[];for(var C=0,B=E.length;C<B;++C){D.push(OpenLayers.Format.WKT.prototype.read.apply(this,[E[C]]))}return D}},CLASS_NAME:"OpenLayers.Format.WKT"});OpenLayers.Popup=OpenLayers.Class({events:null,id:"",lonlat:null,div:null,contentSize:null,size:null,contentHTML:null,backgroundColor:"",opacity:"",border:"",contentDiv:null,groupDiv:null,closeDiv:null,autoSize:false,minSize:null,maxSize:null,displayClass:"olPopup",contentDisplayClass:"olPopupContent",padding:0,disableFirefoxOverflowHack:false,fixPadding:function(){if(typeof this.padding=="number"){this.padding=new OpenLayers.Bounds(this.padding,this.padding,this.padding,this.padding)}},panMapIfOutOfView:false,keepInMap:false,closeOnMove:false,map:null,initialize:function(H,D,G,C,F,E){if(H==null){H=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")}this.id=H;this.lonlat=D;this.contentSize=(G!=null)?G:new OpenLayers.Size(OpenLayers.Popup.WIDTH,OpenLayers.Popup.HEIGHT);if(C!=null){this.contentHTML=C}this.backgroundColor=OpenLayers.Popup.COLOR;this.opacity=OpenLayers.Popup.OPACITY;this.border=OpenLayers.Popup.BORDER;this.div=OpenLayers.Util.createDiv(this.id,null,null,null,null,null,"hidden");this.div.className=this.displayClass;var B=this.id+"_GroupDiv";this.groupDiv=OpenLayers.Util.createDiv(B,null,null,null,"relative",null,"hidden");var H=this.div.id+"_contentDiv";this.contentDiv=OpenLayers.Util.createDiv(H,null,this.contentSize.clone(),null,"relative");this.contentDiv.className=this.contentDisplayClass;this.groupDiv.appendChild(this.contentDiv);this.div.appendChild(this.groupDiv);if(F){this.addCloseBox(E)}this.registerEvents()},destroy:function(){this.id=null;this.lonlat=null;this.size=null;this.contentHTML=null;this.backgroundColor=null;this.opacity=null;this.border=null;if(this.closeOnMove&&this.map){this.map.events.unregister("movestart",this,this.hide)}this.events.destroy();this.events=null;if(this.closeDiv){OpenLayers.Event.stopObservingElement(this.closeDiv);this.groupDiv.removeChild(this.closeDiv)}this.closeDiv=null;this.div.removeChild(this.groupDiv);this.groupDiv=null;if(this.map!=null){this.map.removePopup(this)}this.map=null;this.div=null;this.autoSize=null;this.minSize=null;this.maxSize=null;this.padding=null;this.panMapIfOutOfView=null},draw:function(B){if(B==null){if((this.lonlat!=null)&&(this.map!=null)){B=this.map.getLayerPxFromLonLat(this.lonlat)}}if(this.closeOnMove){this.map.events.register("movestart",this,this.hide)}if(!this.disableFirefoxOverflowHack&&OpenLayers.BROWSER_NAME=="firefox"){this.map.events.register("movestart",this,function(){var C=document.defaultView.getComputedStyle(this.contentDiv,null);var D=C.getPropertyValue("overflow");if(D!="hidden"){this.contentDiv._oldOverflow=D;this.contentDiv.style.overflow="hidden"}});this.map.events.register("moveend",this,function(){var C=this.contentDiv._oldOverflow;if(C){this.contentDiv.style.overflow=C;this.contentDiv._oldOverflow=null}})}this.moveTo(B);if(!this.autoSize&&!this.size){this.setSize(this.contentSize)}this.setBackgroundColor();this.setOpacity();this.setBorder();this.setContentHTML();if(this.panMapIfOutOfView){this.panIntoView()}return this.div},updatePosition:function(){if((this.lonlat)&&(this.map)){var B=this.map.getLayerPxFromLonLat(this.lonlat);if(B){this.moveTo(B)}}},moveTo:function(B){if((B!=null)&&(this.div!=null)){this.div.style.left=B.x+"px";this.div.style.top=B.y+"px"}},visible:function(){return OpenLayers.Element.visible(this.div)},toggle:function(){if(this.visible()){this.hide()}else{this.show()}},show:function(){this.div.style.display="";if(this.panMapIfOutOfView){this.panIntoView()}},hide:function(){this.div.style.display="none"},setSize:function(D){this.size=D.clone();var C=this.getContentDivPadding();var B=C.left+C.right;var F=C.top+C.bottom;this.fixPadding();B+=this.padding.left+this.padding.right;F+=this.padding.top+this.padding.bottom;if(this.closeDiv){var E=parseInt(this.closeDiv.style.width);B+=E+C.right}this.size.w+=B;this.size.h+=F;if(OpenLayers.BROWSER_NAME=="msie"){this.contentSize.w+=C.left+C.right;this.contentSize.h+=C.bottom+C.top}if(this.div!=null){this.div.style.width=this.size.w+"px";this.div.style.height=this.size.h+"px"}if(this.contentDiv!=null){this.contentDiv.style.width=D.w+"px";this.contentDiv.style.height=D.h+"px"}},updateSize:function(){var F="<div class='"+this.contentDisplayClass+"'>"+this.contentDiv.innerHTML+"</div>";var I=(this.map)?this.map.div:document.body;var J=OpenLayers.Util.getRenderedDimensions(F,null,{displayClass:this.displayClass,containerElement:I});var H=this.getSafeContentSize(J);var G=null;if(H.equals(J)){G=J}else{var C={w:(H.w<J.w)?H.w:null,h:(H.h<J.h)?H.h:null};if(C.w&&C.h){G=H}else{var E=OpenLayers.Util.getRenderedDimensions(F,C,{displayClass:this.contentDisplayClass,containerElement:I});var D=OpenLayers.Element.getStyle(this.contentDiv,"overflow");if((D!="hidden")&&(E.equals(H))){var B=OpenLayers.Util.getScrollbarWidth();if(C.w){E.h+=B}else{E.w+=B}}G=this.getSafeContentSize(E)}}this.setSize(G)},setBackgroundColor:function(B){if(B!=undefined){this.backgroundColor=B}if(this.div!=null){this.div.style.backgroundColor=this.backgroundColor}},setOpacity:function(B){if(B!=undefined){this.opacity=B}if(this.div!=null){this.div.style.opacity=this.opacity;this.div.style.filter="alpha(opacity="+this.opacity*100+")"}},setBorder:function(B){if(B!=undefined){this.border=B}if(this.div!=null){this.div.style.border=this.border}},setContentHTML:function(B){if(B!=null){this.contentHTML=B}if((this.contentDiv!=null)&&(this.contentHTML!=null)&&(this.contentHTML!=this.contentDiv.innerHTML)){this.contentDiv.innerHTML=this.contentHTML;if(this.autoSize){this.registerImageListeners();this.updateSize()}}},registerImageListeners:function(){var G=function(){if(this.popup.id===null){return }this.popup.updateSize();if(this.popup.visible()&&this.popup.panMapIfOutOfView){this.popup.panIntoView()}OpenLayers.Event.stopObserving(this.img,"load",this.img._onImageLoad)};var C=this.contentDiv.getElementsByTagName("img");for(var F=0,B=C.length;F<B;F++){var D=C[F];if(D.width==0||D.height==0){var E={popup:this,img:D};D._onImgLoad=OpenLayers.Function.bind(G,E);OpenLayers.Event.observe(D,"load",D._onImgLoad)}}},getSafeContentSize:function(L){var E=L.clone();var J=this.getContentDivPadding();var K=J.left+J.right;var H=J.top+J.bottom;this.fixPadding();K+=this.padding.left+this.padding.right;H+=this.padding.top+this.padding.bottom;if(this.closeDiv){var D=parseInt(this.closeDiv.style.width);K+=D+J.right}if(this.minSize){E.w=Math.max(E.w,(this.minSize.w-K));E.h=Math.max(E.h,(this.minSize.h-H))}if(this.maxSize){E.w=Math.min(E.w,(this.maxSize.w-K));E.h=Math.min(E.h,(this.maxSize.h-H))}if(this.map&&this.map.size){var G=0,F=0;if(this.keepInMap&&!this.panMapIfOutOfView){var I=this.map.getPixelFromLonLat(this.lonlat);switch(this.relativePosition){case"tr":G=I.x;F=this.map.size.h-I.y;break;case"tl":G=this.map.size.w-I.x;F=this.map.size.h-I.y;break;case"bl":G=this.map.size.w-I.x;F=I.y;break;case"br":G=I.x;F=I.y;break;default:G=I.x;F=this.map.size.h-I.y;break}}var B=this.map.size.h-this.map.paddingForPopups.top-this.map.paddingForPopups.bottom-H-F;var C=this.map.size.w-this.map.paddingForPopups.left-this.map.paddingForPopups.right-K-G;E.w=Math.min(E.w,C);E.h=Math.min(E.h,B)}return E},getContentDivPadding:function(){var B=this._contentDivPadding;if(!B){if(this.div.parentNode==null){this.div.style.display="none";document.body.appendChild(this.div)}B=new OpenLayers.Bounds(OpenLayers.Element.getStyle(this.contentDiv,"padding-left"),OpenLayers.Element.getStyle(this.contentDiv,"padding-bottom"),OpenLayers.Element.getStyle(this.contentDiv,"padding-right"),OpenLayers.Element.getStyle(this.contentDiv,"padding-top"));this._contentDivPadding=B;if(this.div.parentNode==document.body){document.body.removeChild(this.div);this.div.style.display=""}}return B},addCloseBox:function(D){this.closeDiv=OpenLayers.Util.createDiv(this.id+"_close",null,{w:17,h:17});this.closeDiv.className="olPopupCloseBox";var C=this.getContentDivPadding();this.closeDiv.style.right=C.right+"px";this.closeDiv.style.top=C.top+"px";this.groupDiv.appendChild(this.closeDiv);var B=D||function(E){this.hide();OpenLayers.Event.stop(E)};OpenLayers.Event.observe(this.closeDiv,"touchend",OpenLayers.Function.bindAsEventListener(B,this));OpenLayers.Event.observe(this.closeDiv,"click",OpenLayers.Function.bindAsEventListener(B,this))},panIntoView:function(){var F=this.map.getSize();var E=this.map.getViewPortPxFromLayerPx(new OpenLayers.Pixel(parseInt(this.div.style.left),parseInt(this.div.style.top)));var D=E.clone();if(E.x<this.map.paddingForPopups.left){D.x=this.map.paddingForPopups.left}else{if((E.x+this.size.w)>(F.w-this.map.paddingForPopups.right)){D.x=F.w-this.map.paddingForPopups.right-this.size.w}}if(E.y<this.map.paddingForPopups.top){D.y=this.map.paddingForPopups.top}else{if((E.y+this.size.h)>(F.h-this.map.paddingForPopups.bottom)){D.y=F.h-this.map.paddingForPopups.bottom-this.size.h}}var C=E.x-D.x;var B=E.y-D.y;this.map.pan(C,B)},registerEvents:function(){this.events=new OpenLayers.Events(this,this.div,null,true);function B(C){OpenLayers.Event.stop(C,true)}this.events.on({mousedown:this.onmousedown,mousemove:this.onmousemove,mouseup:this.onmouseup,click:this.onclick,mouseout:this.onmouseout,dblclick:this.ondblclick,touchstart:B,scope:this})},onmousedown:function(B){this.mousedown=true;OpenLayers.Event.stop(B,true)},onmousemove:function(B){if(this.mousedown){OpenLayers.Event.stop(B,true)}},onmouseup:function(B){if(this.mousedown){this.mousedown=false;OpenLayers.Event.stop(B,true)}},onclick:function(B){OpenLayers.Event.stop(B,true)},onmouseout:function(B){this.mousedown=false},ondblclick:function(B){OpenLayers.Event.stop(B,true)},CLASS_NAME:"OpenLayers.Popup"});OpenLayers.Popup.WIDTH=200;OpenLayers.Popup.HEIGHT=200;OpenLayers.Popup.COLOR="white";OpenLayers.Popup.OPACITY=1;OpenLayers.Popup.BORDER="0px";OpenLayers.Strategy.BBOX=OpenLayers.Class(OpenLayers.Strategy,{bounds:null,resolution:null,ratio:2,resFactor:null,response:null,activate:function(){var B=OpenLayers.Strategy.prototype.activate.call(this);if(B){this.layer.events.on({moveend:this.update,refresh:this.update,visibilitychanged:this.update,scope:this});this.update()}return B},deactivate:function(){var B=OpenLayers.Strategy.prototype.deactivate.call(this);if(B){this.layer.events.un({moveend:this.update,refresh:this.update,visibilitychanged:this.update,scope:this})}return B},update:function(C){var B=this.getMapBounds();if(B!==null&&((C&&C.force)||(this.layer.visibility&&this.layer.calculateInRange()&&this.invalidBounds(B)))){this.calculateBounds(B);this.resolution=this.layer.map.getResolution();this.triggerRead(C)}},getMapBounds:function(){if(this.layer.map===null){return null}var B=this.layer.map.getExtent();if(B&&!this.layer.projection.equals(this.layer.map.getProjectionObject())){B=B.clone().transform(this.layer.map.getProjectionObject(),this.layer.projection)}return B},invalidBounds:function(B){if(!B){B=this.getMapBounds()}var D=!this.bounds||!this.bounds.containsBounds(B);if(!D&&this.resFactor){var C=this.resolution/this.layer.map.getResolution();D=(C>=this.resFactor||C<=(1/this.resFactor))}return D},calculateBounds:function(C){if(!C){C=this.getMapBounds()}var B=C.getCenterLonLat();var E=C.getWidth()*this.ratio;var D=C.getHeight()*this.ratio;this.bounds=new OpenLayers.Bounds(B.lon-(E/2),B.lat-(D/2),B.lon+(E/2),B.lat+(D/2))},triggerRead:function(B){if(this.response&&!(B&&B.noAbort===true)){this.layer.protocol.abort(this.response);this.layer.events.triggerEvent("loadend")}this.layer.events.triggerEvent("loadstart");this.response=this.layer.protocol.read(OpenLayers.Util.applyDefaults({filter:this.createFilter(),callback:this.merge,scope:this},B))},createFilter:function(){var B=new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.BBOX,value:this.bounds,projection:this.layer.projection});if(this.layer.filter){B=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[this.layer.filter,B]})}return B},merge:function(H){this.layer.destroyFeatures();var F=H.features;if(F&&F.length>0){var G=this.layer.projection;var E=this.layer.map.getProjectionObject();if(!E.equals(G)){var D;for(var C=0,B=F.length;C<B;++C){D=F[C].geometry;if(D){D.transform(G,E)}}}this.layer.addFeatures(F)}this.response=null;this.layer.events.triggerEvent("loadend")},CLASS_NAME:"OpenLayers.Strategy.BBOX"});OpenLayers.Layer.Google.v3={DEFAULTS:{sphericalMercator:true,projection:"EPSG:900913"},animationEnabled:true,loadMapObject:function(){if(!this.type){this.type=google.maps.MapTypeId.ROADMAP}var E;var D=OpenLayers.Layer.Google.cache[this.map.id];if(D){E=D.mapObject;++D.count}else{var C=this.map.viewPortDiv;var F=document.createElement("div");F.id=this.map.id+"_GMapContainer";F.style.position="absolute";F.style.width="100%";F.style.height="100%";C.appendChild(F);var B=this.map.getCenter();E=new google.maps.Map(F,{center:B?new google.maps.LatLng(B.lat,B.lon):new google.maps.LatLng(0,0),zoom:this.map.getZoom()||0,mapTypeId:this.type,disableDefaultUI:true,keyboardShortcuts:false,draggable:false,disableDoubleClickZoom:true,scrollwheel:false,streetViewControl:false});D={mapObject:E,count:1};OpenLayers.Layer.Google.cache[this.map.id]=D;this.repositionListener=google.maps.event.addListenerOnce(E,"center_changed",OpenLayers.Function.bind(this.repositionMapElements,this))}this.mapObject=E;this.setGMapVisibility(this.visibility)},repositionMapElements:function(){google.maps.event.trigger(this.mapObject,"resize");var G=this.mapObject.getDiv().firstChild;if(!G||G.childNodes.length<3){this.repositionTimer=window.setTimeout(OpenLayers.Function.bind(this.repositionMapElements,this),250);return false}var E=OpenLayers.Layer.Google.cache[this.map.id];var C=this.map.viewPortDiv;for(var F=G.children.length-1;F>=0;--F){if(G.children[F].style.zIndex==1000001){var D=G.children[F];C.appendChild(D);D.style.zIndex="1100";D.style.bottom="";D.className="olLayerGoogleCopyright olLayerGoogleV3";D.style.display="";E.termsOfUse=D}if(G.children[F].style.zIndex==1000000){var B=G.children[F];C.appendChild(B);B.style.zIndex="1100";B.style.bottom="";B.className="olLayerGooglePoweredBy olLayerGoogleV3 gmnoprint";B.style.display="";E.poweredBy=B}if(G.children[F].style.zIndex==10000002){C.appendChild(G.children[F])}}this.setGMapVisibility(this.visibility)},onMapResize:function(){if(this.visibility){google.maps.event.trigger(this.mapObject,"resize")}else{var B=OpenLayers.Layer.Google.cache[this.map.id];if(!B.resized){var C=this;google.maps.event.addListenerOnce(this.mapObject,"tilesloaded",function(){google.maps.event.trigger(C.mapObject,"resize");C.moveTo(C.map.getCenter(),C.map.getZoom());delete B.resized})}B.resized=true}},setGMapVisibility:function(H){var C=OpenLayers.Layer.Google.cache[this.map.id];if(C){var F=this.type;var G=this.map.layers;var E;for(var D=G.length-1;D>=0;--D){E=G[D];if(E instanceof OpenLayers.Layer.Google&&E.visibility===true&&E.inRange===true){F=E.type;H=true;break}}var B=this.mapObject.getDiv();if(H===true){this.mapObject.setMapTypeId(F);B.style.left="";if(C.termsOfUse&&C.termsOfUse.style){C.termsOfUse.style.left="";C.termsOfUse.style.display="";C.poweredBy.style.display=""}C.displayed=this.id}else{delete C.displayed;B.style.left="-9999px";if(C.termsOfUse&&C.termsOfUse.style){C.termsOfUse.style.display="none";C.termsOfUse.style.left="-9999px";C.poweredBy.style.display="none"}}}},getMapContainer:function(){return this.mapObject.getDiv()},getMapObjectBoundsFromOLBounds:function(D){var C=null;if(D!=null){var B=this.sphericalMercator?this.inverseMercator(D.bottom,D.left):new OpenLayers.LonLat(D.bottom,D.left);var E=this.sphericalMercator?this.inverseMercator(D.top,D.right):new OpenLayers.LonLat(D.top,D.right);C=new google.maps.LatLngBounds(new google.maps.LatLng(B.lat,B.lon),new google.maps.LatLng(E.lat,E.lon))}return C},getMapObjectLonLatFromMapObjectPixel:function(I){var C=this.map.getSize();var G=this.getLongitudeFromMapObjectLonLat(this.mapObject.center);var E=this.getLatitudeFromMapObjectLonLat(this.mapObject.center);var B=this.map.getResolution();var H=I.x-(C.w/2);var F=I.y-(C.h/2);var D=new OpenLayers.LonLat(G+H*B,E-F*B);if(this.wrapDateLine){D=D.wrapDateLine(this.maxExtent)}return this.getMapObjectLonLatFromLonLat(D.lon,D.lat)},getMapObjectPixelFromMapObjectLonLat:function(F){var E=this.getLongitudeFromMapObjectLonLat(F);var D=this.getLatitudeFromMapObjectLonLat(F);var B=this.map.getResolution();var C=this.map.getExtent();return this.getMapObjectPixelFromXY((1/B*(E-C.left)),(1/B*(C.top-D)))},setMapObjectCenter:function(B,D){if(this.animationEnabled===false&&D!=this.mapObject.zoom){var C=this.getMapContainer();google.maps.event.addListenerOnce(this.mapObject,"idle",function(){C.style.visibility=""});C.style.visibility="hidden"}this.mapObject.setOptions({center:B,zoom:D})},getMapObjectZoomFromMapObjectBounds:function(B){return this.mapObject.getBoundsZoomLevel(B)},getMapObjectLonLatFromLonLat:function(E,C){var D;if(this.sphericalMercator){var B=this.inverseMercator(E,C);D=new google.maps.LatLng(B.lat,B.lon)}else{D=new google.maps.LatLng(C,E)}return D},getMapObjectPixelFromXY:function(B,C){return new google.maps.Point(B,C)},destroy:function(){if(this.repositionListener){google.maps.event.removeListener(this.repositionListener)}if(this.repositionTimer){window.clearTimeout(this.repositionTimer)}OpenLayers.Layer.Google.prototype.destroy.apply(this,arguments)}};OpenLayers.ProxyHost="";OpenLayers.Request={DEFAULT_CONFIG:{method:"GET",url:window.location.href,async:true,user:undefined,password:undefined,params:null,proxy:OpenLayers.ProxyHost,headers:{},data:null,callback:function(){},success:null,failure:null,scope:null},URL_SPLIT_REGEX:/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/,events:new OpenLayers.Events(this),makeSameOrigin:function(C,D){var G=C.indexOf("http")!==0;var H=!G&&C.match(this.URL_SPLIT_REGEX);if(H){var B=window.location;G=H[1]==B.protocol&&H[3]==B.hostname;var E=H[4],F=B.port;if(E!=80&&E!=""||F!="80"&&F!=""){G=G&&E==F}}if(!G){if(D){if(typeof D=="function"){C=D(C)}else{C=D+encodeURIComponent(C)}}else{OpenLayers.Console.warn(OpenLayers.i18n("proxyNeeded"),{url:C})}}return C},issue:function(C){var E=OpenLayers.Util.extend(this.DEFAULT_CONFIG,{proxy:OpenLayers.ProxyHost});C=OpenLayers.Util.applyDefaults(C,E);var H=false,F;for(F in C.headers){if(C.headers.hasOwnProperty(F)){if(F.toLowerCase()==="x-requested-with"){H=true}}}if(H===false){C.headers["X-Requested-With"]="XMLHttpRequest"}var D=new OpenLayers.Request.XMLHttpRequest();var B=OpenLayers.Util.urlAppend(C.url,OpenLayers.Util.getParameterString(C.params||{}));B=OpenLayers.Request.makeSameOrigin(B,C.proxy);D.open(C.method,B,C.async,C.user,C.password);for(var G in C.headers){D.setRequestHeader(G,C.headers[G])}var J=this.events;var I=this;D.onreadystatechange=function(){if(D.readyState==OpenLayers.Request.XMLHttpRequest.DONE){var K=J.triggerEvent("complete",{request:D,config:C,requestUrl:B});if(K!==false){I.runCallbacks({request:D,config:C,requestUrl:B})}}};if(C.async===false){D.send(C.data)}else{window.setTimeout(function(){if(D.readyState!==0){D.send(C.data)}},0)}return D},runCallbacks:function(E){var F=E.request;var D=E.config;var B=(D.scope)?OpenLayers.Function.bind(D.callback,D.scope):D.callback;var G;if(D.success){G=(D.scope)?OpenLayers.Function.bind(D.success,D.scope):D.success}var C;if(D.failure){C=(D.scope)?OpenLayers.Function.bind(D.failure,D.scope):D.failure}if(OpenLayers.Util.createUrlObject(D.url).protocol=="file:"&&F.responseText){F.status=200}B(F);if(!F.status||(F.status>=200&&F.status<300)){this.events.triggerEvent("success",E);if(G){G(F)}}if(F.status&&(F.status<200||F.status>=300)){this.events.triggerEvent("failure",E);if(C){C(F)}}},GET:function(B){B=OpenLayers.Util.extend(B,{method:"GET"});return OpenLayers.Request.issue(B)},POST:function(B){B=OpenLayers.Util.extend(B,{method:"POST"});B.headers=B.headers?B.headers:{};if(!("CONTENT-TYPE" in OpenLayers.Util.upperCaseObject(B.headers))){B.headers["Content-Type"]="application/xml"}return OpenLayers.Request.issue(B)},PUT:function(B){B=OpenLayers.Util.extend(B,{method:"PUT"});B.headers=B.headers?B.headers:{};if(!("CONTENT-TYPE" in OpenLayers.Util.upperCaseObject(B.headers))){B.headers["Content-Type"]="application/xml"}return OpenLayers.Request.issue(B)},DELETE:function(B){B=OpenLayers.Util.extend(B,{method:"DELETE"});return OpenLayers.Request.issue(B)},HEAD:function(B){B=OpenLayers.Util.extend(B,{method:"HEAD"});return OpenLayers.Request.issue(B)},OPTIONS:function(B){B=OpenLayers.Util.extend(B,{method:"OPTIONS"});return OpenLayers.Request.issue(B)}};(function(){var H=window.XMLHttpRequest;var B=!!window.controllers,K=window.document.all&&!window.opera,L=K&&window.navigator.userAgent.match(/MSIE 7.0/);function E(){this._object=H&&!L?new H:new window.ActiveXObject("Microsoft.XMLHTTP");this._listeners=[]}function D(){return new E}D.prototype=E.prototype;if(B&&H.wrapped){D.wrapped=H.wrapped}D.UNSENT=0;D.OPENED=1;D.HEADERS_RECEIVED=2;D.LOADING=3;D.DONE=4;D.prototype.readyState=D.UNSENT;D.prototype.responseText="";D.prototype.responseXML=null;D.prototype.status=0;D.prototype.statusText="";D.prototype.priority="NORMAL";D.prototype.onreadystatechange=null;D.onreadystatechange=null;D.onopen=null;D.onsend=null;D.onabort=null;D.prototype.open=function(P,S,O,T,N){delete this._headers;if(arguments.length<3){O=true}this._async=O;var R=this,Q=this.readyState,M;if(K&&O){M=function(){if(Q!=D.DONE){F(R);R.abort()}};window.attachEvent("onunload",M)}if(D.onopen){D.onopen.apply(this,arguments)}if(arguments.length>4){this._object.open(P,S,O,T,N)}else{if(arguments.length>3){this._object.open(P,S,O,T)}else{this._object.open(P,S,O)}}this.readyState=D.OPENED;C(this);this._object.onreadystatechange=function(){if(B&&!O){return }R.readyState=R._object.readyState;I(R);if(R._aborted){R.readyState=D.UNSENT;return }if(R.readyState==D.DONE){delete R._data;F(R);if(K&&O){window.detachEvent("onunload",M)}}if(Q!=R.readyState){C(R)}Q=R.readyState}};function G(M){M._object.send(M._data);if(B&&!M._async){M.readyState=D.OPENED;I(M);while(M.readyState<D.DONE){M.readyState++;C(M);if(M._aborted){return }}}}D.prototype.send=function(M){if(D.onsend){D.onsend.apply(this,arguments)}if(!arguments.length){M=null}if(M&&M.nodeType){M=window.XMLSerializer?new window.XMLSerializer().serializeToString(M):M.xml;if(!this._headers["Content-Type"]){this._object.setRequestHeader("Content-Type","application/xml")}}this._data=M;G(this)};D.prototype.abort=function(){if(D.onabort){D.onabort.apply(this,arguments)}if(this.readyState>D.UNSENT){this._aborted=true}this._object.abort();F(this);this.readyState=D.UNSENT;delete this._data};D.prototype.getAllResponseHeaders=function(){return this._object.getAllResponseHeaders()};D.prototype.getResponseHeader=function(M){return this._object.getResponseHeader(M)};D.prototype.setRequestHeader=function(M,N){if(!this._headers){this._headers={}}this._headers[M]=N;return this._object.setRequestHeader(M,N)};D.prototype.addEventListener=function(P,O,N){for(var M=0,Q;Q=this._listeners[M];M++){if(Q[0]==P&&Q[1]==O&&Q[2]==N){return }}this._listeners.push([P,O,N])};D.prototype.removeEventListener=function(P,O,N){for(var M=0,Q;Q=this._listeners[M];M++){if(Q[0]==P&&Q[1]==O&&Q[2]==N){break}}if(Q){this._listeners.splice(M,1)}};D.prototype.dispatchEvent=function(N){var O={type:N.type,target:this,currentTarget:this,eventPhase:2,bubbles:N.bubbles,cancelable:N.cancelable,timeStamp:N.timeStamp,stopPropagation:function(){},preventDefault:function(){},initEvent:function(){}};if(O.type=="readystatechange"&&this.onreadystatechange){(this.onreadystatechange.handleEvent||this.onreadystatechange).apply(this,[O])}for(var M=0,P;P=this._listeners[M];M++){if(P[0]==O.type&&!P[2]){(P[1].handleEvent||P[1]).apply(this,[O])}}};D.prototype.toString=function(){return"[object XMLHttpRequest]"};D.toString=function(){return"[XMLHttpRequest]"};function C(M){if(D.onreadystatechange){D.onreadystatechange.apply(M)}M.dispatchEvent({type:"readystatechange",bubbles:false,cancelable:false,timeStamp:new Date+0})}function J(O){var N=O.responseXML,M=O.responseText;if(K&&M&&N&&!N.documentElement&&O.getResponseHeader("Content-Type").match(/[^\/]+\/[^\+]+\+xml/)){N=new window.ActiveXObject("Microsoft.XMLDOM");N.async=false;N.validateOnParse=false;N.loadXML(M)}if(N){if((K&&N.parseError!=0)||!N.documentElement||(N.documentElement&&N.documentElement.tagName=="parsererror")){return null}}return N}function I(M){try{M.responseText=M._object.responseText}catch(N){}try{M.responseXML=J(M._object)}catch(N){}try{M.status=M._object.status}catch(N){}try{M.statusText=M._object.statusText}catch(N){}}function F(M){M._object.onreadystatechange=new window.Function}if(!window.Function.prototype.apply){window.Function.prototype.apply=function(M,N){if(!N){N=[]}M.__func=this;M.__func(N[0],N[1],N[2],N[3],N[4]);delete M.__func}}OpenLayers.Request.XMLHttpRequest=D})();OpenLayers.Marker.Box=OpenLayers.Class(OpenLayers.Marker,{bounds:null,div:null,initialize:function(C,D,B){this.bounds=C;this.div=OpenLayers.Util.createDiv();this.div.style.overflow="hidden";this.events=new OpenLayers.Events(this,this.div);this.setBorder(D,B)},destroy:function(){this.bounds=null;this.div=null;OpenLayers.Marker.prototype.destroy.apply(this,arguments)},setBorder:function(B,C){if(!B){B="red"}if(!C){C=2}this.div.style.border=C+"px solid "+B},draw:function(B,C){OpenLayers.Util.modifyDOMElement(this.div,null,B,C);return this.div},onScreen:function(){var C=false;if(this.map){var B=this.map.getExtent();C=B.containsBounds(this.bounds,true,true)}return C},display:function(B){this.div.style.display=(B)?"":"none"},CLASS_NAME:"OpenLayers.Marker.Box"});OpenLayers.Layer.MapGuide=OpenLayers.Class(OpenLayers.Layer.Grid,{isBaseLayer:true,useHttpTile:false,singleTile:false,useOverlay:false,useAsyncOverlay:true,TILE_PARAMS:{operation:"GETTILEIMAGE",version:"1.2.0"},SINGLE_TILE_PARAMS:{operation:"GETMAPIMAGE",format:"PNG",locale:"en",clip:"1",version:"1.0.0"},OVERLAY_PARAMS:{operation:"GETDYNAMICMAPOVERLAYIMAGE",format:"PNG",locale:"en",clip:"1",version:"2.0.0"},FOLDER_PARAMS:{tileColumnsPerFolder:30,tileRowsPerFolder:30,format:"png",querystring:null},defaultSize:new OpenLayers.Size(300,300),tileOriginCorner:"tl",initialize:function(D,C,E,B){OpenLayers.Layer.Grid.prototype.initialize.apply(this,arguments);if(B==null||B.isBaseLayer==null){this.isBaseLayer=((this.transparent!="true")&&(this.transparent!=true))}if(B&&B.useOverlay!=null){this.useOverlay=B.useOverlay}if(this.singleTile){if(this.useOverlay){OpenLayers.Util.applyDefaults(this.params,this.OVERLAY_PARAMS);if(!this.useAsyncOverlay){this.params.version="1.0.0"}}else{OpenLayers.Util.applyDefaults(this.params,this.SINGLE_TILE_PARAMS)}}else{if(this.useHttpTile){OpenLayers.Util.applyDefaults(this.params,this.FOLDER_PARAMS)}else{OpenLayers.Util.applyDefaults(this.params,this.TILE_PARAMS)}this.setTileSize(this.defaultSize)}},clone:function(B){if(B==null){B=new OpenLayers.Layer.MapGuide(this.name,this.url,this.params,this.getOptions())}B=OpenLayers.Layer.Grid.prototype.clone.apply(this,[B]);return B},getURL:function(B){var E;var C=B.getCenterLonLat();var I=this.map.getSize();if(this.singleTile){var F={setdisplaydpi:OpenLayers.DOTS_PER_INCH,setdisplayheight:I.h*this.ratio,setdisplaywidth:I.w*this.ratio,setviewcenterx:C.lon,setviewcentery:C.lat,setviewscale:this.map.getScale()};if(this.useOverlay&&!this.useAsyncOverlay){var J={};J=OpenLayers.Util.extend(J,F);J.operation="GETVISIBLEMAPEXTENT";J.version="1.0.0";J.session=this.params.session;J.mapName=this.params.mapName;J.format="text/xml";E=this.getFullRequestString(J);OpenLayers.Request.GET({url:E,async:false})}E=this.getFullRequestString(F)}else{var H=this.map.getResolution();var G=Math.floor((B.left-this.maxExtent.left)/H);G=Math.round(G/this.tileSize.w);var D=Math.floor((this.maxExtent.top-B.top)/H);D=Math.round(D/this.tileSize.h);if(this.useHttpTile){E=this.getImageFilePath({tilecol:G,tilerow:D,scaleindex:this.resolutions.length-this.map.zoom-1})}else{E=this.getFullRequestString({tilecol:G,tilerow:D,scaleindex:this.resolutions.length-this.map.zoom-1})}}return E},getFullRequestString:function(G,F){var C=(F==null)?this.url:F;if(typeof C=="object"){C=C[Math.floor(Math.random()*C.length)]}var J=C;var H=OpenLayers.Util.extend({},this.params);H=OpenLayers.Util.extend(H,G);var E=OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(C));for(var I in H){if(I.toUpperCase() in E){delete H[I]}}var B=OpenLayers.Util.getParameterString(H);B=B.replace(/,/g,"+");if(B!=""){var D=C.charAt(C.length-1);if((D=="&")||(D=="?")){J+=B}else{if(C.indexOf("?")==-1){J+="?"+B}else{J+="&"+B}}}return J},getImageFilePath:function(H,F){var D=(F==null)?this.url:F;if(typeof D=="object"){D=D[Math.floor(Math.random()*D.length)]}var C=D;var E="";var G="";if(H.tilerow<0){E="-"}if(H.tilerow==0){E+="0"}else{E+=Math.floor(Math.abs(H.tilerow/this.params.tileRowsPerFolder))*this.params.tileRowsPerFolder}if(H.tilecol<0){G="-"}if(H.tilecol==0){G+="0"}else{G+=Math.floor(Math.abs(H.tilecol/this.params.tileColumnsPerFolder))*this.params.tileColumnsPerFolder}var B="/S"+Math.floor(H.scaleindex)+"/"+this.params.basemaplayergroupname+"/R"+E+"/C"+G+"/"+(H.tilerow%this.params.tileRowsPerFolder)+"_"+(H.tilecol%this.params.tileColumnsPerFolder)+"."+this.params.format;if(this.params.querystring){B+="?"+this.params.querystring}C+=B;return C},calculateGridLayout:function(B,O,F){var L=F*this.tileSize.w;var D=F*this.tileSize.h;var J=B.left-O.lon;var M=Math.floor(J/L)-this.buffer;var K=J/L-M;var G=-K*this.tileSize.w;var N=O.lon+M*L;var C=O.lat-B.top+D;var I=Math.floor(C/D)-this.buffer;var P=I-C/D;var E=P*this.tileSize.h;var H=O.lat-D*I;return{tilelon:L,tilelat:D,tileoffsetlon:N,tileoffsetlat:H,tileoffsetx:G,tileoffsety:E}},CLASS_NAME:"OpenLayers.Layer.MapGuide"});OpenLayers.Control.Measure=OpenLayers.Class(OpenLayers.Control,{handlerOptions:null,callbacks:null,displaySystem:"metric",geodesic:false,displaySystemUnits:{geographic:["dd"],english:["mi","ft","in"],metric:["km","m"]},partialDelay:300,delayedTrigger:null,persist:false,immediate:false,initialize:function(C,B){OpenLayers.Control.prototype.initialize.apply(this,[B]);var D={done:this.measureComplete,point:this.measurePartial};if(this.immediate){D.modify=this.measureImmediate}this.callbacks=OpenLayers.Util.extend(D,this.callbacks);this.handlerOptions=OpenLayers.Util.extend({persist:this.persist},this.handlerOptions);this.handler=new C(this,this.callbacks,this.handlerOptions)},deactivate:function(){this.cancelDelay();return OpenLayers.Control.prototype.deactivate.apply(this,arguments)},cancel:function(){this.cancelDelay();this.handler.cancel()},setImmediate:function(B){this.immediate=B;if(this.immediate){this.callbacks.modify=this.measureImmediate}else{delete this.callbacks.modify}},updateHandler:function(C,B){var D=this.active;if(D){this.deactivate()}this.handler=new C(this,this.callbacks,B);if(D){this.activate()}},measureComplete:function(B){this.cancelDelay();this.measure(B,"measure")},measurePartial:function(B,C){this.cancelDelay();C=C.clone();if(this.handler.freehandMode(this.handler.evt)){this.measure(C,"measurepartial")}else{this.delayedTrigger=window.setTimeout(OpenLayers.Function.bind(function(){this.delayedTrigger=null;this.measure(C,"measurepartial")},this),this.partialDelay)}},measureImmediate:function(B,D,C){if(C&&!this.handler.freehandMode(this.handler.evt)){this.cancelDelay();this.measure(D.geometry,"measurepartial")}},cancelDelay:function(){if(this.delayedTrigger!==null){window.clearTimeout(this.delayedTrigger);this.delayedTrigger=null}},measure:function(E,C){var D,B;if(E.CLASS_NAME.indexOf("LineString")>-1){D=this.getBestLength(E);B=1}else{D=this.getBestArea(E);B=2}this.events.triggerEvent(C,{measure:D[0],units:D[1],order:B,geometry:E})},getBestArea:function(G){var C=this.displaySystemUnits[this.displaySystem];var F,E;for(var D=0,B=C.length;D<B;++D){F=C[D];E=this.getArea(G,F);if(E>1){break}}return[E,F]},getArea:function(G,B){var C,D;if(this.geodesic){C=G.getGeodesicArea(this.map.getProjectionObject());D="m"}else{C=G.getArea();D=this.map.getUnits()}var F=OpenLayers.INCHES_PER_UNIT[B];if(F){var E=OpenLayers.INCHES_PER_UNIT[D];C*=Math.pow((E/F),2)}return C},getBestLength:function(G){var C=this.displaySystemUnits[this.displaySystem];var F,E;for(var D=0,B=C.length;D<B;++D){F=C[D];E=this.getLength(G,F);if(E>1){break}}return[E,F]},getLength:function(G,B){var C,D;if(this.geodesic){C=G.getGeodesicLength(this.map.getProjectionObject());D="m"}else{C=G.getLength();D=this.map.getUnits()}var F=OpenLayers.INCHES_PER_UNIT[B];if(F){var E=OpenLayers.INCHES_PER_UNIT[D];C*=(E/F)}return C},CLASS_NAME:"OpenLayers.Control.Measure"});OpenLayers.Control.DrawFeature=OpenLayers.Class(OpenLayers.Control,{layer:null,callbacks:null,multi:false,featureAdded:function(){},handlerOptions:null,initialize:function(C,D,B){OpenLayers.Control.prototype.initialize.apply(this,[B]);this.callbacks=OpenLayers.Util.extend({done:this.drawFeature,modify:function(G,F){this.layer.events.triggerEvent("sketchmodified",{vertex:G,feature:F})},create:function(G,F){this.layer.events.triggerEvent("sketchstarted",{vertex:G,feature:F})}},this.callbacks);this.layer=C;this.handlerOptions=this.handlerOptions||{};this.handlerOptions.layerOptions=OpenLayers.Util.applyDefaults(this.handlerOptions.layerOptions,{renderers:C.renderers,rendererOptions:C.rendererOptions});if(!("multi" in this.handlerOptions)){this.handlerOptions.multi=this.multi}var E=this.layer.styleMap&&this.layer.styleMap.styles.temporary;if(E){this.handlerOptions.layerOptions=OpenLayers.Util.applyDefaults(this.handlerOptions.layerOptions,{styleMap:new OpenLayers.StyleMap({"default":E})})}this.handler=new D(this,this.callbacks,this.handlerOptions)},drawFeature:function(D){var B=new OpenLayers.Feature.Vector(D);var C=this.layer.events.triggerEvent("sketchcomplete",{feature:B});if(C!==false){B.state=OpenLayers.State.INSERT;this.layer.addFeatures([B]);this.featureAdded(B);this.events.triggerEvent("featureadded",{feature:B})}},insertXY:function(B,C){if(this.handler&&this.handler.line){this.handler.insertXY(B,C)}},insertDeltaXY:function(C,B){if(this.handler&&this.handler.line){this.handler.insertDeltaXY(C,B)}},insertDirectionLength:function(C,B){if(this.handler&&this.handler.line){this.handler.insertDirectionLength(C,B)}},insertDeflectionLength:function(C,B){if(this.handler&&this.handler.line){this.handler.insertDeflectionLength(C,B)}},undo:function(){return this.handler.undo&&this.handler.undo()},redo:function(){return this.handler.redo&&this.handler.redo()},finishSketch:function(){this.handler.finishGeometry()},cancel:function(){this.handler.cancel()},CLASS_NAME:"OpenLayers.Control.DrawFeature"});OpenLayers.Rule=OpenLayers.Class({id:null,name:null,title:null,description:null,context:null,filter:null,elseFilter:false,symbolizer:null,symbolizers:null,minScaleDenominator:null,maxScaleDenominator:null,initialize:function(B){this.symbolizer={};OpenLayers.Util.extend(this,B);if(this.symbolizers){delete this.symbolizer}this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){for(var B in this.symbolizer){this.symbolizer[B]=null}this.symbolizer=null;delete this.symbolizers},evaluate:function(D){var C=this.getContext(D);var B=true;if(this.minScaleDenominator||this.maxScaleDenominator){var E=D.layer.map.getScale()}if(this.minScaleDenominator){B=E>=OpenLayers.Style.createLiteral(this.minScaleDenominator,C)}if(B&&this.maxScaleDenominator){B=E<OpenLayers.Style.createLiteral(this.maxScaleDenominator,C)}if(B&&this.filter){if(this.filter.CLASS_NAME=="OpenLayers.Filter.FeatureId"){B=this.filter.evaluate(D)}else{B=this.filter.evaluate(C)}}return B},getContext:function(C){var B=this.context;if(!B){B=C.attributes||C.data}if(typeof this.context=="function"){B=this.context(C)}return B},clone:function(){var C=OpenLayers.Util.extend({},this);if(this.symbolizers){var B=this.symbolizers.length;C.symbolizers=new Array(B);for(var E=0;E<B;++E){C.symbolizers[E]=this.symbolizers[E].clone()}}else{C.symbolizer={};var G,F;for(var D in this.symbolizer){G=this.symbolizer[D];F=typeof G;if(F==="object"){C.symbolizer[D]=OpenLayers.Util.extend({},G)}else{if(F==="string"){C.symbolizer[D]=G}}}}C.filter=this.filter&&this.filter.clone();C.context=this.context&&OpenLayers.Util.extend({},this.context);return new OpenLayers.Rule(C)},CLASS_NAME:"OpenLayers.Rule"});OpenLayers.Handler.Pinch=OpenLayers.Class(OpenLayers.Handler,{started:false,stopDown:false,pinching:false,last:null,start:null,touchstart:function(C){var B=true;this.pinching=false;if(OpenLayers.Event.isMultiTouch(C)){this.started=true;this.last=this.start={distance:this.getDistance(C.touches),delta:0,scale:1};this.callback("start",[C,this.start]);B=!this.stopDown}else{this.started=false;this.start=null;this.last=null}OpenLayers.Event.stop(C);return B},touchmove:function(B){if(this.started&&OpenLayers.Event.isMultiTouch(B)){this.pinching=true;var C=this.getPinchData(B);this.callback("move",[B,C]);this.last=C;OpenLayers.Event.stop(B)}return true},touchend:function(B){if(this.started){this.started=false;this.pinching=false;this.callback("done",[B,this.start,this.last]);this.start=null;this.last=null}return true},activate:function(){var B=false;if(OpenLayers.Handler.prototype.activate.apply(this,arguments)){this.pinching=false;B=true}return B},deactivate:function(){var B=false;if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){this.started=false;this.pinching=false;this.start=null;this.last=null;B=true}return B},getDistance:function(D){var C=D[0];var B=D[1];return Math.sqrt(Math.pow(C.clientX-B.clientX,2)+Math.pow(C.clientY-B.clientY,2))},getPinchData:function(B){var D=this.getDistance(B.touches);var C=D/this.start.distance;return{distance:D,delta:this.last.distance-D,scale:C}},CLASS_NAME:"OpenLayers.Handler.Pinch"});OpenLayers.Handler.Hover=OpenLayers.Class(OpenLayers.Handler,{delay:500,pixelTolerance:null,stopMove:false,px:null,timerId:null,mousemove:function(B){if(this.passesTolerance(B.xy)){this.clearTimer();this.callback("move",[B]);this.px=B.xy;B=OpenLayers.Util.extend({},B);this.timerId=window.setTimeout(OpenLayers.Function.bind(this.delayedCall,this,B),this.delay)}return !this.stopMove},mouseout:function(B){if(OpenLayers.Util.mouseLeft(B,this.map.viewPortDiv)){this.clearTimer();this.callback("move",[B])}return true},passesTolerance:function(C){var D=true;if(this.pixelTolerance&&this.px){var B=Math.sqrt(Math.pow(this.px.x-C.x,2)+Math.pow(this.px.y-C.y,2));if(B<this.pixelTolerance){D=false}}return D},clearTimer:function(){if(this.timerId!=null){window.clearTimeout(this.timerId);this.timerId=null}},delayedCall:function(B){this.callback("pause",[B])},deactivate:function(){var B=false;if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){this.clearTimer();B=true}return B},CLASS_NAME:"OpenLayers.Handler.Hover"});OpenLayers.Format.WFSDescribeFeatureType=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{xsd:"http://www.w3.org/2001/XMLSchema"},readers:{xsd:{schema:function(E,J){var F=[];var C={};var G={complexTypes:F,customTypes:C};this.readChildNodes(E,G);var H=E.attributes;var L,B;for(var I=0,K=H.length;I<K;++I){L=H[I];B=L.name;if(B.indexOf("xmlns")==0){this.setNamespace(B.split(":")[1]||"",L.value)}else{J[B]=L.value}}J.featureTypes=F;J.targetPrefix=this.namespaceAlias[J.targetNamespace];var M,D;for(var I=0,K=F.length;I<K;++I){M=F[I];D=C[M.typeName];if(C[M.typeName]){M.typeName=D.name}}},complexType:function(C,D){var B={typeName:C.getAttribute("name")};this.readChildNodes(C,B);D.complexTypes.push(B)},complexContent:function(B,C){this.readChildNodes(B,C)},extension:function(B,C){this.readChildNodes(B,C)},sequence:function(B,C){var D={elements:[]};this.readChildNodes(B,D);C.properties=D.elements},element:function(B,D){if(D.elements){var E={};var C=B.attributes;var H;for(var F=0,G=C.length;F<G;++F){H=C[F];E[H.name]=H.value}var I=E.type;if(!I){I={};this.readChildNodes(B,I);E.restriction=I;E.type=I.base}var K=I.base||I;E.localType=K.split(":").pop();D.elements.push(E)}if(D.complexTypes){var I=B.getAttribute("type");var J=I.split(":").pop();D.customTypes[J]={name:B.getAttribute("name"),type:I}}},simpleType:function(B,C){this.readChildNodes(B,C)},restriction:function(B,C){C.base=B.getAttribute("base");this.readRestriction(B,C)}}},readRestriction:function(E,G){var D=E.childNodes;var I,H,F;for(var C=0,B=D.length;C<B;++C){I=D[C];if(I.nodeType==1){H=I.nodeName.split(":").pop();F=I.getAttribute("value");if(!G[H]){G[H]=F}else{if(typeof G[H]=="string"){G[H]=[G[H]]}G[H].push(F)}}}},read:function(C){if(typeof C=="string"){C=OpenLayers.Format.XML.prototype.read.apply(this,[C])}if(C&&C.nodeType==9){C=C.documentElement}var B={};this.readNode(C,B);return B},CLASS_NAME:"OpenLayers.Format.WFSDescribeFeatureType"});OpenLayers.Strategy.Refresh=OpenLayers.Class(OpenLayers.Strategy,{force:false,interval:0,timer:null,activate:function(){var B=OpenLayers.Strategy.prototype.activate.call(this);if(B){if(this.layer.visibility===true){this.start()}this.layer.events.on({visibilitychanged:this.reset,scope:this})}return B},deactivate:function(){var B=OpenLayers.Strategy.prototype.deactivate.call(this);if(B){this.stop()}return B},reset:function(){if(this.layer.visibility===true){this.start()}else{this.stop()}},start:function(){if(this.interval&&typeof this.interval==="number"&&this.interval>0){this.timer=window.setInterval(OpenLayers.Function.bind(this.refresh,this),this.interval)}},refresh:function(){if(this.layer&&this.layer.refresh&&typeof this.layer.refresh=="function"){this.layer.refresh({force:this.force})}},stop:function(){if(this.timer!==null){window.clearInterval(this.timer);this.timer=null}},CLASS_NAME:"OpenLayers.Strategy.Refresh"});OpenLayers.Control.MousePosition=OpenLayers.Class(OpenLayers.Control,{autoActivate:true,element:null,prefix:"",separator:", ",suffix:"",numDigits:5,granularity:10,emptyString:null,lastXy:null,displayProjection:null,destroy:function(){this.deactivate();OpenLayers.Control.prototype.destroy.apply(this,arguments)},activate:function(){if(OpenLayers.Control.prototype.activate.apply(this,arguments)){this.map.events.register("mousemove",this,this.redraw);this.map.events.register("mouseout",this,this.reset);this.redraw();return true}else{return false}},deactivate:function(){if(OpenLayers.Control.prototype.deactivate.apply(this,arguments)){this.map.events.unregister("mousemove",this,this.redraw);this.map.events.unregister("mouseout",this,this.reset);this.element.innerHTML="";return true}else{return false}},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);if(!this.element){this.div.left="";this.div.top="";this.element=this.div}return this.div},redraw:function(B){var D;if(B==null){this.reset();return }else{if(this.lastXy==null||Math.abs(B.xy.x-this.lastXy.x)>this.granularity||Math.abs(B.xy.y-this.lastXy.y)>this.granularity){this.lastXy=B.xy;return }D=this.map.getLonLatFromPixel(B.xy);if(!D){return }if(this.displayProjection){D.transform(this.map.getProjectionObject(),this.displayProjection)}this.lastXy=B.xy}var C=this.formatOutput(D);if(C!=this.element.innerHTML){this.element.innerHTML=C}},reset:function(B){if(this.emptyString!=null){this.element.innerHTML=this.emptyString}},formatOutput:function(C){var D=parseInt(this.numDigits);var B=this.prefix+C.lon.toFixed(D)+this.separator+C.lat.toFixed(D)+this.suffix;return B},CLASS_NAME:"OpenLayers.Control.MousePosition"});OpenLayers.Protocol.HTTP=OpenLayers.Class(OpenLayers.Protocol,{url:null,headers:null,params:null,callback:null,scope:null,readWithPOST:false,updateWithPOST:false,deleteWithPOST:false,wildcarded:false,srsInBBOX:false,initialize:function(B){B=B||{};this.params={};this.headers={};OpenLayers.Protocol.prototype.initialize.apply(this,arguments);if(!this.filterToParams&&OpenLayers.Format.QueryStringFilter){var C=new OpenLayers.Format.QueryStringFilter({wildcarded:this.wildcarded,srsInBBOX:this.srsInBBOX});this.filterToParams=function(D,E){return C.write(D,E)}}},destroy:function(){this.params=null;this.headers=null;OpenLayers.Protocol.prototype.destroy.apply(this)},read:function(B){OpenLayers.Protocol.prototype.read.apply(this,arguments);B=B||{};B.params=OpenLayers.Util.applyDefaults(B.params,this.options.params);B=OpenLayers.Util.applyDefaults(B,this.options);if(B.filter&&this.filterToParams){B.params=this.filterToParams(B.filter,B.params)}var C=(B.readWithPOST!==undefined)?B.readWithPOST:this.readWithPOST;var E=new OpenLayers.Protocol.Response({requestType:"read"});if(C){var D=B.headers||{};D["Content-Type"]="application/x-www-form-urlencoded";E.priv=OpenLayers.Request.POST({url:B.url,callback:this.createCallback(this.handleRead,E,B),data:OpenLayers.Util.getParameterString(B.params),headers:D})}else{E.priv=OpenLayers.Request.GET({url:B.url,callback:this.createCallback(this.handleRead,E,B),params:B.params,headers:B.headers})}return E},handleRead:function(C,B){this.handleResponse(C,B)},create:function(C,B){B=OpenLayers.Util.applyDefaults(B,this.options);var D=new OpenLayers.Protocol.Response({reqFeatures:C,requestType:"create"});D.priv=OpenLayers.Request.POST({url:B.url,callback:this.createCallback(this.handleCreate,D,B),headers:B.headers,data:this.format.write(C)});return D},handleCreate:function(C,B){this.handleResponse(C,B)},update:function(D,C){C=C||{};var B=C.url||D.url||this.options.url+"/"+D.fid;C=OpenLayers.Util.applyDefaults(C,this.options);var E=new OpenLayers.Protocol.Response({reqFeatures:D,requestType:"update"});var F=this.updateWithPOST?"POST":"PUT";E.priv=OpenLayers.Request[F]({url:B,callback:this.createCallback(this.handleUpdate,E,C),headers:C.headers,data:this.format.write(D)});return E},handleUpdate:function(C,B){this.handleResponse(C,B)},"delete":function(E,D){D=D||{};var C=D.url||E.url||this.options.url+"/"+E.fid;D=OpenLayers.Util.applyDefaults(D,this.options);var F=new OpenLayers.Protocol.Response({reqFeatures:E,requestType:"delete"});var G=this.deleteWithPOST?"POST":"DELETE";var B={url:C,callback:this.createCallback(this.handleDelete,F,D),headers:D.headers};if(this.deleteWithPOST){B.data=this.format.write(E)}F.priv=OpenLayers.Request[G](B);return F},handleDelete:function(C,B){this.handleResponse(C,B)},handleResponse:function(D,B){var C=D.priv;if(B.callback){if(C.status>=200&&C.status<300){if(D.requestType!="delete"){D.features=this.parseFeatures(C)}D.code=OpenLayers.Protocol.Response.SUCCESS}else{D.code=OpenLayers.Protocol.Response.FAILURE}B.callback.call(B.scope,D)}},parseFeatures:function(B){var C=B.responseXML;if(!C||!C.documentElement){C=B.responseText}if(!C||C.length<=0){return null}return this.format.read(C)},commit:function(C,Q){Q=OpenLayers.Util.applyDefaults(Q,this.options);var E=[],M=0;var K={};K[OpenLayers.State.INSERT]=[];K[OpenLayers.State.UPDATE]=[];K[OpenLayers.State.DELETE]=[];var P,L,D=[];for(var F=0,J=C.length;F<J;++F){P=C[F];L=K[P.state];if(L){L.push(P);D.push(P)}}var H=(K[OpenLayers.State.INSERT].length>0?1:0)+K[OpenLayers.State.UPDATE].length+K[OpenLayers.State.DELETE].length;var O=true;var B=new OpenLayers.Protocol.Response({reqFeatures:D});function I(S){var R=S.features?S.features.length:0;var U=new Array(R);for(var T=0;T<R;++T){U[T]=S.features[T].fid}B.insertIds=U;N.apply(this,[S])}function N(R){this.callUserCallback(R,Q);O=O&&R.success();M++;if(M>=H){if(Q.callback){B.code=O?OpenLayers.Protocol.Response.SUCCESS:OpenLayers.Protocol.Response.FAILURE;Q.callback.apply(Q.scope,[B])}}}var G=K[OpenLayers.State.INSERT];if(G.length>0){E.push(this.create(G,OpenLayers.Util.applyDefaults({callback:I,scope:this},Q.create)))}G=K[OpenLayers.State.UPDATE];for(var F=G.length-1;F>=0;--F){E.push(this.update(G[F],OpenLayers.Util.applyDefaults({callback:N,scope:this},Q.update)))}G=K[OpenLayers.State.DELETE];for(var F=G.length-1;F>=0;--F){E.push(this["delete"](G[F],OpenLayers.Util.applyDefaults({callback:N,scope:this},Q["delete"])))}return E},abort:function(B){if(B){B.priv.abort()}},callUserCallback:function(D,B){var C=B[D.requestType];if(C&&C.callback){C.callback.call(C.scope,D)}},CLASS_NAME:"OpenLayers.Protocol.HTTP"});OpenLayers.Strategy.Cluster=OpenLayers.Class(OpenLayers.Strategy,{distance:20,threshold:null,features:null,clusters:null,clustering:false,resolution:null,activate:function(){var B=OpenLayers.Strategy.prototype.activate.call(this);if(B){this.layer.events.on({beforefeaturesadded:this.cacheFeatures,moveend:this.cluster,scope:this})}return B},deactivate:function(){var B=OpenLayers.Strategy.prototype.deactivate.call(this);if(B){this.clearCache();this.layer.events.un({beforefeaturesadded:this.cacheFeatures,moveend:this.cluster,scope:this})}return B},cacheFeatures:function(C){var B=true;if(!this.clustering){this.clearCache();this.features=C.features;this.cluster();B=false}return B},clearCache:function(){this.features=null},cluster:function(B){if((!B||B.zoomChanged)&&this.features){var D=this.layer.map.getResolution();if(D!=this.resolution||!this.clustersExist()){this.resolution=D;var I=[];var L,C,J;for(var F=0;F<this.features.length;++F){L=this.features[F];if(L.geometry){C=false;for(var E=I.length-1;E>=0;--E){J=I[E];if(this.shouldCluster(J,L)){this.addToCluster(J,L);C=true;break}}if(!C){I.push(this.createCluster(this.features[F]))}}}this.layer.removeAllFeatures();if(I.length>0){if(this.threshold>1){var H=I.slice();I=[];var K;for(var F=0,G=H.length;F<G;++F){K=H[F];if(K.attributes.count<this.threshold){Array.prototype.push.apply(I,K.cluster)}else{I.push(K)}}}this.clustering=true;this.layer.addFeatures(I);this.clustering=false}this.clusters=I}}},clustersExist:function(){var C=false;if(this.clusters&&this.clusters.length>0&&this.clusters.length==this.layer.features.length){C=true;for(var B=0;B<this.clusters.length;++B){if(this.clusters[B]!=this.layer.features[B]){C=false;break}}}return C},shouldCluster:function(B,C){var F=B.geometry.getBounds().getCenterLonLat();var D=C.geometry.getBounds().getCenterLonLat();var E=(Math.sqrt(Math.pow((F.lon-D.lon),2)+Math.pow((F.lat-D.lat),2))/this.resolution);return(E<=this.distance)},addToCluster:function(B,C){B.cluster.push(C);B.attributes.count+=1},createCluster:function(D){var C=D.geometry.getBounds().getCenterLonLat();var B=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(C.lon,C.lat),{count:1});B.cluster=[D];return B},CLASS_NAME:"OpenLayers.Strategy.Cluster"});OpenLayers.Control.OverviewMap=OpenLayers.Class(OpenLayers.Control,{element:null,ovmap:null,size:{w:180,h:90},layers:null,minRectSize:15,minRectDisplayClass:"RectReplacement",minRatio:8,maxRatio:32,mapOptions:null,autoPan:false,handlers:null,resolutionFactor:1,maximized:false,initialize:function(B){this.layers=[];this.handlers={};OpenLayers.Control.prototype.initialize.apply(this,[B])},destroy:function(){if(!this.mapDiv){return }if(this.handlers.click){this.handlers.click.destroy()}if(this.handlers.drag){this.handlers.drag.destroy()}this.ovmap&&this.ovmap.viewPortDiv.removeChild(this.extentRectangle);this.extentRectangle=null;if(this.rectEvents){this.rectEvents.destroy();this.rectEvents=null}if(this.ovmap){this.ovmap.destroy();this.ovmap=null}this.element.removeChild(this.mapDiv);this.mapDiv=null;this.div.removeChild(this.element);this.element=null;if(this.maximizeDiv){this.div.removeChild(this.maximizeDiv);this.maximizeDiv=null}if(this.minimizeDiv){this.div.removeChild(this.minimizeDiv);this.minimizeDiv=null}this.map.events.un({buttonclick:this.onButtonClick,moveend:this.update,changebaselayer:this.baseLayerDraw,scope:this});OpenLayers.Control.prototype.destroy.apply(this,arguments)},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);if(this.layers.length===0){if(this.map.baseLayer){var C=this.map.baseLayer.clone();this.layers=[C]}else{this.map.events.register("changebaselayer",this,this.baseLayerDraw);return this.div}}this.element=document.createElement("div");this.element.className=this.displayClass+"Element";this.element.style.display="none";this.mapDiv=document.createElement("div");this.mapDiv.style.width=this.size.w+"px";this.mapDiv.style.height=this.size.h+"px";this.mapDiv.style.position="relative";this.mapDiv.style.overflow="hidden";this.mapDiv.id=OpenLayers.Util.createUniqueID("overviewMap");this.extentRectangle=document.createElement("div");this.extentRectangle.style.position="absolute";this.extentRectangle.style.zIndex=1000;this.extentRectangle.className=this.displayClass+"ExtentRectangle";this.element.appendChild(this.mapDiv);this.div.appendChild(this.element);if(!this.outsideViewport){this.div.className+=" "+this.displayClass+"Container";var B=OpenLayers.Util.getImageLocation("layer-switcher-maximize.png");this.maximizeDiv=OpenLayers.Util.createAlphaImageDiv(this.displayClass+"MaximizeButton",null,null,B,"absolute");this.maximizeDiv.style.display="none";this.maximizeDiv.className=this.displayClass+"MaximizeButton olButton";this.div.appendChild(this.maximizeDiv);var B=OpenLayers.Util.getImageLocation("layer-switcher-minimize.png");this.minimizeDiv=OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_minimizeDiv",null,null,B,"absolute");this.minimizeDiv.style.display="none";this.minimizeDiv.className=this.displayClass+"MinimizeButton olButton";this.div.appendChild(this.minimizeDiv);this.minimizeControl()}else{this.element.style.display=""}if(this.map.getExtent()){this.update()}this.map.events.on({buttonclick:this.onButtonClick,moveend:this.update,scope:this});if(this.maximized){this.maximizeControl()}return this.div},baseLayerDraw:function(){this.draw();this.map.events.unregister("changebaselayer",this,this.baseLayerDraw)},rectDrag:function(J){var E=this.handlers.drag.last.x-J.x;var C=this.handlers.drag.last.y-J.y;if(E!=0||C!=0){var H=this.rectPxBounds.top;var B=this.rectPxBounds.left;var F=Math.abs(this.rectPxBounds.getHeight());var D=this.rectPxBounds.getWidth();var G=Math.max(0,(H-C));G=Math.min(G,this.ovmap.size.h-this.hComp-F);var I=Math.max(0,(B-E));I=Math.min(I,this.ovmap.size.w-this.wComp-D);this.setRectPxBounds(new OpenLayers.Bounds(I,G+F,I+D,G))}},mapDivClick:function(J){var C=this.rectPxBounds.getCenterPixel();var F=J.xy.x-C.x;var E=J.xy.y-C.y;var H=this.rectPxBounds.top;var D=this.rectPxBounds.left;var K=Math.abs(this.rectPxBounds.getHeight());var B=this.rectPxBounds.getWidth();var G=Math.max(0,(H+E));G=Math.min(G,this.ovmap.size.h-K);var I=Math.max(0,(D+F));I=Math.min(I,this.ovmap.size.w-B);this.setRectPxBounds(new OpenLayers.Bounds(I,G+K,I+B,G));this.updateMapToRect()},onButtonClick:function(B){if(B.buttonElement===this.minimizeDiv){this.minimizeControl()}else{if(B.buttonElement===this.maximizeDiv){this.maximizeControl()}}},maximizeControl:function(B){this.element.style.display="";this.showToggle(false);if(B!=null){OpenLayers.Event.stop(B)}},minimizeControl:function(B){this.element.style.display="none";this.showToggle(true);if(B!=null){OpenLayers.Event.stop(B)}},showToggle:function(B){this.maximizeDiv.style.display=B?"":"none";this.minimizeDiv.style.display=B?"none":""},update:function(){if(this.ovmap==null){this.createMap()}if(this.autoPan||!this.isSuitableOverview()){this.updateOverview()}this.updateRectToMap()},isSuitableOverview:function(){var C=this.map.getExtent();var B=this.map.maxExtent;var D=new OpenLayers.Bounds(Math.max(C.left,B.left),Math.max(C.bottom,B.bottom),Math.min(C.right,B.right),Math.min(C.top,B.top));if(this.ovmap.getProjection()!=this.map.getProjection()){D=D.transform(this.map.getProjectionObject(),this.ovmap.getProjectionObject())}var E=this.ovmap.getResolution()/this.map.getResolution();return((E>this.minRatio)&&(E<=this.maxRatio)&&(this.ovmap.getExtent().containsBounds(D)))},updateOverview:function(){var D=this.map.getResolution();var C=this.ovmap.getResolution();var E=C/D;if(E>this.maxRatio){C=this.minRatio*D}else{if(E<=this.minRatio){C=this.maxRatio*D}}var B;if(this.ovmap.getProjection()!=this.map.getProjection()){B=this.map.center.clone();B.transform(this.map.getProjectionObject(),this.ovmap.getProjectionObject())}else{B=this.map.center}this.ovmap.setCenter(B,this.ovmap.getZoomForResolution(C*this.resolutionFactor));this.updateRectToMap()},createMap:function(){var C=OpenLayers.Util.extend({controls:[],maxResolution:"auto",fallThrough:false},this.mapOptions);this.ovmap=new OpenLayers.Map(this.mapDiv,C);this.ovmap.viewPortDiv.appendChild(this.extentRectangle);OpenLayers.Event.stopObserving(window,"unload",this.ovmap.unloadDestroy);this.ovmap.addLayers(this.layers);this.ovmap.zoomToMaxExtent();this.wComp=parseInt(OpenLayers.Element.getStyle(this.extentRectangle,"border-left-width"))+parseInt(OpenLayers.Element.getStyle(this.extentRectangle,"border-right-width"));this.wComp=(this.wComp)?this.wComp:2;this.hComp=parseInt(OpenLayers.Element.getStyle(this.extentRectangle,"border-top-width"))+parseInt(OpenLayers.Element.getStyle(this.extentRectangle,"border-bottom-width"));this.hComp=(this.hComp)?this.hComp:2;this.handlers.drag=new OpenLayers.Handler.Drag(this,{move:this.rectDrag,done:this.updateMapToRect},{map:this.ovmap});this.handlers.click=new OpenLayers.Handler.Click(this,{click:this.mapDivClick},{single:true,"double":false,stopSingle:true,stopDouble:true,pixelTolerance:1,map:this.ovmap});this.handlers.click.activate();this.rectEvents=new OpenLayers.Events(this,this.extentRectangle,null,true);this.rectEvents.register("mouseover",this,function(E){if(!this.handlers.drag.active&&!this.map.dragging){this.handlers.drag.activate()}});this.rectEvents.register("mouseout",this,function(E){if(!this.handlers.drag.dragging){this.handlers.drag.deactivate()}});if(this.ovmap.getProjection()!=this.map.getProjection()){var D=this.map.getProjectionObject().getUnits()||this.map.units||this.map.baseLayer.units;var B=this.ovmap.getProjectionObject().getUnits()||this.ovmap.units||this.ovmap.baseLayer.units;this.resolutionFactor=D&&B?OpenLayers.INCHES_PER_UNIT[D]/OpenLayers.INCHES_PER_UNIT[B]:1}},updateRectToMap:function(){var C;if(this.ovmap.getProjection()!=this.map.getProjection()){C=this.map.getExtent().transform(this.map.getProjectionObject(),this.ovmap.getProjectionObject())}else{C=this.map.getExtent()}var B=this.getRectBoundsFromMapBounds(C);if(B){this.setRectPxBounds(B)}},updateMapToRect:function(){var B=this.getMapBoundsFromRectBounds(this.rectPxBounds);if(this.ovmap.getProjection()!=this.map.getProjection()){B=B.transform(this.ovmap.getProjectionObject(),this.map.getProjectionObject())}this.map.panTo(B.getCenterLonLat())},setRectPxBounds:function(E){var H=Math.max(E.top,0);var F=Math.max(E.left,0);var C=Math.min(E.top+Math.abs(E.getHeight()),this.ovmap.size.h-this.hComp);var I=Math.min(E.left+E.getWidth(),this.ovmap.size.w-this.wComp);var D=Math.max(I-F,0);var J=Math.max(C-H,0);if(D<this.minRectSize||J<this.minRectSize){this.extentRectangle.className=this.displayClass+this.minRectDisplayClass;var G=F+(D/2)-(this.minRectSize/2);var B=H+(J/2)-(this.minRectSize/2);this.extentRectangle.style.top=Math.round(B)+"px";this.extentRectangle.style.left=Math.round(G)+"px";this.extentRectangle.style.height=this.minRectSize+"px";this.extentRectangle.style.width=this.minRectSize+"px"}else{this.extentRectangle.className=this.displayClass+"ExtentRectangle";this.extentRectangle.style.top=Math.round(H)+"px";this.extentRectangle.style.left=Math.round(F)+"px";this.extentRectangle.style.height=Math.round(J)+"px";this.extentRectangle.style.width=Math.round(D)+"px"}this.rectPxBounds=new OpenLayers.Bounds(Math.round(F),Math.round(C),Math.round(I),Math.round(H))},getRectBoundsFromMapBounds:function(D){var C=this.getOverviewPxFromLonLat({lon:D.left,lat:D.bottom});var B=this.getOverviewPxFromLonLat({lon:D.right,lat:D.top});var E=null;if(C&&B){E=new OpenLayers.Bounds(C.x,C.y,B.x,B.y)}return E},getMapBoundsFromRectBounds:function(C){var B=this.getLonLatFromOverviewPx({x:C.left,y:C.bottom});var D=this.getLonLatFromOverviewPx({x:C.right,y:C.top});return new OpenLayers.Bounds(B.lon,B.lat,D.lon,D.lat)},getLonLatFromOverviewPx:function(G){var F=this.ovmap.size;var E=this.ovmap.getResolution();var C=this.ovmap.getExtent().getCenterLonLat();var D=G.x-(F.w/2);var B=G.y-(F.h/2);return{lon:C.lon+D*E,lat:C.lat-B*E}},getOverviewPxFromLonLat:function(D){var B=this.ovmap.getResolution();var C=this.ovmap.getExtent();if(C){return{x:Math.round(1/B*(D.lon-C.left)),y:Math.round(1/B*(C.top-D.lat))}}},CLASS_NAME:"OpenLayers.Control.OverviewMap"});OpenLayers.Control.PinchZoom=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_TOOL,containerCenter:null,pinchOrigin:null,currentCenter:null,autoActivate:true,initialize:function(B){OpenLayers.Control.prototype.initialize.apply(this,arguments);this.handler=new OpenLayers.Handler.Pinch(this,{start:this.pinchStart,move:this.pinchMove,done:this.pinchDone},this.handlerOptions)},activate:function(){var B=OpenLayers.Control.prototype.activate.apply(this,arguments);if(B){this.map.events.on({moveend:this.updateContainerCenter,scope:this});this.updateContainerCenter()}return B},deactivate:function(){var B=OpenLayers.Control.prototype.deactivate.apply(this,arguments);if(this.map&&this.map.events){this.map.events.un({moveend:this.updateContainerCenter,scope:this})}return B},updateContainerCenter:function(){var B=this.map.layerContainerDiv;this.containerCenter={x:parseInt(B.style.left,10)+50,y:parseInt(B.style.top,10)+50}},pinchStart:function(B,C){this.pinchOrigin=B.xy;this.currentCenter=B.xy},pinchMove:function(C,I){var H=I.scale;var F=this.containerCenter;var E=this.pinchOrigin;var G=C.xy;var D=Math.round((G.x-E.x)+(H-1)*(F.x-E.x));var B=Math.round((G.y-E.y)+(H-1)*(F.y-E.y));this.applyTransform("translate("+D+"px, "+B+"px) scale("+H+")");this.currentCenter=G},applyTransform:function(B){var C=this.map.layerContainerDiv.style;C["-webkit-transform"]=B;C["-moz-transform"]=B},pinchDone:function(C,I,H){this.applyTransform("");var G=this.map.getZoomForResolution(this.map.getResolution()/H.scale,true);if(G!==this.map.getZoom()||!this.currentCenter.equals(this.pinchOrigin)){var E=this.map.getResolutionForZoom(G);var B=this.map.getLonLatFromPixel(this.pinchOrigin);var D=this.currentCenter;var F=this.map.getSize();B.lon+=E*((F.w/2)-D.x);B.lat-=E*((F.h/2)-D.y);this.map.div.clientWidth=this.map.div.clientWidth;this.map.setCenter(B,G)}},CLASS_NAME:"OpenLayers.Control.PinchZoom"});OpenLayers.Control.TouchNavigation=OpenLayers.Class(OpenLayers.Control,{dragPan:null,dragPanOptions:null,pinchZoom:null,pinchZoomOptions:null,clickHandlerOptions:null,documentDrag:false,autoActivate:true,initialize:function(B){this.handlers={};OpenLayers.Control.prototype.initialize.apply(this,arguments)},destroy:function(){this.deactivate();if(this.dragPan){this.dragPan.destroy()}this.dragPan=null;if(this.pinchZoom){this.pinchZoom.destroy();delete this.pinchZoom}OpenLayers.Control.prototype.destroy.apply(this,arguments)},activate:function(){if(OpenLayers.Control.prototype.activate.apply(this,arguments)){this.dragPan.activate();this.handlers.click.activate();this.pinchZoom.activate();return true}return false},deactivate:function(){if(OpenLayers.Control.prototype.deactivate.apply(this,arguments)){this.dragPan.deactivate();this.handlers.click.deactivate();this.pinchZoom.deactivate();return true}return false},draw:function(){var B={click:this.defaultClick,dblclick:this.defaultDblClick};var C=OpenLayers.Util.extend({"double":true,stopDouble:true,pixelTolerance:2},this.clickHandlerOptions);this.handlers.click=new OpenLayers.Handler.Click(this,B,C);this.dragPan=new OpenLayers.Control.DragPan(OpenLayers.Util.extend({map:this.map,documentDrag:this.documentDrag},this.dragPanOptions));this.dragPan.draw();this.pinchZoom=new OpenLayers.Control.PinchZoom(OpenLayers.Util.extend({map:this.map},this.pinchZoomOptions))},defaultClick:function(B){if(B.lastTouches&&B.lastTouches.length==2){this.map.zoomOut()}},defaultDblClick:function(C){var B=this.map.getLonLatFromViewPortPx(C.xy);this.map.setCenter(B,this.map.zoom+1)},CLASS_NAME:"OpenLayers.Control.TouchNavigation"});OpenLayers.Format.WFSCapabilities.v1_0_0=OpenLayers.Class(OpenLayers.Format.WFSCapabilities.v1,{readers:{wfs:OpenLayers.Util.applyDefaults({Service:function(C,B){B.service={};this.readChildNodes(C,B.service)},Fees:function(D,B){var C=this.getChildValue(D);if(C&&C.toLowerCase()!="none"){B.fees=C}},AccessConstraints:function(C,B){var D=this.getChildValue(C);if(D&&D.toLowerCase()!="none"){B.accessConstraints=D}},OnlineResource:function(D,B){var C=this.getChildValue(D);if(C&&C.toLowerCase()!="none"){B.onlineResource=C}},Keywords:function(D,B){var C=this.getChildValue(D);if(C&&C.toLowerCase()!="none"){B.keywords=C.split(", ")}},Capability:function(C,B){B.capability={};this.readChildNodes(C,B.capability)},Request:function(B,C){C.request={};this.readChildNodes(B,C.request)},GetFeature:function(C,B){B.getfeature={href:{},formats:[]};this.readChildNodes(C,B.getfeature)},ResultFormat:function(E,F){var D=E.childNodes;var C;for(var B=0;B<D.length;B++){C=D[B];if(C.nodeType==1){F.formats.push(C.nodeName)}}},DCPType:function(B,C){this.readChildNodes(B,C)},HTTP:function(B,C){this.readChildNodes(B,C.href)},Get:function(B,C){C.get=B.getAttribute("onlineResource")},Post:function(B,C){C.post=B.getAttribute("onlineResource")},SRS:function(C,D){var B=this.getChildValue(C);if(B){D.srs=B}}},OpenLayers.Format.WFSCapabilities.v1.prototype.readers.wfs)},CLASS_NAME:"OpenLayers.Format.WFSCapabilities.v1_0_0"});OpenLayers.Layer.MapServer=OpenLayers.Class(OpenLayers.Layer.Grid,{DEFAULT_PARAMS:{mode:"map",map_imagetype:"png"},initialize:function(D,C,E,B){OpenLayers.Layer.Grid.prototype.initialize.apply(this,arguments);this.params=OpenLayers.Util.applyDefaults(this.params,this.DEFAULT_PARAMS);if(B==null||B.isBaseLayer==null){this.isBaseLayer=((this.params.transparent!="true")&&(this.params.transparent!=true))}},clone:function(B){if(B==null){B=new OpenLayers.Layer.MapServer(this.name,this.url,this.params,this.getOptions())}B=OpenLayers.Layer.Grid.prototype.clone.apply(this,[B]);return B},getURL:function(D){D=this.adjustBounds(D);var C=[D.left,D.bottom,D.right,D.top];var E=this.getImageSize();var B=this.getFullRequestString({mapext:C,imgext:C,map_size:[E.w,E.h],imgx:E.w/2,imgy:E.h/2,imgxy:[E.w,E.h]});return B},getFullRequestString:function(G,F){var C=(F==null)?this.url:F;var H=OpenLayers.Util.extend({},this.params);H=OpenLayers.Util.extend(H,G);var B=OpenLayers.Util.getParameterString(H);if(OpenLayers.Util.isArray(C)){C=this.selectUrl(B,C)}var E=OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(C));for(var I in H){if(I.toUpperCase() in E){delete H[I]}}B=OpenLayers.Util.getParameterString(H);var J=C;B=B.replace(/,/g,"+");if(B!=""){var D=C.charAt(C.length-1);if((D=="&")||(D=="?")){J+=B}else{if(C.indexOf("?")==-1){J+="?"+B}else{J+="&"+B}}}return J},CLASS_NAME:"OpenLayers.Layer.MapServer"});OpenLayers.Renderer.VML=OpenLayers.Class(OpenLayers.Renderer.Elements,{xmlns:"urn:schemas-microsoft-com:vml",symbolCache:{},offset:null,initialize:function(C){if(!this.supported()){return }if(!document.namespaces.olv){document.namespaces.add("olv",this.xmlns);var F=document.createStyleSheet();var D=["shape","rect","oval","fill","stroke","imagedata","group","textbox"];for(var E=0,B=D.length;E<B;E++){F.addRule("olv\\:"+D[E],"behavior: url(#default#VML); position: absolute; display: inline-block;")}}OpenLayers.Renderer.Elements.prototype.initialize.apply(this,arguments)},supported:function(){return !!(document.namespaces)},setExtent:function(K,C){var B=OpenLayers.Renderer.Elements.prototype.setExtent.apply(this,arguments);var E=this.getResolution();var D=(K.left/E)|0;var I=(K.top/E-this.size.h)|0;if(C||!this.offset){this.offset={x:D,y:I};D=0;I=0}else{D=D-this.offset.x;I=I-this.offset.y}var M=(D-this.xOffset)+" "+I;this.root.coordorigin=M;var J=[this.root,this.vectorRoot,this.textRoot];var H;for(var F=0,G=J.length;F<G;++F){H=J[F];var L=this.size.w+" "+this.size.h;H.coordsize=L}this.root.style.flip="y";return B},setSize:function(G){OpenLayers.Renderer.prototype.setSize.apply(this,arguments);var E=[this.rendererRoot,this.root,this.vectorRoot,this.textRoot];var D=this.size.w+"px";var H=this.size.h+"px";var C;for(var F=0,B=E.length;F<B;++F){C=E[F];C.style.width=D;C.style.height=H}},getNodeType:function(D,C){var B=null;switch(D.CLASS_NAME){case"OpenLayers.Geometry.Point":if(C.externalGraphic){B="olv:rect"}else{if(this.isComplexSymbol(C.graphicName)){B="olv:shape"}else{B="olv:oval"}}break;case"OpenLayers.Geometry.Rectangle":B="olv:rect";break;case"OpenLayers.Geometry.LineString":case"OpenLayers.Geometry.LinearRing":case"OpenLayers.Geometry.Polygon":case"OpenLayers.Geometry.Curve":B="olv:shape";break;default:break}return B},setStyle:function(F,C,R,L){C=C||F._style;R=R||F._options;var D=C.fillColor;if(F._geometryClass==="OpenLayers.Geometry.Point"){if(C.externalGraphic){R.isFilled=true;if(C.graphicTitle){F.title=C.graphicTitle}var E=C.graphicWidth||C.graphicHeight;var M=C.graphicHeight||C.graphicWidth;E=E?E:C.pointRadius*2;M=M?M:C.pointRadius*2;var H=this.getResolution();var J=(C.graphicXOffset!=undefined)?C.graphicXOffset:-(0.5*E);var G=(C.graphicYOffset!=undefined)?C.graphicYOffset:-(0.5*M);F.style.left=((((L.x-this.featureDx)/H-this.offset.x)+J)|0)+"px";F.style.top=(((L.y/H-this.offset.y)-(G+M))|0)+"px";F.style.width=E+"px";F.style.height=M+"px";F.style.flip="y";D="none";R.isStroked=false}else{if(this.isComplexSymbol(C.graphicName)){var B=this.importSymbol(C.graphicName);F.path=B.path;F.coordorigin=B.left+","+B.bottom;var Q=B.size;F.coordsize=Q+","+Q;this.drawCircle(F,L,C.pointRadius);F.style.flip="y"}else{this.drawCircle(F,L,C.pointRadius)}}}if(R.isFilled){F.fillcolor=D}else{F.filled="false"}var K=F.getElementsByTagName("fill");var P=(K.length==0)?null:K[0];if(!R.isFilled){if(P){F.removeChild(P)}}else{if(!P){P=this.createNode("olv:fill",F.id+"_fill")}P.opacity=C.fillOpacity;if(F._geometryClass==="OpenLayers.Geometry.Point"&&C.externalGraphic){if(C.graphicOpacity){P.opacity=C.graphicOpacity}P.src=C.externalGraphic;P.type="frame";if(!(C.graphicWidth&&C.graphicHeight)){P.aspect="atmost"}}if(P.parentNode!=F){F.appendChild(P)}}var O=C.rotation;if((O!==undefined||F._rotation!==undefined)){F._rotation=O;if(C.externalGraphic){this.graphicRotate(F,J,G,C);P.opacity=0}else{if(F._geometryClass==="OpenLayers.Geometry.Point"){F.style.rotation=O||0}}}var I=F.getElementsByTagName("stroke");var N=(I.length==0)?null:I[0];if(!R.isStroked){F.stroked=false;if(N){N.on=false}}else{if(!N){N=this.createNode("olv:stroke",F.id+"_stroke");F.appendChild(N)}N.on=true;N.color=C.strokeColor;N.weight=C.strokeWidth+"px";N.opacity=C.strokeOpacity;N.endcap=C.strokeLinecap=="butt"?"flat":(C.strokeLinecap||"round");if(C.strokeDashstyle){N.dashstyle=this.dashStyle(C)}}if(C.cursor!="inherit"&&C.cursor!=null){F.style.cursor=C.cursor}return F},graphicRotate:function(O,S,F,R){var R=R||O._style;var P=R.rotation||0;var B,K;if(!(R.graphicWidth&&R.graphicHeight)){var T=new Image();T.onreadystatechange=OpenLayers.Function.bind(function(){if(T.readyState=="complete"||T.readyState=="interactive"){B=T.width/T.height;K=Math.max(R.pointRadius*2,R.graphicWidth||0,R.graphicHeight||0);S=S*B;R.graphicWidth=K*B;R.graphicHeight=K;this.graphicRotate(O,S,F,R)}},this);T.src=R.externalGraphic;return }else{K=Math.max(R.graphicWidth,R.graphicHeight);B=R.graphicWidth/R.graphicHeight}var N=Math.round(R.graphicWidth||K*B);var L=Math.round(R.graphicHeight||K);O.style.width=N+"px";O.style.height=L+"px";var M=document.getElementById(O.id+"_image");if(!M){M=this.createNode("olv:imagedata",O.id+"_image");O.appendChild(M)}M.style.width=N+"px";M.style.height=L+"px";M.src=R.externalGraphic;M.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='', sizingMethod='scale')";var G=P*Math.PI/180;var I=Math.sin(G);var E=Math.cos(G);var H="progid:DXImageTransform.Microsoft.Matrix(M11="+E+",M12="+(-I)+",M21="+I+",M22="+E+",SizingMethod='auto expand')\n";var C=R.graphicOpacity||R.fillOpacity;if(C&&C!=1){H+="progid:DXImageTransform.Microsoft.BasicImage(opacity="+C+")\n"}O.style.filter=H;var Q=new OpenLayers.Geometry.Point(-S,-F);var D=new OpenLayers.Bounds(0,0,N,L).toGeometry();D.rotate(R.rotation,Q);var J=D.getBounds();O.style.left=Math.round(parseInt(O.style.left)+J.left)+"px";O.style.top=Math.round(parseInt(O.style.top)-J.bottom)+"px"},postDraw:function(B){B.style.visibility="visible";var D=B._style.fillColor;var C=B._style.strokeColor;if(D=="none"&&B.fillcolor!=D){B.fillcolor=D}if(C=="none"&&B.strokecolor!=C){B.strokecolor=C}},setNodeDimension:function(C,F){var E=F.getBounds();if(E){var B=this.getResolution();var D=new OpenLayers.Bounds(((E.left-this.featureDx)/B-this.offset.x)|0,(E.bottom/B-this.offset.y)|0,((E.right-this.featureDx)/B-this.offset.x)|0,(E.top/B-this.offset.y)|0);C.style.left=D.left+"px";C.style.top=D.top+"px";C.style.width=D.getWidth()+"px";C.style.height=D.getHeight()+"px";C.coordorigin=D.left+" "+D.top;C.coordsize=D.getWidth()+" "+D.getHeight()}},dashStyle:function(B){var D=B.strokeDashstyle;switch(D){case"solid":case"dot":case"dash":case"dashdot":case"longdash":case"longdashdot":return D;default:var C=D.split(/[ ,]/);if(C.length==2){if(1*C[0]>=2*C[1]){return"longdash"}return(C[0]==1||C[1]==1)?"dot":"dash"}else{if(C.length==4){return(1*C[0]>=2*C[1])?"longdashdot":"dashdot"}}return"solid"}},createNode:function(B,D){var C=document.createElement(B);if(D){C.id=D}C.unselectable="on";C.onselectstart=OpenLayers.Function.False;return C},nodeTypeCompare:function(D,C){var E=C;var B=E.indexOf(":");if(B!=-1){E=E.substr(B+1)}var F=D.nodeName;B=F.indexOf(":");if(B!=-1){F=F.substr(B+1)}return(E==F)},createRenderRoot:function(){return this.nodeFactory(this.container.id+"_vmlRoot","div")},createRoot:function(B){return this.nodeFactory(this.container.id+B,"olv:group")},drawPoint:function(B,C){return this.drawCircle(B,C,1)},drawCircle:function(E,F,B){if(!isNaN(F.x)&&!isNaN(F.y)){var C=this.getResolution();E.style.left=((((F.x-this.featureDx)/C-this.offset.x)|0)-B)+"px";E.style.top=(((F.y/C-this.offset.y)|0)-B)+"px";var D=B*2;E.style.width=D+"px";E.style.height=D+"px";return E}return false},drawLineString:function(B,C){return this.drawLine(B,C,false)},drawLinearRing:function(B,C){return this.drawLine(B,C,true)},drawLine:function(C,K,H){this.setNodeDimension(C,K);var D=this.getResolution();var B=K.components.length;var F=new Array(B);var I,L,J;for(var G=0;G<B;G++){I=K.components[G];L=((I.x-this.featureDx)/D-this.offset.x)|0;J=(I.y/D-this.offset.y)|0;F[G]=" "+L+","+J+" l "}var E=(H)?" x e":" e";C.path="m"+F.join("")+E;return C},drawPolygon:function(D,L){this.setNodeDimension(D,L);var E=this.getResolution();var Q=[];var F,J,N,B,H,C,G,P,I,O,M,K;for(F=0,J=L.components.length;F<J;F++){Q.push("m");N=L.components[F].components;B=(F===0);H=null;C=null;for(G=0,P=N.length;G<P;G++){I=N[G];M=((I.x-this.featureDx)/E-this.offset.x)|0;K=(I.y/E-this.offset.y)|0;O=" "+M+","+K;Q.push(O);if(G==0){Q.push(" l")}if(!B){if(!H){H=O}else{if(H!=O){if(!C){C=O}else{if(C!=O){B=true}}}}}}Q.push(B?" x ":" ")}Q.push("e");D.path=Q.join("");return D},drawRectangle:function(C,D){var B=this.getResolution();C.style.left=(((D.x-this.featureDx)/B-this.offset.x)|0)+"px";C.style.top=((D.y/B-this.offset.y)|0)+"px";C.style.width=((D.width/B)|0)+"px";C.style.height=((D.height/B)|0)+"px";return C},drawText:function(E,B,I){var H=this.nodeFactory(E+this.LABEL_ID_SUFFIX,"olv:rect");var G=this.nodeFactory(E+this.LABEL_ID_SUFFIX+"_textbox","olv:textbox");var D=this.getResolution();H.style.left=(((I.x-this.featureDx)/D-this.offset.x)|0)+"px";H.style.top=((I.y/D-this.offset.y)|0)+"px";H.style.flip="y";G.innerText=B.label;if(B.cursor!="inherit"&&B.cursor!=null){G.style.cursor=B.cursor}if(B.fontColor){G.style.color=B.fontColor}if(B.fontOpacity){G.style.filter="alpha(opacity="+(B.fontOpacity*100)+")"}if(B.fontFamily){G.style.fontFamily=B.fontFamily}if(B.fontSize){G.style.fontSize=B.fontSize}if(B.fontWeight){G.style.fontWeight=B.fontWeight}if(B.fontStyle){G.style.fontStyle=B.fontStyle}if(B.labelSelect===true){H._featureId=E;G._featureId=E;G._geometry=I;G._geometryClass=I.CLASS_NAME}G.style.whiteSpace="nowrap";G.inset="1px,0px,0px,0px";if(!H.parentNode){H.appendChild(G);this.textRoot.appendChild(H)}var F=B.labelAlign||"cm";if(F.length==1){F+="m"}var J=G.clientWidth*(OpenLayers.Renderer.VML.LABEL_SHIFT[F.substr(0,1)]);var C=G.clientHeight*(OpenLayers.Renderer.VML.LABEL_SHIFT[F.substr(1,1)]);H.style.left=parseInt(H.style.left)-J-1+"px";H.style.top=parseInt(H.style.top)+C+"px"},moveRoot:function(C){var B=this.map.getLayer(C.container.id);if(B instanceof OpenLayers.Layer.Vector.RootContainer){B=this.map.getLayer(this.container.id)}B&&B.renderer.clear();OpenLayers.Renderer.Elements.prototype.moveRoot.apply(this,arguments);B&&B.redraw()},importSymbol:function(E){var C=this.container.id+"-"+E;var B=this.symbolCache[C];if(B){return B}var D=OpenLayers.Renderer.symbol[E];if(!D){throw new Error(E+" is not a valid symbol name")}var K=new OpenLayers.Bounds(Number.MAX_VALUE,Number.MAX_VALUE,0,0);var F=["m"];for(var G=0;G<D.length;G=G+2){var I=D[G];var H=D[G+1];K.left=Math.min(K.left,I);K.bottom=Math.min(K.bottom,H);K.right=Math.max(K.right,I);K.top=Math.max(K.top,H);F.push(I);F.push(H);if(G==0){F.push("l")}}F.push("x e");var L=F.join(" ");var J=(K.getWidth()-K.getHeight())/2;if(J>0){K.bottom=K.bottom-J;K.top=K.top+J}else{K.left=K.left+J;K.right=K.right-J}B={path:L,size:K.getWidth(),left:K.left,bottom:K.bottom};this.symbolCache[C]=B;return B},CLASS_NAME:"OpenLayers.Renderer.VML"});OpenLayers.Renderer.VML.LABEL_SHIFT={l:0,c:0.5,r:1,t:0,m:0.5,b:1};OpenLayers.Protocol.WFS.v1_0_0=OpenLayers.Class(OpenLayers.Protocol.WFS.v1,{version:"1.0.0",CLASS_NAME:"OpenLayers.Protocol.WFS.v1_0_0"});OpenLayers.Handler.RegularPolygon=OpenLayers.Class(OpenLayers.Handler.Drag,{sides:4,radius:null,snapAngle:null,snapToggle:"shiftKey",layerOptions:null,persist:false,irregular:false,citeCompliant:false,angle:null,fixedRadius:false,feature:null,layer:null,origin:null,initialize:function(D,C,B){if(!(B&&B.layerOptions&&B.layerOptions.styleMap)){this.style=OpenLayers.Util.extend(OpenLayers.Feature.Vector.style["default"],{})}OpenLayers.Handler.Drag.prototype.initialize.apply(this,[D,C,B]);this.options=(B)?B:{}},setOptions:function(B){OpenLayers.Util.extend(this.options,B);OpenLayers.Util.extend(this,B)},activate:function(){var B=false;if(OpenLayers.Handler.Drag.prototype.activate.apply(this,arguments)){var C=OpenLayers.Util.extend({displayInLayerSwitcher:false,calculateInRange:OpenLayers.Function.True,wrapDateLine:this.citeCompliant},this.layerOptions);this.layer=new OpenLayers.Layer.Vector(this.CLASS_NAME,C);this.map.addLayer(this.layer);B=true}return B},deactivate:function(){var B=false;if(OpenLayers.Handler.Drag.prototype.deactivate.apply(this,arguments)){if(this.dragging){this.cancel()}if(this.layer.map!=null){this.layer.destroy(false);if(this.feature){this.feature.destroy()}}this.layer=null;this.feature=null;B=true}return B},down:function(B){this.fixedRadius=!!(this.radius);var C=this.layer.getLonLatFromViewPortPx(B.xy);this.origin=new OpenLayers.Geometry.Point(C.lon,C.lat);if(!this.fixedRadius||this.irregular){this.radius=this.map.getResolution()}if(this.persist){this.clear()}this.feature=new OpenLayers.Feature.Vector();this.createGeometry();this.callback("create",[this.origin,this.feature]);this.layer.addFeatures([this.feature],{silent:true});this.layer.drawFeature(this.feature,this.style)},move:function(D){var G=this.layer.getLonLatFromViewPortPx(D.xy);var B=new OpenLayers.Geometry.Point(G.lon,G.lat);if(this.irregular){var H=Math.sqrt(2)*Math.abs(B.y-this.origin.y)/2;this.radius=Math.max(this.map.getResolution()/2,H)}else{if(this.fixedRadius){this.origin=B}else{this.calculateAngle(B,D);this.radius=Math.max(this.map.getResolution()/2,B.distanceTo(this.origin))}}this.modifyGeometry();if(this.irregular){var E=B.x-this.origin.x;var C=B.y-this.origin.y;var F;if(C==0){F=E/(this.radius*Math.sqrt(2))}else{F=E/C}this.feature.geometry.resize(1,this.origin,F);this.feature.geometry.move(E/2,C/2)}this.layer.drawFeature(this.feature,this.style)},up:function(B){this.finalize();if(this.start==this.last){this.callback("done",[B.xy])}},out:function(B){this.finalize()},createGeometry:function(){this.angle=Math.PI*((1/this.sides)-(1/2));if(this.snapAngle){this.angle+=this.snapAngle*(Math.PI/180)}this.feature.geometry=OpenLayers.Geometry.Polygon.createRegularPolygon(this.origin,this.radius,this.sides,this.snapAngle)},modifyGeometry:function(){var E,B;var C=this.feature.geometry.components[0];if(C.components.length!=(this.sides+1)){this.createGeometry();C=this.feature.geometry.components[0]}for(var D=0;D<this.sides;++D){B=C.components[D];E=this.angle+(D*2*Math.PI/this.sides);B.x=this.origin.x+(this.radius*Math.cos(E));B.y=this.origin.y+(this.radius*Math.sin(E));B.clearBounds()}},calculateAngle:function(B,C){var E=Math.atan2(B.y-this.origin.y,B.x-this.origin.x);if(this.snapAngle&&(this.snapToggle&&!C[this.snapToggle])){var D=(Math.PI/180)*this.snapAngle;this.angle=Math.round(E/D)*D}else{this.angle=E}},cancel:function(){this.callback("cancel",null);this.finalize()},finalize:function(){this.origin=null;this.radius=this.options.radius},clear:function(){if(this.layer){this.layer.renderer.clear();this.layer.destroyFeatures()}},callback:function(C,B){if(this.callbacks[C]){this.callbacks[C].apply(this.control,[this.feature.geometry.clone()])}if(!this.persist&&(C=="done"||C=="cancel")){this.clear()}},CLASS_NAME:"OpenLayers.Handler.RegularPolygon"});OpenLayers.Handler.Feature=OpenLayers.Class(OpenLayers.Handler,{EVENTMAP:{click:{"in":"click",out:"clickout"},mousemove:{"in":"over",out:"out"},dblclick:{"in":"dblclick",out:null},mousedown:{"in":null,out:null},mouseup:{"in":null,out:null},touchstart:{"in":"click",out:"clickout"}},feature:null,lastFeature:null,down:null,up:null,touch:false,clickTolerance:4,geometryTypes:null,stopClick:true,stopDown:true,stopUp:false,initialize:function(E,C,D,B){OpenLayers.Handler.prototype.initialize.apply(this,[E,D,B]);this.layer=C},touchstart:function(B){if(!this.touch){this.touch=true;this.map.events.un({mousedown:this.mousedown,mouseup:this.mouseup,mousemove:this.mousemove,click:this.click,dblclick:this.dblclick,scope:this})}return OpenLayers.Event.isMultiTouch(B)?true:this.mousedown(B)},touchmove:function(B){OpenLayers.Event.stop(B)},mousedown:function(B){if(OpenLayers.Event.isLeftClick(B)||OpenLayers.Event.isSingleTouch(B)){this.down=B.xy}return this.handle(B)?!this.stopDown:true},mouseup:function(B){this.up=B.xy;return this.handle(B)?!this.stopUp:true},click:function(B){return this.handle(B)?!this.stopClick:true},mousemove:function(B){if(!this.callbacks.over&&!this.callbacks.out){return true}this.handle(B);return true},dblclick:function(B){return !this.handle(B)},geometryTypeMatches:function(B){return this.geometryTypes==null||OpenLayers.Util.indexOf(this.geometryTypes,B.geometry.CLASS_NAME)>-1},handle:function(B){if(this.feature&&!this.feature.layer){this.feature=null}var D=B.type;var G=false;var F=!!(this.feature);var E=(D=="click"||D=="dblclick"||D=="touchstart");this.feature=this.layer.getFeatureFromEvent(B);if(this.feature&&!this.feature.layer){this.feature=null}if(this.lastFeature&&!this.lastFeature.layer){this.lastFeature=null}if(this.feature){if(D==="touchstart"){OpenLayers.Event.stop(B)}var C=(this.feature!=this.lastFeature);if(this.geometryTypeMatches(this.feature)){if(F&&C){if(this.lastFeature){this.triggerCallback(D,"out",[this.lastFeature])}this.triggerCallback(D,"in",[this.feature])}else{if(!F||E){this.triggerCallback(D,"in",[this.feature])}}this.lastFeature=this.feature;G=true}else{if(this.lastFeature&&(F&&C||E)){this.triggerCallback(D,"out",[this.lastFeature])}this.feature=null}}else{if(this.lastFeature&&(F||E)){this.triggerCallback(D,"out",[this.lastFeature])}}return G},triggerCallback:function(E,F,C){var D=this.EVENTMAP[E][F];if(D){if(E=="click"&&this.up&&this.down){var B=Math.sqrt(Math.pow(this.up.x-this.down.x,2)+Math.pow(this.up.y-this.down.y,2));if(B<=this.clickTolerance){this.callback(D,C)}}else{this.callback(D,C)}}},activate:function(){var B=false;if(OpenLayers.Handler.prototype.activate.apply(this,arguments)){this.moveLayerToTop();this.map.events.on({removelayer:this.handleMapEvents,changelayer:this.handleMapEvents,scope:this});B=true}return B},deactivate:function(){var B=false;if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){this.moveLayerBack();this.feature=null;this.lastFeature=null;this.down=null;this.up=null;this.touch=false;this.map.events.un({removelayer:this.handleMapEvents,changelayer:this.handleMapEvents,scope:this});B=true}return B},handleMapEvents:function(B){if(B.type=="removelayer"||B.property=="order"){this.moveLayerToTop()}},moveLayerToTop:function(){var B=Math.max(this.map.Z_INDEX_BASE.Feature-1,this.layer.getZIndex())+1;this.layer.setZIndex(B)},moveLayerBack:function(){var B=this.layer.getZIndex()-1;if(B>=this.map.Z_INDEX_BASE.Feature){this.layer.setZIndex(B)}else{this.map.setLayerZIndex(this.layer,this.map.getLayerIndex(this.layer))}},CLASS_NAME:"OpenLayers.Handler.Feature"});OpenLayers.Control.DragFeature=OpenLayers.Class(OpenLayers.Control,{geometryTypes:null,onStart:function(C,B){},onDrag:function(C,B){},onComplete:function(C,B){},onEnter:function(B){},onLeave:function(B){},documentDrag:false,layer:null,feature:null,dragCallbacks:{},featureCallbacks:{},lastPixel:null,initialize:function(C,B){OpenLayers.Control.prototype.initialize.apply(this,[B]);this.layer=C;this.handlers={drag:new OpenLayers.Handler.Drag(this,OpenLayers.Util.extend({down:this.downFeature,move:this.moveFeature,up:this.upFeature,out:this.cancel,done:this.doneDragging},this.dragCallbacks),{documentDrag:this.documentDrag}),feature:new OpenLayers.Handler.Feature(this,this.layer,OpenLayers.Util.extend({click:this.clickFeature,clickout:this.clickoutFeature,over:this.overFeature,out:this.outFeature},this.featureCallbacks),{geometryTypes:this.geometryTypes})}},clickFeature:function(B){if(this.handlers.feature.touch&&!this.over&&this.overFeature(B)){this.handlers.drag.dragstart(this.handlers.feature.evt);this.handlers.drag.stopDown=false}},clickoutFeature:function(B){if(this.handlers.feature.touch&&this.over){this.outFeature(B);this.handlers.drag.stopDown=true}},destroy:function(){this.layer=null;OpenLayers.Control.prototype.destroy.apply(this,[])},activate:function(){return(this.handlers.feature.activate()&&OpenLayers.Control.prototype.activate.apply(this,arguments))},deactivate:function(){this.handlers.drag.deactivate();this.handlers.feature.deactivate();this.feature=null;this.dragging=false;this.lastPixel=null;OpenLayers.Element.removeClass(this.map.viewPortDiv,this.displayClass+"Over");return OpenLayers.Control.prototype.deactivate.apply(this,arguments)},overFeature:function(C){var B=false;if(!this.handlers.drag.dragging){this.feature=C;this.handlers.drag.activate();B=true;this.over=true;OpenLayers.Element.addClass(this.map.viewPortDiv,this.displayClass+"Over");this.onEnter(C)}else{if(this.feature.id==C.id){this.over=true}else{this.over=false}}return B},downFeature:function(B){this.lastPixel=B;this.onStart(this.feature,B)},moveFeature:function(B){var C=this.map.getResolution();this.feature.geometry.move(C*(B.x-this.lastPixel.x),C*(this.lastPixel.y-B.y));this.layer.drawFeature(this.feature);this.lastPixel=B;this.onDrag(this.feature,B)},upFeature:function(B){if(!this.over){this.handlers.drag.deactivate()}},doneDragging:function(B){this.onComplete(this.feature,B)},outFeature:function(B){if(!this.handlers.drag.dragging){this.over=false;this.handlers.drag.deactivate();OpenLayers.Element.removeClass(this.map.viewPortDiv,this.displayClass+"Over");this.onLeave(B);this.feature=null}else{if(this.feature.id==B.id){this.over=false}}},cancel:function(){this.handlers.drag.deactivate();this.over=false},setMap:function(B){this.handlers.drag.setMap(B);this.handlers.feature.setMap(B);OpenLayers.Control.prototype.setMap.apply(this,arguments)},CLASS_NAME:"OpenLayers.Control.DragFeature"});OpenLayers.Handler.Polygon=OpenLayers.Class(OpenLayers.Handler.Path,{holeModifier:null,drawingHole:false,polygon:null,createFeature:function(B){var C=this.layer.getLonLatFromViewPortPx(B);var D=new OpenLayers.Geometry.Point(C.lon,C.lat);this.point=new OpenLayers.Feature.Vector(D);this.line=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LinearRing([this.point.geometry]));this.polygon=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Polygon([this.line.geometry]));this.callback("create",[this.point.geometry,this.getSketch()]);this.point.geometry.clearBounds();this.layer.addFeatures([this.polygon,this.point],{silent:true})},addPoint:function(B){if(!this.drawingHole&&this.holeModifier&&this.evt&&this.evt[this.holeModifier]){var G=this.point.geometry;var F=this.control.layer.features;var E,D;for(var C=F.length-1;C>=0;--C){E=F[C].geometry;if((E instanceof OpenLayers.Geometry.Polygon||E instanceof OpenLayers.Geometry.MultiPolygon)&&E.intersects(G)){D=F[C];this.control.layer.removeFeatures([D],{silent:true});this.control.layer.events.registerPriority("sketchcomplete",this,this.finalizeInteriorRing);this.control.layer.events.registerPriority("sketchmodified",this,this.enforceTopology);D.geometry.addComponent(this.line.geometry);this.polygon=D;this.drawingHole=true;break}}}OpenLayers.Handler.Path.prototype.addPoint.apply(this,arguments)},getCurrentPointIndex:function(){return this.line.geometry.components.length-2},enforceTopology:function(E){var B=E.vertex;var D=this.line.geometry.components;if(!this.polygon.geometry.intersects(B)){var C=D[D.length-3];B.x=C.x;B.y=C.y}},finishGeometry:function(){var B=this.line.geometry.components.length-2;this.line.geometry.removeComponent(this.line.geometry.components[B]);this.removePoint();this.finalize()},finalizeInteriorRing:function(){var D=this.line.geometry;var C=(D.getArea()!==0);if(C){var I=this.polygon.geometry.components;for(var E=I.length-2;E>=0;--E){if(D.intersects(I[E])){C=false;break}}if(C){var H;outer:for(var E=I.length-2;E>0;--E){var F=I[E].components;for(var B=0,G=F.length;B<G;++B){if(D.containsPoint(F[B])){C=false;break outer}}}}}if(C){if(this.polygon.state!==OpenLayers.State.INSERT){this.polygon.state=OpenLayers.State.UPDATE}}else{this.polygon.geometry.removeComponent(D)}this.restoreFeature();return false},cancel:function(){if(this.drawingHole){this.polygon.geometry.removeComponent(this.line.geometry);this.restoreFeature(true)}return OpenLayers.Handler.Path.prototype.cancel.apply(this,arguments)},restoreFeature:function(B){this.control.layer.events.unregister("sketchcomplete",this,this.finalizeInteriorRing);this.control.layer.events.unregister("sketchmodified",this,this.enforceTopology);this.layer.removeFeatures([this.polygon],{silent:true});this.control.layer.addFeatures([this.polygon],{silent:true});this.drawingHole=false;if(!B){this.control.layer.events.triggerEvent("sketchcomplete",{feature:this.polygon})}},destroyFeature:function(B){OpenLayers.Handler.Path.prototype.destroyFeature.call(this,B);this.polygon=null},drawFeature:function(){this.layer.drawFeature(this.polygon,this.style);this.layer.drawFeature(this.point,this.style)},getSketch:function(){return this.polygon},getGeometry:function(){var B=this.polygon&&this.polygon.geometry;if(B&&this.multi){B=new OpenLayers.Geometry.MultiPolygon([B])}return B},CLASS_NAME:"OpenLayers.Handler.Polygon"});OpenLayers.Class.isPrototype=function(){};OpenLayers.Class.create=function(){return function(){if(arguments&&arguments[0]!=OpenLayers.Class.isPrototype){this.initialize.apply(this,arguments)}}};OpenLayers.Class.inherit=function(D){var E=function(){D.call(this)};var B=[E].concat(Array.prototype.slice.call(arguments));OpenLayers.inherit.apply(null,B);return E.prototype};OpenLayers.Util.clearArray=function(B){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"array = []"}));B.length=0};OpenLayers.Util.setOpacity=function(C,B){OpenLayers.Util.modifyDOMElement(C,null,null,null,null,null,null,B)};OpenLayers.Util.safeStopPropagation=function(B){OpenLayers.Event.stop(B,true)};OpenLayers.Util.getArgs=function(B){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.Util.getParameters"}));return OpenLayers.Util.getParameters(B)};OpenLayers.nullHandler=function(B){OpenLayers.Console.userError(OpenLayers.i18n("unhandledRequest",{statusText:B.statusText}))};OpenLayers.loadURL=function(E,H,C,F,D){if(typeof H=="string"){H=OpenLayers.Util.getParameters(H)}var G=(F)?F:OpenLayers.nullHandler;var B=(D)?D:OpenLayers.nullHandler;return OpenLayers.Request.GET({url:E,params:H,success:G,failure:B,scope:C})};OpenLayers.parseXMLString=function(D){var B=D.indexOf("<");if(B>0){D=D.substring(B)}var C=OpenLayers.Util.Try(function(){var E=new ActiveXObject("Microsoft.XMLDOM");E.loadXML(D);return E},function(){return new DOMParser().parseFromString(D,"text/xml")},function(){var E=new XMLHttpRequest();E.open("GET","data:text/xml;charset=utf-8,"+encodeURIComponent(D),false);if(E.overrideMimeType){E.overrideMimeType("text/xml")}E.send(null);return E.responseXML});return C};OpenLayers.Ajax={emptyFunction:function(){},getTransport:function(){return OpenLayers.Util.Try(function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||false},activeRequestCount:0};OpenLayers.Ajax.Responders={responders:[],register:function(C){for(var B=0;B<this.responders.length;B++){if(C==this.responders[B]){return }}this.responders.push(C)},unregister:function(B){OpenLayers.Util.removeItem(this.reponders,B)},dispatch:function(G,D,F){var B;for(var C=0;C<this.responders.length;C++){B=this.responders[C];if(B[G]&&typeof B[G]=="function"){try{B[G].apply(B,[D,F])}catch(E){}}}}};OpenLayers.Ajax.Responders.register({onCreate:function(){OpenLayers.Ajax.activeRequestCount++},onComplete:function(){OpenLayers.Ajax.activeRequestCount--}});OpenLayers.Ajax.Base=OpenLayers.Class({initialize:function(B){this.options={method:"post",asynchronous:true,contentType:"application/xml",parameters:""};OpenLayers.Util.extend(this.options,B||{});this.options.method=this.options.method.toLowerCase();if(typeof this.options.parameters=="string"){this.options.parameters=OpenLayers.Util.getParameters(this.options.parameters)}}});OpenLayers.Ajax.Request=OpenLayers.Class(OpenLayers.Ajax.Base,{_complete:false,initialize:function(C,B){OpenLayers.Ajax.Base.prototype.initialize.apply(this,[B]);if(OpenLayers.ProxyHost&&OpenLayers.String.startsWith(C,"http")){C=OpenLayers.ProxyHost+encodeURIComponent(C)}this.transport=OpenLayers.Ajax.getTransport();this.request(C)},request:function(C){this.url=C;this.method=this.options.method;var E=OpenLayers.Util.extend({},this.options.parameters);if(this.method!="get"&&this.method!="post"){E._method=this.method;this.method="post"}this.parameters=E;if(E=OpenLayers.Util.getParameterString(E)){if(this.method=="get"){this.url+=((this.url.indexOf("?")>-1)?"&":"?")+E}else{if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){E+="&_="}}}try{var B=new OpenLayers.Ajax.Response(this);if(this.options.onCreate){this.options.onCreate(B)}OpenLayers.Ajax.Responders.dispatch("onCreate",this,B);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous){window.setTimeout(OpenLayers.Function.bind(this.respondToReadyState,this,1),10)}this.transport.onreadystatechange=OpenLayers.Function.bind(this.onStateChange,this);this.setRequestHeaders();this.body=this.method=="post"?(this.options.postBody||E):null;this.transport.send(this.body);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange()}}catch(D){this.dispatchException(D)}},onStateChange:function(){var B=this.transport.readyState;if(B>1&&!((B==4)&&this._complete)){this.respondToReadyState(this.transport.readyState)}},setRequestHeaders:function(){var F={"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*",OpenLayers:true};if(this.method=="post"){F["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){F.Connection="close"}}if(typeof this.options.requestHeaders=="object"){var D=this.options.requestHeaders;if(typeof D.push=="function"){for(var C=0,E=D.length;C<E;C+=2){F[D[C]]=D[C+1]}}else{for(var C in D){F[C]=D[C]}}}for(var B in F){this.transport.setRequestHeader(B,F[B])}},success:function(){var B=this.getStatus();return !B||(B>=200&&B<300)},getStatus:function(){try{return this.transport.status||0}catch(B){return 0}},respondToReadyState:function(B){var D=OpenLayers.Ajax.Request.Events[B];var C=new OpenLayers.Ajax.Response(this);if(D=="Complete"){try{this._complete=true;(this.options["on"+C.status]||this.options["on"+(this.success()?"Success":"Failure")]||OpenLayers.Ajax.emptyFunction)(C)}catch(E){this.dispatchException(E)}var F=C.getHeader("Content-type")}try{(this.options["on"+D]||OpenLayers.Ajax.emptyFunction)(C);OpenLayers.Ajax.Responders.dispatch("on"+D,this,C)}catch(E){this.dispatchException(E)}if(D=="Complete"){this.transport.onreadystatechange=OpenLayers.Ajax.emptyFunction}},getHeader:function(B){try{return this.transport.getResponseHeader(B)}catch(C){return null}},dispatchException:function(D){var E=this.options.onException;if(E){E(this,D);OpenLayers.Ajax.Responders.dispatch("onException",this,D)}else{var F=false;var B=OpenLayers.Ajax.Responders.responders;for(var C=0;C<B.length;C++){if(B[C].onException){F=true;break}}if(F){OpenLayers.Ajax.Responders.dispatch("onException",this,D)}else{throw D}}}});OpenLayers.Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];OpenLayers.Ajax.Response=OpenLayers.Class({status:0,statusText:"",initialize:function(D){this.request=D;var E=this.transport=D.transport,B=this.readyState=E.readyState;if((B>2&&!(!!(window.attachEvent&&!window.opera)))||B==4){this.status=this.getStatus();this.statusText=this.getStatusText();this.responseText=E.responseText==null?"":String(E.responseText)}if(B==4){var C=E.responseXML;this.responseXML=C===undefined?null:C}},getStatus:OpenLayers.Ajax.Request.prototype.getStatus,getStatusText:function(){try{return this.transport.statusText||""}catch(B){return""}},getHeader:OpenLayers.Ajax.Request.prototype.getHeader,getResponseHeader:function(B){return this.transport.getResponseHeader(B)}});OpenLayers.Ajax.getElementsByTagNameNS=function(C,B,D,F){var E=null;if(C.getElementsByTagNameNS){E=C.getElementsByTagNameNS(B,F)}else{E=C.getElementsByTagName(D+":"+F)}return E};OpenLayers.Ajax.serializeXMLToString=function(B){var C=new XMLSerializer();var D=C.serializeToString(B);return D};OpenLayers.Util.extend(OpenLayers.Element,{hide:function(){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"element.style.display = 'none';"}));for(var D=0,B=arguments.length;D<B;D++){var C=OpenLayers.Util.getElement(arguments[D]);if(C){C.style.display="none"}}},show:function(){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"element.style.display = '';"}));for(var D=0,B=arguments.length;D<B;D++){var C=OpenLayers.Util.getElement(arguments[D]);if(C){C.style.display=""}}},getDimensions:function(D){D=OpenLayers.Util.getElement(D);if(OpenLayers.Element.getStyle(D,"display")!="none"){return{width:D.offsetWidth,height:D.offsetHeight}}var C=D.style;var G=C.visibility;var E=C.position;var B=C.display;C.visibility="hidden";C.position="absolute";C.display="";var H=D.clientWidth;var F=D.clientHeight;C.display=B;C.position=E;C.visibility=G;return{width:H,height:F}}});if(!String.prototype.startsWith){String.prototype.startsWith=function(B){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.String.startsWith"}));return OpenLayers.String.startsWith(this,B)}}if(!String.prototype.contains){String.prototype.contains=function(B){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.String.contains"}));return OpenLayers.String.contains(this,B)}}if(!String.prototype.trim){String.prototype.trim=function(){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.String.trim"}));return OpenLayers.String.trim(this)}}if(!String.prototype.camelize){String.prototype.camelize=function(){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.String.camelize"}));return OpenLayers.String.camelize(this)}}if(!Function.prototype.bind){Function.prototype.bind=function(){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.Function.bind"}));Array.prototype.unshift.apply(arguments,[this]);return OpenLayers.Function.bind.apply(null,arguments)}}if(!Function.prototype.bindAsEventListener){Function.prototype.bindAsEventListener=function(B){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.Function.bindAsEventListener"}));return OpenLayers.Function.bindAsEventListener(this,B)}}if(window.Event){OpenLayers.Util.applyDefaults(window.Event,OpenLayers.Event)}else{var Event=OpenLayers.Event}OpenLayers.Util.extend(OpenLayers.Tile.prototype,{getBoundsFromBaseLayer:function(B){var G=OpenLayers.i18n("reprojectDeprecated",{layerName:this.layer.name});OpenLayers.Console.warn(G);var E=this.layer.map.getLonLatFromLayerPx(B);var D=B.clone();D.x+=this.size.w;D.y+=this.size.h;var C=this.layer.map.getLonLatFromLayerPx(D);if(E.lon>C.lon){if(E.lon<0){E.lon=-180-(E.lon+180)}else{C.lon=180+C.lon+180}}var F=new OpenLayers.Bounds(E.lon,C.lat,C.lon,E.lat);return F}});OpenLayers.Control.MouseDefaults=OpenLayers.Class(OpenLayers.Control,{performedDrag:false,wheelObserver:null,initialize:function(){OpenLayers.Control.prototype.initialize.apply(this,arguments)},destroy:function(){if(this.handler){this.handler.destroy()}this.handler=null;this.map.events.un({click:this.defaultClick,dblclick:this.defaultDblClick,mousedown:this.defaultMouseDown,mouseup:this.defaultMouseUp,mousemove:this.defaultMouseMove,mouseout:this.defaultMouseOut,scope:this});OpenLayers.Event.stopObserving(window,"DOMMouseScroll",this.wheelObserver);OpenLayers.Event.stopObserving(window,"mousewheel",this.wheelObserver);OpenLayers.Event.stopObserving(document,"mousewheel",this.wheelObserver);this.wheelObserver=null;OpenLayers.Control.prototype.destroy.apply(this,arguments)},draw:function(){this.map.events.on({click:this.defaultClick,dblclick:this.defaultDblClick,mousedown:this.defaultMouseDown,mouseup:this.defaultMouseUp,mousemove:this.defaultMouseMove,mouseout:this.defaultMouseOut,scope:this});this.registerWheelEvents()},registerWheelEvents:function(){this.wheelObserver=OpenLayers.Function.bindAsEventListener(this.onWheelEvent,this);OpenLayers.Event.observe(window,"DOMMouseScroll",this.wheelObserver);OpenLayers.Event.observe(window,"mousewheel",this.wheelObserver);OpenLayers.Event.observe(document,"mousewheel",this.wheelObserver)},defaultClick:function(C){if(!OpenLayers.Event.isLeftClick(C)){return }var B=!this.performedDrag;this.performedDrag=false;return B},defaultDblClick:function(C){var B=this.map.getLonLatFromViewPortPx(C.xy);this.map.setCenter(B,this.map.zoom+1);OpenLayers.Event.stop(C);return false},defaultMouseDown:function(B){if(!OpenLayers.Event.isLeftClick(B)){return }this.mouseDragStart=B.xy.clone();this.performedDrag=false;if(B.shiftKey){this.map.div.style.cursor="crosshair";this.zoomBox=OpenLayers.Util.createDiv("zoomBox",this.mouseDragStart,null,null,"absolute","2px solid red");this.zoomBox.style.backgroundColor="white";this.zoomBox.style.filter="alpha(opacity=50)";this.zoomBox.style.opacity="0.50";this.zoomBox.style.fontSize="1px";this.zoomBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.viewPortDiv.appendChild(this.zoomBox)}document.onselectstart=OpenLayers.Function.False;OpenLayers.Event.stop(B)},defaultMouseMove:function(F){this.mousePosition=F.xy.clone();if(this.mouseDragStart!=null){if(this.zoomBox){var E=Math.abs(this.mouseDragStart.x-F.xy.x);var C=Math.abs(this.mouseDragStart.y-F.xy.y);this.zoomBox.style.width=Math.max(1,E)+"px";this.zoomBox.style.height=Math.max(1,C)+"px";if(F.xy.x<this.mouseDragStart.x){this.zoomBox.style.left=F.xy.x+"px"}if(F.xy.y<this.mouseDragStart.y){this.zoomBox.style.top=F.xy.y+"px"}}else{var E=this.mouseDragStart.x-F.xy.x;var C=this.mouseDragStart.y-F.xy.y;var G=this.map.getSize();var B=new OpenLayers.Pixel(G.w/2+E,G.h/2+C);var D=this.map.getLonLatFromViewPortPx(B);this.map.setCenter(D,null,true);this.mouseDragStart=F.xy.clone();this.map.div.style.cursor="move"}this.performedDrag=true}},defaultMouseUp:function(B){if(!OpenLayers.Event.isLeftClick(B)){return }if(this.zoomBox){this.zoomBoxEnd(B)}else{if(this.performedDrag){this.map.setCenter(this.map.center)}}document.onselectstart=null;this.mouseDragStart=null;this.map.div.style.cursor=""},defaultMouseOut:function(B){if(this.mouseDragStart!=null&&OpenLayers.Util.mouseLeft(B,this.map.viewPortDiv)){if(this.zoomBox){this.removeZoomBox()}this.mouseDragStart=null}},defaultWheelUp:function(B){if(this.map.getZoom()<=this.map.getNumZoomLevels()){this.map.setCenter(this.map.getLonLatFromPixel(B.xy),this.map.getZoom()+1)}},defaultWheelDown:function(B){if(this.map.getZoom()>0){this.map.setCenter(this.map.getLonLatFromPixel(B.xy),this.map.getZoom()-1)}},zoomBoxEnd:function(C){if(this.mouseDragStart!=null){if(Math.abs(this.mouseDragStart.x-C.xy.x)>5||Math.abs(this.mouseDragStart.y-C.xy.y)>5){var I=this.map.getLonLatFromViewPortPx(this.mouseDragStart);var B=this.map.getLonLatFromViewPortPx(C.xy);var H=Math.max(I.lat,B.lat);var D=Math.min(I.lat,B.lat);var G=Math.min(I.lon,B.lon);var E=Math.max(I.lon,B.lon);var F=new OpenLayers.Bounds(G,D,E,H);this.map.zoomToExtent(F)}else{var B=this.map.getLonLatFromViewPortPx(C.xy);this.map.setCenter(new OpenLayers.LonLat((B.lon),(B.lat)),this.map.getZoom()+1)}this.removeZoomBox()}},removeZoomBox:function(){this.map.viewPortDiv.removeChild(this.zoomBox);this.zoomBox=null},onWheelEvent:function(D){var C=false;var B=OpenLayers.Event.element(D);while(B!=null){if(this.map&&B==this.map.div){C=true;break}B=B.parentNode}if(C){var E=0;if(!D){D=window.event}if(D.wheelDelta){E=D.wheelDelta/120;if(window.opera&&window.opera.version()<9.2){E=-E}}else{if(D.detail){E=-D.detail/3}}if(E){D.xy=this.mousePosition;if(E<0){this.defaultWheelDown(D)}else{this.defaultWheelUp(D)}}OpenLayers.Event.stop(D)}},CLASS_NAME:"OpenLayers.Control.MouseDefaults"});OpenLayers.Control.MouseToolbar=OpenLayers.Class(OpenLayers.Control.MouseDefaults,{mode:null,buttons:null,direction:"vertical",buttonClicked:null,initialize:function(B,C){OpenLayers.Control.prototype.initialize.apply(this,arguments);this.position=new OpenLayers.Pixel(OpenLayers.Control.MouseToolbar.X,OpenLayers.Control.MouseToolbar.Y);if(B){this.position=B}if(C){this.direction=C}this.measureDivs=[]},destroy:function(){for(var C in this.buttons){var B=this.buttons[C];B.map=null;B.events.destroy()}OpenLayers.Control.MouseDefaults.prototype.destroy.apply(this,arguments)},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);OpenLayers.Control.MouseDefaults.prototype.draw.apply(this,arguments);this.buttons={};var C=new OpenLayers.Size(28,28);var B=new OpenLayers.Pixel(OpenLayers.Control.MouseToolbar.X,0);this._addButton("zoombox","drag-rectangle-off.png","drag-rectangle-on.png",B,C,"Shift->Drag to zoom to area");B=B.add((this.direction=="vertical"?0:C.w),(this.direction=="vertical"?C.h:0));this._addButton("pan","panning-hand-off.png","panning-hand-on.png",B,C,"Drag the map to pan.");B=B.add((this.direction=="vertical"?0:C.w),(this.direction=="vertical"?C.h:0));this.switchModeTo("pan");return this.div},_addButton:function(B,F,E,J,H,I){var G=OpenLayers.Util.getImageLocation(F);var D=OpenLayers.Util.getImageLocation(E);var C=OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_MouseToolbar_"+B,J,H,G,"absolute");this.div.appendChild(C);C.imgLocation=G;C.activeImgLocation=D;C.events=new OpenLayers.Events(this,C,null,true);C.events.on({mousedown:this.buttonDown,mouseup:this.buttonUp,dblclick:OpenLayers.Event.stop,scope:this});C.action=B;C.title=I;C.alt=I;C.map=this.map;this.buttons[B]=C;return C},buttonDown:function(B){if(!OpenLayers.Event.isLeftClick(B)){return }this.buttonClicked=B.element.action;OpenLayers.Event.stop(B)},buttonUp:function(B){if(!OpenLayers.Event.isLeftClick(B)){return }if(this.buttonClicked!=null){if(this.buttonClicked==B.element.action){this.switchModeTo(B.element.action)}OpenLayers.Event.stop(B);this.buttonClicked=null}},defaultDblClick:function(C){this.switchModeTo("pan");this.performedDrag=false;var B=this.map.getLonLatFromViewPortPx(C.xy);this.map.setCenter(B,this.map.zoom+1);OpenLayers.Event.stop(C);return false},defaultMouseDown:function(B){if(!OpenLayers.Event.isLeftClick(B)){return }this.mouseDragStart=B.xy.clone();this.performedDrag=false;this.startViaKeyboard=false;if(B.shiftKey&&this.mode!="zoombox"){this.switchModeTo("zoombox");this.startViaKeyboard=true}else{if(B.altKey&&this.mode!="measure"){this.switchModeTo("measure")}else{if(!this.mode){this.switchModeTo("pan")}}}switch(this.mode){case"zoombox":this.map.div.style.cursor="crosshair";this.zoomBox=OpenLayers.Util.createDiv("zoomBox",this.mouseDragStart,null,null,"absolute","2px solid red");this.zoomBox.style.backgroundColor="white";this.zoomBox.style.filter="alpha(opacity=50)";this.zoomBox.style.opacity="0.50";this.zoomBox.style.fontSize="1px";this.zoomBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.viewPortDiv.appendChild(this.zoomBox);this.performedDrag=true;break;case"measure":var D="";if(this.measureStart){var C=this.map.getLonLatFromViewPortPx(this.mouseDragStart);D=OpenLayers.Util.distVincenty(this.measureStart,C);D=Math.round(D*100)/100;D=D+"km";this.measureStartBox=this.measureBox}this.measureStart=this.map.getLonLatFromViewPortPx(this.mouseDragStart);this.measureBox=OpenLayers.Util.createDiv(null,this.mouseDragStart.add(-2-parseInt(this.map.layerContainerDiv.style.left),-2-parseInt(this.map.layerContainerDiv.style.top)),null,null,"absolute");this.measureBox.style.width="4px";this.measureBox.style.height="4px";this.measureBox.style.fontSize="1px";this.measureBox.style.backgroundColor="red";this.measureBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.layerContainerDiv.appendChild(this.measureBox);if(D){this.measureBoxDistance=OpenLayers.Util.createDiv(null,this.mouseDragStart.add(-2-parseInt(this.map.layerContainerDiv.style.left),2-parseInt(this.map.layerContainerDiv.style.top)),null,null,"absolute");this.measureBoxDistance.innerHTML=D;this.measureBoxDistance.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.layerContainerDiv.appendChild(this.measureBoxDistance);this.measureDivs.push(this.measureBoxDistance)}this.measureBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.layerContainerDiv.appendChild(this.measureBox);this.measureDivs.push(this.measureBox);break;default:this.map.div.style.cursor="move";break}document.onselectstart=OpenLayers.Function.False;OpenLayers.Event.stop(B)},switchModeTo:function(D){if(D!=this.mode){if(this.mode&&this.buttons[this.mode]){OpenLayers.Util.modifyAlphaImageDiv(this.buttons[this.mode],null,null,null,this.buttons[this.mode].imgLocation)}if(this.mode=="measure"&&D!="measure"){for(var C=0,B=this.measureDivs.length;C<B;C++){if(this.measureDivs[C]){this.map.layerContainerDiv.removeChild(this.measureDivs[C])}}this.measureDivs=[];this.measureStart=null}this.mode=D;if(this.buttons[D]){OpenLayers.Util.modifyAlphaImageDiv(this.buttons[D],null,null,null,this.buttons[D].activeImgLocation)}switch(this.mode){case"zoombox":this.map.div.style.cursor="crosshair";break;default:this.map.div.style.cursor="";break}}},leaveMode:function(){this.switchModeTo("pan")},defaultMouseMove:function(F){if(this.mouseDragStart!=null){switch(this.mode){case"zoombox":var E=Math.abs(this.mouseDragStart.x-F.xy.x);var C=Math.abs(this.mouseDragStart.y-F.xy.y);this.zoomBox.style.width=Math.max(1,E)+"px";this.zoomBox.style.height=Math.max(1,C)+"px";if(F.xy.x<this.mouseDragStart.x){this.zoomBox.style.left=F.xy.x+"px"}if(F.xy.y<this.mouseDragStart.y){this.zoomBox.style.top=F.xy.y+"px"}break;default:var E=this.mouseDragStart.x-F.xy.x;var C=this.mouseDragStart.y-F.xy.y;var G=this.map.getSize();var B=new OpenLayers.Pixel(G.w/2+E,G.h/2+C);var D=this.map.getLonLatFromViewPortPx(B);this.map.setCenter(D,null,true);this.mouseDragStart=F.xy.clone()}this.performedDrag=true}},defaultMouseUp:function(B){if(!OpenLayers.Event.isLeftClick(B)){return }switch(this.mode){case"zoombox":this.zoomBoxEnd(B);if(this.startViaKeyboard){this.leaveMode()}break;case"pan":if(this.performedDrag){this.map.setCenter(this.map.center)}}document.onselectstart=null;this.mouseDragStart=null;this.map.div.style.cursor="default"},defaultMouseOut:function(B){if(this.mouseDragStart!=null&&OpenLayers.Util.mouseLeft(B,this.map.viewPortDiv)){if(this.zoomBox){this.removeZoomBox();if(this.startViaKeyboard){this.leaveMode()}}this.mouseDragStart=null;this.map.div.style.cursor="default"}},defaultClick:function(B){if(this.performedDrag){this.performedDrag=false;return false}},CLASS_NAME:"OpenLayers.Control.MouseToolbar"});OpenLayers.Control.MouseToolbar.X=6;OpenLayers.Control.MouseToolbar.Y=300;OpenLayers.Util.extend(OpenLayers.Layer.Grid.prototype,{getGridBounds:function(){var B="The getGridBounds() function is deprecated. It will be removed in 3.0. Please use getTilesBounds() instead.";OpenLayers.Console.warn(B);return this.getTilesBounds()}});OpenLayers.Util.extend(OpenLayers.Format.XML.prototype,{concatChildValues:function(C,E){var D="";var F=C.firstChild;var B;while(F){B=F.nodeValue;if(B){D+=B}F=F.nextSibling}if(D==""&&E!=undefined){D=E}return D}});OpenLayers.Layer.WMS.Post=OpenLayers.Class(OpenLayers.Layer.WMS,{unsupportedBrowsers:["mozilla","firefox","opera"],SUPPORTED_TRANSITIONS:[],usePost:null,initialize:function(E,D,F,C){var B=[];B.push(E,D,F,C);OpenLayers.Layer.WMS.prototype.initialize.apply(this,B);this.usePost=OpenLayers.Util.indexOf(this.unsupportedBrowsers,OpenLayers.BROWSER_NAME)==-1},addTile:function(C,B){return new OpenLayers.Tile.Image(this,B,C,null,this.tileSize,{maxGetUrlLength:this.usePost?0:null})},CLASS_NAME:"OpenLayers.Layer.WMS.Post"});OpenLayers.Layer.WMS.Untiled=OpenLayers.Class(OpenLayers.Layer.WMS,{singleTile:true,initialize:function(D,C,F,B){OpenLayers.Layer.WMS.prototype.initialize.apply(this,arguments);var E="The OpenLayers.Layer.WMS.Untiled class is deprecated and will be removed in 3.0. Instead, you should use the normal OpenLayers.Layer.WMS class, passing it the option 'singleTile' as true.";OpenLayers.Console.warn(E)},clone:function(B){if(B==null){B=new OpenLayers.Layer.WMS.Untiled(this.name,this.url,this.params,this.getOptions())}B=OpenLayers.Layer.WMS.prototype.clone.apply(this,[B]);return B},CLASS_NAME:"OpenLayers.Layer.WMS.Untiled"});OpenLayers.Layer.MapServer.Untiled=OpenLayers.Class(OpenLayers.Layer.MapServer,{singleTile:true,initialize:function(D,C,F,B){OpenLayers.Layer.MapServer.prototype.initialize.apply(this,arguments);var E="The OpenLayers.Layer.MapServer.Untiled class is deprecated and will be removed in 3.0. Instead, you should use the normal OpenLayers.Layer.MapServer class, passing it the option 'singleTile' as true.";OpenLayers.Console.warn(E)},clone:function(B){if(B==null){B=new OpenLayers.Layer.MapServer.Untiled(this.name,this.url,this.params,this.getOptions())}B=OpenLayers.Layer.MapServer.prototype.clone.apply(this,[B]);return B},CLASS_NAME:"OpenLayers.Layer.MapServer.Untiled"});OpenLayers.Tile.WFS=OpenLayers.Class(OpenLayers.Tile,{features:null,url:null,request:null,initialize:function(E,B,F,C,D){OpenLayers.Tile.prototype.initialize.apply(this,arguments);this.url=C;this.features=[]},destroy:function(){OpenLayers.Tile.prototype.destroy.apply(this,arguments);this.destroyAllFeatures();this.features=null;this.url=null;if(this.request){this.request.abort();this.request=null}},clear:function(){this.destroyAllFeatures()},draw:function(){if(OpenLayers.Tile.prototype.draw.apply(this,arguments)){if(this.isLoading){this.events.triggerEvent("reload")}else{this.isLoading=true;this.events.triggerEvent("loadstart")}this.loadFeaturesForRegion(this.requestSuccess)}},loadFeaturesForRegion:function(C,B){if(this.request){this.request.abort()}this.request=OpenLayers.Request.GET({url:this.url,success:C,failure:B,scope:this})},requestSuccess:function(C){if(this.features){var E=C.responseXML;if(!E||!E.documentElement){E=C.responseText}if(this.layer.vectorMode){this.layer.addFeatures(this.layer.formatObject.read(E))}else{var B=new OpenLayers.Format.XML();if(typeof E=="string"){E=B.read(E)}var D=B.getElementsByTagNameNS(E,"http://www.opengis.net/gml","featureMember");this.addResults(D)}}if(this.events){this.events.triggerEvent("loadend")}this.request=null},addResults:function(D){for(var C=0;C<D.length;C++){var B=new this.layer.featureClass(this.layer,D[C]);this.features.push(B)}},destroyAllFeatures:function(){while(this.features.length>0){var B=this.features.shift();B.destroy()}},CLASS_NAME:"OpenLayers.Tile.WFS"});OpenLayers.Feature.WFS=OpenLayers.Class(OpenLayers.Feature,{initialize:function(D,C){var B=arguments;var E=this.processXMLNode(C);B=new Array(D,E.lonlat,E);OpenLayers.Feature.prototype.initialize.apply(this,B);this.createMarker();this.layer.addMarker(this.marker)},destroy:function(){if(this.marker!=null){this.layer.removeMarker(this.marker)}OpenLayers.Feature.prototype.destroy.apply(this,arguments)},processXMLNode:function(C){var B=OpenLayers.Ajax.getElementsByTagNameNS(C,"http://www.opengis.net/gml","gml","Point");var E=OpenLayers.Util.getXmlNodeValue(OpenLayers.Ajax.getElementsByTagNameNS(B[0],"http://www.opengis.net/gml","gml","coordinates")[0]);var D=E.split(",");return{lonlat:new OpenLayers.LonLat(parseFloat(D[0]),parseFloat(D[1])),id:null}},CLASS_NAME:"OpenLayers.Feature.WFS"});OpenLayers.Layer.WFS=OpenLayers.Class(OpenLayers.Layer.Vector,OpenLayers.Layer.Markers,{isBaseLayer:false,tile:null,ratio:2,DEFAULT_PARAMS:{service:"WFS",version:"1.0.0",request:"GetFeature"},featureClass:null,format:null,formatObject:null,formatOptions:null,vectorMode:true,encodeBBOX:false,extractAttributes:false,initialize:function(E,D,F,C){if(C==undefined){C={}}if(C.featureClass||!OpenLayers.Layer.Vector||!OpenLayers.Feature.Vector){this.vectorMode=false}F=OpenLayers.Util.upperCaseObject(F);OpenLayers.Util.extend(C,{reportError:false});var B=[];B.push(E,C);OpenLayers.Layer.Vector.prototype.initialize.apply(this,B);if(!this.renderer||!this.vectorMode){this.vectorMode=false;if(!C.featureClass){C.featureClass=OpenLayers.Feature.WFS}OpenLayers.Layer.Markers.prototype.initialize.apply(this,B)}if(this.params&&this.params.typename&&!this.options.typename){this.options.typename=this.params.typename}if(!this.options.geometry_column){this.options.geometry_column="the_geom"}this.params=OpenLayers.Util.applyDefaults(F,OpenLayers.Util.upperCaseObject(this.DEFAULT_PARAMS));this.url=D},destroy:function(){if(this.vectorMode){OpenLayers.Layer.Vector.prototype.destroy.apply(this,arguments)}else{OpenLayers.Layer.Markers.prototype.destroy.apply(this,arguments)}if(this.tile){this.tile.destroy()}this.tile=null;this.ratio=null;this.featureClass=null;this.format=null;if(this.formatObject&&this.formatObject.destroy){this.formatObject.destroy()}this.formatObject=null;this.formatOptions=null;this.vectorMode=null;this.encodeBBOX=null;this.extractAttributes=null},setMap:function(C){if(this.vectorMode){OpenLayers.Layer.Vector.prototype.setMap.apply(this,arguments);var B={extractAttributes:this.extractAttributes};OpenLayers.Util.extend(B,this.formatOptions);if(this.map&&!this.projection.equals(this.map.getProjectionObject())){B.externalProjection=this.projection;B.internalProjection=this.map.getProjectionObject()}this.formatObject=this.format?new this.format(B):new OpenLayers.Format.GML(B)}else{OpenLayers.Layer.Markers.prototype.setMap.apply(this,arguments)}},moveTo:function(B,C,O){if(this.vectorMode){OpenLayers.Layer.Vector.prototype.moveTo.apply(this,arguments)}else{OpenLayers.Layer.Markers.prototype.moveTo.apply(this,arguments)}if(O){return false}if(C){if(this.vectorMode){this.renderer.clear()}}if(this.options.minZoomLevel){OpenLayers.Console.warn(OpenLayers.i18n("minZoomLevelError"));if(this.map.getZoom()<this.options.minZoomLevel){return null}}if(B==null){B=this.map.getExtent()}var N=(this.tile==null);var H=(!N&&!this.tile.bounds.containsBounds(B));if(C||N||(!O&&H)){var D=B.getCenterLonLat();var M=B.getWidth()*this.ratio;var I=B.getHeight()*this.ratio;var K=new OpenLayers.Bounds(D.lon-(M/2),D.lat-(I/2),D.lon+(M/2),D.lat+(I/2));var P=this.map.getSize();P.w=P.w*this.ratio;P.h=P.h*this.ratio;var J=new OpenLayers.LonLat(K.left,K.top);var L=this.map.getLayerPxFromLonLat(J);var E=this.getFullRequestString();var G=null;var F=this.params.filter||this.params.FILTER;if(F){G={FILTER:F}}else{G={BBOX:this.encodeBBOX?K.toBBOX():K.toArray()}}if(this.map&&!this.projection.equals(this.map.getProjectionObject())){var Q=K.clone();Q.transform(this.map.getProjectionObject(),this.projection);if(!F){G.BBOX=this.encodeBBOX?Q.toBBOX():Q.toArray()}}E+="&"+OpenLayers.Util.getParameterString(G);if(!this.tile){this.tile=new OpenLayers.Tile.WFS(this,L,K,E,P);this.addTileMonitoringHooks(this.tile);this.tile.draw()}else{if(this.vectorMode){this.destroyFeatures();this.renderer.clear()}else{this.clearMarkers()}this.removeTileMonitoringHooks(this.tile);this.tile.destroy();this.tile=null;this.tile=new OpenLayers.Tile.WFS(this,L,K,E,P);this.addTileMonitoringHooks(this.tile);this.tile.draw()}}},addTileMonitoringHooks:function(B){B.onLoadStart=function(){if(this==this.layer.tile){this.layer.events.triggerEvent("loadstart")}};B.events.register("loadstart",B,B.onLoadStart);B.onLoadEnd=function(){if(this==this.layer.tile){this.layer.events.triggerEvent("tileloaded");this.layer.events.triggerEvent("loadend")}};B.events.register("loadend",B,B.onLoadEnd);B.events.register("unload",B,B.onLoadEnd)},removeTileMonitoringHooks:function(B){B.unload();B.events.un({loadstart:B.onLoadStart,loadend:B.onLoadEnd,unload:B.onLoadEnd,scope:B})},onMapResize:function(){if(this.vectorMode){OpenLayers.Layer.Vector.prototype.onMapResize.apply(this,arguments)}else{OpenLayers.Layer.Markers.prototype.onMapResize.apply(this,arguments)}},display:function(){if(this.vectorMode){OpenLayers.Layer.Vector.prototype.display.apply(this,arguments)}else{OpenLayers.Layer.Markers.prototype.display.apply(this,arguments)}},mergeNewParams:function(D){var C=OpenLayers.Util.upperCaseObject(D);var B=[C];return OpenLayers.Layer.HTTPRequest.prototype.mergeNewParams.apply(this,B)},clone:function(B){if(B==null){B=new OpenLayers.Layer.WFS(this.name,this.url,this.params,this.getOptions())}if(this.vectorMode){B=OpenLayers.Layer.Vector.prototype.clone.apply(this,[B])}else{B=OpenLayers.Layer.Markers.prototype.clone.apply(this,[B])}return B},getFullRequestString:function(D,C){var B=this.projection.getCode()||this.map.getProjection();this.params.SRS=(B=="none")?null:B;return OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this,arguments)},commit:function(){if(!this.writer){var B={};if(this.map&&!this.projection.equals(this.map.getProjectionObject())){B.externalProjection=this.projection;B.internalProjection=this.map.getProjectionObject()}this.writer=new OpenLayers.Format.WFS(B,this)}var C=this.writer.write(this.features);OpenLayers.Request.POST({url:this.url,data:C,success:this.commitSuccess,failure:this.commitFailure,scope:this})},commitSuccess:function(D){var B=D.responseText;if(B.indexOf("SUCCESS")!=-1){this.commitReport(OpenLayers.i18n("commitSuccess",{response:B}));for(var C=0;C<this.features.length;C++){this.features[C].state=null}}else{if(B.indexOf("FAILED")!=-1||B.indexOf("Exception")!=-1){this.commitReport(OpenLayers.i18n("commitFailed",{response:B}))}}},commitFailure:function(B){},commitReport:function(C,B){OpenLayers.Console.userError(C)},refresh:function(){if(this.tile){if(this.vectorMode){this.renderer.clear();this.features.length=0}else{this.clearMarkers();this.markers.length=0}this.tile.draw()}},getDataExtent:function(){var B;if(this.vectorMode){B=OpenLayers.Layer.Vector.prototype.getDataExtent.apply(this)}else{B=OpenLayers.Layer.Markers.prototype.getDataExtent.apply(this)}return B},setOpacity:function(B){if(this.vectorMode){OpenLayers.Layer.Vector.prototype.setOpacity.apply(this,[B])}else{OpenLayers.Layer.Markers.prototype.setOpacity.apply(this,[B])}},CLASS_NAME:"OpenLayers.Layer.WFS"});OpenLayers.Layer.VirtualEarth=OpenLayers.Class(OpenLayers.Layer.EventPane,OpenLayers.Layer.FixedZoomLevels,{MIN_ZOOM_LEVEL:1,MAX_ZOOM_LEVEL:19,RESOLUTIONS:[1.40625,0.703125,0.3515625,0.17578125,0.087890625,0.0439453125,0.02197265625,0.010986328125,0.0054931640625,0.00274658203125,0.001373291015625,0.0006866455078125,0.00034332275390625,0.000171661376953125,0.0000858306884765625,0.00004291534423828125,0.00002145767211914062,0.00001072883605957031,0.00000536441802978515],type:null,wrapDateLine:true,sphericalMercator:false,animationEnabled:true,initialize:function(C,B){OpenLayers.Layer.EventPane.prototype.initialize.apply(this,arguments);OpenLayers.Layer.FixedZoomLevels.prototype.initialize.apply(this,arguments);if(this.sphericalMercator){OpenLayers.Util.extend(this,OpenLayers.Layer.SphericalMercator);this.initMercatorParameters()}},loadMapObject:function(){var B=OpenLayers.Util.createDiv(this.name);var D=this.map.getSize();B.style.width=D.w+"px";B.style.height=D.h+"px";this.div.appendChild(B);try{this.mapObject=new VEMap(this.name)}catch(C){}if(this.mapObject!=null){try{this.mapObject.LoadMap(null,null,this.type,true);this.mapObject.AttachEvent("onmousedown",OpenLayers.Function.True)}catch(C){}this.mapObject.HideDashboard();if(typeof this.mapObject.SetAnimationEnabled=="function"){this.mapObject.SetAnimationEnabled(this.animationEnabled)}}if(!this.mapObject||!this.mapObject.vemapcontrol||!this.mapObject.vemapcontrol.PanMap||(typeof this.mapObject.vemapcontrol.PanMap!="function")){this.dragPanMapObject=null}},onMapResize:function(){this.mapObject.Resize(this.map.size.w,this.map.size.h)},getWarningHTML:function(){return OpenLayers.i18n("getLayerWarning",{layerType:"VE",layerLib:"VirtualEarth"})},setMapObjectCenter:function(B,C){this.mapObject.SetCenterAndZoom(B,C)},getMapObjectCenter:function(){return this.mapObject.GetCenter()},dragPanMapObject:function(C,B){this.mapObject.vemapcontrol.PanMap(C,-B)},getMapObjectZoom:function(){return this.mapObject.GetZoomLevel()},getMapObjectLonLatFromMapObjectPixel:function(B){return(typeof VEPixel!="undefined")?this.mapObject.PixelToLatLong(B):this.mapObject.PixelToLatLong(B.x,B.y)},getMapObjectPixelFromMapObjectLonLat:function(B){return this.mapObject.LatLongToPixel(B)},getLongitudeFromMapObjectLonLat:function(B){return this.sphericalMercator?this.forwardMercator(B.Longitude,B.Latitude).lon:B.Longitude},getLatitudeFromMapObjectLonLat:function(B){return this.sphericalMercator?this.forwardMercator(B.Longitude,B.Latitude).lat:B.Latitude},getMapObjectLonLatFromLonLat:function(E,C){var D;if(this.sphericalMercator){var B=this.inverseMercator(E,C);D=new VELatLong(B.lat,B.lon)}else{D=new VELatLong(C,E)}return D},getXFromMapObjectPixel:function(B){return B.x},getYFromMapObjectPixel:function(B){return B.y},getMapObjectPixelFromXY:function(B,C){return(typeof VEPixel!="undefined")?new VEPixel(B,C):new Msn.VE.Pixel(B,C)},CLASS_NAME:"OpenLayers.Layer.VirtualEarth"});(function(){if(window.google&&google.gears){return }var B=null;if(typeof GearsFactory!="undefined"){B=new GearsFactory()}else{try{B=new ActiveXObject("Gears.Factory");if(B.getBuildInfo().indexOf("ie_mobile")!=-1){B.privateSetGlobalObject(this)}}catch(C){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){B=document.createElement("object");B.style.display="none";B.width=0;B.height=0;B.type="application/x-googlegears";document.documentElement.appendChild(B)}}}if(!B){return }if(!window.google){google={}}if(!google.gears){google.gears={factory:B}}})();OpenLayers.Protocol.SQL=OpenLayers.Class(OpenLayers.Protocol,{databaseName:"ol",tableName:"ol_vector_features",postReadFiltering:true,initialize:function(B){OpenLayers.Protocol.prototype.initialize.apply(this,[B])},destroy:function(){OpenLayers.Protocol.prototype.destroy.apply(this)},supported:function(){return false},evaluateFilter:function(B,C){return C&&this.postReadFiltering?C.evaluate(B):true},CLASS_NAME:"OpenLayers.Protocol.SQL"});OpenLayers.Protocol.SQL.Gears=OpenLayers.Class(OpenLayers.Protocol.SQL,{FID_PREFIX:"__gears_fid__",NULL_GEOMETRY:"__gears_null_geometry__",NULL_FEATURE_STATE:"__gears_null_feature_state__",jsonParser:null,wktParser:null,fidRegExp:null,saveFeatureState:true,typeOfFid:"string",db:null,initialize:function(B){if(!this.supported()){return }OpenLayers.Protocol.SQL.prototype.initialize.apply(this,[B]);this.jsonParser=new OpenLayers.Format.JSON();this.wktParser=new OpenLayers.Format.WKT();this.fidRegExp=new RegExp("^"+this.FID_PREFIX);this.initializeDatabase()},initializeDatabase:function(){this.db=google.gears.factory.create("beta.database");this.db.open(this.databaseName);this.db.execute("CREATE TABLE IF NOT EXISTS "+this.tableName+" (fid TEXT UNIQUE, geometry TEXT, properties TEXT,  state TEXT)")},destroy:function(){this.db.close();this.db=null;this.jsonParser=null;this.wktParser=null;OpenLayers.Protocol.SQL.prototype.destroy.apply(this)},supported:function(){return !!(window.google&&google.gears)},read:function(C){OpenLayers.Protocol.prototype.read.apply(this,arguments);C=OpenLayers.Util.applyDefaults(C,this.options);var D,E=[];var B=this.db.execute("SELECT * FROM "+this.tableName);while(B.isValidRow()){D=this.unfreezeFeature(B);if(this.evaluateFilter(D,C.filter)){if(!C.noFeatureStateReset){D.state=null}E.push(D)}B.next()}B.close();var F=new OpenLayers.Protocol.Response({code:OpenLayers.Protocol.Response.SUCCESS,requestType:"read",features:E});if(C&&C.callback){C.callback.call(C.scope,F)}return F},unfreezeFeature:function(E){var B;var C=E.fieldByName("geometry");if(C==this.NULL_GEOMETRY){B=new OpenLayers.Feature.Vector()}else{B=this.wktParser.read(C)}B.attributes=this.jsonParser.read(E.fieldByName("properties"));B.fid=this.extractFidFromField(E.fieldByName("fid"));var D=E.fieldByName("state");if(D==this.NULL_FEATURE_STATE){D=null}B.state=D;return B},extractFidFromField:function(B){if(!B.match(this.fidRegExp)&&this.typeOfFid=="number"){B=parseFloat(B)}return B},create:function(C,B){B=OpenLayers.Util.applyDefaults(B,this.options);var D=this.createOrUpdate(C);D.requestType="create";if(B&&B.callback){B.callback.call(B.scope,D)}return D},update:function(C,B){B=OpenLayers.Util.applyDefaults(B,this.options);var D=this.createOrUpdate(C);D.requestType="update";if(B&&B.callback){B.callback.call(B.scope,D)}return D},createOrUpdate:function(F){if(!(OpenLayers.Util.isArray(F))){F=[F]}var D,B=F.length,C;var E=new Array(B);for(D=0;D<B;D++){C=F[D];var G=this.freezeFeature(C);this.db.execute("REPLACE INTO "+this.tableName+" (fid, geometry, properties, state) VALUES (?, ?, ?, ?)",G);var H=C.clone();H.fid=this.extractFidFromField(G[0]);E[D]=H}return new OpenLayers.Protocol.Response({code:OpenLayers.Protocol.Response.SUCCESS,features:E,reqFeatures:F})},freezeFeature:function(C){C.fid=C.fid!=null?""+C.fid:OpenLayers.Util.createUniqueID(this.FID_PREFIX);var E=C.geometry!=null?C.geometry.toString():this.NULL_GEOMETRY;var B=this.jsonParser.write(C.attributes);var D=this.getFeatureStateForFreeze(C);return[C.fid,E,B,D]},getFeatureStateForFreeze:function(B){var C;if(!this.saveFeatureState){C=this.NULL_FEATURE_STATE}else{if(this.createdOffline(B)){C=OpenLayers.State.INSERT}else{C=B.state}}return C},"delete":function(G,D){if(!(OpenLayers.Util.isArray(G))){G=[G]}D=OpenLayers.Util.applyDefaults(D,this.options);var F,B,E;for(F=0,B=G.length;F<B;F++){E=G[F];if(this.saveFeatureState&&!this.createdOffline(E)){var C=E.clone();C.fid=E.fid;if(C.geometry){C.geometry.destroy();C.geometry=null}C.state=E.state;this.createOrUpdate(C)}else{this.db.execute("DELETE FROM "+this.tableName+" WHERE fid = ?",[E.fid])}}var H=new OpenLayers.Protocol.Response({code:OpenLayers.Protocol.Response.SUCCESS,requestType:"delete",reqFeatures:G});if(D&&D.callback){D.callback.call(D.scope,H)}return H},createdOffline:function(B){return(typeof B.fid=="string"&&!!(B.fid.match(this.fidRegExp)))},commit:function(D,M){var C,F=[],H=0,I=0;function K(N){if(++I<H){N.last=false}this.callUserCallback(M,N)}var L,J=[],B=[],E=[];for(var G=D.length-1;G>=0;G--){L=D[G];switch(L.state){case OpenLayers.State.INSERT:J.push(L);break;case OpenLayers.State.UPDATE:B.push(L);break;case OpenLayers.State.DELETE:E.push(L);break}}if(J.length>0){H++;C=OpenLayers.Util.applyDefaults({callback:K,scope:this},M.create);F.push(this.create(J,C))}if(B.length>0){H++;C=OpenLayers.Util.applyDefaults({callback:K,scope:this},M.update);F.push(this.update(B,C))}if(E.length>0){H++;C=OpenLayers.Util.applyDefaults({callback:K,scope:this},M["delete"]);F.push(this["delete"](E,C))}return F},clear:function(){this.db.execute("DELETE FROM "+this.tableName)},callUserCallback:function(B,D){var C=B[D.requestType];if(C&&C.callback){C.callback.call(C.scope,D)}if(D.last&&B.callback){B.callback.call(B.scope)}},CLASS_NAME:"OpenLayers.Protocol.SQL.Gears"});OpenLayers.Layer.Yahoo=OpenLayers.Class(OpenLayers.Layer.EventPane,OpenLayers.Layer.FixedZoomLevels,{MIN_ZOOM_LEVEL:0,MAX_ZOOM_LEVEL:17,RESOLUTIONS:[1.40625,0.703125,0.3515625,0.17578125,0.087890625,0.0439453125,0.02197265625,0.010986328125,0.0054931640625,0.00274658203125,0.001373291015625,0.0006866455078125,0.00034332275390625,0.000171661376953125,0.0000858306884765625,0.00004291534423828125,0.00002145767211914062,0.00001072883605957031],type:null,wrapDateLine:true,sphericalMercator:false,initialize:function(C,B){OpenLayers.Layer.EventPane.prototype.initialize.apply(this,arguments);OpenLayers.Layer.FixedZoomLevels.prototype.initialize.apply(this,arguments);if(this.sphericalMercator){OpenLayers.Util.extend(this,OpenLayers.Layer.SphericalMercator);this.initMercatorParameters()}},loadMapObject:function(){try{var B=this.getMapObjectSizeFromOLSize(this.map.getSize());this.mapObject=new YMap(this.div,this.type,B);this.mapObject.disableKeyControls();this.mapObject.disableDragMap();if(!this.mapObject.moveByXY||(typeof this.mapObject.moveByXY!="function")){this.dragPanMapObject=null}}catch(C){}},onMapResize:function(){try{var B=this.getMapObjectSizeFromOLSize(this.map.getSize());this.mapObject.resizeTo(B)}catch(C){}},setMap:function(B){OpenLayers.Layer.EventPane.prototype.setMap.apply(this,arguments);this.map.events.register("moveend",this,this.fixYahooEventPane)},fixYahooEventPane:function(){var B=OpenLayers.Util.getElement("ygddfdiv");if(B!=null){if(B.parentNode!=null){B.parentNode.removeChild(B)}this.map.events.unregister("moveend",this,this.fixYahooEventPane)}},getWarningHTML:function(){return OpenLayers.i18n("getLayerWarning",{layerType:"Yahoo",layerLib:"Yahoo"})},getOLZoomFromMapObjectZoom:function(B){var C=null;if(B!=null){C=OpenLayers.Layer.FixedZoomLevels.prototype.getOLZoomFromMapObjectZoom.apply(this,[B]);C=18-C}return C},getMapObjectZoomFromOLZoom:function(B){var C=null;if(B!=null){C=OpenLayers.Layer.FixedZoomLevels.prototype.getMapObjectZoomFromOLZoom.apply(this,[B]);C=18-C}return C},setMapObjectCenter:function(B,C){this.mapObject.drawZoomAndCenter(B,C)},getMapObjectCenter:function(){return this.mapObject.getCenterLatLon()},dragPanMapObject:function(C,B){this.mapObject.moveByXY({x:-C,y:B})},getMapObjectZoom:function(){return this.mapObject.getZoomLevel()},getMapObjectLonLatFromMapObjectPixel:function(B){return this.mapObject.convertXYLatLon(B)},getMapObjectPixelFromMapObjectLonLat:function(B){return this.mapObject.convertLatLonXY(B)},getLongitudeFromMapObjectLonLat:function(B){return this.sphericalMercator?this.forwardMercator(B.Lon,B.Lat).lon:B.Lon},getLatitudeFromMapObjectLonLat:function(B){return this.sphericalMercator?this.forwardMercator(B.Lon,B.Lat).lat:B.Lat},getMapObjectLonLatFromLonLat:function(E,D){var B;if(this.sphericalMercator){var C=this.inverseMercator(E,D);B=new YGeoPoint(C.lat,C.lon)}else{B=new YGeoPoint(D,E)}return B},getXFromMapObjectPixel:function(B){return B.x},getYFromMapObjectPixel:function(B){return B.y},getMapObjectPixelFromXY:function(B,C){return new YCoordPoint(B,C)},getMapObjectSizeFromOLSize:function(B){return new YSize(B.w,B.h)},CLASS_NAME:"OpenLayers.Layer.Yahoo"});OpenLayers.Layer.GML=OpenLayers.Class(OpenLayers.Layer.Vector,{loaded:false,format:null,formatOptions:null,initialize:function(E,D,C){var B=[];B.push(E,C);OpenLayers.Layer.Vector.prototype.initialize.apply(this,B);this.url=D},setVisibility:function(B,C){OpenLayers.Layer.Vector.prototype.setVisibility.apply(this,arguments);if(this.visibility&&!this.loaded){this.loadGML()}},moveTo:function(D,B,C){OpenLayers.Layer.Vector.prototype.moveTo.apply(this,arguments);if(this.visibility&&!this.loaded){this.loadGML()}},loadGML:function(){if(!this.loaded){this.events.triggerEvent("loadstart");OpenLayers.Request.GET({url:this.url,success:this.requestSuccess,failure:this.requestFailure,scope:this});this.loaded=true}},setUrl:function(B){this.url=B;this.destroyFeatures();this.loaded=false;this.loadGML()},requestSuccess:function(D){var E=D.responseXML;if(!E||!E.documentElement){E=D.responseText}var B={};OpenLayers.Util.extend(B,this.formatOptions);if(this.map&&!this.projection.equals(this.map.getProjectionObject())){B.externalProjection=this.projection;B.internalProjection=this.map.getProjectionObject()}var C=this.format?new this.format(B):new OpenLayers.Format.GML(B);this.addFeatures(C.read(E));this.events.triggerEvent("loadend")},requestFailure:function(B){OpenLayers.Console.userError("Error in loading GML file "+this.url);this.events.triggerEvent("loadend")},CLASS_NAME:"OpenLayers.Layer.GML"});OpenLayers.Geometry.Rectangle=OpenLayers.Class(OpenLayers.Geometry,{x:null,y:null,width:null,height:null,initialize:function(C,E,D,B){OpenLayers.Geometry.prototype.initialize.apply(this,arguments);this.x=C;this.y=E;this.width=D;this.height=B},calculateBounds:function(){this.bounds=new OpenLayers.Bounds(this.x,this.y,this.x+this.width,this.y+this.height)},getLength:function(){var B=(2*this.width)+(2*this.height);return B},getArea:function(){var B=this.width*this.height;return B},CLASS_NAME:"OpenLayers.Geometry.Rectangle"});OpenLayers.Renderer.NG=OpenLayers.Class(OpenLayers.Renderer.Elements,{labelNodeType:null,updateDimensions:function(C){var B=this.map.getExtent();var E=B.scale(3);this.setExtent(E,true);var D=this.getResolution();var H=this.rendererRoot.parentNode;var F=parseFloat(H.parentNode.style.left);var G=parseFloat(H.parentNode.style.top);H.style.left=((E.left-B.left)/D-F)+"px";H.style.top=((B.top-E.top)/D-G)+"px"},setSize:function(){this.map.getExtent()&&this.updateDimensions()},drawFeature:function(C,D){if(D==null){D=C.style}if(C.geometry){var E=this.drawGeometry(C.geometry,D,C.id);if(E!==false&&D.label){var B=C.geometry.getCentroid();this.drawText(C.id,D,B)}else{this.removeText(C.id)}return E}},drawText:function(H,F,B){var C;if(typeof H!=="string"){C=H}else{C=this.nodeFactory(H+this.LABEL_ID_SUFFIX,this.labelNodeType);C._featureId=H}C._style=F;C._x=B.x;C._y=B.y;if(F.labelXOffset||F.labelYOffset){var E=isNaN(F.labelXOffset)?0:F.labelXOffset;var G=isNaN(F.labelYOffset)?0:F.labelYOffset;var D=this.getResolution();B.move(E*D,G*D)}if(C.parentNode!==this.textRoot){this.textRoot.appendChild(C)}return C},CLASS_NAME:"OpenLayers.Renderer.NG"});(function(){var B=OpenLayers.Layer.Vector.prototype.moveTo;OpenLayers.Layer.Vector.prototype.moveTo=function(H,E,I){if(OpenLayers.Renderer.NG&&this.renderer instanceof OpenLayers.Renderer.NG){OpenLayers.Layer.prototype.moveTo.apply(this,arguments);I||this.renderer.updateDimensions(E);if(!this.drawn){this.drawn=true;var G;for(var F=0,D=this.features.length;F<D;F++){this.renderer.locked=(F!==(D-1));G=this.features[F];this.drawFeature(G)}}}else{B.apply(this,arguments)}};var C=OpenLayers.Layer.Vector.prototype.redraw;OpenLayers.Layer.Vector.prototype.redraw=function(){if(OpenLayers.Renderer.NG&&this.renderer instanceof OpenLayers.Renderer.NG){this.drawn=false}C.apply(this,arguments)}})();OpenLayers.Renderer.SVG2=OpenLayers.Class(OpenLayers.Renderer.NG,{xmlns:"http://www.w3.org/2000/svg",xlinkns:"http://www.w3.org/1999/xlink",symbolMetrics:null,labelNodeType:"g",initialize:function(B){if(!this.supported()){return }OpenLayers.Renderer.Elements.prototype.initialize.apply(this,arguments);this.symbolMetrics={}},supported:function(){var B="http://www.w3.org/TR/SVG11/feature#";return(document.implementation&&(document.implementation.hasFeature("org.w3c.svg","1.0")||document.implementation.hasFeature(B+"SVG","1.1")||document.implementation.hasFeature(B+"BasicStructure","1.1")))},updateDimensions:function(B){OpenLayers.Renderer.NG.prototype.updateDimensions.apply(this,arguments);var I=this.getResolution();var D=this.extent.getWidth();var K=this.extent.getHeight();var E=[this.extent.left,-this.extent.top,D,K].join(" ");this.rendererRoot.setAttributeNS(null,"viewBox",E);this.rendererRoot.setAttributeNS(null,"width",D/I);this.rendererRoot.setAttributeNS(null,"height",K/I);if(B===true){var F,G;var C=this.vectorRoot.childNodes;for(F=0,G=C.length;F<G;++F){this.setStyle(C[F])}var H=this.textRoot.childNodes;var J;for(F=0,G=H.length;F<G;++F){J=H[F];this.drawText(J,J._style,new OpenLayers.Geometry.Point(J._x,J._y))}}},getNodeType:function(D,C){var B=null;switch(D.CLASS_NAME){case"OpenLayers.Geometry.Point":if(C.externalGraphic){B="image"}else{if(this.isComplexSymbol(C.graphicName)){B="svg"}else{B="circle"}}break;case"OpenLayers.Geometry.Rectangle":B="rect";break;case"OpenLayers.Geometry.LineString":B="polyline";break;case"OpenLayers.Geometry.LinearRing":B="polygon";break;case"OpenLayers.Geometry.Polygon":case"OpenLayers.Geometry.Curve":B="path";break;default:break}return B},setStyle:function(P,T,C){T=T||P._style;C=C||P._options;var S=this.getResolution();var K=P._radius;var J=S;if(P._geometryClass=="OpenLayers.Geometry.Point"&&K){P.style.visibility="";if(T.graphic===false){P.style.visibility="hidden"}else{if(T.externalGraphic){if(T.graphicTitle){P.setAttributeNS(null,"title",T.graphicTitle);var O=P.getElementsByTagName("title");if(O.length>0){O[0].firstChild.textContent=T.graphicTitle}else{var F=this.nodeFactory(null,"title");F.textContent=T.graphicTitle;P.appendChild(F)}}if(T.graphicWidth&&T.graphicHeight){P.setAttributeNS(null,"preserveAspectRatio","none")}var N=T.graphicWidth||T.graphicHeight;var M=T.graphicHeight||T.graphicWidth;N=N?N:T.pointRadius*2;M=M?M:T.pointRadius*2;N*=S;M*=S;var U=(T.graphicXOffset!=undefined)?T.graphicXOffset*S:-(0.5*N);var G=(T.graphicYOffset!=undefined)?T.graphicYOffset*S:-(0.5*M);var B=T.graphicOpacity||T.fillOpacity;P.setAttributeNS(null,"x",P._x+U);P.setAttributeNS(null,"y",P._y+G);P.setAttributeNS(null,"width",N);P.setAttributeNS(null,"height",M);P.setAttributeNS(this.xlinkns,"href",T.externalGraphic);P.setAttributeNS(null,"style","opacity: "+B);P.onclick=OpenLayers.Renderer.SVG2.preventDefault}else{if(this.isComplexSymbol(T.graphicName)){var D=T.pointRadius*3*S;var L=D*2;var E=this.importSymbol(T.graphicName);J=this.symbolMetrics[E.id].size*3/L*S;var H=P.parentNode;var I=P.nextSibling;if(H){H.removeChild(P)}P.firstChild&&P.removeChild(P.firstChild);P.appendChild(E.firstChild.cloneNode(true));P.setAttributeNS(null,"viewBox",E.getAttributeNS(null,"viewBox"));P.setAttributeNS(null,"width",L);P.setAttributeNS(null,"height",L);P.setAttributeNS(null,"x",P._x-D);P.setAttributeNS(null,"y",P._y-D);if(I){H.insertBefore(P,I)}else{if(H){H.appendChild(P)}}}else{P.setAttributeNS(null,"r",T.pointRadius*S)}}}var R=T.rotation;if(R!==undefined||P._rotation!==undefined){P._rotation=R;R|=0;if(P.nodeName!=="svg"){P.setAttributeNS(null,"transform",["rotate(",R,P._x,P._y,")"].join(" "))}else{var Q=this.symbolMetrics[E.id];P.firstChild.setAttributeNS(null,"transform",["rotate(",R,Q.x,Q.y,")"].join(" "))}}}if(C.isFilled){P.setAttributeNS(null,"fill",T.fillColor);P.setAttributeNS(null,"fill-opacity",T.fillOpacity)}else{P.setAttributeNS(null,"fill","none")}if(C.isStroked){P.setAttributeNS(null,"stroke",T.strokeColor);P.setAttributeNS(null,"stroke-opacity",T.strokeOpacity);P.setAttributeNS(null,"stroke-width",T.strokeWidth*J);P.setAttributeNS(null,"stroke-linecap",T.strokeLinecap||"round");P.setAttributeNS(null,"stroke-linejoin","round");T.strokeDashstyle&&P.setAttributeNS(null,"stroke-dasharray",this.dashStyle(T,J))}else{P.setAttributeNS(null,"stroke","none")}if(T.pointerEvents){P.setAttributeNS(null,"pointer-events",T.pointerEvents)}if(T.cursor!=null){P.setAttributeNS(null,"cursor",T.cursor)}return P},dashStyle:function(F,E){var B=F.strokeWidth*E;var H=F.strokeDashstyle;switch(H){case"solid":return"none";case"dot":return[E,4*B].join();case"dash":return[4*B,4*B].join();case"dashdot":return[4*B,4*B,E,4*B].join();case"longdash":return[8*B,4*B].join();case"longdashdot":return[8*B,4*B,E,4*B].join();default:var G=OpenLayers.String.trim(H).split(/\s+/g);for(var C=0,D=G.length;C<D;C++){G[C]=G[C]*E}return G.join()}},createNode:function(B,D){var C=document.createElementNS(this.xmlns,B);if(D){C.setAttributeNS(null,"id",D)}return C},nodeTypeCompare:function(C,B){return(B==C.nodeName)},createRenderRoot:function(){return this.nodeFactory(this.container.id+"_svgRoot","svg")},createRoot:function(B){return this.nodeFactory(this.container.id+B,"g")},createDefs:function(){var B=this.nodeFactory(this.container.id+"_defs","defs");this.rendererRoot.appendChild(B);return B},drawPoint:function(B,C){return this.drawCircle(B,C,1)},drawCircle:function(D,E,C){var B=E.x;var F=-E.y;D.setAttributeNS(null,"cx",B);D.setAttributeNS(null,"cy",F);D._x=B;D._y=F;D._radius=C;return D},drawLineString:function(B,D){var C=this.getComponentsString(D.components);B.setAttributeNS(null,"points",C);return B},drawLinearRing:function(B,D){var C=this.getComponentsString(D.components);B.setAttributeNS(null,"points",C);return B},drawPolygon:function(C,H){var G=[];var I=true;var B=true;var D,J;for(var E=0,F=H.components.length;E<F;E++){G.push("M");J=this.getComponentsString(H.components[E].components," ");G.push(J)}G.push("z");C.setAttributeNS(null,"d",G.join(" "));C.setAttributeNS(null,"fill-rule","evenodd");return C},drawRectangle:function(B,C){B.setAttributeNS(null,"x",C.x);B.setAttributeNS(null,"y",-C.y);B.setAttributeNS(null,"width",C.width);B.setAttributeNS(null,"height",C.height);return B},drawText:function(E,B,L){var F=OpenLayers.Renderer.NG.prototype.drawText.apply(this,arguments);var M=F.firstChild||this.nodeFactory(E+this.LABEL_ID_SUFFIX+"_text","text");var I=this.getResolution();M.setAttributeNS(null,"x",L.x/I);M.setAttributeNS(null,"y",-L.y/I);F.setAttributeNS(null,"transform","scale("+I+")");if(B.fontColor){M.setAttributeNS(null,"fill",B.fontColor)}if(B.fontOpacity){M.setAttributeNS(null,"opacity",B.fontOpacity)}if(B.fontFamily){M.setAttributeNS(null,"font-family",B.fontFamily)}if(B.fontSize){M.setAttributeNS(null,"font-size",B.fontSize)}if(B.fontWeight){M.setAttributeNS(null,"font-weight",B.fontWeight)}if(B.fontStyle){M.setAttributeNS(null,"font-style",B.fontStyle)}if(B.labelSelect===true){M.setAttributeNS(null,"pointer-events","visible");M._featureId=E}else{M.setAttributeNS(null,"pointer-events","none")}var H=B.labelAlign||OpenLayers.Renderer.defaultSymbolizer.labelAlign;M.setAttributeNS(null,"text-anchor",OpenLayers.Renderer.SVG2.LABEL_ALIGN[H[0]]||"middle");if(OpenLayers.IS_GECKO===true){M.setAttributeNS(null,"dominant-baseline",OpenLayers.Renderer.SVG2.LABEL_ALIGN[H[1]]||"central")}var C=B.label.split("\n");var G=C.length;while(M.childNodes.length>G){M.removeChild(M.lastChild)}for(var D=0;D<G;D++){var J=M.childNodes[D]||this.nodeFactory(E+this.LABEL_ID_SUFFIX+"_tspan_"+D,"tspan");if(B.labelSelect===true){J._featureId=E}if(OpenLayers.IS_GECKO===false){J.setAttributeNS(null,"baseline-shift",OpenLayers.Renderer.SVG2.LABEL_VSHIFT[H[1]]||"-35%")}J.setAttribute("x",L.x/I);if(D==0){var K=OpenLayers.Renderer.SVG2.LABEL_VFACTOR[H[1]];if(K==null){K=-0.5}J.setAttribute("dy",(K*(G-1))+"em")}else{J.setAttribute("dy","1em")}J.textContent=(C[D]==="")?" ":C[D];if(!J.parentNode){M.appendChild(J)}}if(!M.parentNode){F.appendChild(M)}return F},getComponentsString:function(E,F){var C=E.length;var B=new Array(C);for(var D=0;D<C;D++){B[D]=this.getShortString(E[D])}return B.join(F||",")},getShortString:function(B){return B.x+","+(-B.y)},importSymbol:function(G){if(!this.defs){this.defs=this.createDefs()}var C=this.container.id+"-"+G;var D=document.getElementById(C);if(D!=null){return D}var F=OpenLayers.Renderer.symbol[G];if(!F){throw new Error(G+" is not a valid symbol name")}var J=this.nodeFactory(C,"symbol");var E=this.nodeFactory(null,"polygon");J.appendChild(E);var O=new OpenLayers.Bounds(Number.MAX_VALUE,Number.MAX_VALUE,0,0);var M=[];var L,K;for(var H=0,I=F.length;H<I;H=H+2){L=F[H];K=F[H+1];O.left=Math.min(O.left,L);O.bottom=Math.min(O.bottom,K);O.right=Math.max(O.right,L);O.top=Math.max(O.top,K);M.push(L,",",K)}E.setAttributeNS(null,"points",M.join(" "));var B=O.getWidth();var N=O.getHeight();var P=[O.left-B,O.bottom-N,B*3,N*3];J.setAttributeNS(null,"viewBox",P.join(" "));this.symbolMetrics[C]={size:Math.max(B,N),x:O.getCenterLonLat().lon,y:O.getCenterLonLat().lat};this.defs.appendChild(J);return J},getFeatureIdFromEvent:function(B){var D=OpenLayers.Renderer.Elements.prototype.getFeatureIdFromEvent.apply(this,arguments);if(!D){var C=B.target;D=C.parentNode&&C!=this.rendererRoot?C.parentNode._featureId:undefined}return D},CLASS_NAME:"OpenLayers.Renderer.SVG2"});OpenLayers.Renderer.SVG2.LABEL_ALIGN={l:"start",r:"end",b:"bottom",t:"hanging"};OpenLayers.Renderer.SVG2.LABEL_VSHIFT={t:"-70%",b:"0"};OpenLayers.Renderer.SVG2.LABEL_VFACTOR={t:0,b:-1};OpenLayers.Renderer.SVG2.preventDefault=function(B){B.preventDefault&&B.preventDefault()};OpenLayers.Protocol.WFS.v1_1_0=OpenLayers.Class(OpenLayers.Protocol.WFS.v1,{version:"1.1.0",initialize:function(B){OpenLayers.Protocol.WFS.v1.prototype.initialize.apply(this,arguments);if(this.outputFormat&&!this.readFormat){if(this.outputFormat.toLowerCase()=="gml2"){this.readFormat=new OpenLayers.Format.GML.v2({featureType:this.featureType,featureNS:this.featureNS,geometryName:this.geometryName})}else{if(this.outputFormat.toLowerCase()=="json"){this.readFormat=new OpenLayers.Format.GeoJSON()}}}},CLASS_NAME:"OpenLayers.Protocol.WFS.v1_1_0"});OpenLayers.Control.ArgParser=OpenLayers.Class(OpenLayers.Control,{center:null,zoom:null,layers:null,displayProjection:null,getParameters:function(C){C=C||window.location.href;var D=OpenLayers.Util.getParameters(C);var B=C.indexOf("#");if(B>0){C="?"+C.substring(B+1,C.length);OpenLayers.Util.extend(D,OpenLayers.Util.getParameters(C))}return D},setMap:function(F){OpenLayers.Control.prototype.setMap.apply(this,arguments);for(var D=0,B=this.map.controls.length;D<B;D++){var E=this.map.controls[D];if((E!=this)&&(E.CLASS_NAME=="OpenLayers.Control.ArgParser")){if(E.displayProjection!=this.displayProjection){this.displayProjection=E.displayProjection}break}}if(D==this.map.controls.length){var C=this.getParameters();if(C.layers){this.layers=C.layers;this.map.events.register("addlayer",this,this.configureLayers);this.configureLayers()}if(C.lat&&C.lon){this.center=new OpenLayers.LonLat(parseFloat(C.lon),parseFloat(C.lat));if(C.zoom){this.zoom=parseFloat(C.zoom)}this.map.events.register("changebaselayer",this,this.setCenter);this.setCenter()}}},setCenter:function(){if(this.map.baseLayer){this.map.events.unregister("changebaselayer",this,this.setCenter);if(this.displayProjection){this.center.transform(this.displayProjection,this.map.getProjectionObject())}this.map.setCenter(this.center,this.zoom)}},configureLayers:function(){if(this.layers.length==this.map.layers.length){this.map.events.unregister("addlayer",this,this.configureLayers);for(var D=0,B=this.layers.length;D<B;D++){var C=this.map.layers[D];var E=this.layers.charAt(D);if(E=="B"){this.map.setBaseLayer(C)}else{if((E=="T")||(E=="F")){C.setVisibility(E=="T")}}}}},CLASS_NAME:"OpenLayers.Control.ArgParser"});Proj4js={defaultDatum:"WGS84",transform:function(E,C,B){if(!E.readyToUse){this.reportError("Proj4js initialization for:"+E.srsCode+" not yet complete");return B}if(!C.readyToUse){this.reportError("Proj4js initialization for:"+C.srsCode+" not yet complete");return B}if((E.srsProjNumber=="900913"&&C.datumCode!="WGS84"&&!C.datum_params)||(C.srsProjNumber=="900913"&&E.datumCode!="WGS84"&&!E.datum_params)){var D=Proj4js.WGS84;this.transform(E,D,B);E=D}if(E.axis!="enu"){this.adjust_axis(E,false,B)}if(E.projName=="longlat"){B.x*=Proj4js.common.D2R;B.y*=Proj4js.common.D2R}else{if(E.to_meter){B.x*=E.to_meter;B.y*=E.to_meter}E.inverse(B)}if(E.from_greenwich){B.x+=E.from_greenwich}B=this.datum_transform(E.datum,C.datum,B);if(C.from_greenwich){B.x-=C.from_greenwich}if(C.projName=="longlat"){B.x*=Proj4js.common.R2D;B.y*=Proj4js.common.R2D}else{C.forward(B);if(C.to_meter){B.x/=C.to_meter;B.y/=C.to_meter}}if(C.axis!="enu"){this.adjust_axis(C,true,B)}return B},datum_transform:function(D,C,B){if(D.compare_datums(C)){return B}if(D.datum_type==Proj4js.common.PJD_NODATUM||C.datum_type==Proj4js.common.PJD_NODATUM){return B}if(D.datum_type==Proj4js.common.PJD_GRIDSHIFT){alert("ERROR: Grid shift transformations are not implemented yet.")}if(C.datum_type==Proj4js.common.PJD_GRIDSHIFT){alert("ERROR: Grid shift transformations are not implemented yet.")}if(D.es!=C.es||D.a!=C.a||D.datum_type==Proj4js.common.PJD_3PARAM||D.datum_type==Proj4js.common.PJD_7PARAM||C.datum_type==Proj4js.common.PJD_3PARAM||C.datum_type==Proj4js.common.PJD_7PARAM){D.geodetic_to_geocentric(B);if(D.datum_type==Proj4js.common.PJD_3PARAM||D.datum_type==Proj4js.common.PJD_7PARAM){D.geocentric_to_wgs84(B)}if(C.datum_type==Proj4js.common.PJD_3PARAM||C.datum_type==Proj4js.common.PJD_7PARAM){C.geocentric_from_wgs84(B)}C.geocentric_to_geodetic(B)}if(C.datum_type==Proj4js.common.PJD_GRIDSHIFT){alert("ERROR: Grid shift transformations are not implemented yet.")}return B},adjust_axis:function(F,H,E){var D=E.x,J=E.y,B=E.z||0;var G,I;for(var C=0;C<3;C++){if(H&&C==2&&E.z===undefined){continue}if(C==0){G=D;I="x"}else{if(C==1){G=J;I="y"}else{G=B;I="z"}}switch(F.axis[C]){case"e":E[I]=G;break;case"w":E[I]=-G;break;case"n":E[I]=G;break;case"s":E[I]=-G;break;case"u":if(E[I]!==undefined){E.z=G}break;case"d":if(E[I]!==undefined){E.z=-G}break;default:alert("ERROR: unknow axis ("+F.axis[C]+") - check definition of "+src.projName);return null}}return E},reportError:function(B){},extend:function(B,E){B=B||{};if(E){for(var D in E){var C=E[D];if(C!==undefined){B[D]=C}}}return B},Class:function(){var C=function(){this.initialize.apply(this,arguments)};var B={};var E;for(var D=0;D<arguments.length;++D){if(typeof arguments[D]=="function"){E=arguments[D].prototype}else{E=arguments[D]}Proj4js.extend(B,E)}C.prototype=B;return C},bind:function(D,C){var B=Array.prototype.slice.apply(arguments,[2]);return function(){var E=B.concat(Array.prototype.slice.apply(arguments,[0]));return D.apply(C,E)}},scriptName:"proj4js-compressed.js",defsLookupService:"http://spatialreference.org/ref",libPath:null,getScriptLocation:function(){if(this.libPath){return this.libPath}var F=this.scriptName;var E=F.length;var B=document.getElementsByTagName("script");for(var D=0;D<B.length;D++){var G=B[D].getAttribute("src");if(G){var C=G.lastIndexOf(F);if((C>-1)&&(C+E==G.length)){this.libPath=G.slice(0,-E);break}}}return this.libPath||""},loadScript:function(E,F,D,B){var C=document.createElement("script");C.defer=false;C.type="text/javascript";C.id=E;C.src=E;C.onload=F;C.onerror=D;C.loadCheck=B;if(/MSIE/.test(navigator.userAgent)){C.onreadystatechange=this.checkReadyState}document.getElementsByTagName("head")[0].appendChild(C)},checkReadyState:function(){if(this.readyState=="loaded"){if(!this.loadCheck()){this.onerror()}else{this.onload()}}}};Proj4js.Proj=Proj4js.Class({readyToUse:false,title:null,projName:null,units:null,datum:null,x0:0,y0:0,localCS:false,queue:null,initialize:function(D,E){this.srsCodeInput=D;this.queue=[];if(E){this.queue.push(E)}if((D.indexOf("GEOGCS")>=0)||(D.indexOf("GEOCCS")>=0)||(D.indexOf("PROJCS")>=0)||(D.indexOf("LOCAL_CS")>=0)){this.parseWKT(D);this.deriveConstants();this.loadProjCode(this.projName);return }if(D.indexOf("urn:")==0){var B=D.split(":");if((B[1]=="ogc"||B[1]=="x-ogc")&&(B[2]=="def")&&(B[3]=="crs")){D=B[4]+":"+B[B.length-1]}}else{if(D.indexOf("http://")==0){var C=D.split("#");if(C[0].match(/epsg.org/)){D="EPSG:"+C[1]}else{if(C[0].match(/RIG.xml/)){D="IGNF:"+C[1]}}}}this.srsCode=D.toUpperCase();if(this.srsCode.indexOf("EPSG")==0){this.srsCode=this.srsCode;this.srsAuth="epsg";this.srsProjNumber=this.srsCode.substring(5)}else{if(this.srsCode.indexOf("IGNF")==0){this.srsCode=this.srsCode;this.srsAuth="IGNF";this.srsProjNumber=this.srsCode.substring(5)}else{if(this.srsCode.indexOf("CRS")==0){this.srsCode=this.srsCode;this.srsAuth="CRS";this.srsProjNumber=this.srsCode.substring(4)}else{this.srsAuth="";this.srsProjNumber=this.srsCode}}}this.loadProjDefinition()},loadProjDefinition:function(){if(Proj4js.defs[this.srsCode]){this.defsLoaded();return }var B=Proj4js.getScriptLocation()+"defs/"+this.srsAuth.toUpperCase()+this.srsProjNumber+".js";Proj4js.loadScript(B,Proj4js.bind(this.defsLoaded,this),Proj4js.bind(this.loadFromService,this),Proj4js.bind(this.checkDefsLoaded,this))},loadFromService:function(){var B=Proj4js.defsLookupService+"/"+this.srsAuth+"/"+this.srsProjNumber+"/proj4js/";Proj4js.loadScript(B,Proj4js.bind(this.defsLoaded,this),Proj4js.bind(this.defsFailed,this),Proj4js.bind(this.checkDefsLoaded,this))},defsLoaded:function(){this.parseDefs();this.loadProjCode(this.projName)},checkDefsLoaded:function(){if(Proj4js.defs[this.srsCode]){return true}else{return false}},defsFailed:function(){Proj4js.reportError("failed to load projection definition for: "+this.srsCode);Proj4js.defs[this.srsCode]=Proj4js.defs.WGS84;this.defsLoaded()},loadProjCode:function(C){if(Proj4js.Proj[C]){this.initTransforms();return }var B=Proj4js.getScriptLocation()+"projCode/"+C+".js";Proj4js.loadScript(B,Proj4js.bind(this.loadProjCodeSuccess,this,C),Proj4js.bind(this.loadProjCodeFailure,this,C),Proj4js.bind(this.checkCodeLoaded,this,C))},loadProjCodeSuccess:function(B){if(Proj4js.Proj[B].dependsOn){this.loadProjCode(Proj4js.Proj[B].dependsOn)}else{this.initTransforms()}},loadProjCodeFailure:function(B){Proj4js.reportError("failed to find projection file for: "+B)},checkCodeLoaded:function(B){if(Proj4js.Proj[B]){return true}else{return false}},initTransforms:function(){Proj4js.extend(this,Proj4js.Proj[this.projName]);this.init();this.readyToUse=true;if(this.queue){var B;while((B=this.queue.shift())){B.call(this,this)}}},wktRE:/^(\w+)\[(.*)\]$/,parseWKT:function(J){var I=J.match(this.wktRE);if(!I){return }var L=I[1];var K=I[2];var H=K.split(",");var N;if(L.toUpperCase()=="TOWGS84"){N=L}else{N=H.shift()}N=N.replace(/^\"/,"");N=N.replace(/\"$/,"");var M=new Array();var C=0;var G="";for(var F=0;F<H.length;++F){var D=H[F];for(var E=0;E<D.length;++E){if(D.charAt(E)=="["){++C}if(D.charAt(E)=="]"){--C}}G+=D;if(C===0){M.push(G);G=""}else{G+=","}}switch(L){case"LOCAL_CS":this.projName="identity";this.localCS=true;this.srsCode=N;break;case"GEOGCS":this.projName="longlat";this.geocsCode=N;if(!this.srsCode){this.srsCode=N}break;case"PROJCS":this.srsCode=N;break;case"GEOCCS":break;case"PROJECTION":this.projName=Proj4js.wktProjections[N];break;case"DATUM":this.datumName=N;break;case"LOCAL_DATUM":this.datumCode="none";break;case"SPHEROID":this.ellps=N;this.a=parseFloat(M.shift());this.rf=parseFloat(M.shift());break;case"PRIMEM":this.from_greenwich=parseFloat(M.shift());break;case"UNIT":this.units=N;this.unitsPerMeter=parseFloat(M.shift());break;case"PARAMETER":var B=N.toLowerCase();var O=parseFloat(M.shift());switch(B){case"false_easting":this.x0=O;break;case"false_northing":this.y0=O;break;case"scale_factor":this.k0=O;break;case"central_meridian":this.long0=O*Proj4js.common.D2R;break;case"latitude_of_origin":this.lat0=O*Proj4js.common.D2R;break;case"more_here":break;default:break}break;case"TOWGS84":this.datum_params=M;break;case"AXIS":var B=N.toLowerCase();var O=M.shift();switch(O){case"EAST":O="e";break;case"WEST":O="w";break;case"NORTH":O="n";break;case"SOUTH":O="s";break;case"UP":O="u";break;case"DOWN":O="d";break;case"OTHER":default:O=" ";break}if(!this.axis){this.axis="enu"}switch(B){case"X":this.axis=O+this.axis.substr(1,2);break;case"Y":this.axis=this.axis.substr(0,1)+O+this.axis.substr(2,1);break;case"Z":this.axis=this.axis.substr(0,2)+O;break;default:break}case"MORE_HERE":break;default:break}for(var F=0;F<M.length;++F){this.parseWKT(M[F])}},parseDefs:function(){this.defData=Proj4js.defs[this.srsCode];var F,C;if(!this.defData){return }var B=this.defData.split("+");for(var G=0;G<B.length;G++){var E=B[G].split("=");F=E[0].toLowerCase();C=E[1];switch(F.replace(/\s/gi,"")){case"":break;case"title":this.title=C;break;case"proj":this.projName=C.replace(/\s/gi,"");break;case"units":this.units=C.replace(/\s/gi,"");break;case"datum":this.datumCode=C.replace(/\s/gi,"");break;case"nadgrids":this.nagrids=C.replace(/\s/gi,"");break;case"ellps":this.ellps=C.replace(/\s/gi,"");break;case"a":this.a=parseFloat(C);break;case"b":this.b=parseFloat(C);break;case"rf":this.rf=parseFloat(C);break;case"lat_0":this.lat0=C*Proj4js.common.D2R;break;case"lat_1":this.lat1=C*Proj4js.common.D2R;break;case"lat_2":this.lat2=C*Proj4js.common.D2R;break;case"lat_ts":this.lat_ts=C*Proj4js.common.D2R;break;case"lon_0":this.long0=C*Proj4js.common.D2R;break;case"alpha":this.alpha=parseFloat(C)*Proj4js.common.D2R;break;case"lonc":this.longc=C*Proj4js.common.D2R;break;case"x_0":this.x0=parseFloat(C);break;case"y_0":this.y0=parseFloat(C);break;case"k_0":this.k0=parseFloat(C);break;case"k":this.k0=parseFloat(C);break;case"r_a":this.R_A=true;break;case"zone":this.zone=parseInt(C);break;case"south":this.utmSouth=true;break;case"towgs84":this.datum_params=C.split(",");break;case"to_meter":this.to_meter=parseFloat(C);break;case"from_greenwich":this.from_greenwich=C*Proj4js.common.D2R;break;case"pm":C=C.replace(/\s/gi,"");this.from_greenwich=Proj4js.PrimeMeridian[C]?Proj4js.PrimeMeridian[C]:parseFloat(C);this.from_greenwich*=Proj4js.common.D2R;break;case"axis":C=C.replace(/\s/gi,"");var D="ewnsud";if(C.length==3&&D.indexOf(C.substr(0,1))!=-1&&D.indexOf(C.substr(1,1))!=-1&&D.indexOf(C.substr(2,1))!=-1){this.axis=C}break;case"no_defs":break;default:}}this.deriveConstants()},deriveConstants:function(){if(this.nagrids=="@null"){this.datumCode="none"}if(this.datumCode&&this.datumCode!="none"){var B=Proj4js.Datum[this.datumCode];if(B){this.datum_params=B.towgs84?B.towgs84.split(","):null;this.ellps=B.ellipse;this.datumName=B.datumName?B.datumName:this.datumCode}}if(!this.a){var C=Proj4js.Ellipsoid[this.ellps]?Proj4js.Ellipsoid[this.ellps]:Proj4js.Ellipsoid.WGS84;Proj4js.extend(this,C)}if(this.rf&&!this.b){this.b=(1-1/this.rf)*this.a}if(Math.abs(this.a-this.b)<Proj4js.common.EPSLN){this.sphere=true;this.b=this.a}this.a2=this.a*this.a;this.b2=this.b*this.b;this.es=(this.a2-this.b2)/this.a2;this.e=Math.sqrt(this.es);if(this.R_A){this.a*=1-this.es*(Proj4js.common.SIXTH+this.es*(Proj4js.common.RA4+this.es*Proj4js.common.RA6));this.a2=this.a*this.a;this.b2=this.b*this.b;this.es=0}this.ep2=(this.a2-this.b2)/this.b2;if(!this.k0){this.k0=1}if(!this.axis){this.axis="enu"}this.datum=new Proj4js.datum(this)}});Proj4js.Proj.longlat={init:function(){},forward:function(B){return B},inverse:function(B){return B}};Proj4js.Proj.identity=Proj4js.Proj.longlat;Proj4js.defs={WGS84:"+title=long/lat:WGS84 +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees","EPSG:4326":"+title=long/lat:WGS84 +proj=longlat +a=6378137.0 +b=6356752.31424518 +ellps=WGS84 +datum=WGS84 +units=degrees","EPSG:4269":"+title=long/lat:NAD83 +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees","EPSG:3785":"+title= Google Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"};Proj4js.defs.GOOGLE=Proj4js.defs["EPSG:3785"];Proj4js.defs["EPSG:900913"]=Proj4js.defs["EPSG:3785"];Proj4js.defs["EPSG:102113"]=Proj4js.defs["EPSG:3785"];Proj4js.common={PI:3.141592653589793,HALF_PI:1.5707963267948966,TWO_PI:6.283185307179586,FORTPI:0.7853981633974483,R2D:57.29577951308232,D2R:0.017453292519943295,SEC_TO_RAD:0.00000484813681109536,EPSLN:1e-10,MAX_ITER:20,COS_67P5:0.3826834323650898,AD_C:1.0026,PJD_UNKNOWN:0,PJD_3PARAM:1,PJD_7PARAM:2,PJD_GRIDSHIFT:3,PJD_WGS84:4,PJD_NODATUM:5,SRS_WGS84_SEMIMAJOR:6378137,SIXTH:0.16666666666666666,RA4:0.04722222222222222,RA6:0.022156084656084655,RV4:0.06944444444444445,RV6:0.04243827160493827,msfnz:function(D,C,E){var B=D*C;return E/(Math.sqrt(1-B*B))},tsfnz:function(F,E,D){var B=F*D;var C=0.5*F;B=Math.pow(((1-B)/(1+B)),C);return(Math.tan(0.5*(this.HALF_PI-E))/B)},phi2z:function(H,G){var F=0.5*H;var B,C;var E=this.HALF_PI-2*Math.atan(G);for(var D=0;D<=15;D++){B=H*Math.sin(E);C=this.HALF_PI-2*Math.atan(G*(Math.pow(((1-B)/(1+B)),F)))-E;E+=C;if(Math.abs(C)<=1e-10){return E}}alert("phi2z has NoConvergence");return(-9999)},qsfnz:function(D,C){var B;if(D>1e-7){B=D*C;return((1-D*D)*(C/(1-B*B)-(0.5/D)*Math.log((1-B)/(1+B))))}else{return(2*C)}},asinz:function(B){if(Math.abs(B)>1){B=(B>1)?1:-1}return Math.asin(B)},e0fn:function(B){return(1-0.25*B*(1+B/16*(3+1.25*B)))},e1fn:function(B){return(0.375*B*(1+0.25*B*(1+0.46875*B)))},e2fn:function(B){return(0.05859375*B*B*(1+0.75*B))},e3fn:function(B){return(B*B*B*(35/3072))},mlfn:function(F,E,D,C,B){return(F*B-E*Math.sin(2*B)+D*Math.sin(4*B)-C*Math.sin(6*B))},srat:function(B,C){return(Math.pow((1-B)/(1+B),C))},sign:function(B){if(B<0){return(-1)}else{return(1)}},adjust_lon:function(B){B=(Math.abs(B)<this.PI)?B:(B-(this.sign(B)*this.TWO_PI));return B},adjust_lat:function(B){B=(Math.abs(B)<this.HALF_PI)?B:(B-(this.sign(B)*this.PI));return B},latiso:function(E,D,C){if(Math.abs(D)>this.HALF_PI){return +Number.NaN}if(D==this.HALF_PI){return Number.POSITIVE_INFINITY}if(D==-1*this.HALF_PI){return -1*Number.POSITIVE_INFINITY}var B=E*C;return Math.log(Math.tan((this.HALF_PI+D)/2))+E*Math.log((1-B)/(1+B))/2},fL:function(C,B){return 2*Math.atan(C*Math.exp(B))-this.HALF_PI},invlatiso:function(F,D){var C=this.fL(1,D);var E=0;var B=0;do{E=C;B=F*Math.sin(E);C=this.fL(Math.exp(F*Math.log((1+B)/(1-B))/2),D)}while(Math.abs(C-E)>1e-12);return C},sinh:function(B){var C=Math.exp(B);C=(C-1/C)/2;return C},cosh:function(B){var C=Math.exp(B);C=(C+1/C)/2;return C},tanh:function(B){var C=Math.exp(B);C=(C-1/C)/(C+1/C);return C},asinh:function(B){var C=(B>=0?1:-1);return C*(Math.log(Math.abs(B)+Math.sqrt(B*B+1)))},acosh:function(B){return 2*Math.log(Math.sqrt((B+1)/2)+Math.sqrt((B-1)/2))},atanh:function(B){return Math.log((B-1)/(B+1))/2},gN:function(B,E,D){var C=E*D;return B/Math.sqrt(1-C*C)}};Proj4js.datum=Proj4js.Class({initialize:function(C){this.datum_type=Proj4js.common.PJD_WGS84;if(C.datumCode&&C.datumCode=="none"){this.datum_type=Proj4js.common.PJD_NODATUM}if(C&&C.datum_params){for(var B=0;B<C.datum_params.length;B++){C.datum_params[B]=parseFloat(C.datum_params[B])}if(C.datum_params[0]!=0||C.datum_params[1]!=0||C.datum_params[2]!=0){this.datum_type=Proj4js.common.PJD_3PARAM}if(C.datum_params.length>3){if(C.datum_params[3]!=0||C.datum_params[4]!=0||C.datum_params[5]!=0||C.datum_params[6]!=0){this.datum_type=Proj4js.common.PJD_7PARAM;C.datum_params[3]*=Proj4js.common.SEC_TO_RAD;C.datum_params[4]*=Proj4js.common.SEC_TO_RAD;C.datum_params[5]*=Proj4js.common.SEC_TO_RAD;C.datum_params[6]=(C.datum_params[6]/1000000)+1}}}if(C){this.a=C.a;this.b=C.b;this.es=C.es;this.ep2=C.ep2;this.datum_params=C.datum_params}},compare_datums:function(B){if(this.datum_type!=B.datum_type){return false}else{if(this.a!=B.a||Math.abs(this.es-B.es)>5e-11){return false}else{if(this.datum_type==Proj4js.common.PJD_3PARAM){return(this.datum_params[0]==B.datum_params[0]&&this.datum_params[1]==B.datum_params[1]&&this.datum_params[2]==B.datum_params[2])}else{if(this.datum_type==Proj4js.common.PJD_7PARAM){return(this.datum_params[0]==B.datum_params[0]&&this.datum_params[1]==B.datum_params[1]&&this.datum_params[2]==B.datum_params[2]&&this.datum_params[3]==B.datum_params[3]&&this.datum_params[4]==B.datum_params[4]&&this.datum_params[5]==B.datum_params[5]&&this.datum_params[6]==B.datum_params[6])}else{if(this.datum_type==Proj4js.common.PJD_GRIDSHIFT){return strcmp(pj_param(this.params,"snadgrids").s,pj_param(B.params,"snadgrids").s)==0}else{return true}}}}}},geodetic_to_geocentric:function(D){var M=D.x;var I=D.y;var E=D.z?D.z:0;var F;var C;var B;var K=0;var L;var J;var H;var G;if(I<-Proj4js.common.HALF_PI&&I>-1.001*Proj4js.common.HALF_PI){I=-Proj4js.common.HALF_PI}else{if(I>Proj4js.common.HALF_PI&&I<1.001*Proj4js.common.HALF_PI){I=Proj4js.common.HALF_PI}else{if((I<-Proj4js.common.HALF_PI)||(I>Proj4js.common.HALF_PI)){Proj4js.reportError("geocent:lat out of range:"+I);return null}}}if(M>Proj4js.common.PI){M-=(2*Proj4js.common.PI)}J=Math.sin(I);G=Math.cos(I);H=J*J;L=this.a/(Math.sqrt(1-this.es*H));F=(L+E)*G*Math.cos(M);C=(L+E)*G*Math.sin(M);B=((L*(1-this.es))+E)*J;D.x=F;D.y=C;D.z=B;return K},geocentric_to_geodetic:function(U){var d=1e-12;var V=(d*d);var G=30;var M;var I;var B;var O;var C;var N;var L;var b;var a;var K;var S;var R;var F;var W;var H=U.x;var E=U.y;var D=U.z?U.z:0;var J;var T;var Q;F=false;M=Math.sqrt(H*H+E*E);I=Math.sqrt(H*H+E*E+D*D);if(M/this.a<d){F=true;J=0;if(I/this.a<d){T=Proj4js.common.HALF_PI;Q=-this.b;return }}else{J=Math.atan2(E,H)}B=D/I;O=M/I;C=1/Math.sqrt(1-this.es*(2-this.es)*O*O);b=O*(1-this.es)*C;a=B*C;W=0;do{W++;L=this.a/Math.sqrt(1-this.es*a*a);Q=M*b+D*a-L*(1-this.es*a*a);N=this.es*L/(L+Q);C=1/Math.sqrt(1-N*(2-N)*O*O);K=O*(1-N)*C;S=B*C;R=S*b-K*a;b=K;a=S}while(R*R>V&&W<G);T=Math.atan(S/Math.abs(K));U.x=J;U.y=T;U.z=Q;return U},geocentric_to_geodetic_noniter:function(S){var E=S.x;var D=S.y;var B=S.z?S.z:0;var H;var R;var M;var F;var O;var Q;var N;var K;var I;var J;var V;var G;var U;var T;var P;var L;var C;E=parseFloat(E);D=parseFloat(D);B=parseFloat(B);C=false;if(E!=0){H=Math.atan2(D,E)}else{if(D>0){H=Proj4js.common.HALF_PI}else{if(D<0){H=-Proj4js.common.HALF_PI}else{C=true;H=0;if(B>0){R=Proj4js.common.HALF_PI}else{if(B<0){R=-Proj4js.common.HALF_PI}else{R=Proj4js.common.HALF_PI;M=-this.b;return }}}}}O=E*E+D*D;F=Math.sqrt(O);Q=B*Proj4js.common.AD_C;K=Math.sqrt(Q*Q+O);J=Q/K;G=F/K;V=J*J*J;N=B+this.b*this.ep2*V;L=F-this.a*this.es*G*G*G;I=Math.sqrt(N*N+L*L);U=N/I;T=L/I;P=this.a/Math.sqrt(1-this.es*U*U);if(T>=Proj4js.common.COS_67P5){M=F/T-P}else{if(T<=-Proj4js.common.COS_67P5){M=F/-T-P}else{M=B/U+P*(this.es-1)}}if(C==false){R=Math.atan(U/T)}S.x=H;S.y=R;S.z=M;return S},geocentric_to_wgs84:function(C){if(this.datum_type==Proj4js.common.PJD_3PARAM){C.x+=this.datum_params[0];C.y+=this.datum_params[1];C.z+=this.datum_params[2]}else{if(this.datum_type==Proj4js.common.PJD_7PARAM){var G=this.datum_params[0];var E=this.datum_params[1];var J=this.datum_params[2];var F=this.datum_params[3];var K=this.datum_params[4];var I=this.datum_params[5];var H=this.datum_params[6];var D=H*(C.x-I*C.y+K*C.z)+G;var B=H*(I*C.x+C.y-F*C.z)+E;var L=H*(-K*C.x+F*C.y+C.z)+J;C.x=D;C.y=B;C.z=L}}},geocentric_from_wgs84:function(D){if(this.datum_type==Proj4js.common.PJD_3PARAM){D.x-=this.datum_params[0];D.y-=this.datum_params[1];D.z-=this.datum_params[2]}else{if(this.datum_type==Proj4js.common.PJD_7PARAM){var H=this.datum_params[0];var E=this.datum_params[1];var K=this.datum_params[2];var G=this.datum_params[3];var L=this.datum_params[4];var J=this.datum_params[5];var I=this.datum_params[6];var F=(D.x-H)/I;var C=(D.y-E)/I;var B=(D.z-K)/I;D.x=F+J*C-L*B;D.y=-J*F+C+G*B;D.z=L*F-G*C+B}}}});Proj4js.Point=Proj4js.Class({initialize:function(B,E,D){if(typeof B=="object"){this.x=B[0];this.y=B[1];this.z=B[2]||0}else{if(typeof B=="string"&&typeof E=="undefined"){var C=B.split(",");this.x=parseFloat(C[0]);this.y=parseFloat(C[1]);this.z=parseFloat(C[2])||0}else{this.x=B;this.y=E;this.z=D||0}}},clone:function(){return new Proj4js.Point(this.x,this.y,this.z)},toString:function(){return("x="+this.x+",y="+this.y)},toShortString:function(){return(this.x+", "+this.y)}});Proj4js.PrimeMeridian={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};Proj4js.Ellipsoid={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},"APL4.":{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS72:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};Proj4js.Datum={WGS84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},GGRS87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},NAD83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},NAD27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},OSGB36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"}};Proj4js.WGS84=new Proj4js.Proj("WGS84");Proj4js.Datum.OSB36=Proj4js.Datum.OSGB36;Proj4js.wktProjections={"Lambert Tangential Conformal Conic Projection":"lcc",Mercator:"merc","Popular Visualisation Pseudo Mercator":"merc",Transverse_Mercator:"tmerc","Transverse Mercator":"tmerc","Lambert Azimuthal Equal Area":"laea","Universal Transverse Mercator System":"utm"};Proj4js.Proj.aea={init:function(){if(Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN){Proj4js.reportError("aeaInitEqualLatitudes");return }this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e3=Math.sqrt(this.es);this.sin_po=Math.sin(this.lat1);this.cos_po=Math.cos(this.lat1);this.t1=this.sin_po;this.con=this.sin_po;this.ms1=Proj4js.common.msfnz(this.e3,this.sin_po,this.cos_po);this.qs1=Proj4js.common.qsfnz(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat2);this.cos_po=Math.cos(this.lat2);this.t2=this.sin_po;this.ms2=Proj4js.common.msfnz(this.e3,this.sin_po,this.cos_po);this.qs2=Proj4js.common.qsfnz(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat0);this.cos_po=Math.cos(this.lat0);this.t3=this.sin_po;this.qs0=Proj4js.common.qsfnz(this.e3,this.sin_po,this.cos_po);if(Math.abs(this.lat1-this.lat2)>Proj4js.common.EPSLN){this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1)}else{this.ns0=this.con}this.c=this.ms1*this.ms1+this.ns0*this.qs1;this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0},forward:function(F){var G=F.x;var E=F.y;this.sin_phi=Math.sin(E);this.cos_phi=Math.cos(E);var C=Proj4js.common.qsfnz(this.e3,this.sin_phi,this.cos_phi);var I=this.a*Math.sqrt(this.c-this.ns0*C)/this.ns0;var D=this.ns0*Proj4js.common.adjust_lon(G-this.long0);var B=I*Math.sin(D)+this.x0;var H=this.rh-I*Math.cos(D)+this.y0;F.x=B;F.y=H;return F},inverse:function(F){var H,B,C,D,G,E;F.x-=this.x0;F.y=this.rh-F.y+this.y0;if(this.ns0>=0){H=Math.sqrt(F.x*F.x+F.y*F.y);C=1}else{H=-Math.sqrt(F.x*F.x+F.y*F.y);C=-1}D=0;if(H!=0){D=Math.atan2(C*F.x,C*F.y)}C=H*this.ns0/this.a;B=(this.c-C*C)/this.ns0;if(this.e3>=1e-10){C=1-0.5*(1-this.es)*Math.log((1-this.e3)/(1+this.e3))/this.e3;if(Math.abs(Math.abs(C)-Math.abs(B))>1e-10){E=this.phi1z(this.e3,B)}else{if(B>=0){E=0.5*PI}else{E=-0.5*PI}}}else{E=this.phi1z(e3,B)}G=Proj4js.common.adjust_lon(D/this.ns0+this.long0);F.x=G;F.y=E;return F},phi1z:function(I,B){var C,D,E;var H=Proj4js.common.asinz(0.5*B);if(I<Proj4js.common.EPSLN){return H}var G=I*I;for(var F=1;F<=25;F++){sinphi=Math.sin(H);cosphi=Math.cos(H);C=I*sinphi;D=1-C*C;E=0.5*D*D/cosphi*(B/(1-G)-sinphi/D+0.5/I*Math.log((1-C)/(1+C)));H=H+E;if(Math.abs(E)<=1e-7){return H}}Proj4js.reportError("aea:phi1z:Convergence error");return null}};Proj4js.Proj.sterea={dependsOn:"gauss",init:function(){Proj4js.Proj.gauss.init.apply(this);if(!this.rc){Proj4js.reportError("sterea:init:E_ERROR_0");return }this.sinc0=Math.sin(this.phic0);this.cosc0=Math.cos(this.phic0);this.R2=2*this.rc;if(!this.title){this.title="Oblique Stereographic Alternative"}},forward:function(B){B.x=Proj4js.common.adjust_lon(B.x-this.long0);Proj4js.Proj.gauss.forward.apply(this,[B]);sinc=Math.sin(B.y);cosc=Math.cos(B.y);cosl=Math.cos(B.x);k=this.k0*this.R2/(1+this.sinc0*sinc+this.cosc0*cosc*cosl);B.x=k*cosc*Math.sin(B.x);B.y=k*(this.cosc0*sinc-this.sinc0*cosc*cosl);B.x=this.a*B.x+this.x0;B.y=this.a*B.y+this.y0;return B},inverse:function(C){var D,B;C.x=(C.x-this.x0)/this.a;C.y=(C.y-this.y0)/this.a;C.x/=this.k0;C.y/=this.k0;if((rho=Math.sqrt(C.x*C.x+C.y*C.y))){c=2*Math.atan2(rho,this.R2);sinc=Math.sin(c);cosc=Math.cos(c);B=Math.asin(cosc*this.sinc0+C.y*sinc*this.cosc0/rho);D=Math.atan2(C.x*sinc,rho*this.cosc0*cosc-C.y*this.sinc0*sinc)}else{B=this.phic0;D=0}C.x=D;C.y=B;Proj4js.Proj.gauss.inverse.apply(this,[C]);C.x=Proj4js.common.adjust_lon(C.x+this.long0);return C}};function phi4z(C,H,G,F,E,T,S,R,D){var I,Q,O,P,M,L,K,J,B,N;D=T;for(N=1;N<=15;N++){I=Math.sin(D);tanphi=Math.tan(D);R=tanphi*Math.sqrt(1-C*I*I);Q=Math.sin(2*D);P=H*D-G*Q+F*Math.sin(4*D)-E*Math.sin(6*D);M=H-2*G*Math.cos(2*D)+4*F*Math.cos(4*D)-6*E*Math.cos(6*D);L=2*P+R*(P*P+S)-2*T*(R*P+1);K=C*Q*(P*P+S-2*T*P)/(2*R);J=2*(T-P)*(R*M-2/Q)-2*M;B=L/(K+J);D+=B;if(Math.abs(B)<=1e-10){return(D)}}Proj4js.reportError("phi4z: No convergence");return null}function e4fn(B){var C,D;C=1+B;D=1-B;return(Math.sqrt((Math.pow(C,C))*(Math.pow(D,D))))}Proj4js.Proj.poly={init:function(){var B;if(this.lat0=0){this.lat0=90}this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=Proj4js.common.e0fn(this.es);this.e1=Proj4js.common.e1fn(this.es);this.e2=Proj4js.common.e2fn(this.es);this.e3=Proj4js.common.e3fn(this.es);this.ml0=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(E){var B,G;var I;var K;var F,H;var D;var M,L;var C=E.x;var J=E.y;F=Proj4js.common.adjust_lon(C-this.long0);if(Math.abs(J)<=1e-7){M=this.x0+this.a*F;L=this.y0-this.a*this.ml0}else{B=Math.sin(J);G=Math.cos(J);H=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,J);D=Proj4js.common.msfnz(this.e,B,G);F=B;M=this.x0+this.a*D*Math.sin(F)/B;L=this.y0+this.a*(H-this.ml0+D*(1-Math.cos(F))/B)}E.x=M;E.y=L;return E},inverse:function(C){var K,G;var F;var L;var I;var D,E;var J;var B,H;C.x-=this.x0;C.y-=this.y0;F=this.ml0+C.y/this.a;J=0;if(Math.abs(F)<=1e-7){B=C.x/this.a+this.long0;H=0}else{L=F*F+(C.x/this.a)*(C.x/this.a);J=phi4z(this.es,this.e0,this.e1,this.e2,this.e3,this.al,L,I,H);if(J!=1){return(J)}B=Proj4js.common.adjust_lon((Proj4js.common.asinz(C.x*I/this.a)/Math.sin(H))+this.long0)}C.x=B;C.y=H;return C}};Proj4js.Proj.equi={init:function(){if(!this.x0){this.x0=0}if(!this.y0){this.y0=0}if(!this.lat0){this.lat0=0}if(!this.long0){this.long0=0}},forward:function(E){var F=E.x;var D=E.y;var C=Proj4js.common.adjust_lon(F-this.long0);var B=this.x0+this.a*C*Math.cos(this.lat0);var G=this.y0+this.a*D;this.t1=B;this.t2=Math.cos(this.lat0);E.x=B;E.y=G;return E},inverse:function(C){C.x-=this.x0;C.y-=this.y0;var B=C.y/this.a;if(Math.abs(B)>Proj4js.common.HALF_PI){Proj4js.reportError("equi:Inv:DataError")}var D=Proj4js.common.adjust_lon(this.long0+C.x/(this.a*Math.cos(this.lat0)));C.x=D;C.y=B}};Proj4js.Proj.merc={init:function(){if(this.lat_ts){if(this.sphere){this.k0=Math.cos(this.lat_ts)}else{this.k0=Proj4js.common.msfnz(this.es,Math.sin(this.lat_ts),Math.cos(this.lat_ts))}}},forward:function(F){var G=F.x;var E=F.y;if(E*Proj4js.common.R2D>90&&E*Proj4js.common.R2D<-90&&G*Proj4js.common.R2D>180&&G*Proj4js.common.R2D<-180){Proj4js.reportError("merc:forward: llInputOutOfRange: "+G+" : "+E);return null}var B,H;if(Math.abs(Math.abs(E)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN){Proj4js.reportError("merc:forward: ll2mAtPoles");return null}else{if(this.sphere){B=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(G-this.long0);H=this.y0+this.a*this.k0*Math.log(Math.tan(Proj4js.common.FORTPI+0.5*E))}else{var D=Math.sin(E);var C=Proj4js.common.tsfnz(this.e,E,D);B=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(G-this.long0);H=this.y0-this.a*this.k0*Math.log(C)}F.x=B;F.y=H;return F}},inverse:function(E){var B=E.x-this.x0;var G=E.y-this.y0;var F,D;if(this.sphere){D=Proj4js.common.HALF_PI-2*Math.atan(Math.exp(-G/this.a*this.k0))}else{var C=Math.exp(-G/(this.a*this.k0));D=Proj4js.common.phi2z(this.e,C);if(D==-9999){Proj4js.reportError("merc:inverse: lat = -9999");return null}}F=Proj4js.common.adjust_lon(this.long0+B/(this.a*this.k0));E.x=F;E.y=D;return E}};Proj4js.Proj.utm={dependsOn:"tmerc",init:function(){if(!this.zone){Proj4js.reportError("utm:init: zone must be specified for UTM");return }this.lat0=0;this.long0=((6*Math.abs(this.zone))-183)*Proj4js.common.D2R;this.x0=500000;this.y0=this.utmSouth?10000000:0;this.k0=0.9996;Proj4js.Proj.tmerc.init.apply(this);this.forward=Proj4js.Proj.tmerc.forward;this.inverse=Proj4js.Proj.tmerc.inverse}};Proj4js.Proj.eqdc={init:function(){if(!this.mode){this.mode=0}this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=Proj4js.common.e0fn(this.es);this.e1=Proj4js.common.e1fn(this.es);this.e2=Proj4js.common.e2fn(this.es);this.e3=Proj4js.common.e3fn(this.es);this.sinphi=Math.sin(this.lat1);this.cosphi=Math.cos(this.lat1);this.ms1=Proj4js.common.msfnz(this.e,this.sinphi,this.cosphi);this.ml1=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat1);if(this.mode!=0){if(Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN){Proj4js.reportError("eqdc:Init:EqualLatitudes")}this.sinphi=Math.sin(this.lat2);this.cosphi=Math.cos(this.lat2);this.ms2=Proj4js.common.msfnz(this.e,this.sinphi,this.cosphi);this.ml2=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat2);if(Math.abs(this.lat1-this.lat2)>=Proj4js.common.EPSLN){this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)}else{this.ns=this.sinphi}}else{this.ns=this.sinphi}this.g=this.ml1+this.ms1/this.ns;this.ml0=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0);this.rh=this.a*(this.g-this.ml0)},forward:function(E){var F=E.x;var D=E.y;var I=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,D);var H=this.a*(this.g-I);var C=this.ns*Proj4js.common.adjust_lon(F-this.long0);var B=this.x0+H*Math.sin(C);var G=this.y0+this.rh-H*Math.cos(C);E.x=B;E.y=G;return E},inverse:function(E){E.x-=this.x0;E.y=this.rh-E.y+this.y0;var B,H;if(this.ns>=0){var H=Math.sqrt(E.x*E.x+E.y*E.y);var B=1}else{H=-Math.sqrt(E.x*E.x+E.y*E.y);B=-1}var C=0;if(H!=0){C=Math.atan2(B*E.x,B*E.y)}var G=this.g-H/this.a;var D=this.phi3z(G,this.e0,this.e1,this.e2,this.e3);var F=Proj4js.common.adjust_lon(this.long0+C/this.ns);E.x=F;E.y=D;return E},phi3z:function(I,H,G,F,E){var D;var B;D=I;for(var C=0;C<15;C++){B=(I+G*Math.sin(2*D)-F*Math.sin(4*D)+E*Math.sin(6*D))/H-D;D+=B;if(Math.abs(B)<=1e-10){return D}}Proj4js.reportError("PHI3Z-CONV:Latitude failed to converge after 15 iterations");return null}};Proj4js.Proj.tmerc={init:function(){this.e0=Proj4js.common.e0fn(this.es);this.e1=Proj4js.common.e1fn(this.es);this.e2=Proj4js.common.e2fn(this.es);this.e3=Proj4js.common.e3fn(this.es);this.ml0=this.a*Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(C){var B=C.x;var L=C.y;var F=Proj4js.common.adjust_lon(B-this.long0);var D;var Q,O;var P=Math.sin(L);var J=Math.cos(L);if(this.sphere){var N=J*Math.sin(F);if((Math.abs(Math.abs(N)-1))<1e-10){Proj4js.reportError("tmerc:forward: Point projects into infinity");return(93)}else{Q=0.5*this.a*this.k0*Math.log((1+N)/(1-N));D=Math.acos(J*Math.cos(F)/Math.sqrt(1-N*N));if(L<0){D=-D}O=this.a*this.k0*(D-this.lat0)}}else{var I=J*F;var H=Math.pow(I,2);var K=this.ep2*Math.pow(J,2);var M=Math.tan(L);var R=Math.pow(M,2);D=1-this.es*Math.pow(P,2);var E=this.a/Math.sqrt(D);var G=this.a*Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,L);Q=this.k0*E*I*(1+H/6*(1-R+K+H/20*(5-18*R+Math.pow(R,2)+72*K-58*this.ep2)))+this.x0;O=this.k0*(G-this.ml0+E*M*(H*(0.5+H/24*(5-R+9*K+4*Math.pow(K,2)+H/30*(61-58*R+Math.pow(R,2)+600*K-330*this.ep2)))))+this.y0}C.x=Q;C.y=O;return C},inverse:function(P){var F,D;var Z;var R;var I=6;var H,E;if(this.sphere){var U=Math.exp(P.x/(this.a*this.k0));var T=0.5*(U-1/U);var W=this.lat0+P.y/(this.a*this.k0);var S=Math.cos(W);F=Math.sqrt((1-S*S)/(1+T*T));H=Proj4js.common.asinz(F);if(W<0){H=-H}if((T==0)&&(S==0)){E=this.long0}else{E=Proj4js.common.adjust_lon(Math.atan2(T,S)+this.long0)}}else{var K=P.x-this.x0;var J=P.y-this.y0;F=(this.ml0+J/this.k0)/this.a;D=F;for(R=0;true;R++){Z=((F+this.e1*Math.sin(2*D)-this.e2*Math.sin(4*D)+this.e3*Math.sin(6*D))/this.e0)-D;D+=Z;if(Math.abs(Z)<=Proj4js.common.EPSLN){break}if(R>=I){Proj4js.reportError("tmerc:inverse: Latitude failed to converge");return(95)}}if(Math.abs(D)<Proj4js.common.HALF_PI){var C=Math.sin(D);var a=Math.cos(D);var L=Math.tan(D);var Y=this.ep2*Math.pow(a,2);var G=Math.pow(Y,2);var M=Math.pow(L,2);var B=Math.pow(M,2);F=1-this.es*Math.pow(C,2);var Q=this.a/Math.sqrt(F);var N=Q*(1-this.es)/F;var V=K/(Q*this.k0);var O=Math.pow(V,2);H=D-(Q*L*O/N)*(0.5-O/24*(5+3*M+10*Y-4*G-9*this.ep2-O/30*(61+90*M+298*Y+45*B-252*this.ep2-3*G)));E=Proj4js.common.adjust_lon(this.long0+(V*(1-O/6*(1+2*M+Y-O/20*(5-2*Y+28*M-3*G+8*this.ep2+24*B)))/a))}else{H=Proj4js.common.HALF_PI*Proj4js.common.sign(J);E=this.long0}}P.x=E;P.y=H;return P}};Proj4js.defs.GOOGLE="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs";Proj4js.defs["EPSG:900913"]=Proj4js.defs.GOOGLE;Proj4js.Proj.gstmerc={init:function(){var B=this.b/this.a;this.e=Math.sqrt(1-B*B);this.lc=this.long0;this.rs=Math.sqrt(1+this.e*this.e*Math.pow(Math.cos(this.lat0),4)/(1-this.e*this.e));var D=Math.sin(this.lat0);var C=Math.asin(D/this.rs);var E=Math.sin(C);this.cp=Proj4js.common.latiso(0,C,E)-this.rs*Proj4js.common.latiso(this.e,this.lat0,D);this.n2=this.k0*this.a*Math.sqrt(1-this.e*this.e)/(1-this.e*this.e*D*D);this.xs=this.x0;this.ys=this.y0-this.n2*C;if(!this.title){this.title="Gauss Schreiber transverse mercator"}},forward:function(F){var H=F.x;var E=F.y;var B=this.rs*(H-this.lc);var C=this.cp+(this.rs*Proj4js.common.latiso(this.e,E,Math.sin(E)));var G=Math.asin(Math.sin(B)/Proj4js.common.cosh(C));var D=Proj4js.common.latiso(0,G,Math.sin(G));F.x=this.xs+(this.n2*D);F.y=this.ys+(this.n2*Math.atan(Proj4js.common.sinh(C)/Math.cos(B)));return F},inverse:function(E){var C=E.x;var G=E.y;var B=Math.atan(Proj4js.common.sinh((C-this.xs)/this.n2)/Math.cos((G-this.ys)/this.n2));var F=Math.asin(Math.sin((G-this.ys)/this.n2)/Proj4js.common.cosh((C-this.xs)/this.n2));var D=Proj4js.common.latiso(0,F,Math.sin(F));E.x=this.lc+B/this.rs;E.y=Proj4js.common.invlatiso(this.e,(D-this.cp)/this.rs);return E}};Proj4js.Proj.ortho={init:function(B){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0)},forward:function(D){var B,E;var L;var K;var F;var G;var C=D.x;var H=D.y;L=Proj4js.common.adjust_lon(C-this.long0);B=Math.sin(H);E=Math.cos(H);K=Math.cos(L);G=this.sin_p14*B+this.cos_p14*E*K;F=1;if((G>0)||(Math.abs(G)<=Proj4js.common.EPSLN)){var J=this.a*F*E*Math.sin(L);var I=this.y0+this.a*F*(this.cos_p14*B-this.sin_p14*E*K)}else{Proj4js.reportError("orthoFwdPointError")}D.x=J;D.y=I;return D},inverse:function(C){var H;var G;var E,J;var I;var D;var B,F;C.x-=this.x0;C.y-=this.y0;H=Math.sqrt(C.x*C.x+C.y*C.y);if(H>this.a+1e-7){Proj4js.reportError("orthoInvDataError")}G=Proj4js.common.asinz(H/this.a);E=Math.sin(G);J=Math.cos(G);B=this.long0;if(Math.abs(H)<=Proj4js.common.EPSLN){F=this.lat0}F=Proj4js.common.asinz(J*this.sin_p14+(C.y*E*this.cos_p14)/H);D=Math.abs(this.lat0)-Proj4js.common.HALF_PI;if(Math.abs(D)<=Proj4js.common.EPSLN){if(this.lat0>=0){B=Proj4js.common.adjust_lon(this.long0+Math.atan2(C.x,-C.y))}else{B=Proj4js.common.adjust_lon(this.long0-Math.atan2(-C.x,C.y))}}D=J-this.sin_p14*Math.sin(F);C.x=B;C.y=F;return C}};Proj4js.Proj.somerc={init:function(){var C=this.lat0;this.lambda0=this.long0;var B=Math.sin(C);var E=this.a;var D=this.rf;var F=1/D;var H=2*F-Math.pow(F,2);var G=this.e=Math.sqrt(H);this.R=this.k0*E*Math.sqrt(1-H)/(1-H*Math.pow(B,2));this.alpha=Math.sqrt(1+H/(1-H)*Math.pow(Math.cos(C),4));this.b0=Math.asin(B/this.alpha);this.K=Math.log(Math.tan(Math.PI/4+this.b0/2))-this.alpha*Math.log(Math.tan(Math.PI/4+C/2))+this.alpha*G/2*Math.log((1+G*B)/(1-G*B))},forward:function(F){var J=Math.log(Math.tan(Math.PI/4-F.y/2));var G=this.e/2*Math.log((1+this.e*Math.sin(F.y))/(1-this.e*Math.sin(F.y)));var D=-this.alpha*(J+G)+this.K;var B=2*(Math.atan(Math.exp(D))-Math.PI/4);var C=this.alpha*(F.x-this.lambda0);var H=Math.atan(Math.sin(C)/(Math.sin(this.b0)*Math.tan(B)+Math.cos(this.b0)*Math.cos(C)));var E=Math.asin(Math.cos(this.b0)*Math.sin(B)-Math.sin(this.b0)*Math.cos(B)*Math.cos(C));F.y=this.R/2*Math.log((1+Math.sin(E))/(1-Math.sin(E)))+this.y0;F.x=this.R*H+this.x0;return F},inverse:function(D){var C=D.x-this.x0;var E=D.y-this.y0;var M=C/this.R;var F=2*(Math.atan(Math.exp(E/this.R))-Math.PI/4);var K=Math.asin(Math.cos(this.b0)*Math.sin(F)+Math.sin(this.b0)*Math.cos(F)*Math.cos(M));var L=Math.atan(Math.sin(M)/(Math.cos(this.b0)*Math.cos(M)-Math.sin(this.b0)*Math.tan(F)));var J=this.lambda0+L/this.alpha;var H=0;var N=K;var B=-1000;var G=0;while(Math.abs(N-B)>1e-7){if(++G>20){Proj4js.reportError("omercFwdInfinity");return }H=1/this.alpha*(Math.log(Math.tan(Math.PI/4+K/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(N))/2));B=N;N=2*Math.atan(Math.exp(H))-Math.PI/2}D.x=J;D.y=N;return D}};Proj4js.Proj.stere={ssfn_:function(B,D,C){D*=C;return(Math.tan(0.5*(Proj4js.common.HALF_PI+B))*Math.pow((1-D)/(1+D),0.5*C))},TOL:1e-8,NITER:8,CONV:1e-10,S_POLE:0,N_POLE:1,OBLIQ:2,EQUIT:3,init:function(){this.phits=this.lat_ts?this.lat_ts:Proj4js.common.HALF_PI;var B=Math.abs(this.lat0);if((Math.abs(B)-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN){this.mode=this.lat0<0?this.S_POLE:this.N_POLE}else{this.mode=B>Proj4js.common.EPSLN?this.OBLIQ:this.EQUIT}this.phits=Math.abs(this.phits);if(this.es){var C;switch(this.mode){case this.N_POLE:case this.S_POLE:if(Math.abs(this.phits-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN){this.akm1=2*this.k0/Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e))}else{B=Math.sin(this.phits);this.akm1=Math.cos(this.phits)/Proj4js.common.tsfnz(this.e,this.phits,B);B*=this.e;this.akm1/=Math.sqrt(1-B*B)}break;case this.EQUIT:this.akm1=2*this.k0;break;case this.OBLIQ:B=Math.sin(this.lat0);C=2*Math.atan(this.ssfn_(this.lat0,B,this.e))-Proj4js.common.HALF_PI;B*=this.e;this.akm1=2*this.k0*Math.cos(this.lat0)/Math.sqrt(1-B*B);this.sinX1=Math.sin(C);this.cosX1=Math.cos(C);break}}else{switch(this.mode){case this.OBLIQ:this.sinph0=Math.sin(this.lat0);this.cosph0=Math.cos(this.lat0);case this.EQUIT:this.akm1=2*this.k0;break;case this.S_POLE:case this.N_POLE:this.akm1=Math.abs(this.phits-Proj4js.common.HALF_PI)>=Proj4js.common.EPSLN?Math.cos(this.phits)/Math.tan(Proj4js.common.FORTPI-0.5*this.phits):2*this.k0;break}}},forward:function(D){var C=D.x;C=Proj4js.common.adjust_lon(C-this.long0);var G=D.y;var J,H;if(this.sphere){var B,E,I,F;B=Math.sin(G);E=Math.cos(G);I=Math.cos(C);F=Math.sin(C);switch(this.mode){case this.EQUIT:H=1+E*I;if(H<=Proj4js.common.EPSLN){F_ERROR}H=this.akm1/H;J=H*E*F;H*=B;break;case this.OBLIQ:H=1+this.sinph0*B+this.cosph0*E*I;if(H<=Proj4js.common.EPSLN){F_ERROR}H=this.akm1/H;J=H*E*F;H*=this.cosph0*B-this.sinph0*E*I;break;case this.N_POLE:I=-I;G=-G;case this.S_POLE:if(Math.abs(G-Proj4js.common.HALF_PI)<this.TOL){F_ERROR}H=this.akm1*Math.tan(Proj4js.common.FORTPI+0.5*G);J=F*H;H*=I;break}}else{I=Math.cos(C);F=Math.sin(C);B=Math.sin(G);if(this.mode==this.OBLIQ||this.mode==this.EQUIT){X=2*Math.atan(this.ssfn_(G,B,this.e));sinX=Math.sin(X-Proj4js.common.HALF_PI);cosX=Math.cos(X)}switch(this.mode){case this.OBLIQ:A=this.akm1/(this.cosX1*(1+this.sinX1*sinX+this.cosX1*cosX*I));H=A*(this.cosX1*sinX-this.sinX1*cosX*I);J=A*cosX;break;case this.EQUIT:A=2*this.akm1/(1+cosX*I);H=A*sinX;J=A*cosX;break;case this.S_POLE:G=-G;I=-I;B=-B;case this.N_POLE:J=this.akm1*Proj4js.common.tsfnz(this.e,G,B);H=-J*I;break}J=J*F}D.x=J*this.a+this.x0;D.y=H*this.a+this.y0;return D},inverse:function(D){var P=(D.x-this.x0)/this.a;var M=(D.y-this.y0)/this.a;var C,L;var H,B,O=0,E=0,N,G=0,J=0;var I;if(this.sphere){var K,Q,F,R;Q=Math.sqrt(P*P+M*M);K=2*Math.atan(Q/this.akm1);F=Math.sin(K);R=Math.cos(K);C=0;switch(this.mode){case this.EQUIT:if(Math.abs(Q)<=Proj4js.common.EPSLN){L=0}else{L=Math.asin(M*F/Q)}if(R!=0||P!=0){C=Math.atan2(P*F,R*Q)}break;case this.OBLIQ:if(Math.abs(Q)<=Proj4js.common.EPSLN){L=this.phi0}else{L=Math.asin(R*sinph0+M*F*cosph0/Q)}K=R-sinph0*Math.sin(L);if(K!=0||P!=0){C=Math.atan2(P*F*cosph0,K*Q)}break;case this.N_POLE:M=-M;case this.S_POLE:if(Math.abs(Q)<=Proj4js.common.EPSLN){L=this.phi0}else{L=Math.asin(this.mode==this.S_POLE?-R:R)}C=(P==0&&M==0)?0:Math.atan2(P,M);break}D.x=Proj4js.common.adjust_lon(C+this.long0);D.y=L}else{N=Math.sqrt(P*P+M*M);switch(this.mode){case this.OBLIQ:case this.EQUIT:O=2*Math.atan2(N*this.cosX1,this.akm1);H=Math.cos(O);B=Math.sin(O);if(N==0){E=Math.asin(H*this.sinX1)}else{E=Math.asin(H*this.sinX1+(M*B*this.cosX1/N))}O=Math.tan(0.5*(Proj4js.common.HALF_PI+E));P*=B;M=N*this.cosX1*H-M*this.sinX1*B;J=Proj4js.common.HALF_PI;G=0.5*this.e;break;case this.N_POLE:M=-M;case this.S_POLE:O=-N/this.akm1;E=Proj4js.common.HALF_PI-2*Math.atan(O);J=-Proj4js.common.HALF_PI;G=-0.5*this.e;break}for(I=this.NITER;I--;E=L){B=this.e*Math.sin(E);L=2*Math.atan(O*Math.pow((1+B)/(1-B),G))-J;if(Math.abs(E-L)<this.CONV){if(this.mode==this.S_POLE){L=-L}C=(P==0&&M==0)?0:Math.atan2(P,M);D.x=Proj4js.common.adjust_lon(C+this.long0);D.y=L;return D}}}}};Proj4js.Proj.nzmg={iterations:1,init:function(){this.A=new Array();this.A[1]=+0.6399175073;this.A[2]=-0.1358797613;this.A[3]=+0.063294409;this.A[4]=-0.02526853;this.A[5]=+0.0117879;this.A[6]=-0.0055161;this.A[7]=+0.0026906;this.A[8]=-0.001333;this.A[9]=+0.00067;this.A[10]=-0.00034;this.B_re=new Array();this.B_im=new Array();this.B_re[1]=+0.7557853228;this.B_im[1]=0;this.B_re[2]=+0.249204646;this.B_im[2]=+0.003371507;this.B_re[3]=-0.001541739;this.B_im[3]=+0.04105856;this.B_re[4]=-0.10162907;this.B_im[4]=+0.01727609;this.B_re[5]=-0.26623489;this.B_im[5]=-0.36249218;this.B_re[6]=-0.6870983;this.B_im[6]=-1.1651967;this.C_re=new Array();this.C_im=new Array();this.C_re[1]=+1.3231270439;this.C_im[1]=0;this.C_re[2]=-0.577245789;this.C_im[2]=-0.007809598;this.C_re[3]=+0.508307513;this.C_im[3]=-0.112208952;this.C_re[4]=-0.15094762;this.C_im[4]=+0.18200602;this.C_re[5]=+1.01418179;this.C_im[5]=+1.64497696;this.C_re[6]=+1.9660549;this.C_im[6]=+2.5127645;this.D=new Array();this.D[1]=+1.5627014243;this.D[2]=+0.5185406398;this.D[3]=-0.03333098;this.D[4]=-0.1052906;this.D[5]=-0.0368594;this.D[6]=+0.007317;this.D[7]=+0.0122;this.D[8]=+0.00394;this.D[9]=-0.0013},forward:function(D){var C=D.x;var O=D.y;var R=O-this.lat0;var J=C-this.long0;var E=R/Proj4js.common.SEC_TO_RAD*0.00001;var B=J;var L=1;var I=0;for(n=1;n<=10;n++){L=L*E;I=I+this.A[n]*L}var K=I;var G=B;var M=1;var H=0;var Q;var F;var P=0;var N=0;for(n=1;n<=6;n++){Q=M*K-H*G;F=H*K+M*G;M=Q;H=F;P=P+this.B_re[n]*M-this.B_im[n]*H;N=N+this.B_im[n]*M+this.B_re[n]*H}x=(N*this.a)+this.x0;y=(P*this.a)+this.y0;D.x=x;D.y=y;return D},inverse:function(S){var P=S.x;var O=S.y;var W=P-this.x0;var V=O-this.y0;var N=V/this.a;var F=W/this.a;var J=1;var f=0;var G;var a;var K=0;var B=0;for(n=1;n<=6;n++){G=J*N-f*F;a=f*N+J*F;J=G;f=a;K=K+this.C_re[n]*J-this.C_im[n]*f;B=B+this.C_im[n]*J+this.C_re[n]*f}for(i=0;i<this.iterations;i++){var Q=K;var I=B;var U;var R;var D=N;var Z=F;for(n=2;n<=6;n++){U=Q*K-I*B;R=I*K+Q*B;Q=U;I=R;D=D+(n-1)*(this.B_re[n]*Q-this.B_im[n]*I);Z=Z+(n-1)*(this.B_im[n]*Q+this.B_re[n]*I)}Q=1;I=0;var C=this.B_re[1];var Y=this.B_im[1];for(n=2;n<=6;n++){U=Q*K-I*B;R=I*K+Q*B;Q=U;I=R;C=C+n*(this.B_re[n]*Q-this.B_im[n]*I);Y=Y+n*(this.B_im[n]*Q+this.B_re[n]*I)}var E=C*C+Y*Y;K=(D*C+Z*Y)/E;B=(Z*C-D*Y)/E}var T=K;var M=B;var b=1;var d=0;for(n=1;n<=9;n++){b=b*T;d=d+this.D[n]*b}var L=this.lat0+(d*Proj4js.common.SEC_TO_RAD*100000);var H=this.long0+M;S.x=H;S.y=L;return S}};Proj4js.Proj.mill={init:function(){},forward:function(E){var F=E.x;var D=E.y;var C=Proj4js.common.adjust_lon(F-this.long0);var B=this.x0+this.a*C;var G=this.y0+this.a*Math.log(Math.tan((Proj4js.common.PI/4)+(D/2.5)))*1.25;E.x=B;E.y=G;return E},inverse:function(C){C.x-=this.x0;C.y-=this.y0;var D=Proj4js.common.adjust_lon(this.long0+C.x/this.a);var B=2.5*(Math.atan(Math.exp(0.8*C.y/this.a))-Proj4js.common.PI/4);C.x=D;C.y=B;return C}};Proj4js.Proj.gnom={init:function(B){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0);this.infinity_dist=1000*this.a;this.rc=1},forward:function(D){var B,E;var J;var I;var F;var G;var C=D.x;var H=D.y;J=Proj4js.common.adjust_lon(C-this.long0);B=Math.sin(H);E=Math.cos(H);I=Math.cos(J);G=this.sin_p14*B+this.cos_p14*E*I;F=1;if((G>0)||(Math.abs(G)<=Proj4js.common.EPSLN)){x=this.x0+this.a*F*E*Math.sin(J)/G;y=this.y0+this.a*F*(this.cos_p14*B-this.sin_p14*E*I)/G}else{Proj4js.reportError("orthoFwdPointError");x=this.x0+this.infinity_dist*E*Math.sin(J);y=this.y0+this.infinity_dist*(this.cos_p14*B-this.sin_p14*E*I)}D.x=x;D.y=y;return D},inverse:function(F){var B;var H;var C,D;var I;var G,E;F.x=(F.x-this.x0)/this.a;F.y=(F.y-this.y0)/this.a;F.x/=this.k0;F.y/=this.k0;if((B=Math.sqrt(F.x*F.x+F.y*F.y))){I=Math.atan2(B,this.rc);C=Math.sin(I);D=Math.cos(I);E=Proj4js.common.asinz(D*this.sin_p14+(F.y*C*this.cos_p14)/B);G=Math.atan2(F.x*C,B*this.cos_p14*D-F.y*this.sin_p14*C);G=Proj4js.common.adjust_lon(this.long0+G)}else{E=this.phic0;G=0}F.x=G;F.y=E;return F}};Proj4js.Proj.sinu={init:function(){this.R=6370997},forward:function(E){var B,G,C;var F=E.x;var D=E.y;C=Proj4js.common.adjust_lon(F-this.long0);B=this.R*C*Math.cos(D)+this.x0;G=this.R*D+this.y0;E.x=B;E.y=G;return E},inverse:function(D){var C,B,E;D.x-=this.x0;D.y-=this.y0;C=D.y/this.R;if(Math.abs(C)>Proj4js.common.HALF_PI){Proj4js.reportError("sinu:Inv:DataError")}B=Math.abs(C)-Proj4js.common.HALF_PI;if(Math.abs(B)>Proj4js.common.EPSLN){B=this.long0+D.x/(this.R*Math.cos(C));E=Proj4js.common.adjust_lon(B)}else{E=this.long0}D.x=E;D.y=C;return D}};Proj4js.Proj.vandg={init:function(){this.R=6370997},forward:function(D){var B=D.x;var M=D.y;var Q=Proj4js.common.adjust_lon(B-this.long0);var P,N;if(Math.abs(M)<=Proj4js.common.EPSLN){P=this.x0+this.R*Q;N=this.y0}var F=Proj4js.common.asinz(2*Math.abs(M/Proj4js.common.PI));if((Math.abs(Q)<=Proj4js.common.EPSLN)||(Math.abs(Math.abs(M)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN)){P=this.x0;if(M>=0){N=this.y0+Proj4js.common.PI*this.R*Math.tan(0.5*F)}else{N=this.y0+Proj4js.common.PI*this.R*-Math.tan(0.5*F)}}var K=0.5*Math.abs((Proj4js.common.PI/Q)-(Q/Proj4js.common.PI));var E=K*K;var L=Math.sin(F);var J=Math.cos(F);var I=J/(L+J-1);var H=I*I;var G=I*(2/L-1);var O=G*G;var C=Proj4js.common.PI*this.R*(K*(I-O)+Math.sqrt(E*(I-O)*(I-O)-(O+E)*(H-O)))/(O+E);if(Q<0){C=-C}P=this.x0+C;C=Math.abs(C/(Proj4js.common.PI*this.R));if(M>=0){N=this.y0+Proj4js.common.PI*this.R*Math.sqrt(1-C*C-2*K*C)}else{N=this.y0-Proj4js.common.PI*this.R*Math.sqrt(1-C*C-2*K*C)}D.x=P;D.y=N;return D},inverse:function(E){var P;var B,L,O,I,H,G;var J,F;var D;var N;var C;var M;var K;E.x-=this.x0;E.y-=this.y0;C=Proj4js.common.PI*this.R;B=E.x/C;L=E.y/C;O=B*B+L*L;I=-Math.abs(L)*(1+O);H=I-2*L*L+B*B;G=-2*I+1+2*L*L+O*O;K=L*L/G+(2*H*H*H/G/G/G-9*I*H/G/G)/27;D=(I-H*H/3/G)/G;N=2*Math.sqrt(-D/3);C=((3*K)/D)/N;if(Math.abs(C)>1){if(C>=0){C=1}else{C=-1}}M=Math.acos(C)/3;if(E.y>=0){lat=(-N*Math.cos(M+Proj4js.common.PI/3)-H/3/G)*Proj4js.common.PI}else{lat=-(-N*Math.cos(M+Proj4js.common.PI/3)-H/3/G)*Proj4js.common.PI}if(Math.abs(B)<Proj4js.common.EPSLN){lon=this.long0}lon=Proj4js.common.adjust_lon(this.long0+Proj4js.common.PI*(O-1+Math.sqrt(1+2*(B*B-L*L)+O*O))/2/B);E.x=lon;E.y=lat;return E}};Proj4js.Proj.cea={init:function(){},forward:function(D){var E=D.x;var C=D.y;dlon=Proj4js.common.adjust_lon(E-this.long0);var B=this.x0+this.a*dlon*Math.cos(this.lat_ts);var F=this.y0+this.a*Math.sin(C)/Math.cos(this.lat_ts);D.x=B;D.y=F;return D},inverse:function(C){C.x-=this.x0;C.y-=this.y0;var D=Proj4js.common.adjust_lon(this.long0+(C.x/this.a)/Math.cos(this.lat_ts));var B=Math.asin((C.y/this.a)*Math.cos(this.lat_ts));C.x=D;C.y=B;return C}};Proj4js.Proj.eqc={init:function(){if(!this.x0){this.x0=0}if(!this.y0){this.y0=0}if(!this.lat0){this.lat0=0}if(!this.long0){this.long0=0}if(!this.lat_ts){this.lat_ts=0}if(!this.title){this.title="Equidistant Cylindrical (Plate Carre)"}this.rc=Math.cos(this.lat_ts)},forward:function(E){var F=E.x;var D=E.y;var C=Proj4js.common.adjust_lon(F-this.long0);var B=Proj4js.common.adjust_lat(D-this.lat0);E.x=this.x0+(this.a*C*this.rc);E.y=this.y0+(this.a*B);return E},inverse:function(C){var B=C.x;var D=C.y;C.x=Proj4js.common.adjust_lon(this.long0+((B-this.x0)/(this.a*this.rc)));C.y=Proj4js.common.adjust_lat(this.lat0+((D-this.y0)/(this.a)));return C}};Proj4js.Proj.cass={init:function(){if(!this.sphere){this.en=this.pj_enfn(this.es);this.m0=this.pj_mlfn(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en)}},C1:0.16666666666666666,C2:0.008333333333333333,C3:0.041666666666666664,C4:0.3333333333333333,C5:0.06666666666666667,forward:function(E){var B,F;var C=E.x;var D=E.y;C=Proj4js.common.adjust_lon(C-this.long0);if(this.sphere){B=Math.asin(Math.cos(D)*Math.sin(C));F=Math.atan2(Math.tan(D),Math.cos(C))-this.phi0}else{this.n=Math.sin(D);this.c=Math.cos(D);F=this.pj_mlfn(D,this.n,this.c,this.en);this.n=1/Math.sqrt(1-this.es*this.n*this.n);this.tn=Math.tan(D);this.t=this.tn*this.tn;this.a1=C*this.c;this.c*=this.es*this.c/(1-this.es);this.a2=this.a1*this.a1;B=this.n*this.a1*(1-this.a2*this.t*(this.C1-(8-this.t+8*this.c)*this.a2*this.C2));F-=this.m0-this.n*this.tn*this.a2*(0.5+(5-this.t+6*this.c)*this.a2*this.C3)}E.x=this.a*B+this.x0;E.y=this.a*F+this.y0;return E},inverse:function(C){C.x-=this.x0;C.y-=this.y0;var B=C.x/this.a;var D=C.y/this.a;if(this.sphere){this.dd=D+this.lat0;phi=Math.asin(Math.sin(this.dd)*Math.cos(B));lam=Math.atan2(Math.tan(B),Math.cos(this.dd))}else{ph1=this.pj_inv_mlfn(this.m0+D,this.es,this.en);this.tn=Math.tan(ph1);this.t=this.tn*this.tn;this.n=Math.sin(ph1);this.r=1/(1-this.es*this.n*this.n);this.n=Math.sqrt(this.r);this.r*=(1-this.es)*this.n;this.dd=B/this.n;this.d2=this.dd*this.dd;phi=ph1-(this.n*this.tn/this.r)*this.d2*(0.5-(1+3*this.t)*this.d2*this.C3);lam=this.dd*(1+this.t*this.d2*(-this.C4+(1+3*this.t)*this.d2*this.C5))/Math.cos(ph1)}C.x=Proj4js.common.adjust_lon(this.long0+lam);C.y=phi;return C},pj_enfn:function(C){en=new Array();en[0]=this.C00-C*(this.C02+C*(this.C04+C*(this.C06+C*this.C08)));en[1]=C*(this.C22-C*(this.C04+C*(this.C06+C*this.C08)));var B=C*C;en[2]=B*(this.C44-C*(this.C46+C*this.C48));B*=C;en[3]=B*(this.C66-C*this.C68);en[4]=B*C*this.C88;return en},pj_mlfn:function(E,B,D,C){D*=B;B*=B;return(C[0]*E-D*(C[1]+B*(C[2]+B*(C[3]+B*C[4]))))},pj_inv_mlfn:function(B,D,C){k=1/(1-D);phi=B;for(i=Proj4js.common.MAX_ITER;i;--i){s=Math.sin(phi);t=1-D*s*s;t=(this.pj_mlfn(phi,s,Math.cos(phi),C)-B)*(t*Math.sqrt(t))*k;phi-=t;if(Math.abs(t)<Proj4js.common.EPSLN){return phi}}Proj4js.reportError("cass:pj_inv_mlfn: Convergence error");return phi},C00:1,C02:0.25,C04:0.046875,C06:0.01953125,C08:0.01068115234375,C22:0.75,C44:0.46875,C46:0.013020833333333334,C48:0.007120768229166667,C66:0.3645833333333333,C68:0.005696614583333333,C88:0.3076171875};Proj4js.Proj.gauss={init:function(){sphi=Math.sin(this.lat0);cphi=Math.cos(this.lat0);cphi*=cphi;this.rc=Math.sqrt(1-this.es)/(1-this.es*sphi*sphi);this.C=Math.sqrt(1+this.es*cphi*cphi/(1-this.es));this.phic0=Math.asin(sphi/this.C);this.ratexp=0.5*this.C*this.e;this.K=Math.tan(0.5*this.phic0+Proj4js.common.FORTPI)/(Math.pow(Math.tan(0.5*this.lat0+Proj4js.common.FORTPI),this.C)*Proj4js.common.srat(this.e*sphi,this.ratexp))},forward:function(C){var D=C.x;var B=C.y;C.y=2*Math.atan(this.K*Math.pow(Math.tan(0.5*B+Proj4js.common.FORTPI),this.C)*Proj4js.common.srat(this.e*Math.sin(B),this.ratexp))-Proj4js.common.HALF_PI;C.x=this.C*D;return C},inverse:function(E){var D=1e-14;var F=E.x/this.C;var C=E.y;num=Math.pow(Math.tan(0.5*C+Proj4js.common.FORTPI)/this.K,1/this.C);for(var B=Proj4js.common.MAX_ITER;B>0;--B){C=2*Math.atan(num*Proj4js.common.srat(this.e*Math.sin(E.y),-0.5*this.e))-Proj4js.common.HALF_PI;if(Math.abs(C-E.y)<D){break}E.y=C}if(!B){Proj4js.reportError("gauss:inverse:convergence failed");return null}E.x=F;E.y=C;return E}};Proj4js.Proj.omerc={init:function(){if(!this.mode){this.mode=0}if(!this.lon1){this.lon1=0;this.mode=1}if(!this.lon2){this.lon2=0}if(!this.lat2){this.lat2=0}var B=this.b/this.a;var D=1-Math.pow(B,2);var C=Math.sqrt(D);this.sin_p20=Math.sin(this.lat0);this.cos_p20=Math.cos(this.lat0);this.con=1-this.es*this.sin_p20*this.sin_p20;this.com=Math.sqrt(1-D);this.bl=Math.sqrt(1+this.es*Math.pow(this.cos_p20,4)/(1-D));this.al=this.a*this.bl*this.k0*this.com/this.con;if(Math.abs(this.lat0)<Proj4js.common.EPSLN){this.ts=1;this.d=1;this.el=1}else{this.ts=Proj4js.common.tsfnz(this.e,this.lat0,this.sin_p20);this.con=Math.sqrt(this.con);this.d=this.bl*this.com/(this.cos_p20*this.con);if((this.d*this.d-1)>0){if(this.lat0>=0){this.f=this.d+Math.sqrt(this.d*this.d-1)}else{this.f=this.d-Math.sqrt(this.d*this.d-1)}}else{this.f=this.d}this.el=this.f*Math.pow(this.ts,this.bl)}if(this.mode!=0){this.g=0.5*(this.f-1/this.f);this.gama=Proj4js.common.asinz(Math.sin(this.alpha)/this.d);this.longc=this.longc-Proj4js.common.asinz(this.g*Math.tan(this.gama))/this.bl;this.con=Math.abs(this.lat0);if((this.con>Proj4js.common.EPSLN)&&(Math.abs(this.con-Proj4js.common.HALF_PI)>Proj4js.common.EPSLN)){this.singam=Math.sin(this.gama);this.cosgam=Math.cos(this.gama);this.sinaz=Math.sin(this.alpha);this.cosaz=Math.cos(this.alpha);if(this.lat0>=0){this.u=(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz)}else{this.u=-(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz)}}else{Proj4js.reportError("omerc:Init:DataError")}}else{this.sinphi=Math.sin(this.at1);this.ts1=Proj4js.common.tsfnz(this.e,this.lat1,this.sinphi);this.sinphi=Math.sin(this.lat2);this.ts2=Proj4js.common.tsfnz(this.e,this.lat2,this.sinphi);this.h=Math.pow(this.ts1,this.bl);this.l=Math.pow(this.ts2,this.bl);this.f=this.el/this.h;this.g=0.5*(this.f-1/this.f);this.j=(this.el*this.el-this.l*this.h)/(this.el*this.el+this.l*this.h);this.p=(this.l-this.h)/(this.l+this.h);this.dlon=this.lon1-this.lon2;if(this.dlon<-Proj4js.common.PI){this.lon2=this.lon2-2*Proj4js.common.PI}if(this.dlon>Proj4js.common.PI){this.lon2=this.lon2+2*Proj4js.common.PI}this.dlon=this.lon1-this.lon2;this.longc=0.5*(this.lon1+this.lon2)-Math.atan(this.j*Math.tan(0.5*this.bl*this.dlon)/this.p)/this.bl;this.dlon=Proj4js.common.adjust_lon(this.lon1-this.longc);this.gama=Math.atan(Math.sin(this.bl*this.dlon)/this.g);this.alpha=Proj4js.common.asinz(this.d*Math.sin(this.gama));if(Math.abs(this.lat1-this.lat2)<=Proj4js.common.EPSLN){Proj4js.reportError("omercInitDataError")}else{this.con=Math.abs(this.lat1)}if((this.con<=Proj4js.common.EPSLN)||(Math.abs(this.con-HALF_PI)<=Proj4js.common.EPSLN)){Proj4js.reportError("omercInitDataError")}else{if(Math.abs(Math.abs(this.lat0)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN){Proj4js.reportError("omercInitDataError")}}this.singam=Math.sin(this.gam);this.cosgam=Math.cos(this.gam);this.sinaz=Math.sin(this.alpha);this.cosaz=Math.cos(this.alpha);if(this.lat0>=0){this.u=(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz)}else{this.u=-(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz)}}},forward:function(Q){var I;var D,Y;var W;var V,M,C;var F,R,T;var P,J,U;var N,S;var O;var B;var G;var E=Q.x;var H=Q.y;D=Math.sin(H);B=Proj4js.common.adjust_lon(E-this.longc);U=Math.sin(this.bl*B);if(Math.abs(Math.abs(H)-Proj4js.common.HALF_PI)>Proj4js.common.EPSLN){G=Proj4js.common.tsfnz(this.e,H,D);P=this.el/(Math.pow(G,this.bl));O=0.5*(P-1/P);M=0.5*(P+1/P);N=(O*this.singam-U*this.cosgam)/M;F=Math.cos(this.bl*B);if(Math.abs(F)<1e-7){J=this.al*this.bl*B}else{J=this.al*Math.atan((O*this.cosgam+U*this.singam)/F)/this.bl;if(F<0){J=J+Proj4js.common.PI*this.al/this.bl}}}else{if(H>=0){N=this.singam}else{N=-this.singam}J=this.al*H/this.bl}if(Math.abs(Math.abs(N)-1)<=Proj4js.common.EPSLN){Proj4js.reportError("omercFwdInfinity")}S=0.5*this.al*Math.log((1-N)/(1+N))/this.bl;J=J-this.u;var L=this.x0+S*this.cosaz+J*this.sinaz;var K=this.y0+J*this.cosaz-S*this.sinaz;Q.x=L;Q.y=K;return Q},inverse:function(N){var Y;var H;var E;var D,W;var V;var T,K,C;var F,O,R;var P,I,M,L,G;var S,J,U;var B;var Q;N.x-=this.x0;N.y-=this.y0;Q=0;P=N.x*this.cosaz-N.y*this.sinaz;I=N.y*this.cosaz+N.x*this.sinaz;I=I+this.u;M=Math.exp(-this.bl*P/this.al);L=0.5*(M-1/M);K=0.5*(M+1/M);S=Math.sin(this.bl*I/this.al);J=(S*this.cosgam+L*this.singam)/K;if(Math.abs(Math.abs(J)-1)<=Proj4js.common.EPSLN){lon=this.longc;if(J>=0){lat=Proj4js.common.HALF_PI}else{lat=-Proj4js.common.HALF_PI}}else{F=1/this.bl;G=Math.pow((this.el/Math.sqrt((1+J)/(1-J))),F);lat=Proj4js.common.phi2z(this.e,G);H=this.longc-Math.atan2((L*this.cosgam-S*this.singam),F)/this.bl;lon=Proj4js.common.adjust_lon(H)}N.x=lon;N.y=lat;return N}};Proj4js.Proj.lcc={init:function(){if(!this.lat2){this.lat2=this.lat0}if(!this.k0){this.k0=1}if(Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN){Proj4js.reportError("lcc:init: Equal Latitudes");return }var K=this.b/this.a;this.e=Math.sqrt(1-K*K);var H=Math.sin(this.lat1);var F=Math.cos(this.lat1);var J=Proj4js.common.msfnz(this.e,H,F);var C=Proj4js.common.tsfnz(this.e,this.lat1,H);var G=Math.sin(this.lat2);var E=Math.cos(this.lat2);var I=Proj4js.common.msfnz(this.e,G,E);var B=Proj4js.common.tsfnz(this.e,this.lat2,G);var D=Proj4js.common.tsfnz(this.e,this.lat0,Math.sin(this.lat0));if(Math.abs(this.lat1-this.lat2)>Proj4js.common.EPSLN){this.ns=Math.log(J/I)/Math.log(C/B)}else{this.ns=H}this.f0=J/(this.ns*Math.pow(C,this.ns));this.rh=this.a*this.f0*Math.pow(D,this.ns);if(!this.title){this.title="Lambert Conformal Conic"}},forward:function(F){var G=F.x;var E=F.y;if(E<=90&&E>=-90&&G<=180&&G>=-180){}else{Proj4js.reportError("lcc:forward: llInputOutOfRange: "+G+" : "+E);return null}var B=Math.abs(Math.abs(E)-Proj4js.common.HALF_PI);var D,H;if(B>Proj4js.common.EPSLN){D=Proj4js.common.tsfnz(this.e,E,Math.sin(E));H=this.a*this.f0*Math.pow(D,this.ns)}else{B=E*this.ns;if(B<=0){Proj4js.reportError("lcc:forward: No Projection");return null}H=0}var C=this.ns*Proj4js.common.adjust_lon(G-this.long0);F.x=this.k0*(H*Math.sin(C))+this.x0;F.y=this.k0*(this.rh-H*Math.cos(C))+this.y0;return F},inverse:function(C){var F,D,G;var H,B;var J=(C.x-this.x0)/this.k0;var I=(this.rh-(C.y-this.y0)/this.k0);if(this.ns>0){F=Math.sqrt(J*J+I*I);D=1}else{F=-Math.sqrt(J*J+I*I);D=-1}var E=0;if(F!=0){E=Math.atan2((D*J),(D*I))}if((F!=0)||(this.ns>0)){D=1/this.ns;G=Math.pow((F/(this.a*this.f0)),D);H=Proj4js.common.phi2z(this.e,G);if(H==-9999){return null}}else{H=-Proj4js.common.HALF_PI}B=Proj4js.common.adjust_lon(E/this.ns+this.long0);C.x=B;C.y=H;return C}};Proj4js.Proj.laea={S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4,init:function(){var B=Math.abs(this.lat0);if(Math.abs(B-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN){this.mode=this.lat0<0?this.S_POLE:this.N_POLE}else{if(Math.abs(B)<Proj4js.common.EPSLN){this.mode=this.EQUIT}else{this.mode=this.OBLIQ}}if(this.es>0){var C;this.qp=Proj4js.common.qsfnz(this.e,1);this.mmf=0.5/(1-this.es);this.apa=this.authset(this.es);switch(this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(0.5*this.qp);this.dd=1/this.rq;this.xmf=1;this.ymf=0.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(0.5*this.qp);C=Math.sin(this.lat0);this.sinb1=Proj4js.common.qsfnz(this.e,C)/this.qp;this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1);this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*C*C)*this.rq*this.cosb1);this.ymf=(this.xmf=this.rq)/this.dd;this.xmf*=this.dd;break}}else{if(this.mode==this.OBLIQ){this.sinph0=Math.sin(this.lat0);this.cosph0=Math.cos(this.lat0)}}},forward:function(E){var M,K;var N=E.x;var I=E.y;N=Proj4js.common.adjust_lon(N-this.long0);if(this.sphere){var L,G,C;C=Math.sin(I);G=Math.cos(I);L=Math.cos(N);switch(this.mode){case this.OBLIQ:case this.EQUIT:K=(this.mode==this.EQUIT)?1+G*L:1+this.sinph0*C+this.cosph0*G*L;if(K<=Proj4js.common.EPSLN){Proj4js.reportError("laea:fwd:y less than eps");return null}K=Math.sqrt(2/K);M=K*G*Math.sin(N);K*=(this.mode==this.EQUIT)?C:this.cosph0*C-this.sinph0*G*L;break;case this.N_POLE:L=-L;case this.S_POLE:if(Math.abs(I+this.phi0)<Proj4js.common.EPSLN){Proj4js.reportError("laea:fwd:phi < eps");return null}K=Proj4js.common.FORTPI-I*0.5;K=2*((this.mode==this.S_POLE)?Math.cos(K):Math.sin(K));M=K*Math.sin(N);K*=L;break}}else{var L,H,C,D,F=0,B=0,J=0;L=Math.cos(N);H=Math.sin(N);C=Math.sin(I);D=Proj4js.common.qsfnz(this.e,C);if(this.mode==this.OBLIQ||this.mode==this.EQUIT){F=D/this.qp;B=Math.sqrt(1-F*F)}switch(this.mode){case this.OBLIQ:J=1+this.sinb1*F+this.cosb1*B*L;break;case this.EQUIT:J=1+B*L;break;case this.N_POLE:J=Proj4js.common.HALF_PI+I;D=this.qp-D;break;case this.S_POLE:J=I-Proj4js.common.HALF_PI;D=this.qp+D;break}if(Math.abs(J)<Proj4js.common.EPSLN){Proj4js.reportError("laea:fwd:b < eps");return null}switch(this.mode){case this.OBLIQ:case this.EQUIT:J=Math.sqrt(2/J);if(this.mode==this.OBLIQ){K=this.ymf*J*(this.cosb1*F-this.sinb1*B*L)}else{K=(J=Math.sqrt(2/(1+B*L)))*F*this.ymf}M=this.xmf*J*B*H;break;case this.N_POLE:case this.S_POLE:if(D>=0){M=(J=Math.sqrt(D))*H;K=L*((this.mode==this.S_POLE)?J:-J)}else{M=K=0}break}}E.x=this.a*M+this.x0;E.y=this.a*K+this.y0;return E},inverse:function(C){C.x-=this.x0;C.y-=this.y0;var I=C.x/this.a;var G=C.y/this.a;if(this.sphere){var M=0,K,D=0;K=Math.sqrt(I*I+G*G);var F=K*0.5;if(F>1){Proj4js.reportError("laea:Inv:DataError");return null}F=2*Math.asin(F);if(this.mode==this.OBLIQ||this.mode==this.EQUIT){D=Math.sin(F);M=Math.cos(F)}switch(this.mode){case this.EQUIT:F=(Math.abs(K)<=Proj4js.common.EPSLN)?0:Math.asin(G*D/K);I*=D;G=M*K;break;case this.OBLIQ:F=(Math.abs(K)<=Proj4js.common.EPSLN)?this.phi0:Math.asin(M*sinph0+G*D*cosph0/K);I*=D*cosph0;G=(M-Math.sin(F)*sinph0)*K;break;case this.N_POLE:G=-G;F=Proj4js.common.HALF_PI-F;break;case this.S_POLE:F-=Proj4js.common.HALF_PI;break}lam=(G==0&&(this.mode==this.EQUIT||this.mode==this.OBLIQ))?0:Math.atan2(I,G)}else{var J,E,B,H,L=0;switch(this.mode){case this.EQUIT:case this.OBLIQ:I/=this.dd;G*=this.dd;H=Math.sqrt(I*I+G*G);if(H<Proj4js.common.EPSLN){C.x=0;C.y=this.phi0;return C}E=2*Math.asin(0.5*H/this.rq);J=Math.cos(E);I*=(E=Math.sin(E));if(this.mode==this.OBLIQ){L=J*this.sinb1+G*E*this.cosb1/H;B=this.qp*L;G=H*this.cosb1*J-G*this.sinb1*E}else{L=G*E/H;B=this.qp*L;G=H*J}break;case this.N_POLE:G=-G;case this.S_POLE:B=(I*I+G*G);if(!B){C.x=0;C.y=this.phi0;return C}L=1-B/this.qp;if(this.mode==this.S_POLE){L=-L}break}lam=Math.atan2(I,G);F=this.authlat(Math.asin(L),this.apa)}C.x=Proj4js.common.adjust_lon(this.long0+lam);C.y=F;return C},P00:0.3333333333333333,P01:0.17222222222222222,P02:0.10257936507936508,P10:0.06388888888888888,P11:0.0664021164021164,P20:0.016415012942191543,authset:function(C){var B;var D=new Array();D[0]=C*this.P00;B=C*C;D[0]+=B*this.P01;D[1]=B*this.P10;B*=C;D[0]+=B*this.P02;D[1]+=B*this.P11;D[2]=B*this.P20;return D},authlat:function(C,D){var B=C+C;return(C+D[0]*Math.sin(B)+D[1]*Math.sin(B+B)+D[2]*Math.sin(B+B+B))}};Proj4js.Proj.aeqd={init:function(){this.sin_p12=Math.sin(this.lat0);this.cos_p12=Math.cos(this.lat0)},forward:function(D){var C=D.x;var I=D.y;var F;var B=Math.sin(D.y);var E=Math.cos(D.y);var K=Proj4js.common.adjust_lon(C-this.long0);var J=Math.cos(K);var G=this.sin_p12*B+this.cos_p12*E*J;if(Math.abs(Math.abs(G)-1)<Proj4js.common.EPSLN){F=1;if(G<0){Proj4js.reportError("aeqd:Fwd:PointError");return }}else{var H=Math.acos(G);F=H/Math.sin(H)}D.x=this.x0+this.a*F*E*Math.sin(K);D.y=this.y0+this.a*F*(this.cos_p12*B-this.sin_p12*E*J);return D},inverse:function(C){C.x-=this.x0;C.y-=this.y0;var H=Math.sqrt(C.x*C.x+C.y*C.y);if(H>(2*Proj4js.common.HALF_PI*this.a)){Proj4js.reportError("aeqdInvDataError");return }var F=H/this.a;var E=Math.sin(F);var J=Math.cos(F);var B=this.long0;var G;if(Math.abs(H)<=Proj4js.common.EPSLN){G=this.lat0}else{G=Proj4js.common.asinz(J*this.sin_p12+(C.y*E*this.cos_p12)/H);var D=Math.abs(this.lat0)-Proj4js.common.HALF_PI;if(Math.abs(D)<=Proj4js.common.EPSLN){if(lat0>=0){B=Proj4js.common.adjust_lon(this.long0+Math.atan2(C.x,-C.y))}else{B=Proj4js.common.adjust_lon(this.long0-Math.atan2(-C.x,C.y))}}else{D=J-this.sin_p12*Math.sin(G);if((Math.abs(D)<Proj4js.common.EPSLN)&&(Math.abs(C.x)<Proj4js.common.EPSLN)){}else{var I=Math.atan2((C.x*E*this.cos_p12),(D*H));B=Proj4js.common.adjust_lon(this.long0+Math.atan2((C.x*E*this.cos_p12),(D*H)))}}}C.x=B;C.y=G;return C}};Proj4js.Proj.moll={init:function(){},forward:function(D){var B=D.x;var I=D.y;var G=Proj4js.common.adjust_lon(B-this.long0);var F=I;var E=Proj4js.common.PI*Math.sin(I);for(var H=0;true;H++){var C=-(F+Math.sin(F)-E)/(1+Math.cos(F));F+=C;if(Math.abs(C)<Proj4js.common.EPSLN){break}if(H>=50){Proj4js.reportError("moll:Fwd:IterationError")}}F/=2;if(Proj4js.common.PI/2-Math.abs(I)<Proj4js.common.EPSLN){G=0}var K=0.900316316158*this.a*G*Math.cos(F)+this.x0;var J=1.4142135623731*this.a*Math.sin(F)+this.y0;D.x=K;D.y=J;return D},inverse:function(E){var C;var B;E.x-=this.x0;var B=E.y/(1.4142135623731*this.a);if(Math.abs(B)>0.999999999999){B=0.999999999999}var C=Math.asin(B);var F=Proj4js.common.adjust_lon(this.long0+(E.x/(0.900316316158*this.a*Math.cos(C))));if(F<(-Proj4js.common.PI)){F=-Proj4js.common.PI}if(F>Proj4js.common.PI){F=Proj4js.common.PI}B=(2*C+Math.sin(2*C))/Proj4js.common.PI;if(Math.abs(B)>1){B=1}var D=Math.asin(B);E.x=F;E.y=D;return E}};Fusion.Error=OpenLayers.Class({type:null,message:null,initialize:function(B,C){this.type=B;this.message=C},alert:function(){var B=this.typeToString(this.type);alert(OpenLayers.i18n("fusionError",{type:B,message:this.message}))},toString:function(){var B=this.typeToString(this.type);return B+": "+this.message},typeToString:function(B){switch(B){case Fusion.Error.FATAL:return"FATAL";case Fusion.Error.WARNING:return"WARNING";case Fusion.Error.NOTICE:return"NOTICE";default:return"UNKNOWN ("+B+")"}}});Fusion.Error.FATAL=0;Fusion.Error.WARNING=1;Fusion.Error.NOTICE=2;Fusion.Lib.EventMgr=OpenLayers.Class({events:null,initialize:function(){if(!this.events){this.events=[]}},destroy:function(){this.events=[]},registerEventID:function(B){if(!this.events){this.events=[]}if(!B){Fusion.reportError(new Fusion.Error(Fusion.Error.WARNING,OpenLayers.i18n("registerEventError")))}var C=new String(B);if(!this.events[B]){this.events[B]=[]}},registerForEvent:function(B,D){var C=new String(B);this.events[B].push(D)},deregisterForEvent:function(D,F){var E=new String(D);var B=false;if(!this.events[D]){return false}for(var C=0;C<this.events[D].length;C++){if(this.events[D][C]==F){this.events[D].splice(C,1);B=true}}return B},triggerEvent:function(C){var D=new String(C);if(!this.events||!this.events[C]){return false}for(var B=0;B<this.events[C].length;B++){this.events[C][B].apply(null,arguments)}return true}});Fusion.events=[];Fusion.registerEventID=Fusion.Lib.EventMgr.prototype.registerEventID;Fusion.registerForEvent=Fusion.Lib.EventMgr.prototype.registerForEvent;Fusion.triggerEvent=Fusion.Lib.EventMgr.prototype.triggerEvent;Fusion.Event.FUSION_INITIALIZED=Fusion.Event.lastEventId++;Fusion.Event.FUSION_ERROR=Fusion.Event.lastEventId++;Fusion.registerEventID(Fusion.Event.FUSION_INITIALIZED);Fusion.registerEventID(Fusion.Event.FUSION_ERROR);Fusion.Lib.ApplicationDefinition=OpenLayers.Class({mapGroups:null,widgetSets:null,oBroker:null,searchDefinitions:null,searchCategories:null,initialize:function(B){this.sessionId=B;this.oBroker=Fusion.getBroker();this.applicationDefinition=Fusion.getApplicationDefinitionURL();this.widgetSets=[];this.mapGroups={};this.searchDefinitions=[];this.searchCategories=[];this.parse()},parse:function(){if(this.applicationDefinition==""){return null}if((this.applicationDefinition.match("Library://")==null)&&(this.applicationDefinition.match("Session:")==null)){if(Fusion.appDefJson){this.parseAppDef(Fusion.appDefJson)}else{Fusion.getXmlAsJson(this.applicationDefinition,OpenLayers.Function.bind(this.getAppDefCB,this))}}else{if(!this.sessionId){window.setTimeout(OpenLayers.Function.bind(this.createSessionThenGetAppDef,this),5)}else{window.setTimeout(OpenLayers.Function.bind(this.getAppDef,this),5)}}return true},createSessionThenGetAppDef:function(){var B=Fusion.getScriptLanguage();var D="layers/MapGuide/"+B+"/CreateSession."+B;var C={onSuccess:OpenLayers.Function.bind(this.createSessionThenGetAppDefCB,this)};Fusion.ajaxRequest(D,C)},createSessionThenGetAppDefCB:function(C){if(C&&typeof (C)=="object"&&C.responseText){var B=Fusion.parseJSON(C.responseText);this.sessionId=B.sessionId;Fusion.sessionId=this.sessionId}this.getAppDef()},getAppDef:function(){var B=new Fusion.Lib.MGRequest.MGGetResourceContent(this.applicationDefinition);B.parameters.session=this.sessionId;B.parameters.format="application/json";this.oBroker.dispatchRequest(B,OpenLayers.Function.bind(this.getAppDefCB,this))},getAppDefCB:function(C){var B=Fusion.parseJSON(C.responseText);this.parseAppDef(B);Fusion.setLoadState(Fusion.LOAD_WIDGETS)},parseAppDef:function(O){var B=O.ApplicationDefinition;if(B.Title){var L=B.Title[0];document.title=L}if(B.MapSet){var J=B.MapSet[0];if(J.MapGroup instanceof Array){for(var G=0;G<J.MapGroup.length;G++){var D=new Fusion.Lib.ApplicationDefinition.MapGroup(J.MapGroup[G]);this.mapGroups[D.mapId]=D}}}else{Fusion.reportError(new Fusion.Error(Fusion.Error.FATAL,OpenLayers.i18n("appDefParseError")))}if(B.WidgetSet){for(var G=0;G<B.WidgetSet.length;G++){var E=new Fusion.Lib.ApplicationDefinition.WidgetSet(B.WidgetSet[G]);this.widgetSets.push(E)}}else{Fusion.reportError(new Fusion.Error(Fusion.Error.FATAL,OpenLayers.i18n("widgetSetParseError")))}if(B.Extension){var N=B.Extension[0];if(N.SearchDefinitions instanceof Array){var H=N.SearchDefinitions[0];if(H.SearchCategory instanceof Array){for(var G=0;G<H.SearchCategory.length;G++){var K={};var C=H.SearchCategory[G];K.id=C["@id"];K.name=C["@name"];K.layer=C.Layer?C.Layer[0]:"";K.searchDefinitions=[];this.searchCategories[K.id]=K;var M=C.SearchDefinition;for(var F=0;F<M.length;F++){var I=new Fusion.Lib.ApplicationDefinition.SearchDefinition(M[F]);I.category=K;K.searchDefinitions[I.id]=I;this.searchDefinitions[I.id]=I}}}}}},create:function(){for(var B=0;B<this.widgetSets.length;B++){this.widgetSets[B].create(this)}},getMapByName:function(B){var D=null;for(var C=0;C<this.widgetSets.length;C++){D=this.widgetSets[C].getMapByName(B);if(D){break}}return D},getMapById:function(D){var C=null;for(var B=0;B<this.widgetSets.length;B++){C=this.widgetSets[B].mapWidget;if(C.mapId==D){break}}return C},getMapByIndice:function(C){var B=null;if(this.widgetSets.length>C){B=this.widgetSets[C].getMapWidget()}return B},getMapGroup:function(B){return this.mapGroups[B]},getWidgetsByType:function(D){var C=[];for(var B=0;B<this.widgetSets.length;B++){C=C.concat(this.widgetSets[B].getWidgetsByType(D))}return C}});Fusion.Lib.ApplicationDefinition.MapGroup=OpenLayers.Class({initialView:null,maps:null,initialize:function(I){this.mapId=I["@id"][0];this.maps=[];if(I.InitialView){var D=I.InitialView[0];if(D.CenterX&&D.CenterY&&D.Scale){this.setInitialView({x:parseFloat(D.CenterX[0]),y:parseFloat(D.CenterY[0]),scale:parseFloat(D.Scale[0])})}else{if(D.MinX&&D.MinY&&D.MaxX&&D.MaxY){this.setInitialView({minX:parseFloat(D.MinX[0]),minY:parseFloat(D.MinY[0]),maxX:parseFloat(D.MaxX[0]),maxY:parseFloat(D.MaxY[0])})}else{}}}if(I.Map instanceof Array){for(var F=0;F<I.Map.length;F++){var B=new Fusion.Lib.ApplicationDefinition.Map(I.Map[F]);var M={groups:[],layers:[]};var J={layerEvents:{},groupEvents:{}};if(I.Map[F].Extension){var L=I.Map[F].Extension[0];if(L.Links){if(L.Links[0].Group instanceof Array){for(var E=0;E<L.Links[0].Group.length;E++){var K=L.Links[0].Group[E];M.groups.push({name:K.Name[0],url:K.Url[0]})}}if(L.Links[0].Layer instanceof Array){for(var E=0;E<L.Links[0].Layer.length;E++){var G=L.Links[0].Layer[E];M.layers.push({name:G.Name[0],url:G.Url[0]})}}}if(L.MapEvents){if(L.MapEvents[0].Layer instanceof Array){for(var E=0;E<L.MapEvents[0].Layer.length;E++){var G=L.MapEvents[0].Layer[E];var C={};C.name=G.Name[0];C.onEnable=[];if(G.OnEnable instanceof Array){C.onEnable=this.parseMapEventSubBlock(G.OnEnable[0])}C.onDisable=[];if(G.OnDisable instanceof Array){C.onDisable=this.parseMapEventSubBlock(G.OnDisable[0])}J.layerEvents[C.name]=C}}if(L.MapEvents[0].Group instanceof Array){for(var E=0;E<L.MapEvents[0].Group.length;E++){var K=L.MapEvents[0].Group[E];var H={};H.name=K.Name[0];H.onEnable=[];if(G.OnEnable instanceof Array){H.onEnable=this.parseMapEventSubBlock(K.OnEnable[0])}H.onDisable=[];if(G.OnDisable instanceof Array){H.onDisable=this.parseMapEventSubBlock(K.OnDisable[0])}J.groupEvents[H.name]=H}}}}B.mapInfo={links:M,mapEvents:J};this.maps.push(B)}}else{}},parseMapEventSubBlock:function(F){var B=[];if(F.Layer&&F.Layer instanceof Array){for(var D=0;D<F.Layer.length;D++){var C=F.Layer[D];B.push({type:"layer",name:C.Name[0],enable:C.Enable[0]=="true"?true:false})}}if(F.Group&&F.Group instanceof Array){for(var D=0;D<F.Group.length;D++){var E=F.Group[D];B.push({type:"group",name:E.Name[0],enable:E.Enable[0]=="true"?true:false})}}return B},getInitialView:function(){return this.initialView},setInitialView:function(B){this.initialView=B}});Fusion.Lib.ApplicationDefinition.Map=OpenLayers.Class({type:null,singleTile:false,extension:null,initialize:function(F){this.id=F["@id"]?F["@id"][0]:null;this.type=F.Type[0];if(F.SingleTile){var B=F.SingleTile[0].toLowerCase();this.singleTile=(B=="true")?true:false}if(F.Extension){this.extension=F.Extension[0]}else{this.extension={}}this.resourceId=this.extension.ResourceId?this.extension.ResourceId[0]:"";var C=this.extension.Options;this.layerOptions={};if(C&&C[0]){for(var E in C[0]){var I=C[0][E][0];if(I.toFloat().toString()==I){this.layerOptions[E]=I.toFloat()}else{if(I.toLowerCase()=="true"){this.layerOptions[E]=true}else{if(I.toLowerCase()=="false"){this.layerOptions[E]=false}else{this.layerOptions[E]=I}}}if(E=="maxExtent"||E=="minExtent"||E=="restrictedExtent"){this.layerOptions[E]=OpenLayers.Bounds.fromString(this.layerOptions[E])}if(E=="resolutions"||E=="scales"){this.layerOptions[E]=this.layerOptions[E].split(",");for(var D=0;D<this.layerOptions[E].length;D++){this.layerOptions[E][D]=this.layerOptions[E][D].toFloat()}}}}var H=this.extension.Parameters;this.layerParams={};if(H&&H[0]){for(var E in H[0]){var I=H[0][E][0];if(I.toFloat().toString()==I){I=I.toFloat()}this.layerParams[E]=I}}if(this.extension.ProjectionCode){this.layerOptions.projection=this.extension.ProjectionCode[0]}if(this.extension.ProjectionDef){var G=this.extension.ProjectionDef[0];if(!this.layerOptions.projection){this.layerOptions.projection="APP-DEF-PROJ"}Proj4js.defs[this.layerOptions.projection]=G}if(!this.layerOptions.projection){this.layerOptions.projection="EPSG:4326"}switch(this.type){case"MapGuide":case"MapServer":if(!Fusion.Layers[this.type]){Fusion.require("layers/"+this.type+"/"+this.type+".js")}break;case"Google":case"Yahoo":case"VirtualEarth":this.layerOptions.isBaseLayer=true;this.layerOptions.sphericalMercator=true;this.layerOptions.displayProjection="EPSG:4326";default:if(this.layerOptions.sphericalMercator){this.layerOptions.projection="EPSG:900913"}else{this.layerOptions.projection="EPSG:4326"}if(!Fusion.Layers.Generic){Fusion.require("layers/Generic/Generic.js")}break}}});Fusion.Lib.ApplicationDefinition.WidgetSet=OpenLayers.Class({containers:null,containersByName:null,widgetTags:null,widgetTagsByName:null,widgetInstances:null,mapWidget:null,mapId:null,initialize:function(D){this.containers=[];this.widgetTags=[];this.widgetInstances=[];this.widgetTagsByName={};this.containersByName={};if(D.MapWidget){for(var C=0;C<D.MapWidget.length;C++){var E=new Fusion.Lib.ApplicationDefinition.Widget(D.MapWidget[C]);E.widgetSet=this;this.mapWidgetTag=E;this.mapId=D.MapWidget[C].MapId[0]}}if(D.Widget){for(var C=0;C<D.Widget.length;C++){var E=new Fusion.Lib.ApplicationDefinition.Widget(D.Widget[C]);E.widgetSet=this;this.widgetTags.push(E);this.widgetTagsByName[E.name]=E}}if(D.Container){for(var C=0;C<D.Container.length;C++){var B=new Fusion.Lib.ApplicationDefinition.Container(D.Container[C]);this.containers.push(B);this.containersByName[B.name]=B}}},addWidgetInstance:function(B){this.widgetInstances.push(B)},getMapWidget:function(){return this.mapWidget},create:function(B){var E=null;var D=Fusion.getQueryParam("mapid");if(D.length>0){E=B.getMapGroup(D);if(E){this.mapId=D}else{Fusion.reportError(new Fusion.Error(Fusion.Error.WARNING,"can't find MapGroup: "+D+" - reverting to default map"))}}if(!E){E=B.getMapGroup(this.mapId)}this.mapWidget=new Fusion.Widget.Map(this.mapWidgetTag,E,this);this.mapWidget.setMenu();$(this.mapWidgetTag.name).widget=this.mapWidget;this.mapWidget.message=new Fusion.MapMessage(this.mapWidget.oMapOL.viewPortDiv);this.mapWidget.registerForEvent(Fusion.Event.MAP_EXTENTS_CHANGED,(function(){if(this.message!=null){this.message.refreshLayout()}}).bind(this.mapWidget));for(var C=0;C<this.widgetTags.length;C++){this.widgetTags[C].create(this)}for(var C=0;C<this.containers.length;C++){this.containers[C].create(this)}},getMapByName:function(C){var E=null;for(var D=0;D<this.mapWidget.aMaps.length;++D){var B=this.mapWidget.aMaps[D];if(B.getMapName()==C){E=B}}return E},getWidgetsByType:function(D){var C=[];for(var B=0;B<this.widgetInstances.length;B++){if(this.widgetInstances[B].type==D){C.push(this.widgetInstances[B])}}return C},getWidgetByName:function(B){return this.widgetTagsByName[B]},getContainerByName:function(B){return this.containersByName[B]}});Fusion.Lib.ApplicationDefinition.Container=OpenLayers.Class({name:null,type:null,validPositions:["top","left","bottom","right"],position:"top",items:null,initialize:function(D){this.type=D.Type[0];this.name=D.Name[0];var B=D.Position?D.Position[0].toLowerCase():this.position;for(var C=0;C<this.validPositions.length;C++){if(this.validPositions[C]==B){this.position=B;break}}this.items=[];if(D.Item){for(var C=0;C<D.Item.length;C++){var E=new Fusion.Lib.ApplicationDefinition.Item(D.Item[C]);this.items.push(E)}}else{}},create:function(D){var B;if(this.type=="Toolbar"||this.type=="Statusbar"){if($(this.name)){if($(this.name).retrieve("jxToolbar")){B=$(this.name).retrieve("jxToolbar")}else{B=new Jx.Toolbar({parent:this.name,position:this.position,scroll:true})}$(this.name).container=B;this.createWidgets(D,B)}}else{if(this.type=="Splitterbar"){if($(this.name)){B=new Jx.Splitter(this.name,{splitInto:this.items.length});for(var C=0;C<this.items.length;C++){B.elements[C].id=this.name+"_"+C}$(this.name).container=B;this.createWidgets(D,B)}}}if(B&&B.domObj.jxLayout){B.domObj.jxLayout.resize({forceResize:true})}},createWidgets:function(D,B){for(var C=0;C<this.items.length;C++){this.items[C].create(D,B,this.name+"_"+C)}}});Fusion.Lib.ApplicationDefinition.Widget=OpenLayers.Class({name:null,type:null,statusText:null,location:null,imageUrl:null,imageClass:null,tooltip:null,label:null,disabled:null,extension:null,initialize:function(B){if(B){this.type=B.Type[0];this.name=B.Name?B.Name[0]:"";this.statusText=B.StatusText?B.StatusText[0]:"";this.statusText=OpenLayers.i18n(this.statusText);this.location=B.Location?B.Location[0]:"widgets/";if(this.location.slice(-1)!="/"){this.location+="/"}this.imageUrl=B.ImageUrl?B.ImageUrl[0]:"";this.imageClass=B.ImageClass?B.ImageClass[0]:"";this.tooltip=B.Tooltip?B.Tooltip[0]:"";this.tooltip=OpenLayers.i18n(this.tooltip);this.label=B.Label?B.Label[0]:"";this.label=OpenLayers.i18n(this.label);this.disabled=B.Disabled?(B.Disabled[0].toLowerCase()=="true"?true:false):false;if(B.Extension){this.extension=B.Extension[0]}else{this.extension={}}if(!Fusion.Widget[this.type]){Fusion.require(this.location+this.type+".js")}}},getMapWidget:function(){if(this.widgetSet){return this.widgetSet.getMapWidget()}else{return null}},create:function(C,D){var E=null;this.widgetSet=C;var B=this.name;if(typeof D=="undefined"){D=this.name}if(D!=null&&(D==""||$(D)!=null)){this.name=D;E=new Fusion.Widget[this.type](this);C.addWidgetInstance(E);if(this.name.length>0&&$(this.name)){E.id=this.name;$(this.name).widget=E;if(E.uiClass){E.setUiObject(new E.uiClass({label:this.label,image:this.imageUrl,imageClass:this.imageClass,toggle:this.isExclusive}));if(E.uiObj.addTo){E.uiObj.addTo($(this.name))}if(E.uiObj.setEnabled){E.uiObj.setEnabled(E.isEnabled());E.registerForEvent(Fusion.Event.WIDGET_STATE_CHANGED,function(){E.uiObj.setEnabled(E.isEnabled())})}}}this.name=B}return E}});Fusion.Lib.ApplicationDefinition.Item=OpenLayers.Class({uniqueId:[0],type:null,initialize:function(B){this.type=B.Function[0];switch(this.type){case"Widget":this.widgetName=B.Widget[0];break;case"Flyout":this.flyout=new Fusion.Lib.ApplicationDefinition.Flyout(B);break;case"Multi":this.multi=new Fusion.Lib.ApplicationDefinition.Multi(B);break;case"Separator":break}},create:function(F,C,J){switch(this.type){case"Widget":var G=F.getWidgetByName(this.widgetName);if(G){var B="FusionItem"+this.uniqueId[0];this.uniqueId[0]++;if(C instanceof Jx.Toolbar){var H=G.create(F,"");if(!H.uiClass){H.uiClass=Jx.Toolbar.Item;H.setUiObject(new H.uiClass())}else{if(H.uiClass==Jx.Button||H.uiClass==Jx.Button.Color||H.uiClass==Jx.Menu||H.uiClass==Jx.Button.Flyout){H.setUiObject(new H.uiClass({label:G.label,image:G.imageUrl,imageClass:G.imageClass,toggle:H.isExclusive}))}}C.add(H.uiObj);if(H.uiObj.setEnabled){H.uiObj.setEnabled(H.isEnabled());H.registerForEvent(Fusion.Event.WIDGET_STATE_CHANGED,function(){H.uiObj.setEnabled(H.isEnabled())})}}else{if(C instanceof Jx.Splitter){var H=G.create(F,J)}else{if(C instanceof Jx.Menu||C instanceof Jx.Menu.Context||C instanceof Jx.Menu.SubMenu){var H=G.create(F,"");if(!H.uiClass||H.uiClass==Jx.Button){H.uiClass=Jx.Menu.Item}else{if(H.uiClass==Jx.Menu){H.uiClass=Jx.Menu.SubMenu}}H.setUiObject(new H.uiClass({label:G.label,image:G.imageUrl,imageClass:G.imageClass,toggle:H.isExclusive}));C.add(H.uiObj);if(H.uiObj.setEnabled){H.uiObj.setEnabled(H.isEnabled());H.registerForEvent(Fusion.Event.WIDGET_STATE_CHANGED,function(){H.uiObj.setEnabled(H.isEnabled())})}}else{if(C instanceof Jx.Button.Multi){var H=G.create(F,"");H.uiClass=Jx.Button;H.setUiObject(new H.uiClass({label:G.label,image:G.imageUrl,imageClass:G.imageClass,toggle:H.isExclusive}));C.add(H.uiObj);if(H.uiObj.setEnabled){H.uiObj.setEnabled(H.isEnabled());H.registerForEvent(Fusion.Event.WIDGET_STATE_CHANGED,function(){H.uiObj.setEnabled(H.isEnabled());var K=!C.buttons.some(function(L){return !L.isEnabled()});C.setEnabled(K)})}}}}}}else{Fusion.reportError(new Fusion.Error(Fusion.Error.WARNING,"can't find widget: "+this.widgetName))}break;case"Flyout":var E;var D={label:this.flyout.label,tooltip:this.flyout.tooltip,image:this.flyout.imageUrl,imageClass:this.flyout.imageClass};if(C instanceof Jx.Toolbar){E=new Jx.Menu(D)}else{if(C instanceof Jx.Menu||C instanceof Jx.Menu.Context||C instanceof Jx.Menu.SubMenu){E=new Jx.Menu.SubMenu(D)}}C.add(E);this.flyout.create(F,E);break;case"Multi":var I;var D={label:this.multi.label,tooltip:this.multi.tooltip,image:this.multi.imageUrl,imageClass:this.multi.imageClass};I=new Jx.Button.Multi(D);C.add(I);this.multi.create(F,I);break;case"Separator":if(C instanceof Jx.Toolbar){C.add(new Jx.Toolbar.Separator())}else{if(C instanceof (Jx.Menu)||C instanceof (Jx.Menu.SubMenu)||C instanceof (Jx.Menu.Context)){C.add(new Jx.Menu.Separator())}}break}}});Fusion.Lib.ApplicationDefinition.Flyout=OpenLayers.Class({label:null,tooltip:null,description:null,imageUrl:null,items:null,initialize:function(C){this.label=C.Label?C.Label[0]:"";this.tooltip=C.Tooltip?C.Tooltip[0]:"";this.description=C.Description?C.Description[0]:"";this.imageUrl=C.ImageUrl?C.ImageUrl[0]:"";this.items=[];if(C.Item instanceof Array){for(var B=0;B<C.Item.length;B++){this.items.push(new Fusion.Lib.ApplicationDefinition.Item(C.Item[B]))}}},create:function(C,D){for(var B=0;B<this.items.length;B++){this.items[B].create(C,D)}}});Fusion.Lib.ApplicationDefinition.Multi=OpenLayers.Class({label:null,tooltip:null,description:null,imageUrl:null,items:null,initialize:function(C){this.label=C.Label?C.Label[0]:"";this.tooltip=C.Tooltip?C.Tooltip[0]:"";this.description=C.Description?C.Description[0]:"";this.imageUrl=C.ImageUrl?C.ImageUrl[0]:"";this.items=[];if(C.Item instanceof Array){for(var B=0;B<C.Item.length;B++){this.items.push(new Fusion.Lib.ApplicationDefinition.Item(C.Item[B]))}}},create:function(C,D){for(var B=0;B<this.items.length;B++){this.items[B].create(C,D)}}});Fusion.Lib.ApplicationDefinition.SearchDefinition=OpenLayers.Class({id:null,name:null,category:null,parameters:null,join:null,rule:null,initialize:function(D){this.id=D["@id"];this.name=D["@name"];if(D.Join instanceof Array){this.join=new Fusion.Lib.ApplicationDefinition.SearchJoin(D.Join[0])}this.parameters=[];if(D.Parameter instanceof Array){for(var C=0;C<D.Parameter.length;C++){this.parameters.push(D.Parameter[C]["@name"])}}this.reports=[];if(D.Report instanceof Array){for(var C=0;C<D.Report.length;C++){var B=D.Report[C].Label[0];var E=D.Report[C].Link[0];this.reports.push({label:B,link:E})}}var F;if(D.SearchAnd instanceof Array){this.rule=new Fusion.Lib.ApplicationDefinition.SearchRule("AND");F=D.SearchAnd[0]}else{if(D.SearchOr instanceof Array){this.rule=new Fusion.Lib.ApplicationDefinition.SearchRule("OR");F=D.SearchOr[0]}}if(F&&F.SearchCondition instanceof Array){for(var C=0;C<F.SearchCondition.length;C++){this.rule.add(new Fusion.Lib.ApplicationDefinition.SearchCondition(F.SearchCondition[C]))}}},getJoinUrl:function(B){if(this.join){return"&joinlayer="+this.join.layer+"&joinpk="+this.join.primaryKey+"&joinfk="+this.join.foreignKey}else{return""}},getFilterUrl:function(B){return"&filter="+encodeURIComponent(this.rule.toString(B))}});Fusion.Lib.ApplicationDefinition.SearchJoin=OpenLayers.Class({layer:null,primaryKey:null,foreignKey:null,initialize:function(B){this.layer=B.Layer?B.Layer[0]:"";this.primaryKey=B.PrimaryKey?B.PrimaryKey[0]:"";this.foreignKey=B.ForeignKey?B.ForeignKey[0]:""}});Fusion.Lib.ApplicationDefinition.SearchRule=OpenLayers.Class({type:null,conditions:null,initialize:function(B){this.type=B;this.conditions=[]},add:function(B){this.conditions.push(B)},remove:function(C){for(var B=0;B<this.conditions.length;B++){if(this.conditions[B]==C){this.conditions.splice(B,1);break}}},toString:function(D){var C=[];for(var B=0;B<this.conditions.length;B++){this.conditions[B].setParams(D);var E=this.conditions[B].toString();if(E!=""){C.push(E)}}return"("+C.join(") "+this.type+" (")+")"}});Fusion.Lib.ApplicationDefinition.SearchCondition=OpenLayers.Class({column:null,operator:null,parameter:null,quote:null,value:null,operators:{eq:"=",like:"like",lt:"<",lte:"<=",gt:">",gte:">=",neq:"<>"},includeIfEmpty:false,initialize:function(B){this.column=B.Column[0];this.operator=this.operators[B.Operator[0].toLowerCase()];this.parameter=B.Parameter[0];this.quote=B["@quote"]?B["@quote"]:"";this.wildcard=B["@wildcard"]?B["@wildcard"]:"both";this.caseSensitive=true;if(B["@caseSensitive"]&&B["@caseSensitive"]=="false"){this.caseSensitive=false}},setParams:function(B){if(B[this.parameter]){this.value=B[this.parameter]}else{this.value=""}},toString:function(){var F=this.value?this.value:"";if(F==""&&!this.includeIfEmpty){return""}var E="";if(!this.caseSensitive){F=F.toUpperCase();E="Upper"}var D="";var D="";var B="";if(this.operator=="like"){if(this.wildcard=="before"||this.wildcard=="both"){D="*"}if(this.wildcard=="after"||this.wildcard=="both"){B="*"}}var C=this.operator=="like"?"*":"";return E+"("+this.column+") "+this.operator+" "+this.quote+D+F+B+this.quote}});Fusion.Lib.MGBroker=OpenLayers.Class({mapGuideURL:"",mapAgentURL:"",method:null,initialize:function(){},dispatchRequest:function(D,E){var C=D.encode()+"&ts="+(new Date()).getTime();if(this.method){D.options.method=this.method}var B=new OpenLayers.Ajax.Request(this.mapAgentURL,OpenLayers.Util.extend({parameters:D.parameters,onComplete:E},D.options));B.originalRequest=D},setSiteURL:function(C,B,D){this.user=B;this.pass=D;if(C.indexOf("mapagent.fcgi")==-1){if(C.charAt(C.length-1)!="/"){C=C+"/"}this.mapGuideURL=C;C=C+"mapagent/mapagent.fcgi"}this.mapAgentURL=C},clearSiteURL:function(){this.user="";this.pass="";this.mapGuideURL="";this.mapAgentURL=""}});Fusion.Lib.MGRequest=OpenLayers.Class({options:null,parameters:null,initializeRequest:function(){this.options={method:"post"};this.parameters={version:"1.0.0",locale:Fusion.locale,clientagent:"Fusion Viewer"}},setParams:function(B){OpenLayers.Util.extend(this.parameters,(B||{}))},setOptions:function(B){OpenLayers.Util.extend(this.options,(B||{}))},encode:function(){var B=sep="";for(var C in this.parameters){if(this.parameters[C]){B=B+sep+C+"="+encodeURI(this.parameters[C])}sep="&"}return B}});Fusion.Lib.MGRequest.MGEnumerateResources=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(D,B,C){this.initializeRequest();this.setParams({operation:"ENUMERATERESOURCES",resourceid:(D||"Library://"),type:(B||""),depth:(typeof C=="undefined"?-1:C)})}});Fusion.Lib.MGRequest.MGGetResourceContent=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(B){this.initializeRequest();this.setParams({operation:"GETRESOURCECONTENT",resourceid:(B||"Library://")})}});Fusion.Lib.MGRequest.MGGetResourceHeader=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(B){this.initializeRequest();this.setParams({operation:"GETRESOURCEHEADER",resourceid:(B||"Library://")})}});Fusion.Lib.MGRequest.MGCreateSession=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(){this.initializeRequest();this.setParams({operation:"CREATESESSION"})}});Fusion.Lib.MGRequest.MGCreateRuntimeMap=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(D,C,B){this.initializeRequest();this.setParams({operation:"CREATERUNTIMEMAP",mapdefinition:D,requestedfeatures:C,iconsperscalerange:B,format:"application/json",version:"2.6.0"})}});Fusion.Lib.MGRequest.MGDescribeRuntimeMap=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(D,C,B){this.initializeRequest();this.setParams({operation:"DESCRIBERUNTIMEMAP",mapname:D,requestedfeatures:C,iconsperscalerange:B,format:"application/json",version:"2.6.0"})}});Fusion.Lib.MGRequest.MGCopyResource=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(C,D,B){this.initializeRequest();this.setParams({operation:"COPYRESOURCE",source:C,destination:D,overwrite:B})}});Fusion.Lib.MGRequest.MGDeleteResource=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(B){this.initializeRequest();this.setParams({operation:"DELETERESOURCE",resourceid:B})}});Fusion.Lib.MGRequest.MGMoveResource=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(C,D,B){this.initializeRequest();this.setParams({operation:"MOVERESOURCE",source:C,destination:D,overwrite:B})}});Fusion.Lib.MGRequest.MGMoveResource=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(C,B,D){this.initializeRequest();this.setParams({method:"post",operation:"SETRESOURCE",resourceid:C,content:B,header:D})}});Fusion.Lib.MGRequest.MGDescribeSchema=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(C,B){this.initializeRequest();this.setParams({operation:"DESCRIBEFEATURESCHEMA",resourceid:C,schema:B})}});Fusion.Lib.MGRequest.MGGetSpatialContexts=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(C,B){this.initializeRequest();this.setParams({operation:"GETSPATIALCONTEXTS",resourceid:C,activeonly:B?"1":"0"})}});Fusion.Lib.MGRequest.MGEnumerateResourceReferences=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(B){this.initializeRequest();this.setParams({operation:"ENUMERATERESOURCEREFERENCES",resourceid:B})}});Fusion.Lib.MGRequest.MGEnumerateResourceData=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(B){this.initializeRequest();this.setParams({operation:"ENUMERATERESOURCEDATA",resourceid:B})}});Fusion.Lib.MGRequest.MGGetVisibleMapExtent=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(E,J,I,H,K,M,O,N,C,G,L,D,F,B){this.initializeRequest();this.setParams({operation:"GETVISIBLEMAPEXTENT",session:E,mapname:J,setviewcenterx:I,setviewcentery:H,setviewscale:K,setdataextent:M,setdisplaydpi:O,setdisplaywidth:N,setdisplayheight:C,showlayers:G,hidelayers:L,showgroups:D,hidegroups:F,refreshlayers:B})}});Fusion.Lib.MGRequest.MGQueryMapFeatures=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(F,H,I,D,G,C,B,J,E){this.initializeRequest();this.setParams({operation:"QUERYMAPFEATURES",format:"application/json",session:F,mapname:H,geometry:I,maxFeatures:D,persist:G,selectionVariant:C,featureFilter:B,layerNames:J,layerAttributeFilter:E})}});Fusion.Lib.MGRequest.MGQueryMapFeatures2=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(G,I,J,D,H,C,B,K,F,E,L,M){this.initializeRequest();this.setParams({operation:"QUERYMAPFEATURES",format:"application/json",version:"2.6.0",session:G,mapname:I,geometry:J,maxFeatures:D,persist:H,selectionVariant:C,featureFilter:B,layerNames:K,layerAttributeFilter:F,requestData:E,selectionColor:L,selectionFormat:M})}});Fusion.Lib.MGRequest.MGGetFeatureSetEnvelope=OpenLayers.Class(Fusion.Lib.MGRequest,{initialize:function(D,C,B){this.initializeRequest();this.setParams({operation:"GETFEATURESETENVELOPE",session:D,mapname:C,featureSet:B})}});Fusion.Event.WIDGET_STATE_CHANGED=Fusion.Event.lastEventId++;Fusion.Widget=OpenLayers.Class(Fusion.Lib.EventMgr,{isExclusive:false,name:null,type:null,oMap:null,widgetLayerId:null,enabled:false,mapLoadedWatcher:null,paramRegister:null,groups:[],group:null,domObj:null,uiClass:null,widgetUniqueId:null,initialize:function(C){this.type=C.type;this.name=C.name;this.widgetTag=C;this.registerEventID(Fusion.Event.WIDGET_STATE_CHANGED);if(!Fusion.Widget.uiInstances[this.type]){Fusion.Widget.uiInstances[this.type]=[]}var D=C.extension.Group?C.extension.Group[0]:"";if(D!=""){if(!this.groups[D]){this.groups[D]=[]}this.groups[D].push(this);this.group=D}this.setMap(C.getMapWidget());if(C.name){this.domObj=$(C.name)}this.paramRegister=[];var B=C.extension;this.widgetLayerId=B.WidgetLayerId?B.WidgetLayerId[0]:null;this.widgetUniqueId=OpenLayers.Util.createUniqueID("FusionWidget_");this.initializeWidget(C)},initializeWidget:function(){},activate:function(){},deactivate:function(){},setUiObject:function(C){Fusion.Widget.uiInstances[this.type].push(this);if(this.widgetTag.tooltip){if(C.setTooltip){C.setTooltip(this.widgetTag.tooltip)}else{if(C.button&&C.button.setTooltip){C.button.setTooltip(this.widgetTag.tooltip)}}}if(this.isExclusive){if(Fusion.Widget.uiInstances[this.type].length==1){this.getMap().buttonSet.add(C)}else{var D=Fusion.Widget.uiInstances[this.type];for(var B=0;B<D.length;B++){if(!this.shouldActivateWith(D[B])){this.getMap().buttonSet.add(C);break}}}}if(C.options.active){this.activate()}if(C.addEvents){if(Fusion.Widget.uiInstances[this.type][0].uiObj&&Fusion.Widget.uiInstances[this.type][0].uiObj.options.active&&Fusion.Widget.uiInstances[this.type][0].shouldActivateWith(this)&&C.setActive){C.setActive(true)}C.addEvents({click:(function(){this.activate()}).bind(this),up:(function(){var G=Fusion.Widget.uiInstances[this.type];for(var F=0;F<G.length;F++){var E=G[F];if(E.shouldActivateWith(this)&&E.uiObj&&E.uiObj.setActive){E.uiObj.setActive(false)}}this.deactivate()}).bind(this),down:(function(){var G=Fusion.Widget.uiInstances[this.type];for(var F=0;F<G.length;F++){var E=G[F];if(E.shouldActivateWith(this)&&E.uiObj&&E.uiObj.setActive){E.uiObj.setActive(true)}}this.activate()}).bind(this)})}this.uiObj=C},shouldActivateWith:function(B){return true},setMap:function(B){if(this.mapLoadedWatcher){this.oMap.deregisterForEvent(Fusion.Event.MAP_LOADED,this.mapLoadedWatcher);this.mapLoadedWatcher=null}this.oMap=B;if(B){this.mapLoadedWatcher=OpenLayers.Function.bind(this._mapLoaded,this);B.registerForEvent(Fusion.Event.MAP_LOADED,this.mapLoadedWatcher)}if(B&&B.isLoaded()){this.enable()}else{this.disable()}},getMap:function(){return this.oMap},getMapLayer:function(){if(this.widgetLayerId){var C=this.getMap();for(var B=0;B<C.aMaps.length;++B){if(C.aMaps[B].id&&(C.aMaps[B].id==this.widgetLayerId)){return C.aMaps[B]}}Fusion.reportError("Requested widgetLayerId not found:"+this.widgetLayerId);return null}else{return this.getMap().aMaps[0]}},addControl:function(B){this.getMap().oMapOL.addControl(B)},_mapLoaded:function(){if(this.oMap&&this.oMap.isLoaded()){this.enable()}else{this.disable()}},setMutEx:function(B){this.isExclusive=B},isMutEx:function(){return this.isExclusive},getName:function(){return this.name},getLocation:function(){return this.widgetTag.location},isEnabled:function(){return this.enabled},enable:function(){this.enabled=true;this.triggerEvent(Fusion.Event.WIDGET_STATE_CHANGED,this)},disable:function(){this.enabled=false;this.triggerEvent(Fusion.Event.WIDGET_STATE_CHANGED,this)},setParameter:function(C,B){},registerParameter:function(B){this.paramRegister.push(B)}});Fusion.Widget.uiInstances={};Fusion.Tool.Search=OpenLayers.Class({lastSearch:null,lastResult:null,resultOffset:0,initialize:function(){},getProperties:function(){var B=null;if(this.lastResult&&this.lastResult.properties){B=this.lastResult.properties}return B},getNumberOfProperties:function(){var B=0;if(this.lastResult&&this.lastResult.properties){B=this.lastResult.properties.length}return B},getProperty:function(C){var B="";if(this.lastResult&&this.lastResult.properties){B=this.lastResult.properties[C]}return B},getNumberOfResults:function(){result=0;if(this.lastResult&&this.lastResult.values){result=this.lastResult.values.length}return result},getFirstResult:function(){this.resultOffset=0;return this.getResult(this.resultOffset)},getNextResult:function(){this.resultOffset++;return this.getResult(this.resultOffset)},getResult:function(B){result=null;if(this.lastResult&&this.lastResult.values){result=this.lastResult.values[B]}return result},zoomToResult:function(C){var C="&filter="+C;var B=this.getMap().arch+"/"+Fusion.getScriptLanguage()+"/Query."+Fusion.getScriptLanguage();var D={};D.parameters="session="+this.getMap().getSessionID()+"&mapname="+this.getMap().getMapName()+"&layers="+this.layerName+C;D.onComplete=OpenLayers.Function.bind(this.selectComplete,this);Fusion.ajaxRequest(B,D)},selectComplete:function(C){var B=new DomNode(C.responseXML);var D=B.getNodeText("Selection");if(D=="true"){this.getMap().newSelection();this.getMap().getSelection(OpenLayers.Function.bind(this.zoomToSelection,this))}},zoomToSelection:function(D){var E=D.getLowerLeftCoord();var F=D.getUpperRightCoord();var C=F.x-E.x;var B=F.y-E.y;E.x=E.x-C;F.x=F.x+C;E.y=E.y-B;F.y=F.y+B;this.getMap().setExtents(new OpenLayers.Bounds(E.x,E.y,F.x,F.y))}});Fusion.Event.MAP_EXTENTS_CHANGED=Fusion.Event.lastEventId++;Fusion.Event.MAP_BUSY_CHANGED=Fusion.Event.lastEventId++;Fusion.Event.MAP_GENERIC_EVENT=Fusion.Event.lastEventId++;Fusion.Event.MAP_RESIZED=Fusion.Event.lastEventId++;Fusion.Event.MAP_SELECTION_ON=Fusion.Event.lastEventId++;Fusion.Event.MAP_SELECTION_OFF=Fusion.Event.lastEventId++;Fusion.Event.MAP_ACTIVE_LAYER_CHANGED=Fusion.Event.lastEventId++;Fusion.Event.MAP_LOADED=Fusion.Event.lastEventId++;Fusion.Event.MAP_LOADING=Fusion.Event.lastEventId++;Fusion.Event.MAP_RELOADED=Fusion.Event.lastEventId++;Fusion.Event.MAP_SESSION_CREATED=Fusion.Event.lastEventId++;Fusion.Event.MAP_MAPTIP_REQ_FINISHED=Fusion.Event.lastEventId++;Fusion.Event.WMS_LAYER_ADDED=Fusion.Event.lastEventId++;Fusion.Event.MAP_SCALE_RANGE_LOADED=Fusion.Event.lastEventId++;Fusion.Event.MAP_MAP_GROUP_LOADED=Fusion.Event.lastEventId++;Fusion.Event.MAP_DIGITIZER_ACTIVATED=Fusion.Event.lastEventId++;Fusion.Event.MAP_DIGITIZER_DEACTIVATED=Fusion.Event.lastEventId++;Fusion.Constant.LAYER_POINT_TYPE=0;Fusion.Constant.LAYER_POINT_TYPE=1;Fusion.Constant.LAYER_POINT_TYPE=2;Fusion.Constant.LAYER_POINT_TYPE=3;Fusion.Constant.LAYER_POINT_TYPE=4;Fusion.Constant.LAYER_DWF_TYPE=5;Fusion.Widget.Map=OpenLayers.Class(Fusion.Lib.EventMgr,{ID_DIGITIZING_LAYER:"FusionMapDigitizingLayer",DRAW_CONTROL_POINT:"FusionMapDrawPoint",DRAW_CONTROL_LINE:"FusionMapDrawLine",DRAW_CONTROL_LINESTR:"FusionMapDrawLineString",DRAW_CONTROL_RECT:"FusionMapDrawRect",DRAW_CONTROL_POLY:"FusionMapDrawPoly",DRAW_CONTROL_CIRCLE:"FusionMapDrawCircle",_oDomObj:null,_sDomObj:"",_sMapname:"",_fMetersperunit:-1,_fScale:-1,_nDpi:96,_oCurrentExtents:null,maxExtent:new OpenLayers.Bounds(),_nWorkers:0,oContextMenu:null,bSupressContextMenu:false,aMaps:null,mapsLoaded:false,layerRoot:null,singleTile:true,fractionalZoom:true,maxScale:null,isDigitizing:false,message:null,digitizingStyleMap:null,initialize:function(E,C,D){this.widgetTag=E;var B=E.name;this.aMaps=[];this.buttonSet=new Jx.ButtonSet();this.widgetSet=D;this._sDomObj=B;this._oDomObj=$(this._sDomObj);this.layerRoot=new Fusion.Layers.Group({legendLabel:"mapRoot",uniqueId:"mapRoot",groupName:"mapRoot",visible:true});var G=this._oDomObj.retrieve("jxLayout");if(G){G.addEvent("sizeChange",OpenLayers.Function.bind(this.sizeChanged,this))}if(E.extension.FractionalZoom){this.fractionalZoom=E.extension.FractionalZoom[0]=="false"?false:true}var H=null;if(E.extension.Scales){H=E.extension.Scales[0].split(",");this.fractionalZoom=false}if(E.extension.MaxScale){this.maxScale=parseInt(E.extension.MaxExtent[0])}var I=null;if(E.extension.MaxExtent){I=OpenLayers.Bounds.fromString(E.extension.MaxExtent[0])}OpenLayers.DOTS_PER_INCH=this._nDpi;if(!this.oMapOL){var J={controls:[new OpenLayers.Control.PinchZoom()],fallThrough:true,scales:H,fractionalZoom:this.fractionalZoom};if(E.extension.ConstrainMapExtent){this.bRestrictExtent=E.extension.ConstrainMapExtent[0]=="true"?true:false}if(I){J.maxExtent=I;this.maxExtent=I}this.oMapOL=new OpenLayers.Map(this._sDomObj,J)}this.oMapOL.viewPortDiv.style.position="absolute";this.oMapOL.viewPortDiv.style.zIndex=0;this.handlers=[];var F=true;if(E.extension.DisableMouseWheel&&E.extension.DisableMouseWheel[0]=="true"){F=false}if(F){this.wheelHandler=new OpenLayers.Handler.MouseWheel(this,{up:this.wheelUp,down:this.wheelDown});this.wheelHandler.map=this.oMapOL;this.wheelHandler.activate();this.handlers.push(this.wheelHandler)}$(B).widget=this;this.registerEventID(Fusion.Event.MAP_EXTENTS_CHANGED);this.registerEventID(Fusion.Event.MAP_BUSY_CHANGED);this.registerEventID(Fusion.Event.MAP_GENERIC_EVENT);this.registerEventID(Fusion.Event.MAP_RESIZED);this.registerEventID(Fusion.Event.MAP_ACTIVE_LAYER_CHANGED);this.registerEventID(Fusion.Event.MAP_LOADED);this.registerEventID(Fusion.Event.MAP_LOADING);this.registerEventID(Fusion.Event.MAP_RELOADED);this.registerEventID(Fusion.Event.MAP_SELECTION_ON);this.registerEventID(Fusion.Event.MAP_SELECTION_OFF);this.registerEventID(Fusion.Event.MAP_MAPTIP_REQ_FINISHED);this.registerEventID(Fusion.Event.WMS_LAYER_ADDED);this.registerEventID(Fusion.Event.MAP_SCALE_RANGE_LOADED);this.registerEventID(Fusion.Event.MAP_MAP_GROUP_LOADED);this.registerEventID(Fusion.Event.MAP_DIGITIZER_ACTIVATED);this.registerEventID(Fusion.Event.MAP_DIGITIZER_DEACTIVATED);this.registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.mapLoaded,this));this.registerForEvent(Fusion.Event.MAP_RELOADED,OpenLayers.Function.bind(this.mapLoaded,this));this.oMapOL.events.register("moveend",this,this.mapExtentsChanged);this._oDomObj.onselectstart=function(){return false};this._oDomObj.oncontextmenu=function(){return false};OpenLayers.Event.observe(this._oDomObj,"contextmenu",OpenLayers.Function.bind(this.onContextMenu,this));this.aSelectionCallbacks=[];this.bFetchingSelection=false;this.digitizingStyleMap=new OpenLayers.StyleMap(new OpenLayers.Style({pointRadius:4,graphicName:"square",fillColor:"white",fillOpacity:0.4,strokeWidth:2,strokeOpacity:1,strokeColor:"#666666",strokeColor:"#666666"}));this.keyHandler=OpenLayers.Function.bind(this.onKeyPress,this);this.loadMapGroup(C)},mapLoaded:function(){this.setViewOptions(this.getUnits());this.loadScaleRanges(OpenLayers.Function.bind(this.scaleRangesLoaded,this))},setMenu:function(){if(this.widgetTag.extension.MenuContainer){var C=new Jx.Menu.Context();var B=this.widgetSet.getContainerByName(this.widgetTag.extension.MenuContainer[0]);if(B){B.createWidgets(this.widgetSet,C);this.setContextMenu(C)}}},loadMapGroup:function(F,E){this.mapsLoaded=false;this.clearSelection();this.mapGroup=F;var H=E?1:0;for(var D=this.aMaps.length-1;D>=H;D--){if(this.aMaps[D].oLayerOL){this.aMaps[D].oLayerOL.destroy();this.aMaps.splice(D,1)}}this._fMetersperunit=-1;this.oMapOL.center=null;this.maxExtent=new OpenLayers.Bounds();var G;if(E){G=this.layerRoot.layers[0]}this.layerRoot.clear();if(E){this.layerRoot.addLayer(G)}for(var D=0;D<F.maps.length;++D){var B=F.maps[D];if(Fusion.Layers[B.type]){this.aMaps.push(new Fusion.Layers[B.type](this,B,true));var C=this.aMaps[this.aMaps.length-1].layerRoot;C.isFusionLayer=true;this.layerRoot.addGroup(C)}else{this.aMaps.push(new Fusion.Layers.Generic(this,B,true));this.layerRoot.addLayer(this.aMaps[this.aMaps.length-1].layerRoot)}this.aMaps[this.aMaps.length-1].registerForEvent(Fusion.Event.LAYER_LOADED,OpenLayers.Function.bind(this.layerLoaded,this,B))}this.triggerEvent(Fusion.Event.MAP_MAP_GROUP_LOADED)},_fixBaseLayerGroupVisibility:function(){var D=0;var C=0;for(D=0;D<this.layerRoot.groups.length;D++){if(this.layerRoot.groups[D].uniqueId=="layerRoot"){for(var B=0;B<this.layerRoot.groups[D].groups.length;B++){if(!this.layerRoot.groups[D].groups[B].initiallyVisible){for(C=0;C<this.aMaps.length;C++){if(this.aMaps[C].arch!="MapGuide"){continue}if(this.aMaps[C].oLayerOL.params.basemaplayergroupname===this.layerRoot.groups[D].groups[B].name){this.aMaps[C].oLayerOL.setVisibility(false)}}}}}else{if(!this.layerRoot.groups[D].initiallyVisible){for(C=0;C<this.aMaps.length;C++){if(this.aMaps[C].arch!="MapGuide"){continue}if(this.aMaps[C].oLayerOL.params.basemaplayergroupname===this.layerRoot.groups[D].name){this.aMaps[C].oLayerOL.setVisibility(false)}}}}}},layerLoaded:function(K){for(var G=0;G<this.aMaps.length;++G){if(!this.aMaps[G].isMapLoaded()){return }}this.mapsLoaded=true;if(this.aMaps.length==1){this.oMapOL.setBaseLayer(this.aMaps[0].oLayerOL);this._fixBaseLayerGroupVisibility()}else{var C=0;for(var G=0;G<this.aMaps.length;G++){if(this.aMaps[G].arch=="MapGuide"){C++}this.oMapOL.removeLayer(this.aMaps[G].oLayerOL)}for(var G=0;G<this.aMaps.length;G++){this.oMapOL.addLayer(this.aMaps[G].oLayerOL)}if(C>1){for(var G=0;G<this.aMaps.length;G++){if(this.aMaps[G].arch=="MapGuide"){this.aMaps[G].oLayerOL.isBaseLayer=false;this.aMaps[G].oLayerOL.alwaysInRange=true;this.aMaps[G].oLayerOL.setVisibility(true)}}}this._fixBaseLayerGroupVisibility()}var D=null;var B=null;var H=true;for(var G=0;G<this.aMaps.length;G++){if(this.aMaps[G].arch=="MapGuide"){B=this.aMaps[G].oLayerOL.resolutions;if(this.aMaps[G].bSingleTile){H=true}else{H=false}break}}if(H){for(var G=0;G<this.aMaps.length;G++){if(this.aMaps[G].arch=="Generic"){var E=this.aMaps[G].oLayerOL;E.serverResolutions=E.resolutions;if(D==null){D=[];for(var F=0;F<E.serverResolutions.length;F++){D.push(E.serverResolutions[F])}for(var F=0;F<B.length;F++){if(B[F]<E.minResolution){D.push(B[F])}}}E.resolutions=D;var J=[];for(var F=0;F<D.length;F++){J.push(OpenLayers.Util.getScaleFromResolution(D[F],E.units))}E.scales=J;E.minResolution=D[D.length-1];E.maxScale=J[J.length-1];E.numZoomLevels=J.length}}}var I=this.setInitialExtents();this.setExtents(I);OpenLayers.Event.observe(document,"keypress",this.keyHandler);this.triggerEvent(Fusion.Event.MAP_LOADED,K)},wheelChange:function(B,C){if(this.wheelTimer){clearTimeout(this.wheelTimer)}else{this.cumulativeDelta=0}this.cumulativeDelta+=(C<0)?-1:1;this.wheelTimer=setTimeout(OpenLayers.Function.bind(function(){this.doWheelChange(B,C)},this),200)},doWheelChange:function(J,E){this.wheelTimer=null;if(this.cumulativeDelta==0){return }var K=this.oMapOL.getSize();var H=K.w/2-J.xy.x;var G=J.xy.y-K.h/2;var F=this.cumulativeDelta>0?1/(this.cumulativeDelta+1):Math.abs(this.cumulativeDelta)+1;var I=this.oMapOL.baseLayer.getResolution()*F;var B=this.oMapOL.getLonLatFromPixel(J.xy);var D=new OpenLayers.LonLat(B.lon+H*I,B.lat+G*I);var C=new OpenLayers.Bounds(D.lon-K.w*I/2,D.lat-K.h*I/2,D.lon+K.w*I/2,D.lat+K.h*I/2);this.setExtents(C)},wheelUp:function(B){this.wheelChange(B,1)},wheelDown:function(B){this.wheelChange(B,-1)},getDomObj:function(){return this._oDomObj},getDomId:function(){return this._sDomObj},setMapOptions:function(B){this.oMapOL.setOptions(B)},addMap:function(B){if(B.mapTag.layerOptions.maxExtent){this.maxExtent.extend(B.mapTag.layerOptions.maxExtent);this.oMapOL.setOptions({maxExtent:this.maxExtent})}if(this.bRestrictExtent!=null){if(this.bRestrictExtent){this.oMapOL.restrictedExtent=B.mapTag.layerOptions.maxExtent}else{this.oMapOL.restrictedExtent=false}}this.oMapOL.addLayer(B.oLayerOL);if(B.oLayerOL.isBaseLayer){this.projection=B.oLayerOL.projection;this.units=B.oLayerOL.units;this.oMapOL.setOptions({units:this.units,projection:this.projection})}B.registerForEvent(Fusion.Event.MAP_SELECTION_OFF,OpenLayers.Function.bind(this.selectionHandler,this));B.registerForEvent(Fusion.Event.MAP_SELECTION_ON,OpenLayers.Function.bind(this.selectionHandler,this))},getAllMaps:function(){return this.aMaps},reloadMap:function(){for(var B=0;B<this.aMaps.length;++B){var C=this.aMaps[B];window.setTimeout(OpenLayers.Function.bind(C.reloadMap,C),1)}},loadScaleRanges:function(){for(var B=0;B<this.aMaps.length;++B){var C=this.aMaps[B];C.loadScaleRanges()}},query:function(B){this.lastQueryOptions=B;for(var C=0;C<this.aMaps.length;C++){if(this.aMaps[C].query(B)){}}},selectionHandler:function(){if(this.hasSelection()){this.triggerEvent(Fusion.Event.MAP_SELECTION_ON)}else{this.triggerEvent(Fusion.Event.MAP_SELECTION_OFF)}},hasSelection:function(){for(var B=0;B<this.aMaps.length;B++){if(this.aMaps[B].hasSelection()){return true}}return false},clearSelection:function(){this.oSelection=null;this.lastQueryOptions=null;for(var B=0;B<this.aMaps.length;B++){this.aMaps[B].clearSelection()}},getSelection:function(E,D,C){var D=(arguments[1])?arguments[1]:"";var C=(arguments[2])?arguments[2]:"";this.aSelectionCallbacks.push(E);if(this.bFetchingSelection){return }this.bFetchingSelection=true;this.oSelection={};this.nSelectionMaps=0;for(var B=0;B<this.aMaps.length;B++){if(!this.aMaps[B].supports.query){continue}this.nSelectionMaps++;this.aMaps[B].getSelection(OpenLayers.Function.bind(this.accumulateSelection,this,this.aMaps[B]),D,C)}},setSelection:function(D,C){for(var B=0;B<this.aMaps.length;B++){this.aMaps[B].setSelection(D,C)}},accumulateSelection:function(D,C){this.oSelection[D._sMapname]=C;if(!--this.nSelectionMaps){this.bFetchingSelection=false;for(var B=0;B<this.aSelectionCallbacks.length;B++){this.aSelectionCallbacks[B](this.oSelection)}this.aSelectionCallbacks=[]}},setActiveLayer:function(B){this.oActiveLayer=B;if(B){this.oActiveMap=B.map}this.triggerEvent(Fusion.Event.MAP_ACTIVE_LAYER_CHANGED,B)},getActiveLayer:function(){return this.oActiveLayer},_addWorker:function(){this._nWorkers+=1;this.triggerEvent(Fusion.Event.MAP_BUSY_CHANGED,this);this._oDomObj.style.cursor="wait"},_removeWorker:function(){if(this._nWorkers>0){this._nWorkers-=1}this.setCursor(this.cursor);this.triggerEvent(Fusion.Event.MAP_BUSY_CHANGED,this)},mapExtentsChanged:function(){this._oCurrentExtents=this.oMapOL.getExtent();this.triggerEvent(Fusion.Event.MAP_EXTENTS_CHANGED)},isBusy:function(){return this._nWorkers>0},sizeChanged:function(){this.resize()},resize:function(){if(!this.mapsLoaded){return }this.oMapOL.updateSize();var B=$(this.getDomObj()).getContentBoxSize();if(this._oCurrentExtents){this.setExtents(this._oCurrentExtents)}this.triggerEvent(Fusion.Event.MAP_RESIZED,this)},redraw:function(){for(var B=0;B<this.aMaps.length;B++){if(this.aMaps[B].oLayerOL.params){this.aMaps[B].oLayerOL.params.ts=(new Date()).getTime()}}this.oMapOL.setCenter(this.oMapOL.getCenter(),this.oMapOL.getZoom(),false,true)},setBackgroundColor:function(B){this._oDomObj.style.backgroundColor=B},setExtents:function(C){if(!C){Fusion.reportError(new Fusion.Error(Fusion.Error.WARNING,OpenLayers.i18n("nullExtents")))}if(C instanceof Array&&C.length==4){C=new OpenLayers.Bounds(C[0],C[1],C[2],C[3])}for(var B=0;B<this.aMaps.length;B++){if(this.aMaps[B].oLayerOL.params&&this.aMaps[B].noCache){this.aMaps[B].oLayerOL.params.ts=(new Date()).getTime()}}if(C.bottom==C.top&&C.left==C.right){this.oMapOL.panTo(new OpenLayers.LonLat(C.left,C.top))}else{this.oMapOL.zoomToExtent(C,true)}this._oCurrentExtents=this.oMapOL.getExtent()},setInitialExtents:function(){var D;var E=Fusion.getQueryParam("extent");if(E){D=new OpenLayers.Bounds.fromArray(E.split(","))}else{if(this.mapGroup.initialView){var B=this.mapGroup.getInitialView();if(B.x!=undefined){D=this.getExtentFromPoint(B.x,B.y,B.scale)}else{if(B.minX!=undefined){D=new OpenLayers.Bounds(B.minX,B.minY,B.maxX,B.maxY)}}var C=this.oMapOL.baseLayer.projection;if(B.projection&&!B.projection.equals(C)){D.transform(B.projection,C)}if(!D.intersectsBounds(this.maxExtent)){Fusion.reportError("AppDef initial view is outside map maxExtent, resetting initialView to maxExtent");D=this.maxExtent}}else{D=this.getMapGroupExtent();if(!D){D=this.getMapGroupExtent(true)}}}if(!this.initialExtents){this.initialExtents=D}return D},getMapGroupExtent:function(C){var D;for(var B=0;B<this.aMaps.length;++B){if(!C&&this.aMaps[B].arch=="Generic"){continue}D=this.aMaps[B].getMaxExtent()}return D},fullExtents:function(){var B=this.maxExtent;this.setExtents(B)},isMapLoaded:function(){return(this._oCurrentExtents)?true:false},zoom:function(G,F,D){if(D==1||D==0){this.oMapOL.panTo(new OpenLayers.LonLat(G,F))}else{var K=this.oMapOL.getExtent();if(this.fractionalZoom){var L=K.right-K.left;var J=K.top-K.bottom;var I,E,H,C;if(D>0){I=G-(L/2/D);E=G+(L/2/D);H=F-(J/2/D);C=F+(J/2/D)}else{if(D<0){I=G-((L/2)*Math.abs(D));E=G+((L/2)*Math.abs(D));H=F-((J/2)*Math.abs(D));C=F+((J/2)*Math.abs(D))}}this.setExtents(new OpenLayers.Bounds(I,H,E,C))}else{var B=this.oMapOL.getZoom();this.oMapOL.setCenter(new OpenLayers.LonLat(G,F));this.oMapOL.zoomTo(B+Math.floor(Math.log(D)/Math.log(2)))}}},zoomToScale:function(C){var B=this.getCurrentCenter();var D=this.getExtentFromPoint(B.x,B.y,C);this.setExtents(D)},queryRect:function(E,D,C,B){},queryPoint:function(C,B){},pixToGeo:function(D,B){var C=this.oMapOL.getLonLatFromPixel(new OpenLayers.Pixel(D,B));if(C!=null){return{x:C.lon,y:C.lat}}return null},geoToPix:function(D,C){if(!(this._oCurrentExtents)){return null}var B=this.oMapOL.getPixelFromLonLat(new OpenLayers.LonLat(D,C));return{x:Math.floor(B.x),y:Math.floor(B.y)}},pixToGeoMeasure:function(B){var C=this.oMapOL.getResolution();return(B*C)},setProjection:function(C,B){this.projection=C;this.oMapOL.projection=C;this.oMapOL.units=B},setMetersPerUnit:function(B){if(this._fMetersperunit<0){Fusion.initUnits(B);this._fMetersperunit=B}else{if(B!=this._fMetersperunit){Fusion.reportError(new Fusion.Error(Fusion.Error.WARNING,"meters per unit value already set"))}}},getMetersPerUnit:function(){return this._fMetersperunit},setViewOptions:function(B){this.setWidgetParam("Units",B)},setWidgetParam:function(H,G){for(var D=0;D<Fusion.applicationDefinition.widgetSets.length;++D){var E=Fusion.applicationDefinition.widgetSets[D];for(var C=0;C<E.widgetInstances.length;++C){var F=E.widgetInstances[C];for(var B=0;B<F.paramRegister.length;++B){if(F.paramRegister[B]==H){F.setParameter(H,G)}}}}},geoToPixMeasure:function(B){return parseInt(B/this.oMapOL.getResolution())},getCurrentCenter:function(){var B=this.getCurrentExtents().getCenterLonLat();return{x:B.lon,y:B.lat}},getCurrentExtents:function(){return this.oMapOL.getExtent()},getExtentFromPoint:function(G,F,B){if(!B){B=this.getScale()}var E=OpenLayers.Util.getResolutionFromScale(B,this.oMapOL.baseLayer.units);var D=this.getSize();var H=D.w*E;var C=D.h*E;return new OpenLayers.Bounds(G-H/2,F-C/2,G+H/2,F+C/2)},getScale:function(){return this.oMapOL.getScale()},getResolution:function(){return this.oMapOL.getResolution()},getUnits:function(){return this.oMapOL.baseLayer.units},getSize:function(){return this.oMapOL.getSize()},getEventPosition:function(B){return this.oMapOL.events.getMousePosition(B)},setCursor:function(C){this.cursor=C;if(this.isBusy()){return }if(C&&C.length&&typeof C=="object"){for(var B=0;B<C.length;B++){this._oDomObj.style.cursor=C[B];if(this._oDomObj.style.cursor==C[B]){break}}}else{if(typeof C=="string"){this._oDomObj.style.cursor=C}else{this._oDomObj.style.cursor="auto"}}},observeEvent:function(C,B){OpenLayers.Event.observe(this._oDomObj,C,B,false)},stopObserveEvent:function(C,B){OpenLayers.Event.stopObserving(this._oDomObj,C,B,false)},activateWidget:function(B){},deactivateWidget:function(B){},isLoaded:function(){return(this.oMapOL.getExtent()!=null)},getLinkParams:function(){var C={extent:this.getCurrentExtents().toBBOX()};if(this.lastQueryOptions){if(this.lastQueryOptions.filter){C.filter=this.lastQueryOptions.filter}if(this.lastQueryOptions.geometry){C.spatialfilter=this.lastQueryOptions.geometry}if(this.lastQueryOptions.queryHiddenLayers){C.queryHiddenLayers=this.lastQueryOptions.queryHiddenLayers}if(this.lastQueryOptions.maxFeatures){C.maxfeatures=this.lastQueryOptions.maxFeatures}if(this.lastQueryOptions.layers){C.selectlayer=this.lastQueryOptions.layers}if(this.lastQueryOptions.selectionType){C.variant=this.lastQueryOptions.selectionType}}for(var B=0;B<this.aMaps.length;++B){C=OpenLayers.Util.extend(C,this.aMaps[B].getLinkParams())}return OpenLayers.Util.getParameterString(C)},supressContextMenu:function(B){this.bSupressContextMenu=B},setContextMenu:function(B){this.oContextMenu=B},onContextMenu:function(B){if(this.oContextMenu&&!this.bSupressContextMenu&&this.isLoaded()){this.oContextMenu.show(new Event(B));this.contextMenuPosition=this.getEventPosition(B);OpenLayers.Event.stop(B)}},executeFromContextMenu:function(B){B.activate(this.contextMenuPosition.x,this.contextMenuPosition.y)},_getDigitizingLayer:function(){var B=this.oMapOL.getLayer(this.ID_DIGITIZING_LAYER);if(B==null){B=new OpenLayers.Layer.Vector("Digitizing Layer",{styleMap:this.digitizingStyleMap});B.id=this.ID_DIGITIZING_LAYER;this.oMapOL.addLayers([B])}return B},cancelDigitization:function(){this._deactivateDigitizer(this.DRAW_CONTROL_POINT,false,true);this._deactivateDigitizer(this.DRAW_CONTROL_LINE,false,true);this._deactivateDigitizer(this.DRAW_CONTROL_LINESTR,false,true);this._deactivateDigitizer(this.DRAW_CONTROL_RECT,false,true);this._deactivateDigitizer(this.DRAW_CONTROL_POLY,false,true);this._deactivateDigitizer(this.DRAW_CONTROL_CIRCLE,false,true);this._triggerDigitizerDeactivated()},_onGeometryDigitized:function(D,F,E){this._deactivateDigitizer(F,true,true);if(F==this.DRAW_CONTROL_CIRCLE){var C=D.feature.geometry.bounds.getCenterLonLat();var B=D.feature.geometry.bounds.getWidth()/2;E({x:C.lon,y:C.lat,r:B})}else{E(D.feature.geometry)}},_setDigitizationPrompt:function(B){this.message.info(B+' <a id="abortDigitizationLink" href="javascript:void(0)">'+OpenLayers.i18n("stop")+"</a>");var C=this.message.container.ownerDocument.getElementById("abortDigitizationLink");C.onclick=OpenLayers.Function.bind(function(){this.cancelDigitization()},this)},_deactivateDigitizer:function(E,D,B){var C=this.oMapOL.getControl(E);if(C){C.deactivate();C.layer.removeAllFeatures();if(B){C.events.remove("featureadded")}}if(D){this._triggerDigitizerDeactivated()}},_activateDigitizer:function(E,D,C){if(E.events){var B=OpenLayers.Function.bind(function(G,F){E.events.unregister("featureadded",null,B);this._onGeometryDigitized(F,G,C)},this,D);E.events.register("featureadded",null,B)}E.activate();this._triggerDigitizerActivated()},_triggerDigitizerActivated:function(){if(!this.isDigitizing){this.isDigitizing=true;this.triggerEvent(Fusion.Event.MAP_DIGITIZER_ACTIVATED)}},_triggerDigitizerDeactivated:function(){if(this.isDigitizing){this.isDigitizing=false;try{this.message.clear()}catch(B){}this.triggerEvent(Fusion.Event.MAP_DIGITIZER_DEACTIVATED)}},onKeyPress:function(C){if(this.isDigitizing){var B=(C.charCode)?C.charCode:((C.keyCode)?C.keyCode:C.which);if(B==OpenLayers.Event.KEY_ESC){this.cancelDigitization()}}},digitizePoint:function(B,D){if(this.isDigitizing){this.cancelDigitization()}var C=this.oMapOL.getControl(this.DRAW_CONTROL_POINT);if(C==null){C=new OpenLayers.Control.DrawFeature(this._getDigitizingLayer(),OpenLayers.Handler.Point,{id:this.DRAW_CONTROL_POINT,handlerOptions:{layerOptions:{styleMap:this.digitizingStyleMap}}});this.oMapOL.addControl(C)}if(B&&B.prompt){this._setDigitizationPrompt(B.prompt)}this._activateDigitizer(C,this.DRAW_CONTROL_POINT,D)},digitizeLine:function(B,D){if(this.isDigitizing){this.cancelDigitization()}var C=this.oMapOL.getControl(this.DRAW_CONTROL_LINE);if(C==null){C=new OpenLayers.Control.DrawFeature(this._getDigitizingLayer(),OpenLayers.Handler.Path,{id:this.DRAW_CONTROL_LINE,handlerOptions:{maxVertices:2,freehandToggle:null,freehand:false,persist:true,style:"default",layerOptions:{styleMap:this.digitizingStyleMap}}});this.oMapOL.addControl(C)}if(B&&B.prompt){this._setDigitizationPrompt(B.prompt)}this._activateDigitizer(C,this.DRAW_CONTROL_LINE,D)},digitizeLineString:function(B,D){if(this.isDigitizing){this.cancelDigitization()}var C=this.oMapOL.getControl(this.DRAW_CONTROL_LINESTR);if(C==null){C=new OpenLayers.Control.DrawFeature(this._getDigitizingLayer(),OpenLayers.Handler.Path,{id:this.DRAW_CONTROL_LINESTR,handlerOptions:{freehand:false,persist:true,style:"default",layerOptions:{styleMap:this.digitizingStyleMap}}});this.oMapOL.addControl(C)}if(B&&B.prompt){this._setDigitizationPrompt(B.prompt)}this._activateDigitizer(C,this.DRAW_CONTROL_LINESTR,D)},digitizeRectangle:function(B,D){if(this.isDigitizing){this.cancelDigitization()}var C=this.oMapOL.getControl(this.DRAW_CONTROL_RECT);if(C==null){C=new OpenLayers.Control.DrawFeature(this._getDigitizingLayer(),OpenLayers.Handler.RegularPolygon,{id:this.DRAW_CONTROL_RECT,handlerOptions:{persist:true,sides:4,irregular:true,style:"default",layerOptions:{styleMap:this.digitizingStyleMap}}});this.oMapOL.addControl(C)}if(B&&B.prompt){this._setDigitizationPrompt(B.prompt)}this._activateDigitizer(C,this.DRAW_CONTROL_RECT,D)},digitizePolygon:function(B,D){if(this.isDigitizing){this.cancelDigitization()}var C=this.oMapOL.getControl(this.DRAW_CONTROL_POLY);if(C==null){C=new OpenLayers.Control.DrawFeature(this._getDigitizingLayer(),OpenLayers.Handler.Polygon,{id:this.DRAW_CONTROL_POLY,handlerOptions:{freehand:false,persist:true,style:"default",layerOptions:{styleMap:this.digitizingStyleMap}}});this.oMapOL.addControl(C)}if(B&&B.prompt){this._setDigitizationPrompt(B.prompt)}this._activateDigitizer(C,this.DRAW_CONTROL_POLY,D)},digitizeCircle:function(B,D){if(this.isDigitizing){this.cancelDigitization()}var C=this.oMapOL.getControl(this.DRAW_CONTROL_CIRCLE);if(C==null){C=new OpenLayers.Control.DrawFeature(this._getDigitizingLayer(),OpenLayers.Handler.RegularPolygon,{id:this.DRAW_CONTROL_CIRCLE,handlerOptions:{sides:40,layerOptions:{styleMap:this.digitizingStyleMap}}});this.oMapOL.addControl(C)}if(B&&B.prompt){this._setDigitizationPrompt(B.prompt)}this._activateDigitizer(C,this.DRAW_CONTROL_CIRCLE,D)}});Fusion.SelectionObject=OpenLayers.Class({aLayers:null,initialize:function(C){this.aLayers=[];this.nTotalElements=0;this.nLayers=0;if(C.layers&&C.layers.length>0){this.fMinX=C.extents.minx;this.fMinY=C.extents.miny;this.fMaxX=C.extents.maxx;this.fMaxY=C.extents.maxy;this.nLayers=C.layers.length;for(var B=0;B<C.layers.length;B++){this.aLayers[B]=new Fusion.SelectionObject.Layer(C,C.layers[B])}}},getNumElements:function(){return this.nTotalElements},getLowerLeftCoord:function(){return{x:this.fMinX,y:this.fMinY}},getUpperRightCoord:function(){return{x:this.fMaxX,y:this.fMaxY}},getNumLayers:function(){return this.nLayers},getLayerByName:function(C){var B=null;for(var D=0;D<this.nLayers;D++){if(this.aLayers[D].getName()==C){B=this.aLayers[D];break}}return B},getLayer:function(B){if(B>=0&&B<this.nLayers){return this.aLayers[B]}else{return null}}});Fusion.SelectionObject.Layer=OpenLayers.Class({name:null,nElements:null,aElements:null,nProperties:null,aPropertiesName:null,aPropertiesTypes:null,type:null,area:null,distance:null,bbox:null,center:null,initialize:function(E,J){this.name=J;this.nElements=E[J].numelements;this.aElements=[];this.nProperties=E[J].propertyvalues?E[J].propertyvalues.length:0;this.aPropertiesName=[];this.aPropertiesName=E[J].propertyvalues;this.aPropertiesTypes=[];this.aPropertiesTypes=E[J].propertytypes;this.area=0;this.distance=0;for(var G=0;G<E[J].values.length;G++){this.aElements[G]=[];for(var F=0;F<E[J].values[G].length;F++){this.aElements[G][F]=E[J].values[G][F]}}for(var G=0;G<E[J].metadata.length;G++){var I=E[J].metadata[G];var H=I[0];var K=I[1];var B=I[2];var C=I[3];var D=I[4];this.area+=parseFloat(C);this.distance+=parseFloat(D)}},getName:function(){return this.name},getNumElements:function(){return this.nElements},getNumProperties:function(){return this.nProperties},getPropertyNames:function(){return this.aPropertiesName},getPropertyTypes:function(){return this.aPropertiesTypes},getElementValue:function(C,B){if(C>=0&&C<this.nElements&&B>=0&&B<this.nProperties){return this.aElements[C][B]}else{return null}}});Fusion.MapMessage=OpenLayers.Class({parentNode:null,domObj:null,leadingIcon:null,textCell:null,message:"",infoIconName:"images/icons/info.png",warningIconName:"images/icons/warning.png",errorIconName:"images/icons/error.png",containerCssText:"position:absolute; z-index:10000; padding:10px; border:solid 2px #ECECEC; background:#FFFFBB",iconCssText:"margin-right:10px",textCellCssText:"width:100%; vertical-align:top; font: 8pt Tahoma",opacity:0.95,initialize:function(B){this.parentNode=$(B)},createBar:function(){if(!this.container){var C=document.createElement("div");C.style.visibility="hidden";this.container=$(C);this.parentNode.appendChild(C)}this.container.style.cssText=this.containerCssText;var G={left:10,top:10};this.container.style.left=G.left+"px";this.container.style.top=G.top+"px";this.container.innerHTML="";var E=document.createElement("table");this.container.appendChild(E);E.style.width="100%";E.cellSpacing="0";E.cellPadding="0";E.border="0";var F=E.insertRow(0);var B=F.insertCell(0);var D=document.createElement("img");D.src=this.infoIconName;B.appendChild(D);D.style.cssText=this.iconCssText;this.leadingIcon=D;B=F.insertCell(1);B.style.cssText=this.textCellCssText;this.textCell=$(B);this.textCell.innerHTML=this.message;this.refreshLayout();this.container.setOpacity(0);this.container.style.visibility="visible"},removeBar:function(){if(typeof (this.container)!="undefined"&&this.container!=null){this.container.fade(0);window.setTimeout((function(){if(typeof (this.container)!="undefined"&&this.container!=null){this.container.parentNode.removeChild(this.container);this.container=null}}).bind(this),500)}},info:function(B){this.message=B;this.show();this.leadingIcon.src=this.infoIconName},warn:function(B){this.message=B;this.show();this.leadingIcon.src=this.warningIconName},error:function(B){this.message=B;this.show();this.leadingIcon.src=this.errorIconName},clear:function(){this.message="";this.textCell.innerHTML="";this.hide()},show:function(){this.createBar();this.textCell.innerHTML=this.message;this.container.fade(this.opacity)},hide:function(){this.removeBar()},hideDesignatedMessage:function(B){if(B==this.message){this.removeBar()}},refreshLayout:function(){if(typeof (this.container)!="undefined"&&this.container!=null){var B=this.parentNode.offsetWidth-44;if(B>=0){this.container.style.width=this.parentNode.offsetWidth-44+"px"}}},CLASS_NAME:"Fusion.MapMessage"});Fusion.Event.MAP_LAYER_TOGGLED=Fusion.Event.lastEventId++;Fusion.Event.MAP_LAYER_ORDER_CHANGED=Fusion.Event.lastEventId++;Fusion.Event.LAYER_LOADED=Fusion.Event.lastEventId++;Fusion.Event.LAYER_LOADING=Fusion.Event.lastEventId++;Fusion.Event.LAYER_START_EDIT=Fusion.Event.lastEventId++;Fusion.Event.LAYER_STOP_EDIT=Fusion.Event.lastEventId++;Fusion.Event.LAYER_DATA_FILTER=Fusion.Event.lastEventId++;Fusion.Event.LAYER_DATA_RELOAD=Fusion.Event.lastEventId++;Fusion.Event.LAYER_DATA_ADD=Fusion.Event.lastEventId++;Fusion.Event.LAYER_DATA_DELETE=Fusion.Event.lastEventId++;Fusion.Layers=OpenLayers.Class(Fusion.Lib.EventMgr,{bSingleTile:null,bIsBaseLayer:false,bDisplayInLegend:true,bExpandInLegend:true,bMapLoaded:false,bIsMapWidgetLayer:true,bLayersReversed:false,sMapResourceId:null,sImageType:"png",clientAgent:"Fusion Viewer",noCache:false,_sMapTitle:null,_sMapname:null,supports:{query:false,edit:false},initialize:function(D,C,B){this.registerEventID(Fusion.Event.MAP_SELECTION_ON);this.registerEventID(Fusion.Event.MAP_SELECTION_OFF);this.registerEventID(Fusion.Event.MAP_LOADED);this.registerEventID(Fusion.Event.LAYER_LOADED);this.registerEventID(Fusion.Event.LAYER_LOADING);this.registerEventID(Fusion.Event.MAP_LAYER_ORDER_CHANGED);this.registerEventID(Fusion.Event.LAYER_PROPERTY_CHANGED);this.registerEventID(Fusion.Event.LAYER_START_EDIT);this.registerEventID(Fusion.Event.LAYER_STOP_EDIT);this.registerEventID(Fusion.Event.LAYER_DATA_FILTER);this.registerEventID(Fusion.Event.LAYER_DATA_RELOAD);this.registerEventID(Fusion.Event.LAYER_DATA_ADD);this.registerEventID(Fusion.Event.LAYER_DATA_DELETE);this.mapWidget=D;this.oSelection=null;if(B!=null){this.bIsMapWidgetLayer=B}this.mapTag=C;if(!this.mapTag.layerOptions){this.mapTag.layerOptions={}}this.ratio=this.mapTag.layerOptions.MapRatio?this.extension.MapRatio[0]:1;this.bSingleTile=C.singleTile;this.bIsBaseLayer=C.isBaseLayer;this.sMapResourceId=C.resourceId?C.resourceId:"";this.mapInfo=C.mapInfo;this.layerType=C.type;this.id=C.id},loadScaleRanges:function(B){if(B){B()}},getScale:function(){return this.mapWidget.getScale()},getMapName:function(){return this._sMapname},getMapTitle:function(){return this._sMapTitle},getMetadata:function(B){if(this.metadata&&typeof this.metadata[B]!="undefined"){return this.metadata[B]}else{return""}},isMapLoaded:function(){return this.bMapLoaded},getMaxExtent:function(){var B=null;if(this.oLayerOL){B=this.oLayerOL.maxExtent}return B},hasSelection:function(){return this.bSelectionOn},getSelectedFeatureCount:function(){var B=0;return B},getSelectedLayers:function(){var B=[];return B},getSelectableLayers:function(){var B=[];return B},setSelection:function(C,B){},getSelection:function(D,C,B){},clearSelection:function(){},query:function(B){},processLayerEvents:function(F,C){if(this.mapInfo&&this.mapInfo.mapEvents.layerEvents[F.layerName]){var H=this.mapInfo.mapEvents.layerEvents[F.layerName];var E=C?H.onEnable:H.onDisable;for(var D=0;D<E.length;D++){var I=E[D];if(I.type=="layer"){var B=this.layerRoot.findLayer(I.name);if(B){if(I.enable){B.show(true)}else{B.hide(true)}}}else{if(I.type=="group"){var G=this.layerRoot.findGroupByAttribute("groupName",I.name);if(G){if(I.enable){G.show(true)}else{G.hide(true)}}}}}}},processGroupEvents:function(G,C){if(this.mapInfo&&this.mapInfo.mapEvents.groupEvents[G.groupName]){var I=this.mapInfo.mapEvents.groupEvents[G.groupName];var E=C?I.onEnable:I.onDisable;for(var D=0;D<E.length;D++){var H=E[D];if(H.type=="layer"){var B=this.layerRoot.findLayer(H.name);if(B){if(H.enable){B.show(true)}else{B.hide(true)}}}else{if(H.type=="group"){var F=this.layerRoot.findGroupByAttribute("groupName",H.name);if(F){if(H.enable){F.show(true)}else{F.hide(true)}}}}}}},refreshLayer:function(B){this.drawMap()},setParameter:function(C,B){if(C=="SelectionType"){this.selectionType=B}},loadStart:function(){if(this.bIsMapWidgetLayer){this.mapWidget._addWorker()}},loadEnd:function(){if(this.bIsMapWidgetLayer){this.mapWidget._removeWorker()}},getGroupInfoUrl:function(D){if(this.mapInfo){var B=this.mapInfo.links.groups;for(var C=0;C<B.length;C++){if(B[C].name==D){return B[C].url}}}return null},getLayerInfoUrl:function(B){if(this.mapInfo){var D=this.mapInfo.links.layers;for(var C=0;C<D.length;C++){if(D[C].name==B){return D[C].url}}}return null},getMapTip:function(B){},startEditing:function(){},stopEditing:function(){}});Fusion.Event.GROUP_PROPERTY_CHANGED=Fusion.Event.lastEventId++;Fusion.Layers.Group=OpenLayers.Class(Fusion.Lib.EventMgr,{name:null,groups:null,layers:null,oMap:null,initialize:function(C,B){this.uniqueId=C.uniqueId;this.name=C.groupName;this.groups=[];this.layers=[];this.oMap=B;this.groupName=C.groupName;this.legendLabel=C.legendLabel;this.parentUniqueId=C.parentUniqueId;this.groupType=C.groupType;this.displayInLegend=C.displayInLegend;this.expandInLegend=C.expandInLegend;this.visible=C.visible;this.initiallyVisible=C.visible;this.actuallyVisible=C.actuallyVisible;this.isBaseMapGroup=C.isBaseMapGroup;this.registerEventID(Fusion.Event.GROUP_PROPERTY_CHANGED)},show:function(B){if(this.visible){return }this.oMap.showGroup(this,B?true:false);this.set("visible",true);if(this.legend&&this.legend.treeItem&&this.legend.treeItem.checkBox){this.legend.treeItem.checkBox.checked=true}},hide:function(B){if(!this.visible){return }this.oMap.hideGroup(this,B?true:false);this.set("visible",false);if(this.legend&&this.legend.treeItem&&this.legend.treeItem.checkBox){this.legend.treeItem.checkBox.checked=false}},isVisible:function(){return this.visible},clear:function(){for(var B=0;B<this.groups.length;B++){this.groups[B].clear()}for(var B=0;B<this.layers.length;B++){this.layers[B].clear()}this.groups=[];this.layers=[]},set:function(C,B){this[C]=B;this.triggerEvent(Fusion.Event.GROUP_PROPERTY_CHANGED,this)},addGroup:function(C,B){C.parentGroup=this;if(B){this.groups.unshift(C)}else{this.groups.push(C)}},addLayer:function(C,B){C.parentGroup=this;if(B){this.layers.unshift(C)}else{this.layers.push(C)}},findGroup:function(B){return this.findGroupByAttribute("uniqueId",B)},findGroupByAttribute:function(C,D){if(this[C]==D){return this}for(var B=0;B<this.groups.length;B++){var E=this.groups[B].findGroupByAttribute(C,D);if(E){return E}}return null},findLayer:function(B){return this.findLayerByAttribute("name",B)},findLayerByAttribute:function(D,E){for(var C=0;C<this.layers.length;C++){if(this.layers[C][D]==E){return this.layers[C]}}for(var C=0;C<this.groups.length;C++){var B=this.groups[C].findLayerByAttribute(D,E);if(B){return B}}return null},deleteLayer:function(C){for(var B=0;B<this.layers.length;B++){if(this.layers[B]["uniqueId"]==C){this.layers.splice(B,1)}}for(var B=0;B<this.groups.length;B++){this.groups[B].deleteLayer(C)}}});Fusion.Event.LAYER_PROPERTY_CHANGED=Fusion.Event.lastEventId++;Fusion.Layers.Layer=OpenLayers.Class(Fusion.Lib.EventMgr,{name:null,scaleRanges:null,oMap:null,initialize:function(E,B){this.oMap=B;this.layerName=E.layerName;this.uniqueId=E.uniqueId;this.resourceId=E.resourceId;this.selectedFeatureCount=0;this.layerTypes=[].concat(E.layerTypes);this.legendLabel=E.legendLabel;this.displayInLegend=E.displayInLegend;this.expandInLegend=E.expandInLegend;this.actuallyVisible=E.actuallyVisible;this.statusDefault=E.statusdefault;this.feature=OpenLayers.Util.extend({},E.feature);this.attribute=OpenLayers.Util.extend({},E.attribute);this.editable=this.feature.create||this.feature.update||this.feature.del||this.attribute.create||this.attribute.update||this.attribute.del;this.isEditing=false;this.visible=E.visible;this.initiallyVisible=E.visible;this.selectable=E.selectable;this.metadata=E.metadata?E.metadata:{};this.isBaseMapLayer=E.isBaseMapLayer;this.layerType=null;if(this.supportsType(Fusion.Constant.LAYER_RASTER_TYPE)){this.layerType=Fusion.Constant.LAYER_RASTER_TYPE}else{if(this.supportsType(Fusion.Constant.LAYER_DWF_TYPE)){this.layerType=Fusion.Constant.LAYER_DWF_TYPE}}this.parentGroup=E.parentGroup;this.minScale=E.minScale;this.maxScale=E.maxScale;if(this.maxScale=="infinity"){this.maxScale=1000000000000}this.scaleRanges=[];if(E.scaleRanges){for(var C=0;C<E.scaleRanges.length;C++){var D=new Fusion.Layers.ScaleRange(E.scaleRanges[C],this.layerType);this.scaleRanges.push(D)}}},supportsType:function(C){for(var B=0;B<this.layerTypes.length;B++){if(this.layerTypes[B]==C){return true}}return false},getScaleRange:function(B){for(var C=0;C<this.scaleRanges.length;C++){if(this.scaleRanges[C].contains(B)){return this.scaleRanges[C]}}return null},show:function(B){if(this.visible){return }this.set("visible",true);this.oMap.showLayer(this,B?true:false);if(this.legend&&this.legend.treeItem&&this.legend.treeItem.checkBox){this.legend.treeItem.checkBox.checked=true}},hide:function(B){if(!this.visible){return }this.set("visible",false);this.oMap.hideLayer(this,B?true:false);if(this.legend&&this.legend.treeItem&&this.legend.treeItem.checkBox){this.legend.treeItem.checkBox.checked=false}},isVisible:function(){return this.visible},clear:function(){},set:function(C,B){this[C]=B;this.oMap.triggerEvent(Fusion.Event.LAYER_PROPERTY_CHANGED,this)},startEditing:function(){if(this.oMap.supports.edit&&this.editable&&!this.isEditing){this.isEditing=true;this.oMap.triggerEvent(Fusion.Event.LAYER_START_EDIT,this)}},stopEditing:function(){if(this.oMap.supports.edit&&this.editable&&this.isEditing){this.isEditing=false;this.oMap.triggerEvent(Fusion.Event.LAYER_STOP_EDIT,this)}},hasWFSConnection:function(){return this.metadata.wfs_onlineresource!=undefined&&this.metadata.wfs_onlineresource!=""},getWFSConnection:function(E){var D=this;if(this.hasWFSConnection()){if(!this.wfsConnection){var B=this.metadata.wfs_version||"1.1.0";var C=this.metadata.wfs_typename||this.name;OpenLayers.Request.GET({url:this.metadata.wfs_onlineresource,params:{service:"WFS",version:B,request:"GetCapabilities"},callback:function(H){var G=new OpenLayers.Format.WFSCapabilities();var F=G.read(H.responseText);OpenLayers.Request.GET({url:D.metadata.wfs_onlineresource,params:{service:"WFS",version:B,request:"DescribeFeatureType",typename:C},callback:function(I){if(I.status==200){var L=new OpenLayers.Format.WFSDescribeFeatureType();var J=L.read(I.responseText);if(J.featureTypes.length){var M=J.featureTypes[0].properties;D.metadata.wfs_properties=M;if(!D.metadata.wfs_geometry){for(var K=0;K<M.length;K++){var N=M[K];if(N.localType=="GeometryPropertyType"){D.metadata.wfs_geometry=N.name;D.metadata.wfs_geometrytype=N.type;break}}}D.wfsConnection=new OpenLayers.Protocol.WFS({url:D.metadata.wfs_onlineresource,version:B,featureType:C,geometryName:D.metadata.wfs_geometry,srsName:D.oMap.oLayerOL.projection?D.oMap.oLayerOL.projection.getCode():"4326"})}}if(E){E.apply(null,[D.wfsConnection])}}})}})}else{if(E){E.apply(null,[this.wfsConnection])}}}}});Fusion.Layers.ScaleRange=OpenLayers.Class({styles:null,initialize:function(G,C,F){this.minScale=G.minScale;this.maxScale=G.maxScale;this.isCompressed=G.isCompressed;if(this.maxScale=="infinity"||this.maxScale=="auto"){this.maxScale=Infinity}this.styles=[];if(!G.styles){var E=new Fusion.Layers.StyleItem({legendLabel:F.label},C,F);this.styles.push(E);return }var D=G.styles.length>1?false:C;for(var B=0;B<G.styles.length;B++){var E=new Fusion.Layers.StyleItem(G.styles[B],D,F);if(G.styles[B].imageData){E.iconOpt={url:G.styles[B].imageData,width:F.width,height:F.height}}this.styles.push(E)}},contains:function(B){var C=Math.round(B);return C>=this.minScale&&C<=this.maxScale}});Fusion.Layers.StyleItem=OpenLayers.Class({clientAgent:"Fusion Viewer",initialize:function(D,B,C){this.iconOpt=C;this.iconX=D.icon_x||0;this.iconY=D.icon_y||0;this.legendLabel=D.legendLabel;this.filter=D.filter;this.geometryType=D.geometryType;if(this.geometryType==""){this.geometryType=-1}this.categoryIndex=D.categoryIndex;if(this.categoryindex==""){this.categoryindex=-1}this.index=D.index;this.staticIcon=B}});Fusion.Strings.en={scriptFailed:"failed to load script: ${script}",configParseError:"Error parsing fusion configuration file, initialization aborted",configLoadError:"Error loading fusion configuration file, initialization aborted.Make sure that you have copied config_dist.json to config.json and have configured the settings for your system",ajaxError:"Exception occurred in AJAX callback.\nMessage: ${exception}\nLocation: ${filename} (${line})\nResponse: ${response}",importFailed:"failed to import stylesheet: ${url}",serverNotAvailable:"<h2>Server not available. Try to reload the application. If this problem persists, please contact the administrator</h2>",invalidXMLDocument:"xml2json: invalid XML document: ${msg} : ${url}",registerEventError:"Error registering eventID, invalid (empty) eventID.",appDefLoadFailed:"failed to load: ${script}",appDefParseError:"failed to parse ApplicationDefinition",widgetSetParseError:"failed to parse the WidgetSet",fusionError:"Fusion Error: ${type}\n${message}",nullExtents:"Map.setExtents called with null extents",mapLoadError:"Failed to load requested map:\n${error}",setLayersError:"setLayers failure: ${error}",printTitle:"Printable Page ",noSelection:"No features selected",selectionInfo:"${features} feature(s) selected on ${layers} layer(s)",attribute:"Attribute",value:"Value",stop:"Stop",taskHome:"return to the task pane home",prevTask:"go to previous task executed",nextTask:"go to next task executed",taskList:"Task List",taskPane:"Task Pane",imperial:"Imperial",metric:"Metric",deg:"Degrees",refresh:"Refresh",expandAll:"Expand All",expand:"Expand",expandTheme:"Expand Theme",otherThemeItems:"... (${count} other styles)",expandCompressedThemeConfirmation:"Expand this theme?",collapseAll:"Collapse All",collapse:"Collapse",defaultMapTitle:"Map",legendTitle:"Legend",selectionPanelTitle:"Selection",ovmapTitle:"Overview Map",ovmapTitleShort:"Overview",taskPaneTitle:"Tasks",segment:"Segment ${seg}",calculating:"calculating ...",panWest:"Pan West",panEast:"Pan East",panSouth:"Pan South",panNorth:"Pan North",zoomOut:"Zoom Out",zoomIn:"Zoom In",printCancel:"Cancel",printGenerate:"Generate",zoomRect:"Zoom Rectangle",maptipLinkText:"Click for more information",redlineLayerName:"Digitizing Layer ",printShowTitle:"Show Title?",printOptions:"Options",printTitleText:"Title",printShowLegend:"Show Legend?",printShowNorthArrow:"Show North Arrow?",quickPlotResolutionWarning:"The current settings exceed the map resolution. Zooming out or increasing the scaling will help create a more legible plot",googleSteetViewCSTransformError:"The CS of Current Map Cannot be transformed to EPSG:4326, which will result in Google Street View fail!",googleSteetViewNotAvailableError:"The Service of Google Street View may not available in this specific location!",googleBaseMapNotOnError:"To use Google Street Viewer, the Google Base Map must be turned on!",noCommercialMapLayers:"NONE",googleStreet:"Google Street",googleSatellite:"Google Satellite",googleTerrain:"Google Terrain",googleHybrid:"Google Hybrid",yahooStreet:"Yahoo Street",yahooSatellite:"Yahoo Satellite",yahooHybrid:"Yahoo Hybrid",bingStreet:"Bing Street",bingSatellite:"Bing Satellite",bingHybrid:"Bing Hybrid",openStreetMap:"Open Street Map",openStreetMapTransportMap:"Open Street Map (TransportMap)",openStreetMapCycleMap:"Open Street Map (CycleMap)",end:"",measureInProgress:"Measurement is currently in progress",selectPolygonPrompt:"Click to add a vertex to the selection polygon. Double click to complete the polygon and select all features with it",selectRadiusPrompt:"Click and drag to the desired radius to select"};OpenLayers.Lang.ar=OpenLayers.Util.applyDefaults({Permalink:" ","Base Layer":" ","Scale = 1 : ${scaleDenom}":" = 1 : ${scaleDenom}",W:"",E:"",N:"",S:""});OpenLayers.Lang["be-tarask"]=OpenLayers.Util.applyDefaults({unhandledRequest:"   ${statusText}",Permalink:" ",Overlays:"","Base Layer":" ",noFID:"  ,     FID.",browserNotSupported:"     .    : ${renderers}",minZoomLevelError:" minZoomLevel         FixedZoomLevels. ,    wfs-   minZoomLevel   .       ,         OL .   ,  minZoomLevel     3.0.  ,     / ,   : http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS-:  ${response}",commitFailed:"WFS-:  ${response}",googleWarning:"    Google. \x3cbr\x3e\x3cbr\x3e   ,          .\x3cbr\x3e\x3cbr\x3e   ,   ,    Google Maps        API-   .\x3cbr\x3e\x3cbr\x3e:  ,     ,   , \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3e \x3c/a\x3e",getLayerWarning:"   ${layerType}.\x3cbr\x3e\x3cbr\x3e   ,          .\x3cbr\x3e\x3cbr\x3e  ,   ,    ${layerLib}    .\x3cbr\x3e\x3cbr\x3e:  ,     ,   , \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3e \x3c/a\x3e","Scale = 1 : ${scaleDenom}":" = 1 : ${scaleDenom}",W:"",E:"",N:"",S:"",reprojectDeprecated:"   'reproject'   ${layerName}.    :          ,           .     http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"        3.0.  ,    ${newMethod}."});OpenLayers.Lang.bg=OpenLayers.Util.applyDefaults({Permalink:" ","Base Layer":" ","Scale = 1 : ${scaleDenom}":" = 1 : ${scaleDenom}",methodDeprecated:"         3.0.    ${newMethod}."});OpenLayers.Lang.br=OpenLayers.Util.applyDefaults({unhandledRequest:"Distro evel reked anveret ${statusText}",Permalink:"Peurliamm",Overlays:"Gwiskado","Base Layer":"Gwiskad diazez",noFID:"N'haller ket hizivaat un elfenn ma n'eus ket a niverenn-anaout (FID) eviti.",browserNotSupported:"N'eo ket skoret an daskor vektorel gant ho merdeer. Setu aze an daskorerio skoret evit ar poent :\n${renderers}",minZoomLevelError:"Ne zleer implijout ar perzh minZoomLevel nemet evit gwiskado FixedZoomLevels-descendent. Ar fed ma wiria ar gwiskad WHS-se hag-e ez eus eus minZoomLevel zo un aspadenn gozh. Koulskoude n'omp ket evit e ziverka kuit da derri arloado diazezet war OL a c'hallfe beza stag outa. Setu perak eo dispredet -- Lamet kuit e vo ar gwiria minZoomLevel a-is er stumm 3.0. Ober gant an arventenno bihana/brasa evel deskrivet ama e plas : http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Treuzgread WFS : MAT EO ${response}",commitFailed:"Treuzgread WFS Transaction: C'HWITET ${response}",googleWarning:"N'eus ket bet gallet karga ar gwiskad Google ent reizh.\x3cbr\x3e\x3cbr\x3eEvit en em zizober eus ar c'hemenn-ma, dibabit ur BaseLayer nevez en diuzer gwiskado er c'horn deho el laez.\x3cbr\x3e\x3cbr\x3eSur a-walc'h eo peogwir n'eo ket bet ensoc'het levraoueg Google Maps pe neuze ne glot ket an alc'hwez API gant ho lec'hienn.\x3cbr\x3e\x3cbr\x3eDiorroerien : Evit reizha an dra-se, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eclick here\x3c/a\x3e",getLayerWarning:"N'haller ket karga ar gwiskad ${layerType} ent reizh.\x3cbr\x3e\x3cbr\x3eEvit en em zizober eus ar c'hemenn-ma, dibabit ur BaseLayer nevez en diuzer gwiskado er c'horn deho el laez.\x3cbr\x3e\x3cbr\x3eSur a-walc'h eo peogwir n'eo ket bet ensoc'het mat al levraoueg ${layerLib}.\x3cbr\x3e\x3cbr\x3eDiorroerien : Evit gouzout penaos reizha an dra-se, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eclick here\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Skeul = 1 : ${scaleDenom}",W:"K",E:"R",N:"N",S:"S",reprojectDeprecated:"Emaoc'h oc'h implijout an dibarzh 'reproject' war ar gwiskad ${layerName}. Dispredet eo an dibarzh-ma : bet eo hag e talveze da ziskwel roadenno war-c'horre kartenno diazez kenwerzhel, un dra hag a c'haller ober brema gant an arc'hwel dre skor banndres boullek Mercator. Muioc'h a ditouro a c'haller da gaout war http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Dispredet eo an daore-se ha tennet e vo kuit eus ar stumm 3.0. Grit gant ${newMethod} e plas."});OpenLayers.Lang.ca={unhandledRequest:"Resposta a petici no gestionada ${statusText}",Permalink:"Enlla permanent",Overlays:"Capes addicionals","Base Layer":"Capa Base",noFID:"No es pot actualitzar un element per al que no existeix FID.",browserNotSupported:"El seu navegador no suporta renderitzaci vectorial. Els renderitzadors suportats actualment sn:\n${renderers}",minZoomLevelError:"La propietat minZoomLevel s'ha d'utilitzar noms amb les capes que tenen FixedZoomLevels. El fet que una capa wfs comprovi minZoomLevel s una relquia del passat. No podem, per, eliminar-la sense trencar les aplicacions d'OpenLayers que en puguin dependre. Aix doncs estem fent-la obsoleta -- la comprovaci minZoomLevel s'eliminar a la versi 3.0. Feu servir els parmetres min/max resolution en substituci, tal com es descriu aqu: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transacci WFS: CORRECTA ${response}",commitFailed:"Transacci WFS: HA FALLAT ${response}",googleWarning:"La capa Google no s'ha pogut carregar correctament.<br><br>Per evitar aquest missatge, seleccioneu una nova Capa Base al gestor de capes de la cantonada superior dreta.<br><br>Probablement aix s degut a que l'script de la biblioteca de Google Maps no ha estat incls a la vostra pgina, o no cont la clau de l'API correcta per a la vostra adrea.<br><br>Desenvolupadors: Per obtenir consells sobre com fer anar aix, <a href='http://trac.openlayers.org/wiki/Google' target='_blank'>fu clic aqu</a>",getLayerWarning:"Per evitar aquest missatge, seleccioneu una nova Capa Base al gestor de capes de la cantonada superior dreta.<br><br>Probablement aix s degut a que l'script de la biblioteca ${layerLib} no ha estat incls a la vostra pgina.<br><br>Desenvolupadors: Per obtenir consells sobre com fer anar aix, <a href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'>fu clic aqu</a>","Scale = 1 : ${scaleDenom}":"Escala = 1 : ${scaleDenom}",W:"O",E:"E",N:"N",S:"S",Graticule:"Retcula",reprojectDeprecated:"Esteu fent servir l'opci 'reproject' a la capa ${layerName}. Aquesta opci s obsoleta: el seu s fou concebut per suportar la visualitzaci de dades sobre mapes base comercials, per ara aquesta funcionalitat s'hauria d'assolir mitjanant el suport de la projecci Spherical Mercator. Ms informaci disponible a http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Aquest mtode s obsolet i s'eliminar a la versi 3.0. Si us plau feu servir em mtode alternatiu ${newMethod}.",end:""};OpenLayers.Lang["cs-CZ"]=OpenLayers.Util.applyDefaults({unhandledRequest:"Nezpracovan nvratov hodnota ${statusText}",Permalink:"Trval odkaz",Overlays:"Pekryvn vrstvy","Base Layer":"Podkladov vrstvy",noFID:"Nelze aktualizovat prvek, pro kter neexistuje FID.",browserNotSupported:"V prohle nepodporuje vykreslovn vektor. Momentln podporovan nstroje jsou::\n${renderers}",minZoomLevelError:"Vlastnost minZoomLevel by se mla pouvat pouze s potomky FixedZoomLevels vrstvami. To znamen, e vrstva wfs kontroluje, zda-li minZoomLevel nen zbytek z minulosti.Nelze to ovem vyjmout bez monosti, e bychom rozbili aplikace postaven na OL, kter by na tom mohly zviset. Proto tuto vlastnost nedoporuujeme pouvat --  kontrola minZoomLevel bude odstranna ve verzi 3.0. Pouijte prosm radji nastaven min/max podle pkaldu popsanho na: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS Transaction: SPCH ${response}",commitFailed:"WFS Transaction: CHYBA ${response}",googleWarning:"Nepodailo se sprvn nast vrstvu Google.\x3cbr\x3e\x3cbr\x3eAbyste se zbavili tto zprvy, zvolte jinou zkladn vrstvu v pepnai vrstev.\x3cbr\x3e\x3cbr\x3eTo se vtinou stv, pokud nebyl naten skript, nebo neobsahuje sprvn kl pro API pro tuto strnku.\x3cbr\x3e\x3cbr\x3eVvoji: Pro pomoc, aby tohle fungovalo , \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3ekliknte sem\x3c/a\x3e",getLayerWarning:"The ${layerType} Layer was unable to load correctly.\x3cbr\x3e\x3cbr\x3eTo get rid of this message, select a new BaseLayer in the layer switcher in the upper-right corner.\x3cbr\x3e\x3cbr\x3eMost likely, this is because the ${layerLib} library script was either not correctly included.\x3cbr\x3e\x3cbr\x3eDevelopers: For help getting this working correctly, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eclick here\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Mtko = 1 : ${scaleDenom}",reprojectDeprecated:"Pouil jste volbu 'reproject' ve vrstv ${layerName}. Tato volba nen doporuen: byla zde proto, aby bylo mono zobrazovat data z okomernch server, ale tato funkce je nyn zajitna pomoc podpory Spherical Mercator. Vce informac naleznete na http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Tato metoda je zavren a bude ve verzi 3.0 odstranna. Prosm, pouijte radji ${newMethod}."});OpenLayers.Lang["da-DK"]={unhandledRequest:"En ikke hndteret foresprgsel returnerede ${statusText}",Permalink:"Permalink",Overlays:"Kortlag","Base Layer":"Baggrundslag",noFID:"Kan ikke opdateret en feature (et objekt) der ikke har et FID.",browserNotSupported:"Din browser understtter ikke vektor visning. Flgende vektor visninger understttes:\n${renderers}",minZoomLevelError:"Egenskaben minZoomLevel er kun beregnet til brug med FixedZoomLevels. At dette WFS lag kontrollerer minZoomLevel egenskaben, er et levn fra en tidligere version. Vi kan desvrre ikke fjerne dette uden at risikere at delgge eksisterende OL baserede programmer der  benytter denne funktionalitet. Egenskaben br derfor ikke anvendes, og minZoomLevel kontrollen herunder vil blive fjernet i version 3.0. Benyt istedet min/max oplsnings indstillingerne, som er beskrevet her: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS transaktion: LYKKEDES ${response}",commitFailed:"WFS transaktion: MISLYKKEDES ${response}",googleWarning:"Google laget kunne ikke indlses.<br><br>For at fjerne denne besked, vlg et nyt bagrundskort i lagskifteren i verste hjre hjrne.<br><br>Fejlen skyldes formentlig at Google Maps bibliotekts scriptet ikke er inkluderet, eller ikke indeholder den korrkte API ngle for dit site.<br><br>Udviklere: For hjlp til at f dette til at fungere, <a href='http://trac.openlayers.org/wiki/Google' target='_blank'>klik her</a>",getLayerWarning:"${layerType}-laget kunne ikke indlses.<br><br>For at fjerne denne besked, vlg et nyt bagrundskort i lagskifteren i verste hjre hjrne.<br><br>Fejlen skyldes formentlig at ${layerLib} bibliotekts scriptet ikke er inkluderet.<br><br>Udviklere: For hjlp til at f dette til at fungere, <a href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'>klik her</a>","Scale = 1 : ${scaleDenom}":"Mlforhold = 1 : ${scaleDenom}",reprojectDeprecated:"Du anvender indstillingen 'reproject' p laget ${layerName}.Denne indstilling br ikke lngere anvendes. Den var beregnet til at vise data ovenp kommercielle grundkort, men den funktionalitet br nu opns ved at anvende Spherical Mercator understttelsen. Mere information er tilgngelig her: http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Denne funktion br ikke lngere anvendes, og vil blive fjernet i version 3.0. Anvend venligst funktionen ${newMethod} istedet."};OpenLayers.Lang.de=OpenLayers.Util.applyDefaults({unhandledRequest:"Unbehandelte Anfragerckmeldung ${statusText}",Permalink:"Permalink",Overlays:"Overlays","Base Layer":"Grundkarte",noFID:"Ein Feature, fr das keine FID existiert, kann nicht aktualisiert werden.",browserNotSupported:"Ihr Browser untersttzt keine Vektordarstellung. Aktuell untersttzte Renderer:\n${renderers}",minZoomLevelError:"Die \x3ccode\x3eminZoomLevel\x3c/code\x3e-Eigenschaft ist nur fr die Verwendung mit \x3ccode\x3eFixedZoomLevels\x3c/code\x3e-untergeordneten Layers vorgesehen. Das dieser \x3ctt\x3ewfs\x3c/tt\x3e-Layer die \x3ccode\x3eminZoomLevel\x3c/code\x3e-Eigenschaft berprft ist ein Relikt der Vergangenheit. Wir knnen diese berprfung nicht entfernen, ohne das OL basierende Applikationen nicht mehr funktionieren. Daher markieren wir es als veraltet - die \x3ccode\x3eminZoomLevel\x3c/code\x3e-berprfung wird in Version 3.0 entfernt werden. Bitte verwenden Sie stattdessen die Min-/Max-Lsung, wie sie unter http://trac.openlayers.org/wiki/SettingZoomLevels beschrieben ist.",commitSuccess:"WFS-Transaktion: Erfolgreich ${response}",commitFailed:"WFS-Transaktion: Fehlgeschlagen ${response}",googleWarning:"Der Google-Layer konnte nicht korrekt geladen werden.\x3cbr\x3e\x3cbr\x3eUm diese Meldung nicht mehr zu erhalten, whlen Sie einen anderen Hintergrundlayer aus dem LayerSwitcher in der rechten oberen Ecke.\x3cbr\x3e\x3cbr\x3eSehr wahrscheinlich tritt dieser Fehler auf, weil das Skript der Google-Maps-Bibliothek nicht eingebunden wurde oder keinen gltigen API-Schlssel fr Ihre URL enthlt.\x3cbr\x3e\x3cbr\x3eEntwickler: Besuche \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3edas Wiki\x3c/a\x3e fr Hilfe zum korrekten Einbinden des Google-Layers",getLayerWarning:"Der ${layerType}-Layer konnte nicht korrekt geladen werden.\x3cbr\x3e\x3cbr\x3eUm diese Meldung nicht mehr zu erhalten, whlen Sie einen anderen Hintergrundlayer aus dem LayerSwitcher in der rechten oberen Ecke.\x3cbr\x3e\x3cbr\x3eSehr wahrscheinlich tritt dieser Fehler auf, weil das Skript der '${layerLib}'-Bibliothek nicht eingebunden wurde.\x3cbr\x3e\x3cbr\x3eEntwickler: Besuche \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3edas Wiki\x3c/a\x3e fr Hilfe zum korrekten Einbinden von Layern","Scale = 1 : ${scaleDenom}":"Mastab = 1 : ${scaleDenom}",W:"W",E:"O",N:"N",S:"S",reprojectDeprecated:"Sie verwenden die Reproject-Option des Layers ${layerName}. Diese Option ist veraltet: Sie wurde entwickelt um die Anzeige von Daten auf kommerziellen Basiskarten zu untersttzen, aber diese Funktion sollte jetzt durch Untersttzung der Spherical Mercator erreicht werden. Weitere Informationen sind unter http://trac.openlayers.org/wiki/SphericalMercator verfgbar.",methodDeprecated:"Die Methode ist veraltet und wird in 3.0 entfernt. Bitte verwende stattdessen ${newMethod}."});OpenLayers.Lang.el=OpenLayers.Util.applyDefaults({"Scale = 1 : ${scaleDenom}":" ~ 1 : ${scaleDenom}"});OpenLayers.Lang["en-CA"]=OpenLayers.Util.applyDefaults({},OpenLayers.Lang.en);OpenLayers.Lang.en={unhandledRequest:"Unhandled request return ${statusText}",Permalink:"Permalink",Overlays:"Overlays","Base Layer":"Base Layer",noFID:"Can't update a feature for which there is no FID.",browserNotSupported:"Your browser does not support vector rendering. Currently supported renderers are:\n${renderers}",minZoomLevelError:"The minZoomLevel property is only intended for use with the FixedZoomLevels-descendent layers. That this wfs layer checks for minZoomLevel is a relic of thepast. We cannot, however, remove it without possibly breaking OL based applications that may depend on it. Therefore we are deprecating it -- the minZoomLevel check below will be removed at 3.0. Please instead use min/max resolution setting as described here: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS Transaction: SUCCESS ${response}",commitFailed:"WFS Transaction: FAILED ${response}",googleWarning:"The Google Layer was unable to load correctly.<br><br>To get rid of this message, select a new BaseLayer in the layer switcher in the upper-right corner.<br><br>Most likely, this is because the Google Maps library script was either not included, or does not contain the correct API key for your site.<br><br>Developers: For help getting this working correctly, <a href='http://trac.openlayers.org/wiki/Google' target='_blank'>click here</a>",getLayerWarning:"The ${layerType} Layer was unable to load correctly.<br><br>To get rid of this message, select a new BaseLayer in the layer switcher in the upper-right corner.<br><br>Most likely, this is because the ${layerLib} library script was not correctly included.<br><br>Developers: For help getting this working correctly, <a href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'>click here</a>","Scale = 1 : ${scaleDenom}":"Scale = 1 : ${scaleDenom}",W:"W",E:"E",N:"N",S:"S",Graticule:"Graticule",reprojectDeprecated:"You are using the 'reproject' option on the ${layerName} layer. This option is deprecated: its use was designed to support displaying data over commercial basemaps, but that functionality should now be achieved by using Spherical Mercator support. More information is available from http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"This method has been deprecated and will be removed in 3.0. Please use ${newMethod} instead.",proxyNeeded:"You probably need to set OpenLayers.ProxyHost to access ${url}.See http://trac.osgeo.org/openlayers/wiki/FrequentlyAskedQuestions#ProxyHost",end:""};OpenLayers.Lang.es={unhandledRequest:"Respuesta a peticin no gestionada ${statusText}",Permalink:"Enlace permanente",Overlays:"Capas superpuestas","Base Layer":"Capa Base",noFID:"No se puede actualizar un elemento para el que no existe FID.",browserNotSupported:"Su navegador no soporta renderizacin vectorial. Los renderizadores soportados actualmente son:\n${renderers}",minZoomLevelError:"La propiedad minZoomLevel debe slo utilizarse con las capas que tienen FixedZoomLevels. El hecho de que una capa wfs compruebe minZoomLevel es una reliquia del pasado. Sin embargo, no podemos eliminarla sin discontinuar probablemente las aplicaciones OL que puedan depender de ello. As pues estamos hacindolo obsoleto --la comprobacin minZoomLevel se eliminar en la versin 3.0. Utilice el ajuste de resolution min/max en su lugar, tal como se describe aqu: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transaccin WFS: XITO ${response}",commitFailed:"Transaccin WFS: FALL ${response}",googleWarning:"La capa Google no pudo ser cargada correctamente.<br><br>Para evitar este mensaje, seleccione una nueva Capa Base en el selector de capas en la esquina superior derecha.<br><br>Probablemente, esto se debe a que el script de la biblioteca de Google Maps no fue correctamente incluido en su pgina, o no contiene la clave del API correcta para su sitio.<br><br>Desarrolladores: Para ayudar a hacer funcionar esto correctamente, <a href='http://trac.openlayers.org/wiki/Google' target='_blank'>haga clic aqu</a>",getLayerWarning:"La capa ${layerType} no pudo ser cargada correctamente.<br><br>Para evitar este mensaje, seleccione una nueva Capa Base en el selector de capas en la esquina superior derecha.<br><br>Probablemente, esto se debe a que el script de la biblioteca ${layerLib} no fue correctamente incluido en su pgina.<br><br>Desarrolladores: Para ayudar a hacer funcionar esto correctamente, <a href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'>haga clic aqu</a>","Scale = 1 : ${scaleDenom}":"Escala = 1 : ${scaleDenom}",W:"O",E:"E",N:"N",S:"S",Graticule:"Retcula",reprojectDeprecated:"Est usando la opcin 'reproject' en la capa ${layerName}. Esta opcin es obsoleta: su uso fue diseado para soportar la visualizacin de datos sobre mapas base comerciales, pero ahora esa funcionalidad debera conseguirse mediante el soporte de la proyeccin Spherical Mercator. Ms informacin disponible en http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Este mtodo es obsoleto y se eliminar en la versin 3.0. Por favor utilice el mtodo ${newMethod} en su lugar.",end:""};OpenLayers.Lang.fi=OpenLayers.Util.applyDefaults({Permalink:"Ikilinkki",Overlays:"Kerrokset","Base Layer":"Peruskerros",W:"L",E:"I",N:"P",S:"E"});OpenLayers.Lang.fr=OpenLayers.Util.applyDefaults({unhandledRequest:"Requte non gre, retournant ${statusText}",Permalink:"Permalien",Overlays:"Calques","Base Layer":"Calque de base",noFID:"Impossible de mettre  jour un objet sans identifiant (fid).",browserNotSupported:"Votre navigateur ne supporte pas le rendu vectoriel. Les renderers actuellement supports sont : \n${renderers}",minZoomLevelError:"La proprit minZoomLevel doit seulement tre utilise pour des couches FixedZoomLevels-descendent. Le fait que cette couche WFS vrifie la prsence de minZoomLevel est une relique du pass. Nous ne pouvons toutefois la supprimer sans casser des applications qui pourraient en dpendre. C'est pourquoi nous la dprcions -- la vrification du minZoomLevel sera supprime en version 3.0. A la place, merci d'utiliser les paramtres de rsolutions min/max tel que dcrit sur : http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transaction WFS : SUCCES ${response}",commitFailed:"Transaction WFS : ECHEC ${response}",googleWarning:"La couche Google n'a pas t en mesure de se charger correctement.\x3cbr\x3e\x3cbr\x3ePour supprimer ce message, choisissez une nouvelle BaseLayer dans le slecteur de couche en haut  droite.\x3cbr\x3e\x3cbr\x3eCela est possiblement caus par la non-inclusion de la librairie Google Maps, ou alors parce que la cl de l'API ne correspond pas  votre site.\x3cbr\x3e\x3cbr\x3eDveloppeurs : pour savoir comment corriger ceci, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3ecliquez ici\x3c/a\x3e",getLayerWarning:"La couche ${layerType} n'est pas en mesure de se charger correctement.\x3cbr\x3e\x3cbr\x3ePour supprimer ce message, choisissez une nouvelle BaseLayer dans le slecteur de couche en haut  droite.\x3cbr\x3e\x3cbr\x3eCela est possiblement caus par la non-inclusion de la librairie ${layerLib}.\x3cbr\x3e\x3cbr\x3eDveloppeurs : pour savoir comment corriger ceci, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3ecliquez ici\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Echelle ~ 1 : ${scaleDenom}",W:"O",E:"E",N:"N",S:"S",reprojectDeprecated:"Vous utilisez l'option 'reproject' sur la couche ${layerName}. Cette option est dprcie : Son usage permettait d'afficher des donnes au dessus de couches raster commerciales.Cette fonctionalit est maintenant supporte en utilisant le support de la projection Mercator Sphrique. Plus d'information est disponible sur http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Cette mthode est dprcie, et sera supprime  la version 3.0. Merci d'utiliser ${newMethod}  la place.",proxyNeeded:"Vous avez trs probablement besoin de renseigner OpenLayers.ProxyHost pour accder  ${url}. Voir http://trac.osgeo.org/openlayers/wiki/FrequentlyAskedQuestions#ProxyHost"});OpenLayers.Lang.fur=OpenLayers.Util.applyDefaults({Permalink:"Leam Permanent",Overlays:"Livei parsore","Base Layer":"Livel di base",browserNotSupported:"Il to sgarfadr nol supuarte la renderizazion vetoril. Al moment a son supuartts:\n${renderers}","Scale = 1 : ${scaleDenom}":"Scjale = 1 : ${scaleDenom}",W:"O",E:"E",N:"N",S:"S"});OpenLayers.Lang.gl=OpenLayers.Util.applyDefaults({unhandledRequest:"Solicitude non xerada; a resposta foi: ${statusText}",Permalink:"Ligazn permanente",Overlays:"Capas superpostas","Base Layer":"Capa base",noFID:"Non se pode actualizar a funcionalidade para a que non hai FID.",browserNotSupported:"O seu navegador non soporta a renderizacin de vectores. Os renderizadores soportados actualmente son:\n${renderers}",minZoomLevelError:"A propiedade minZoomLevel  s para uso conxuntamente coas capas FixedZoomLevels-descendent. O feito de que esa capa wfs verifique o minZoomLevel  unha reliquia do pasado. Non podemos, con todo, eliminala sen a posibilidade de non romper as aplicacins baseadas en OL que poidan depender dela. Por iso a estamos deixando obsoleta (a comprobacin minZoomLevel de embaixo ser eliminada na versin 3.0). Por favor, no canto diso use o axuste de resolucin mn/mx tal e como est descrito aqu: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transaccin WFS: XITO ${response}",commitFailed:"Transaccin WFS: FALLIDA ${response}",googleWarning:"A capa do Google non puido cargarse correctamente.\x3cbr\x3e\x3cbr\x3ePara evitar esta mensaxe, escolla unha nova capa base no seleccionador de capas na marxe superior dereita.\x3cbr\x3e\x3cbr\x3eProbablemente, isto acontece porque a escritura da librara do Google Maps ou ben non foi includa ou ben non contn a clave API correcta para o seu sitio.\x3cbr\x3e\x3cbr\x3eDesenvolvedores: para axudar a facer funcionar isto correctamente, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3epremede aqu\x3c/a\x3e",getLayerWarning:"A capa ${layerType} foi incapaz de cargarse correctamente.\x3cbr\x3e\x3cbr\x3ePara evitar esta mensaxe, escolla unha nova capa base no seleccionador de capas na marxe superior dereita.\x3cbr\x3e\x3cbr\x3eProbablemente, isto acontece porque a escritura da librara ${layerLib} non foi ben includa.\x3cbr\x3e\x3cbr\x3eDesenvolvedores: para axudar a facer funcionar isto correctamente, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3epremede aqu\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Escala = 1 : ${scaleDenom}",W:"O",E:"L",N:"N",S:"S",reprojectDeprecated:'Est usando a opcin "reproject" na capa ${layerName}. Esta opcin est obsoleta: o seu uso foi deseado para a visualizacin de datos sobre mapas base comerciais, pero esta funcionalidade debera agora ser obtida utilizando a proxeccin Spherical Mercator. Hai dispoible mis informacin en http://trac.openlayers.org/wiki/SphericalMercator.',methodDeprecated:"Este mtodo est obsoleto e ser eliminado na versin 3.0. Por favor, no canto deste use ${newMethod}."});OpenLayers.Lang.gsw=OpenLayers.Util.applyDefaults({unhandledRequest:"Nit behandleti Aafrogsruckmldig ${statusText}",Permalink:"Permalink",Overlays:"Iberlagerige","Base Layer":"Grundcharte",noFID:"E Feature, wu s kei FID derfir git, cha nit aktualisiert wre.",browserNotSupported:"Dyy Browser unterstitzt kei Vektordarstellig. Aktull unterstitzti Renderer:\n${renderers}",minZoomLevelError:"D minZoomLevel-Eigeschaft isch nume dnk fir d Layer, wu vu dr FixedZoomLevels abstamme. Ass d wfs-Layer minZoomLevel prieft, scih e Relikt us dr Vergangeheit. Mir chenne s aber nit ndere ohni OL_basierti Aawndige villicht kaputt gehn, wu dervu abhnge.  Us dm Grund het die Funktion d Eigeschaft 'deprecated' iberchuu. D minZoomLevel-Priefig unte wird in dr Version 3.0 usegnuu. Bitte verwnd statt dm e min/max-Uflesig wie s do bschriben isch: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS-Transaktion: ERFOLGRYCH ${response}",commitFailed:"WFS-Transaktion: FHLGSCHLAA ${response}",googleWarning:"Dr Google-Layer het nit korrkt chenne glade wre.\x3cbr\x3e\x3cbr\x3eGo die Mldig nimi z kriege, wehl e andere Hintergrundlayer us em LayerSwitcher im rchte obere Ecke.\x3cbr\x3e\x3cbr\x3eD Fhler git s seli hyfig, wel s Skript vu dr Google-Maps-Bibliothek nit yybunde woren isch oder wel s kei giltige API-Schlissel fir Dyy URL din het.\x3cbr\x3e\x3cbr\x3eEntwickler: Fir Hilf zum korrkte Yybinde vum Google-Layer \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3edoo drucke\x3c/a\x3e",getLayerWarning:"Dr ${layerType}-Layer het nit korrkt chenne glade wre.\x3cbr\x3e\x3cbr\x3eGo die Mldig nimi z kriege, wehl e andere Hintergrundlayer us em LayerSwitcher im rchte obere Ecke.\x3cbr\x3e\x3cbr\x3eD Fhler git s seli hyfig, wel s Skript vu dr '${layerLib}'-Bibliothek nit yybunde woren isch oder wel s kei giltige API-Schlissel fir Dyy URL din het.\x3cbr\x3e\x3cbr\x3eEntwickler: Fir Hilf zum korrkte Yybinde vu Layer \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3edoo drucke\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Mastab = 1 : ${scaleDenom}",W:"W",E:"O",N:"N",S:"S",reprojectDeprecated:"Du bruchsch d 'reproject'-Option bim ${layerName}-Layer. Die Option isch nimi giltig: si isch aagleit wore go   Date iber kommerzilli Grundcharte lege, aber des sott mer jetz mache mit dr Unterstitzig vu Spherical Mercator. Meh Informatione git s uf http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Die Methode isch veraltet un wird us dr Version 3.0 usegnuu. Bitte verwbnd statt dm ${newMethod}."});OpenLayers.Lang.hr=OpenLayers.Util.applyDefaults({unhandledRequest:"Nepodrani zahtjev ${statusText}",Permalink:"Permalink",Overlays:"Overlays","Base Layer":"Osnovna karta",noFID:"Ne mogu aurirati znaajku za koju ne postoji FID.",browserNotSupported:"Va preglednik ne podrava vektorsko renderiranje. Trenutno podrani rendereri su: ${renderers}",commitSuccess:"WFS Transakcija: USPJENA ${response}",commitFailed:"WFS Transakcija: NEUSPJENA ${response}","Scale = 1 : ${scaleDenom}":"Mjerilo = 1 : ${scaleDenom}",methodDeprecated:"Ova metoda nije odobrena i biti e maknuta u 3.0. Koristite ${newMethod}."});OpenLayers.Lang.hsb=OpenLayers.Util.applyDefaults({unhandledRequest:"Wotmowa njewobdaneho napraowanja ${statusText}",Permalink:"Trajny wotkaz",Overlays:"Nawortowanja","Base Layer":"Zakadna runina",noFID:"Funkcija, za kotru FID njeje, njeda so aktualizowa.",browserNotSupported:"Twj wobhladowak wektorowe rysowanje njepodpruje. Tuchwilu podprowane rysowaki su:\n${renderers}",minZoomLevelError:"Kajkos minZoomLevel je jeno za wuiwanje z wortami myslena, kotre wot FixedZoomLevels pochadeja. Zo tuta worta wfs za minZoomLevel pepruwuje, je relikt zadenose. Njememy wak ju wotstroni, bjeztoho zo aplikacije, kotre na OpenLayers bazruja a snano tutu kajkos wuiwaja, hio njefunguja. Tohodla smy ju jako zestarjenu woznamjenili -- pepruwowanje za minZoomLevel budu so we wersiji 3.0 wotstronje. Prou wuij msto toho nastajenje min/max, ka je tu wopisane: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS-Transakcija: WUSPNA ${response}",commitFailed:"WFS-Transakcija: NJEPORADENA ${response}",googleWarning:"Worta Google njemee so korektnje zaita.\x3cbr\x3e\x3cbr\x3eZo by tutu zdlenku wotby, wubjer nowy BaseLayer z wubra wortow horjeka naprawo.\x3cbr\x3e\x3cbr\x3eNajskerje so to stawa, dokel skript biblioteki Google Maps pak njebu zapijaty pak njewobsahuje korektny klu API za twoje sydo.\x3cbr\x3e\x3cbr\x3eWuwiwarjo: Za pomoc ke korektnemu fungowanju wortow\n\x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3etu klikny\x3c/a\x3e",getLayerWarning:"Worta ${layerType} njemee so korektnje zaita.\x3cbr\x3e\x3cbr\x3eZo by tutu zdlenku wotby, wubjer nowy BaseLayer z wubra wortow horjeka naprawo.\x3cbr\x3e\x3cbr\x3eNajskerje so to stawa, dokel skript biblioteki ${layerLib} njebu korektnje zapijaty.\x3cbr\x3e\x3cbr\x3eWuwiwarjo: Za pomoc ke korektnemu fungowanju wortow\n\x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3etu klikny\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Mritko = 1 : ${scaleDenom}",W:"Z",E:"W",N:"S",S:"J",reprojectDeprecated:'Wuiwa opciju "reproject" woty ${layerName}. Tuta opcija je zestarjena: jeje wuiwanje b myslene, zo by zwobraznjenje datow nad komercielnymi bazowymi kartami podprao, ale funkcionalnos ma so ntko z pomocu Sperical Mercator docp. Dale informacije steja na http://trac.openlayers.org/wiki/SphericalMercator k dispoziciji.',methodDeprecated:"Tuta metoda je so njeschwalia a bude so w 3.0 wotstronje. Prou wuij ${newMethod} msto toho."});OpenLayers.Lang.hu=OpenLayers.Util.applyDefaults({unhandledRequest:"Nem kezelt krs visszatrse ${statusText}",Permalink:"Permalink",Overlays:"Rvettsek","Base Layer":"Alaprteg",noFID:"Nem frissthet olyan jellemz, amely nem rendelkezik FID-del.",browserNotSupported:"A bngszje nem tmogatja a vektoros renderelst. A jelenleg tmogatott renderelk:\n${renderers}",minZoomLevelError:"A minZoomLevel tulajdonsgot csak a kvetkezvel val hasznlatra szntk: FixedZoomLevels-leszrmazott flik. Ez azt jelenti, hogy a minZoomLevel wfs flia jellngyzetei mr a mlt. Mi azonban nem tvolthatjuk el annak a veszlye nlkl, hogy az esetlegesen ettl fgg OL alap alkalmazsokat tnkretennnk. Ezrt ezt rvnytelentjk -- a minZoomLevel az alul lev jellngyzet a 3.0-s verzibl el lesz tvoltva. Krjk, helyette hasznlja a  min/max felbonts belltst, amelyrl az albbi helyen tall lerst: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS tranzakci: SIKERES ${response}",commitFailed:"WFS tranzakci: SIKERTELEN ${response}",googleWarning:"A Google flia betltse sikertelen.\x3cbr\x3e\x3cbr\x3eAhhoz, hogy ez az zenet eltnjn, vlasszon egy j BaseLayer flit a jobb fels sarokban tallhat fliakapcsol segtsgvel.\x3cbr\x3e\x3cbr\x3eNagy valsznsggel ez azrt van, mert a Google Maps knyvtr parancsfjlja nem tallhat, vagy nem tartalmazza az n oldalhoz tartoz megfelel API-kulcsot.\x3cbr\x3e\x3cbr\x3eFejlesztknek: A helyes mkdtetsre vonatkoz segtsg az albbi helyen rhet el, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3ekattintson ide\x3c/a\x3e",getLayerWarning:"A(z) ${layerType} flia nem tltdtt be helyesen.\x3cbr\x3e\x3cbr\x3eAhhoz, hogy ez az zenet eltnjn, vlasszon egy j BaseLayer flit a jobb fels sarokban tallhat fliakapcsol segtsgvel.\x3cbr\x3e\x3cbr\x3eNagy valsznsggel ez azrt van, mert a(z) ${layerLib} knyvtr parancsfjlja helytelen.\x3cbr\x3e\x3cbr\x3eFejlesztknek: A helyes mkdtetsre vonatkoz segtsg az albbi helyen rhet el, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3ekattintson ide\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Lptk = 1 : ${scaleDenom}",W:"Ny",E:"K",N:"",S:"D",reprojectDeprecated:"n a 'reproject' belltst hasznlja a(z) ${layerName} flin. Ez a bellts rvnytelen: hasznlata az zleti alaptrkpek fltti adatok megjelentsnek tmogatsra szolglt, de ezt a funkci ezentl a Gmbi Mercator hasznlatval rhet el. Tovbbi informci az albbi helyen rhet el: http://trac.openlayers.org/wiki/SphericalMercator",methodDeprecated:"Ez a mdszer rvnytelentve lett s a 3.0-s verzibl el lesz tvoltva. Hasznlja a(z) ${newMethod} mdszert helyette."});OpenLayers.Lang.ia=OpenLayers.Util.applyDefaults({unhandledRequest:"Le responsa a un requesta non esseva maneate: ${statusText}",Permalink:"Permaligamine",Overlays:"Superpositiones","Base Layer":"Strato de base",noFID:"Non pote actualisar un elemento sin FID.",browserNotSupported:"Tu navigator non supporta le rendition de vectores. Le renditores actualmente supportate es:\n${renderers}",minZoomLevelError:"Le proprietate minZoomLevel es solmente pro uso con le stratos descendente de FixedZoomLevels. Le facto que iste strato WFS verifica minZoomLevel es un reliquia del passato. Nonobstante, si nos lo remove immediatemente, nos pote rumper applicationes a base de OL que depende de illo. Ergo nos lo declara obsolete; le verification de minZoomLevel in basso essera removite in version 3.0. Per favor usa in su loco le configuration de resolutiones min/max como describite a: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transaction WFS: SUCCESSO ${response}",commitFailed:"Transaction WFS: FALLEVA ${response}",googleWarning:"Le strato Google non poteva esser cargate correctemente.\x3cbr\x3e\x3cbr\x3ePro disfacer te de iste message, selige un nove BaseLayer in le selector de strato in alto a dextra.\x3cbr\x3e\x3cbr\x3eMulto probabilemente, isto es proque le script del libreria de Google Maps non esseva includite o non contine le clave API correcte pro tu sito.\x3cbr\x3e\x3cbr\x3eDisveloppatores: Pro adjuta de corriger isto, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eclicca hic\x3c/a",getLayerWarning:"Le strato ${layerType} non poteva esser cargate correctemente.\x3cbr\x3e\x3cbr\x3ePro disfacer te de iste message, selige un nove BaseLayer in le selector de strato in alto a dextra.\x3cbr\x3e\x3cbr\x3eMulto probabilemente, isto es proque le script del libreria de ${layerLib} non esseva correctemente includite.\x3cbr\x3e\x3cbr\x3eDisveloppatores: Pro adjuta de corriger isto, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eclicca hic\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Scala = 1 : ${scaleDenom}",W:"W",E:"E",N:"N",S:"S",reprojectDeprecated:"Tu usa le option 'reproject' in le strato ${layerName} layer. Iste option es obsolescente: illo esseva pro poter monstrar datos super cartas de base commercial, ma iste functionalitate pote ora esser attingite con le uso de Spherical Mercator. Ulterior information es disponibile a http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Iste methodo ha essite declarate obsolescente e essera removite in version 3.0. Per favor usa ${newMethod} in su loco."});OpenLayers.Lang.id=OpenLayers.Util.applyDefaults({unhandledRequest:"Permintaan yang tak tertangani menghasilkan ${statusText}",Permalink:"Pranala permanen",Overlays:"Hamparan","Base Layer":"Lapisan Dasar",noFID:"Tidak dapat memperbarui fitur yang tidak memiliki FID.",browserNotSupported:"Peramban Anda tidak mendukung penggambaran vektor. Penggambar yang didukung saat ini adalah:\n${renderers}",minZoomLevelError:"Properti minZoomLevel hanya ditujukan bekerja dengan lapisan FixedZoomLevels-descendent. Pengecekan minZoomLevel oleh lapisan wfs adalah peninggalan masa lalu. Kami tidak dapat menghapusnya tanpa kemungkinan merusak aplikasi berbasis OL yang mungkin bergantung padanya. Karenanya, kami menganggapnya tidak berlaku -- Cek minZoomLevel di bawah ini akan dihapus pada 3.0. Silakan gunakan penyetelan resolusi min/maks seperti dijabarkan di sini: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS Transaksi: BERHASIL ${respon}",commitFailed:"WFS Transaksi: GAGAL ${respon}",googleWarning:"Lapisan Google tidak dapat dimuat dengan benar.\x3cbr\x3e\x3cbr\x3eUntuk menghilangkan pesan ini, pilih suatu BaseLayer baru melalui penukar lapisan (layer switcher) di ujung kanan atas.\x3cbr\x3e\x3cbr\x3eKemungkinan besar ini karena pustaka skrip Google Maps tidak disertakan atau tidak mengandung kunci API yang tepat untuk situs Anda.\x3cbr\x3e\x3cbr\x3ePengembang: Untuk bantuan mengatasi masalah ini, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eklik di sini\x3c/a\x3e",getLayerWarning:"Lapisan ${layerType} tidak dapat dimuat dengan benar.\x3cbr\x3e\x3cbr\x3eUntuk menghilangkan pesan ini, pilih suatu BaseLayer baru melalui penukar lapisan (layer switcher) di ujung kanan atas.\x3cbr\x3e\x3cbr\x3eKemungkinan besar ini karena pustaka skrip Google Maps tidak disertakan dengan benar.\x3cbr\x3e\x3cbr\x3ePengembang: Untuk bantuan mengatasi masalah ini, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eklik di sini\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Sekala = 1 : ${scaleDenom}",W:"B",E:"T",N:"U",S:"S",reprojectDeprecated:"Anda menggunakan opsi 'reproject' pada lapisan ${layerName}. Opsi ini telah ditinggalkan: penggunaannya dirancang untuk mendukung tampilan data melalui peta dasar komersial, tapi fungsionalitas tersebut saat ini harus dilakukan dengan menggunakan dukungan Spherical Mercator. Informasi lebih lanjut tersedia di http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Metode ini telah usang dan akan dihapus di 3.0. Sebaliknya, harap gunakan ${newMethod}."});OpenLayers.Lang.io=OpenLayers.Util.applyDefaults({"Scale = 1 : ${scaleDenom}":"Skalo = 1 : ${scaleDenom}"});OpenLayers.Lang.is=OpenLayers.Util.applyDefaults({Permalink:"Varanlegur tengill",Overlays:"ekjur","Base Layer":"Grunnlag","Scale = 1 : ${scaleDenom}":"Skali = 1 : ${scaleDenom}",methodDeprecated:"etta fall hefur veri relt og verur fjarlgt  3.0. Notau ${newMethod}  stain."});OpenLayers.Lang.it={unhandledRequest:"Codice di ritorno della richiesta ${statusText}",Permalink:"Permalink",Overlays:"Overlays","Base Layer":"Livello base",noFID:"Impossibile aggiornare un elemento grafico che non abbia il FID.",browserNotSupported:"Il tuo browser non supporta il rendering vettoriale. I renderizzatore attualemnte supportati sono:\n${renderers}",minZoomLevelError:"La propriet minZoomLevel  da utilizzare solamente con livelli che abbiano FixedZoomLevels. Il fatto che questo livello wfs controlli la propriet minZoomLevel  un retaggio del passato. Non possiamo comunque rimuoverla senza rompere le vecchie applicazioni che dipendono su di essa.Quindi siamo costretti a deprecarla -- minZoomLevel e sar rimossa dalla vesione 3.0. Si prega di utilizzare i settaggi di risoluzione min/max come descritto qui: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transazione WFS: SUCCESS ${response}",commitFailed:"Transazione WFS: FAILED ${response}",googleWarning:"Il livello Google non  riuscito a caricare correttamente.<br><br>Per evitare questo messaggio, seleziona un nuovo BaseLayer nel selettore di livelli nell'angolo in alto a destra.<br><br>Pi precisamente, ci accade perch la libreria Google Maps non  stata inclusa nella pagina, oppure non contiene la corretta API key per il tuo sito.<br><br>Sviluppatori: Per aiuto su come farlo funzionare correttamente, <a href='http://trac.openlayers.org/wiki/Google' target='_blank'>clicca qui</a>",getLayerWarning:"Il livello ${layerType} non  riuscito a caricare correttamente.<br><br>Per evitare questo messaggio, seleziona un nuovo BaseLayer nel selettore di livelli nell'angolo in alto a destra.<br><br>Pi precisamente, ci accade perch la libreria ${layerLib} non  stata inclusa nella pagina.<br><br>Sviluppatori: Per aiuto su come farlo funzionare correttamente, <a href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'>clicca qui</a>","Scale = 1 : ${scaleDenom}":"Scala = 1 : ${scaleDenom}",reprojectDeprecated:"Stai utilizzando l'opzione 'reproject' sul livello ${layerName}. Questa opzione  deprecata: il suo utilizzo  stato introdotto persupportare il disegno dei dati sopra mappe commerciali, ma tale funzionalit dovrebbe essere ottenuta tramite l'utilizzo della proiezione Spherical Mercator. Per maggiori informazioni consultare qui http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Questo metodo  stato deprecato e sar rimosso dalla versione 3.0. Si prega di utilizzare il metodo ${newMethod} in alternativa.",end:""};OpenLayers.Lang.ja=OpenLayers.Util.applyDefaults({unhandledRequest:" ${statusText} ",Permalink:"",Overlays:"","Base Layer":"",noFID:"FID ",browserNotSupported:"\n${renderers}",minZoomLevelError:"minZoomLevel  FixedZoomLevels  minZoomLevel  WFS  OpenLayers  minZoomLevel 3.0http://trac.openlayers.org/wiki/SettingZoomLevels ",commitSuccess:"WFS :  ${response}",commitFailed:"WFS :  ${response}",googleWarning:"Google \x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e Google  API \x3cbr\x3e\x3cbr\x3e: \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3e\x3c/a\x3e",getLayerWarning:"${layerType} \x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e ${layerLib} \x3cbr\x3e\x3cbr\x3e: \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3e\x3c/a\x3e","Scale = 1 : ${scaleDenom}":" = 1 : ${scaleDenom}",W:"",E:"",N:"",S:"",reprojectDeprecated:"${layerName} reproject  Spherical Mercator  http://trac.openlayers.org/wiki/SphericalMercator ",methodDeprecated:"3.0 ${newMethod} "});OpenLayers.Lang.km=OpenLayers.Util.applyDefaults({Permalink:"","Base Layer":"","Scale = 1 : ${scaleDenom}":" =   ${scaleDenom}"});OpenLayers.Lang.ksh=OpenLayers.Util.applyDefaults({unhandledRequest:"Met d Antwoot op en Aanfrooch ham_mer nix aanjefange: ${statusText}",Permalink:"Lengk op Duuer",Overlays:"Drvver jelaat","Base Layer":"Jrund-Nivoh",noFID:'En Saach, woh kein \x3ci lang="en"\x3eFID\x3c/i\x3e fr doh es, lht sesch nit ndere.',browserNotSupported:"Dinge Brauser kann kein Vktore ujvve. De Zoote Ujaabe, di em Momang jon, sen:\n${renderers}",minZoomLevelError:'De Eijeschaff \x3ccode lang="en"\x3eminZoomLevel\x3c/code\x3e es blo dofr jedaach, dat mer se met d Nivvoh bruch, di vun \x3ccode lang="en"\x3eFixedZoomLevels\x3c/code\x3e affhange don. Dat dat \x3ci lang="en"\x3eWFS\x3c/i\x3e-Nivvoh vverhoup de Eijeschaff \x3ccode lang="en"\x3eminZoomLevel\x3c/code\x3e prhfe deiht, es noch vveresch vun frhjer. Mer knne dat vver jez nit fott lohe, oohne dat mer Jevaa loufe, dat Aanwendunge vun OpenLayers nit mieh loufe, di sesch doh velleijsch noch drop am verlohe sin. Drm sare mer, dat mer et nit mieh han welle, un de \x3ccode lang="en"\x3eminZoomLevel\x3c/code\x3e-Eijeschaff weed hee vun de Version 3.0 af nit mieh jeprf wde. Nemm dofr de Enstellung fr de hhte un de kleinte Oplhsung, esu wi et en http://trac.openlayers.org/wiki/SettingZoomLevels opjeschrevve es.',commitSuccess:'D \x3ci lang="en"\x3eWFS\x3c/i\x3e-Vrjang es joot jeloufe: ${response}',commitFailed:'D \x3ci lang="en"\x3eWFS\x3c/i\x3e-Vrjang es scheif jejange: ${response}',googleWarning:'Dat Nivvoh \x3ccode lang="en"\x3eGoogle\x3c/code\x3e kunnt nit reschtesch jelaade wde.\x3cbr /\x3e\x3cbr /\x3em hee di Nohreesch lo ze krijje, donn en ander Jrund-Nivvoh ushke, rh bovve en de k.\x3cbr /\x3e\x3cbr /\x3eWascheinlesch es dat wiel dat \x3ci lang="en"\x3eGoogle-Maps\x3c/i\x3e-Skrepp entweeder nit reschtesch enjebonge wood, udder nit d reschtejje \x3ci lang="en"\x3eAPI\x3c/i\x3e-Schlel fr Ding Web-ait scheke deiht.\x3cbr /\x3e\x3cbr /\x3eFr Projrammierer jidd_et Hlp do_drvver, \x3ca href="http://trac.openlayers.org/wiki/Google" target="_blank"\x3ewi mer dat aan et Loufe brengk\x3c/a\x3e.',getLayerWarning:'Dat Nivvoh \x3ccode\x3e${layerType}\x3c/code\x3e kunnt nit reschtesch jelaade wde.\x3cbr /\x3e\x3cbr /\x3em hee di Nohreesch lo ze krijje, donn en ander Jrund-Nivvoh ushkre, rh bovve en de k.\x3cbr /\x3e\x3cbr /\x3eWascheinlesch es dat, wiel dat Skrepp \x3ccode\x3e${layerLib}\x3c/code\x3e nit reschtesch enjebonge wood.\x3cbr /\x3e\x3cbr /\x3eFr Projrammierer jidd_Et Hlp do_drvver, \x3ca href="http://trac.openlayers.org/wiki/${layerLib}" target="_blank"\x3ewi mer dat aan et Loufe brengk\x3c/a\x3e.',"Scale = 1 : ${scaleDenom}":"Mohshtaab = 1 : ${scaleDenom}",W:"W",E:"O",N:"N",S:"S",reprojectDeprecated:"Do bruchs de Uwahl \x3ccode\x3ereproject\x3c/code\x3e op dm Nivvoh \x3ccode\x3e${layerName}\x3c/code\x3e. Di Uwahl es nit mieh jhn jesinn. Se wohr dofr jedaach, m Date op jeschfsmesch eru jejovve Kaate bovve drop ze moole, wat vver enzwesche besser met d ngershtzung fr de fresche Mkaator Beldscher jeiht. Doh kanns De mieh drvver fenge op d Sigg: http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Hee di Metood es nim_mih aktoll un et weed se en d Version 3.0 nit mieh jvve. Nemm \x3ccode\x3e${newMethod}\x3c/code\x3e dofr."});OpenLayers.Lang.lt=OpenLayers.Util.applyDefaults({unhandledRequest:"Neapdorota uklausa graino ${statusText}",Permalink:"Pastovi nuoroda",Overlays:"Papildomi sluoksniai","Base Layer":"Pagrindinis sluoksnis",noFID:"Negaliu atnaujinti objekto, kuris neturi FID.",browserNotSupported:"Js narykl nemoka parodyti vektori. iuo metu galima naudotis tokiais rodymo varikliais:\n{renderers}",commitSuccess:"WFS Tranzakcija: PAVYKO ${response}",commitFailed:"WFS Tranzakcija: LUGO ${response}","Scale = 1 : ${scaleDenom}":"Mastelis = 1 : ${scaleDenom}",W:"V",E:"R",N:"",S:"P",Graticule:"Tinklelis",methodDeprecated:"is metodas yra pasens ir 3.0 versijoje bus paalintas. Praome naudoti ${newMethod}.",end:""});OpenLayers.Lang.nb={unhandledRequest:"Ubehandlet foresprsel returnerte ${statusText}",Permalink:"Kobling til denne siden",Overlays:"Kartlag","Base Layer":"Bakgrunnskart",noFID:"Kan ikke oppdatere et feature (et objekt) som ikke har FID.",browserNotSupported:"Din nettleser sttter ikke vektortegning. Tegnemetodene som stttes er:\n${renderers}",minZoomLevelError:"Egenskapen minZoomLevel er kun ment til bruk p lag basert p FixedZoomLevels. At dette wfs-laget sjekker minZoomLevel er en etterlevning fra tidligere versjoner. Det kan dog ikke tas bort uten  risikere at OL-baserte applikasjoner slutter  virke, s det er merket som foreldet: minZoomLevel i sjekken nedenfor vil fjernes i 3.0. Vennligst bruk innstillingene for min/maks opplsning som er beskrevet her: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS-transaksjon: LYKTES ${response}",commitFailed:"WFS-transaksjon: MISLYKTES ${response}",googleWarning:"Google-laget kunne ikke lastes.<br><br>Bytt til et annet bakgrunnslag i lagvelgeren i vre hyre hjrne for  slippe denne meldingen.<br><br>Sannsynligvis forrsakes feilen av at Google Maps-biblioteket ikke er riktig inkludert p nettsiden, eller at det ikke er angitt riktig API-nkkel for nettstedet.<br><br>Utviklere: For hjelp til  f dette til  virke se <a href='http://trac.openlayers.org/wiki/Google' target='_blank'>her</a>.",getLayerWarning:"${layerType}-laget kunne ikke lastes.<br><br>Bytt til et annet bakgrunnslag i lagvelgeren i vre hyre hjrne for  slippe denne meldingen.<br><br>Sannsynligvis forrsakes feilen av at ${layerLib}-biblioteket ikke var riktig inkludert p nettsiden.<br><br>Utviklere: For hjelp til  f dette til  virke se <a href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'>her</a>.","Scale = 1 : ${scaleDenom}":"<strong>Skala</strong> 1 : ${scaleDenom}",reprojectDeprecated:"Du bruker innstillingen 'reproject' p laget ${layerName}. Denne innstillingen er foreldet, den var ment for  sttte visning av kartdata over kommersielle bakgrunnskart, men det br n gjres med sttten for Spherical Mercator. Mer informasjon finnes p http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Denne metoden er markert som foreldet og vil bli fjernet i 3.0. Vennligst bruk ${newMethod} i stedet.",end:""};OpenLayers.Lang.no=OpenLayers.Lang.nb;OpenLayers.Lang.nds=OpenLayers.Util.applyDefaults({unhandledRequest:"Unbehannelt Trchmellels fr de Anfraag ${statusText}",Permalink:"Permalink",Overlays:"Overlays","Base Layer":"Achtergrundkoort",noFID:"En Feature, dat keen FID hett, kann nich aktuell maakt warrn.",browserNotSupported:"Dien Browser nnersttt keen Vektorbiller. nnersttt Renderers:\n${renderers}",commitSuccess:"WFS-Transakschoon: hett klappt ${response}",commitFailed:"WFS-Transakschoon: hett nich klappt ${response}","Scale = 1 : ${scaleDenom}":"Skaal = 1 : ${scaleDenom}",methodDeprecated:"Disse Methood is oold un schall dat in 3.0 nich mehr geven. Bruuk dor man beter ${newMethod} fr."});OpenLayers.Lang.nl=OpenLayers.Util.applyDefaults({unhandledRequest:"Het verzoek is niet afgehandeld met de volgende melding: ${statusText}",Permalink:"Permanente verwijzing",Overlays:"Overlays","Base Layer":"Achtergrondkaart",noFID:"Een optie die geen FID heeft kan niet bijgewerkt worden.",browserNotSupported:"Uw browser ondersteunt het weergeven van vectoren niet.\nMomenteel ondersteunde weergavemogelijkheden:\n${renderers}",minZoomLevelError:"De eigenschap minZoomLevel is alleen bedoeld voor gebruik lagen met die afstammen van FixedZoomLevels-lagen.\nDat deze WFS-laag minZoomLevel controleert, is een overblijfsel uit het verleden.\nWe kunnen deze controle echter niet verwijderen zonder op OL gebaseerde applicaties die hervan afhankelijk zijn stuk te maken.\nDaarom heeft deze functionaliteit de eigenschap 'deprecated' gekregen - de minZoomLevel wordt verwijderd in versie 3.0.\nGebruik in plaats van deze functie de mogelijkheid om min/max voor resolutie in te stellen zoals op de volgende pagina wordt beschreven:\nhttp://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS-transactie: succesvol ${response}",commitFailed:"WFS-transactie: mislukt ${response}",googleWarning:"De Google-Layer kon niet correct geladen worden.\x3cbr /\x3e\x3cbr /\x3e\nOm deze melding niet meer te krijgen, moet u een andere achtergrondkaart kiezen in de laagwisselaar in de rechterbovenhoek.\x3cbr /\x3e\x3cbr /\x3e\nDit komt waarschijnlijk doordat de bibliotheek ${layerLib} niet correct ingevoegd is.\x3cbr /\x3e\x3cbr /\x3e\nOntwikkelaars: \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eklik hier\x3c/a\x3e om dit werkend te krijgen.",getLayerWarning:"De laag ${layerType} kon niet goed geladen worden.\x3cbr /\x3e\x3cbr /\x3e\nOm deze melding niet meer te krijgen, moet u een andere achtergrondkaart kiezen in de laagwisselaar in de rechterbovenhoek.\x3cbr /\x3e\x3cbr /\x3e\nDit komt waarschijnlijk doordat de bibliotheek ${layerLib} niet correct is ingevoegd.\x3cbr /\x3e\x3cbr /\x3e\nOntwikkelaars: \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eklik hier\x3c/a\x3e om dit werkend te krijgen.","Scale = 1 : ${scaleDenom}":"Schaal = 1 : ${scaleDenom}",W:"W",E:"O",N:"N",S:"Z",reprojectDeprecated:"U gebruikt de optie 'reproject' op de laag ${layerName}.\nDeze optie is vervallen: deze optie was ontwikkeld om gegevens over commercile basiskaarten weer te geven, maar deze functionaliteit wordt nu bereikt door ondersteuning van Spherical Mercator.\nMeer informatie is beschikbaar op http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Deze methode is verouderd en wordt verwijderd in versie 3.0.\nGebruik ${newMethod}."});OpenLayers.Lang.nn=OpenLayers.Util.applyDefaults({"Scale = 1 : ${scaleDenom}":"Skala = 1 : ${scaleDenom}"});OpenLayers.Lang.oc=OpenLayers.Util.applyDefaults({unhandledRequest:"Requsta pas gerida, retorna ${statusText}",Permalink:"Permaligam",Overlays:"Calques","Base Layer":"Calc de basa",noFID:"Impossible de metre a jorn un objcte sens identificant (fid).",browserNotSupported:"Vstre navegidor suprta pas lo rendut vectorial. Los renderers actualament suportats son : \n${renderers}",minZoomLevelError:"La proprietat minZoomLevel deu sser utilizada solament per de jaces FixedZoomLevels-descendent. Lo fach qu'aqueste ja WFS verifique la presncia de minZoomLevel es una relica del passat. aquel, la podm suprimir sens copar d'aplicacions que ne poirin dependre. Es per aqu que la depreciam -- la verificacion del minZoomLevel ser suprimida en version 3.0. A la plaa, mercs d'utilizar los paramtres de resolucions min/max tal coma descrich sus : http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transaccion WFS : SUCCES ${response}",commitFailed:"Transaccion WFS : FRACAS ${response}",googleWarning:"Lo ja Google es pas estat en mesura de se cargar corrctament.\x3cbr\x3e\x3cbr\x3ePer suprimir aqueste messatge, causisstz una BaseLayer novla dins lo selector de ja en naut a drecha.\x3cbr\x3e\x3cbr\x3eAqu es possiblament causat par la non-inclusion de la librari Google Maps, o alara perque que la clau de l'API correspond pas a vstre site.\x3cbr\x3e\x3cbr\x3eDesvolopaires : per saber coss corregir aqu, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eclicatz aic\x3c/a\x3e",getLayerWarning:"Lo ja ${layerType} es pas en mesura de se cargar corrctament.\x3cbr\x3e\x3cbr\x3ePer suprimir aqueste messatge, causisstz una  BaseLayer novla dins lo selector de ja en naut a drecha.\x3cbr\x3e\x3cbr\x3eAqu es possiblament causat per la non-inclusion de la librari ${layerLib}.\x3cbr\x3e\x3cbr\x3eDesvolopaires : per saber coss corregir aqu, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eclicatz aic\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Escala ~ 1 : ${scaleDenom}",W:"O",E:"",N:"N",S:"S",reprojectDeprecated:"Utilizatz l'opcion 'reproject' sul ja ${layerName}. Aquesta opcion es despreciada : Son usatge permeti d'afichar de donadas al desss de jaces raster comercials. Aquesta foncionalitat ara es suportada en utilizant lo suprt de la projeccion Mercator Esferica. Mai d'informacion es disponibla sus http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Aqueste metde es despreciada, e ser suprimida a la version 3.0. Mercs d'utilizar ${newMethod} a la plaa."});OpenLayers.Lang.pl=OpenLayers.Util.applyDefaults({unhandledRequest:"Nieobsugiwane danie zwrcio ${statusText}",Permalink:"Permalink",Overlays:"Nakadki","Base Layer":"Warstwa podstawowa",noFID:"Nie mona zaktualizowa funkcji, dla ktrych nie ma FID.",browserNotSupported:"Twoja przegldarka nie obsuguje renderowania wektorw. Obecnie obsugiwane renderowanie to:\n${renderers}",minZoomLevelError:"Waciwo minZoomLevel jest przeznaczona tylko do uytku z warstwami FixedZoomLevels-descendent.Warstwa wfs, ktra sprawdza minZoomLevel jest reliktem przeszoci.Nie moemy jej jednak usunc bez mozliwoci amania OL aplikacji, ktre mog by od niej zalene. Dlatego jestemy za deprecjacj -- minZoomLevel zostanie usunita w wersji 3.0. W zamian prosze uyj min/max rozdzielczoci w sposb opisany tutaj: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transakcja WFS: SUKCES ${response}",commitFailed:"Transakcja WFS: FAILED ${response}",googleWarning:"Warstwa Google nie by w stanie zaadowa si poprawnie.<br><br>Aby pozby si tej wiadomoci, wybierz now Warstwe podstawow w przeczniku warstw w grnym prawym rogu mapy.<br><br>Najprawdopodobniej jest to spowodowane tym, e biblioteka Google Maps nie jest zaadowana, lub nie zawiera poprawnego klucza do API dla twojej strony<br><br>Programisto: Aby uzyska pomoc , <a href='http://trac.openlayers.org/wiki/Google' target='_blank'>kliknij tutaj</a>",getLayerWarning:"Warstwa ${layerType} nie moga zosta zaadowana poprawnie.<br><br>Aby pozby si tej wiadomoci, wybierz now Warstwe podstawow w przeczniku warstw w grnym prawym rogu mapy.<br><br>Najprawdopodobniej jest to spowodowane tym, e biblioteka ${layerLib} nie jest zaadowana, lub moe(o ile biblioteka tego wymaga) byc potrzebny klucza do API dla twojej strony<br><br>Programisto: Aby uzyska pomoc , <a href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'>kliknij tutaj</a>","Scale = 1 : ${scaleDenom}":"Skala = 1 : ${scaleDenom}",W:"ZACH",E:"WSCH",N:"PN",S:"PD",Graticule:"Siatka",reprojectDeprecated:"w warstwie ${layerName} uywasz opcji 'reproject'. Ta opcja jest przestarzaa: jej zastosowanie zosta zaprojektowany, aby wspiera wywietlania danych przez komercyjne mapy, jednak obecnie ta funkcjonalno powinien zosta osignity za pomoc Spherical Mercator its use was designed to support displaying data over commercial. Wicje informacji na ten temat moesz znale na stronie http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Ta metoda jest przestarzaa i bdzie usunita od wersji 3.0. W zamian uyj ${newMethod}.",proxyNeeded:"Prawdopodobnie musisz ustawi OpenLayers.ProxyHost aby otrzyma dostp do ${url}.See http://trac.osgeo.org/openlayers/wiki/FrequentlyAskedQuestions#ProxyHost"});OpenLayers.Lang["pt-br"]=OpenLayers.Util.applyDefaults({unhandledRequest:"A requisio retornou um erro no tratado: ${statusText}",Permalink:"Link para essa pgina",Overlays:"Camadas de Sobreposio","Base Layer":"Camada Base",noFID:"No  possvel atualizar uma feio que no tenha um FID.",browserNotSupported:"Seu navegador no suporta renderizao de vetores. Os renderizadores suportados atualmente so:\n${renderers}",minZoomLevelError:"A propriedade minZoomLevel  de uso restrito das camadas descendentes de FixedZoomLevels. A verificao dessa propriedade pelas camadas wfs  um resduo do passado. No podemos, entretanto no  possvel remov-la sem possvelmente quebrar o funcionamento de aplicaes OL que possuem depncia com ela. Portanto estamos tornando seu uso obsoleto -- a verificao desse atributo ser removida na verso 3.0. Ao invs, use as opes de resoluo min/max como descrito em: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transao WFS : SUCESSO ${response}",commitFailed:"Transao WFS : ERRO ${response}",googleWarning:"No foi possvel carregar a camada Google corretamente.\x3cbr\x3e\x3cbr\x3ePara se livrar dessa mensagem, selecione uma nova Camada Base, na ferramenta de alternao de camadas localizao do canto superior direito.\x3cbr\x3e\x3cbr\x3eMuito provavelmente, isso foi causado porque o script da biblioteca do Google Maps no foi includo, ou porque ele no contm a chave correta da API para o seu site.\x3cbr\x3e\x3cbr\x3eDesenvolvedores: Para obter ajuda em solucionar esse problema \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3ecliquem aqui\x3c/a\x3e",getLayerWarning:"No foi possvel carregar a camada ${layerType} corretamente.\x3cbr\x3e\x3cbr\x3ePara se livrar dessa mensagem, selecione uma nova Camada Base, na ferramenta de alternao de camadas localizao do canto superior direito.\x3cbr\x3e\x3cbr\x3eMuito provavelmente, isso foi causado porque o script da biblioteca ${layerLib} no foi includo corretamente.\x3cbr\x3e\x3cbr\x3eDesenvolvedores: Para obter ajuda em solucionar esse problema \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3ecliquem aqui\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Escala = 1 : ${scaleDenom}",W:"O",E:"L",N:"N",S:"S",reprojectDeprecated:"Voc est usando a opo 'reproject' na camada ${layerName}. Essa opo est obsoleta: seu uso foi projetado para suportar a visualizao de dados sobre bases de mapas comerciais, entretanto essa funcionalidade deve agora ser alcanada usando o suporte  projeo Mercator. Mais informao est disponvel em: http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Esse mtodo est obsoleto e ser removido na verso 3.0. Ao invs, por favor use ${newMethod}."});OpenLayers.Lang.pt=OpenLayers.Util.applyDefaults({unhandledRequest:"Servidor devolveu erro no contemplado ${statusText}",Permalink:"Ligao permanente",Overlays:"Sobreposies","Base Layer":"Camada Base",noFID:"No  possvel atualizar um elemento para a qual no h FID.",browserNotSupported:"O seu navegador no suporta renderizao vetorial. Actualmente os renderizadores suportados so:\n${renderers}",minZoomLevelError:"A propriedade minZoomLevel s deve ser usada com as camadas descendentes da FixedZoomLevels. A verificao da propriedade por esta camada wfs  uma relquia do passado. No entanto, no podemos remov-la sem correr o risco de afectar aplicaes OL que dependam dela. Portanto, estamos a torn-la obsoleta -- a verificao minZoomLevel ser removida na verso 3.0. Em vez dela, por favor, use as opes de resoluo min/max descritas aqui: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transaco WFS: SUCESSO ${response}",commitFailed:"Transaco WFS: FALHOU ${response}",googleWarning:"A Camada Google no foi correctamente carregada.\x3cbr\x3e\x3cbr\x3ePara deixar de receber esta mensagem, seleccione uma nova Camada-Base no ''switcher'' de camadas no canto superior direito.\x3cbr\x3e\x3cbr\x3eProvavelmente, isto acontece porque o ''script'' da biblioteca do Google Maps no foi includo ou no contm a chave API correcta para o seu stio.\x3cbr\x3e\x3cbr\x3eProgramadores: Para ajuda sobre como solucionar o problema \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eclique aqui\x3c/a\x3e .",getLayerWarning:"A camada ${layerType} no foi correctamente carregada.\x3cbr\x3e\x3cbr\x3ePara desactivar esta mensagem, seleccione uma nova Camada-Base no ''switcher'' de camadas no canto superior direito.\x3cbr\x3e\x3cbr\x3eProvavelmente, isto acontece porque o ''script'' da biblioteca ${layerLib} no foi includo correctamente.\x3cbr\x3e\x3cbr\x3eProgramadores: Para ajuda sobre como solucionar o problema \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eclique aqui\x3c/a\x3e .","Scale = 1 : ${scaleDenom}":"Escala = 1 : ${scaleDenom}",W:"O",E:"E",N:"N",S:"S",reprojectDeprecated:"Est usando a opo 'reproject' na camada ${layerName}. Esta opo  obsoleta: foi concebida para permitir a apresentao de dados sobre mapas-base comerciais, mas esta funcionalidade  agora suportada pelo Mercator Esfrico. Mais informao est disponvel em http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Este mtodo foi declarado obsoleto e ser removido na verso 3.0. Por favor, use ${newMethod} em vez disso."});OpenLayers.Lang.ru=OpenLayers.Util.applyDefaults({unhandledRequest:"   ${statusText}",Permalink:" ",Overlays:"","Base Layer":" ",noFID:"  ,    FID.",browserNotSupported:"     .    :\n${renderers}",minZoomLevelError:" minZoomLevel      ,   FixedZoomLevels. ,   WFS-   minZoomLevel   .       ,  , ,       OpenLayers .      minZoomLevel    3.0. ,     / ,  : http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:" WFS:  ${response}",commitFailed:" WFS:  ${response}",googleWarning:" Google    .\x3cbr\x3e\x3cbr\x3e    ,          .\x3cbr\x3e\x3cbr\x3e ,   ,   Google Maps        API-   .\x3cbr\x3e\x3cbr\x3e:  ,  ,   , \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3e \x3c/a\x3e",getLayerWarning:" ${layerType}    . \x3cbr\x3e\x3cbr\x3e    ,          .\x3cbr\x3e\x3cbr\x3e ,   ,   ${layerLib}       .\x3cbr\x3e\x3cbr\x3e:  ,  ,   , \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3e \x3c/a\x3e","Scale = 1 : ${scaleDenom}":" = 1 : ${scaleDenom}",W:"",E:"",N:"",S:"",reprojectDeprecated:"   'reproject'   ${layerName}.    :           ,          .     http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"         3.0. ,  ${newMethod}."});OpenLayers.Lang.sk=OpenLayers.Util.applyDefaults({unhandledRequest:"Neobslen poiadavky vracaj ${statusText}",Permalink:"Trval odkaz",Overlays:"Prekrytia","Base Layer":"Zkladn vrstva",noFID:"Nie je mon aktualizova vlastnos, pre ktor neexistuje FID.",browserNotSupported:"V prehliada nepodporuje vykresovanie vektorov. Momentlne podporovan vykresovae s:\n${renderers}",minZoomLevelError:"Vlastnos minZoomLevel je uren iba na pouitie s vrstvami odvodenmi od FixedZoomLevels. To, e tto wfs vrstva kontroluje minZoomLevel je pozostatok z minulosti. Nememe ho vak odstrni, aby sme sa vyhli monmu porueniu aplikci zaloench na Open Layers, ktor na tomto me zvisie. Preto ho oznaujeme ako zavrhovan - dolu uveden kontrola minZoomLevel bude odstrnen vo verzii 3.0. Pouite prosm namiesto toho kontrolu min./max. rozlenia poda tu uvedenho popisu: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transakcia WFS: SPEN ${response}",commitFailed:"Transakcia WFS: ZLYHALA ${response}",googleWarning:"Vrstvu Google nebolo mon sprvne nata.\x3cbr\x3e\x3cbr\x3eAby ste sa tejto sprvy zbavili vyberte nov BaseLayer v prepnai vrstiev v pravom hornom rohu.\x3cbr\x3e\x3cbr\x3eToto sa stalo pravdepodobne preto, e skript kninice Google Maps bu nebol natan alebo neobsahuje sprvny k API pre vau lokalitu.\x3cbr\x3e\x3cbr\x3eVvojri: Tu mete zska \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3epomoc so sfunknenm\x3c/a\x3e",getLayerWarning:"Vrstvu ${layerType} nebolo mon sprvne nata.\x3cbr\x3e\x3cbr\x3eAby ste sa tejto sprvy zbavili vyberte nov BaseLayer v prepnai vrstiev v pravom hornom rohu.\x3cbr\x3e\x3cbr\x3eToto sa stalo pravdepodobne preto, e skript kninice ${layerType} bu nebol natan alebo neobsahuje sprvny k API pre vau lokalitu.\x3cbr\x3e\x3cbr\x3eVvojri: Tu mete zska \x3ca href='http://trac.openlayers.org/wiki/${layerType}' target='_blank'\x3epomoc so sfunknenm\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Mierka = 1 : ${scaleDenom}",reprojectDeprecated:"Pouvate voby reproject vrstvy ${layerType}. Tto voba je zzavrhovan: jej pouitie bolo navrhnut na podporu zobrazovania dajov nad komernmi zkladovmi mapami, ale tto funkcionalitu je teraz mon dosiahnu pomocou Spherical Mercator. alie informcie zskate na strnke http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Tto metda je zavrhovan a bude odstrnen vo verzii 3.0. Pouite prosm namiesto nej metdu ${newMethod}."});OpenLayers.Lang.sv=OpenLayers.Util.applyDefaults({unhandledRequest:"Ej hanterad frga retur ${statusText}",Permalink:"Permalnk",Overlays:"Kartlager","Base Layer":"Bakgrundskarta",noFID:"Kan ej uppdatera feature (objekt) fr vilket FID saknas.",browserNotSupported:"Din webblsare stder inte vektorvisning. Fr nrvarande stds fljande visning:\n${renderers}",minZoomLevelError:"Egenskapen minZoomLevel r endast avsedd att anvndas med lager med FixedZoomLevels. Att detta WFS-lager kontrollerar minZoomLevel r en relik frn ldre versioner. Vi kan dock inte ta bort det utan att riskera att OL-baserade tillmpningar som anvnder detta slutar fungera. Drfr r det satt som deprecated, minZoomLevel kommer att tas bort i version 3.0. Anvnd i stllet instllning av min/max resolution som beskrivs hr: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS-transaktion: LYCKADES ${response}",commitFailed:"WFS-transaktion: MISSLYCKADES ${response}",googleWarning:"Google-lagret kunde inte laddas korrekt.\x3cbr\x3e\x3cbr\x3eFr att slippa detta meddelande, vlj en annan bakgrundskarta i lagervljaren i vre hgra hrnet.\x3cbr\x3e\x3cbr\x3eSannolikt beror felet p att Google Maps-biblioteket inte r inkluderat p webbsidan eller p att sidan inte anger korrekt API-nyckel fr webbplatsen.\x3cbr\x3e\x3cbr\x3eUtvecklare: hjlp fr att tgrda detta, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eklicka hr\x3c/a\x3e.",getLayerWarning:"${layerType}-lagret kunde inte laddas korrekt.\x3cbr\x3e\x3cbr\x3eFr att slippa detta meddelande, vlj en annan bakgrundskarta i lagervljaren i vre hgra hrnet.\x3cbr\x3e\x3cbr\x3eSannolikt beror felet p att ${layerLib}-biblioteket inte r inkluderat p webbsidan.\x3cbr\x3e\x3cbr\x3eUtvecklare: hjlp fr att tgrda detta, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eklicka hr\x3c/a\x3e.","Scale = 1 : ${scaleDenom}":"\x3cstrong\x3eSkala\x3c/strong\x3e 1 : ${scaleDenom}",reprojectDeprecated:"Du anvnder instllningen 'reproject' p lagret ${layerName}. Denna instllning markerad som deprecated: den var avsedd att anvndas fr att stdja visning av kartdata p kommersiella bakgrundskartor, men nu br man i stllet anvnda Spherical Mercator-std fr den funktionaliteten. Mer information finns p http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Denna metod r markerad som deprecated och kommer att tas bort i 3.0. Anvnd ${newMethod} i stllet."});OpenLayers.Lang.te=OpenLayers.Util.applyDefaults({Permalink:"",W:"",E:"",N:"",S:""});OpenLayers.Lang.vi=OpenLayers.Util.applyDefaults({unhandledRequest:"Khng x l c phn hi ${statusText} cho yu cu",Permalink:"Lin kt thng trc",Overlays:"Lp bn ","Base Layer":"Lp nn",noFID:"Khng th cp nht tnh nng thiu FID.",browserNotSupported:"Trnh duyt ca bn khng h tr chc nng v bng vect. Hin h tr cc b kt xut:\n${renderers}",minZoomLevelError:"Ch nn s dng thuc tnh minZoomLevel vi cc lp FixedZoomLevels-descendent. Vic lp wfs ny tm cho minZoomLevel l di tch cn li t xa. Tuy nhin, nu chng ti di n th s v cc chng trnh OpenLayers m da trn n. Bi vy chng ti phn i s dng n\x26nbsp; bc tm cho minZoomLevel s c di vo phin bn 3.0. Xin s dng thit lp  phn tch ti thiu / ti a thay th, theo hng dn ny: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Giao dch WFS: THNH CNG ${response}",commitFailed:"Giao dch WFS: THT BI ${response}",googleWarning:"Khng th ti lp Google ng n.\x3cbr\x3e\x3cbr\x3e trnh thng bo ny ln sau, hy chn BaseLayer mi dng iu khin chn lp  gc trn phi.\x3cbr\x3e\x3cbr\x3eChc script th vin Google Maps hoc khng c bao gm hoc khng cha kha API hp vi website ca bn.\x3cbr\x3e\x3cbr\x3e\x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eTr gip v tnh nng ny\x3c/a\x3e cho ngi pht trin.",getLayerWarning:"Khng th ti lp ${layerType} ng n.\x3cbr\x3e\x3cbr\x3e trnh thng bo ny ln sau, hy chn BaseLayer mi dng iu khin chn lp  gc trn phi.\x3cbr\x3e\x3cbr\x3eChc script th vin ${layerLib} khng c bao gm ng kiu.\x3cbr\x3e\x3cbr\x3e\x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eTr gip v tnh nng ny\x3c/a\x3e cho ngi pht trin.","Scale = 1 : ${scaleDenom}":"T l = 1 : ${scaleDenom}",W:"T",E:"",N:"B",S:"N",reprojectDeprecated:"Bn ang p dng ch  reproject vo lp ${layerName}. Ch  ny  b phn i: n c mc ch h tr lp d liu trn cc nn bn  thng mi; nn thc hin hiu ng  dng tnh nng Mercator Hnh cu. C sn thm chi tit ti http://trac.openlayers.org/wiki/SphericalMercator .",methodDeprecated:"Phng thc ny  b phn i v s b di vo phin bn 3.0. Xin hy s dng ${newMethod} thay th."});OpenLayers.Lang["zh-CN"]={unhandledRequest:" ${statusText}",Permalink:"",Overlays:"","Base Layer":"",noFID:"featureFID",browserNotSupported:"\n${renderers}",minZoomLevelError:"minZoomLevel wfs  minZoomLevel OL -- minZoomLevel 3.0 min/max resolution http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS Transaction:  ${response}",commitFailed:"WFS Transaction:  ${response}",googleWarning:"Google<br><br><br><br>GoogleGoogle Maps API<br><br><a href='http://trac.openlayers.org/wiki/Google' target='_blank'></a>",getLayerWarning:"${layerType} <br><br><br><br>${layerLib} <br><br><a href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'></a>","Scale = 1 : ${scaleDenom}":" = 1 : ${scaleDenom}",reprojectDeprecated:" ${layerName} 'reproject'Spherical Mercatorhttp://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"3.0 ${newMethod} ",end:""};OpenLayers.Lang["zh-TW"]={unhandledRequest:" ${statusText}",Permalink:"",Overlays:"","Base Layer":"",noFID:" FID  feature",browserNotSupported:". :\n${renderers}",minZoomLevelError:"minZoomLevel  FixedZoomLevels-descendent . wfs layer  minZoomLevel  -- minZoomLevel 3.0 min/max resolution : http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS Transaction:  ${response}",commitFailed:"WFS Transaction:  ${response}",googleWarning:"The Google Layer <br><br>, <br><br> Google Maps   API key <br><br>: <a href='http://trac.openlayers.org/wiki/Google' target='_blank'></a>",getLayerWarning:"${layerType} <br><br>, <br><br> ${layerLib} <br><br>: <a href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'></a>","Scale = 1 : ${scaleDenom}":"Scale = 1 : ${scaleDenom}",reprojectDeprecated:" 'reproject'   ${layerName} :Spherical Mercator http://trac.openlayers.org/wiki/SphericalMercator ",methodDeprecated:"3.0 ${newMethod} ",end:""};Fusion.configuration={general:{scriptLanguage:"php",temporaryDirectory:"/ms4w/tmp"},mapguide:{webTierUrl:"",useAsyncOverlay:true,tileCacheUrl:"http://localhost:8008/sheboygan"},mapserver:{cgi:"/cgi-bin/mapserv",imagePath:"/ms4w/tmp/ms_tmp",imageUrl:"http://localhost/ms_tmp",legendIconCacheDir:"/ms4w/tmp/ms_tmp",mapFileRoot:"/ms4w/apps/",mapRestoreState:"/opt/fgs/apps/savedSession/",mapRestoreStateSession:"/opt/fgs/tmp/"}};Fusion.Widget.About=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,_nWidth:500,_nHeight:400,_sAboutUrl:null,_sDefaultUrl:"widgets/About/About.html",initializeWidget:function(C){var B=C.extension;this._sAboutUrl=(B.AboutURL)?B.AboutURL[0]:this._sDefaultUrl;if(this._sAboutUrl==this._sDefaultUrl){this._sAboutUrl=Fusion.getFusionURL()+this._sAboutUrl}this.enable()},activate:function(){var B="menubar=no,location=no,resizable=no,status=no";B+=",width="+this._nWidth;B+=",height="+this._nHeight;window.open(this._sAboutUrl,"AboutPopup",B)}});Fusion.Widget.ActivityIndicator=OpenLayers.Class(Fusion.Widget,{element:null,initializeWidget:function(C){this.element=this.domObj;var B=C.extension;if(B.ElementId){var D=$(B.ElementId[0]);if(D&&D!=this.domObj){this.domObj.appendChild(D);this.element=D}}this.element.style.visibility="hidden";this.getMap().registerForEvent(Fusion.Event.MAP_BUSY_CHANGED,OpenLayers.Function.bind(this.busyChanged,this))},busyChanged:function(){this.element.style.visibility=this.getMap().isBusy()?"visible":"hidden"}});Fusion.Widget.AddWMSLayer=OpenLayers.Class(Fusion.Widget,{initializeWidget:function(C){var B=C.extension;this.template=B.Template?B.Template[0]:'<li id="{id}" class="jxListItemContainer"><a class="jxListItem" href="javascript::void(0)" alt="{layerTitle}" title="{layerTitle}">{layerTitle}</a></li>';this.serviceURL=B.ServiceURL?B.ServiceURL:[];this.dialogContentURL=Fusion.getFusionURL()+C.location+"AddWMSLayer/AddWMSLayer.html";this.addWMSLayerURL=C.location+"AddWMSLayer/AddWMSLayer.php";Fusion.addWidgetStyleSheet(C.location+"AddWMSLayer/AddWMSLayer.css");this.draw()},draw:function(){var E=new Jx.Form({name:"addWMSLayer",formClass:"jxFormBlock"}).addTo(this.domObj);var B=new Jx.Fieldset({legend:"Show WMS layers from:",id:"serviceURLFieldset",fieldsetClass:"jxFormInlineblock"}).addTo(E);var F=[];for(var D=0;D<this.serviceURL.length;++D){F.push({label:this.serviceURL[D]})}this.serviceList=new Jx.Field.Combo({id:"serviceURL",name:"serviceURL",label:"Server URL",readonly:false,items:F}).addTo(B);var C=new Jx.Field.Button({buttonOptions:{id:"listButton",name:"listButton",label:"List Layers",onClick:function(){console.log("Go!")}},defaultAction:true}).addTo(B);C.addEvent("click",OpenLayers.Function.bind(this.initializeWMS,this));this.outputDiv=new Element("div",{id:"layerList","class":"layerList"});this.domObj.adopt(this.outputDiv)},initializeWMS:function(){this.listLayersWait();var B=this.serviceList.getValue();if(B.length>0){var H=[];var C=B.split("?");if(C.length>1){var G=C[1].split("&");for(var D=0;D<G.length;++D){if(G[D].toLowerCase().indexOf("request")!=-1){continue}if(G[D].toLowerCase().indexOf("version")!=-1){continue}H.push(G[D])}C[1]=H.join("&")}B=C.join("?");var F=this.getMapLayer();var E={parameters:{session:F.getSessionID(),mapname:F._sMapname,action:"listLayersWMS",server:B},onComplete:OpenLayers.Function.bind(this.wmsListLayers,this)};Fusion.ajaxRequest(this.addWMSLayerURL,E)}},wmsListLayers:function(F){if(F.responseText){var B;try{B=Fusion.parseJSON(F.responseText)}catch(H){B={error:H.stack}}if(B){this.outputDiv.set("html","");if(B.error){this.outputDiv.set("html",B.error+"<br>"+B.message);return }var G=new Jx.ListView({id:"catalogListLayerUL"}).addTo(this.outputDiv);for(var D=0;D<B.length;D++){var I=B[D].owstitle;if(I.length<1){I=B[D].name}var C=this.template.substitute({id:B[D].name,layerTitle:I});var E=new Jx.ListItem({template:C});E.addTo(G);OpenLayers.Event.observe(E.domObj,"click",OpenLayers.Function.bind(this.addWMSLayer,this,B[D]))}}}},listLayersWait:function(){this.outputDiv.set("html","Request in progress...")},addWMSLayer:function(B){var E=this.getMapLayer();var G=B.srs.toUpperCase();var C=E.mapWidget.oMapOL.baseLayer.projection.projCode;if(G.indexOf(C)<0){C="EPSG:4326";if(G.indexOf(C)<0){C=G.split(" ").shift()}}var F={session:E.getSessionID(),mapname:E._sMapname,action:"addLayer",layertype:B.layertype,layername:B.name,group:B.group,owstitle:B.owstitle,srs:C,imageFormat:B.imageformat,servername:B.servername,wmsservicetitle:B.wmsservicetitle,queryable:B.queryable,metadataurl:B.metadataurl?B.metadataurl:""};var D={parameters:F,onComplete:OpenLayers.Function.bind(this.addWMSLayerCB,this)};Fusion.ajaxRequest(this.addWMSLayerURL,D)},addWMSLayerCB:function(B){var D=Fusion.parseJSON(B.responseText);if(D.addedLayer==true){var C=this.oMap;C.triggerEvent(Fusion.Event.WMS_LAYER_ADDED,new Array(D));this.getMapLayer().reloadMap()}else{}}});Fusion.Widget.BasemapSwitcher=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Menu,options:{},baseMaps:{},defaultBasemap:null,activeBasemap:null,menuItems:{},zoomOffsets:{G_NORMAL_MAP:0,G_SATELLITE_MAP:0,G_HYBRID_MAP:0,G_PHYSICAL_MAP:0,YAHOO_MAP_REG:0,YAHOO_MAP_SAT:0,YAHOO_MAP_HYB:0,Road:-1,Aerial:-1,Hybrid:-1,Mapnik:0,TransportMap:0,CycleMap:0,None:0},initializeWidget:function(B){this.getMap().registerForEvent(Fusion.Event.MAP_MAP_GROUP_LOADED,OpenLayers.Function.bind(this.setDefaultBasemap,this));this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.checkZoomOffsets,this))},refreshSettings:function(){this.baseMaps={};this.defaultBasemap=null;this.menuItems={};this.options={G_NORMAL_MAP:null,G_SATELLITE_MAP:null,G_HYBRID_MAP:null,G_PHYSICAL_MAP:null,YAHOO_MAP_REG:null,YAHOO_MAP_SAT:null,YAHOO_MAP_HYB:null,Road:null,Aerial:null,Hybrid:null,Mapnik:null,TransportMap:null,CycleMap:null,None:null}},generateOptions:function(){this.refreshSettings();var E=this.getMap().aMaps;for(var C=0,B=E.length;C<B;C++){var D=E[C];switch(D.layerType){case"MapGuide":this.options.None=OpenLayers.i18n("noCommercialMapLayers");this.baseMaps.None=D;break;case"Google":if(!D.mapTag.extension.Options||!D.mapTag.extension.Options[0].type){this.options.G_NORMAL_MAP=OpenLayers.i18n("googleStreet");this.baseMaps.G_NORMAL_MAP=D;if(!this.defaultBasemap){this.defaultBasemap="G_NORMAL_MAP"}}else{switch(D.mapTag.extension.Options[0].type[0]){case"G_NORMAL_MAP":if(D.mapTag.extension.Options[0].name){this.options.G_NORMAL_MAP=D.mapTag.extension.Options[0].name[0]}else{this.options.G_NORMAL_MAP=OpenLayers.i18n("googleStreet")}this.baseMaps.G_NORMAL_MAP=D;break;case"G_SATELLITE_MAP":if(D.mapTag.extension.Options[0].name){this.options.G_SATELLITE_MAP=D.mapTag.extension.Options[0].name[0]}else{this.options.G_SATELLITE_MAP=OpenLayers.i18n("googleSatellite")}this.baseMaps.G_SATELLITE_MAP=D;break;case"G_HYBRID_MAP":if(D.mapTag.extension.Options[0].name){this.options.G_HYBRID_MAP=D.mapTag.extension.Options[0].name[0]}else{this.options.G_HYBRID_MAP=OpenLayers.i18n("googleHybrid")}this.baseMaps.G_HYBRID_MAP=D;break;case"G_PHYSICAL_MAP":if(D.mapTag.extension.Options[0].name){this.options.G_PHYSICAL_MAP=D.mapTag.extension.Options[0].name[0]}else{this.options.G_PHYSICAL_MAP=OpenLayers.i18n("googleTerrain")}this.baseMaps.G_PHYSICAL_MAP=D;break;default:break}if(!this.defaultBasemap){this.defaultBasemap=D.mapTag.extension.Options[0].type[0]}}break;case"Yahoo":if(!D.mapTag.extension.Options||!D.mapTag.extension.Options[0].type){this.options.YAHOO_MAP_REG=OpenLayers.i18n("yahooStreet");this.baseMaps.YAHOO_MAP_REG=D;if(!this.defaultBasemap){this.defaultBasemap="YAHOO_MAP_REG"}}else{switch(D.mapTag.extension.Options[0].type[0]){case"YAHOO_MAP_REG":if(D.mapTag.extension.Options[0].name){this.options.YAHOO_MAP_REG=D.mapTag.extension.Options[0].name[0]}else{this.options.YAHOO_MAP_REG="Yahoo Street"}this.baseMaps.YAHOO_MAP_REG=D;break;case"YAHOO_MAP_SAT":if(D.mapTag.extension.Options[0].name){this.options.YAHOO_MAP_SAT=D.mapTag.extension.Options[0].name[0]}else{this.options.YAHOO_MAP_SAT=OpenLayers.i18n("yahooStreet")}this.baseMaps.YAHOO_MAP_SAT=D;break;case"YAHOO_MAP_HYB":if(D.mapTag.extension.Options[0].name){this.options.YAHOO_MAP_HYB=D.mapTag.extension.Options[0].name[0]}else{this.options.YAHOO_MAP_HYB=OpenLayers.i18n("yahooHybrid")}this.baseMaps.YAHOO_MAP_HYB=D;break;default:break}if(!this.defaultBasemap){this.defaultBasemap=D.mapTag.extension.Options[0].type[0]}}break;case"VirtualEarth":if(!D.mapTag.extension.Options||!D.mapTag.extension.Options[0].type){this.options.Road=OpenLayers.i18n("bingStreet");this.baseMaps.Road=D;if(!this.defaultBasemap){this.defaultBasemap="Road"}}else{switch(D.mapTag.extension.Options[0].type[0]){case"Road":if(D.mapTag.extension.Options[0].name){this.options.Road=D.mapTag.extension.Options[0].name[0]}else{this.options.Road=OpenLayers.i18n("bingStreet")}this.baseMaps.Road=D;break;case"Aerial":if(D.mapTag.extension.Options[0].name){this.options.Aerial=D.mapTag.extension.Options[0].name[0]}else{this.options.Aerial=OpenLayers.i18n("bingSatellite")}this.baseMaps.Aerial=D;break;case"Hybrid":if(D.mapTag.extension.Options[0].name){this.options.Hybrid=D.mapTag.extension.Options[0].name[0]}else{this.options.Hybrid=OpenLayers.i18n("bingHybrid")}this.baseMaps.Hybrid=D;break;default:break}if(!this.defaultBasemap){this.defaultBasemap=D.mapTag.extension.Options[0].type[0]}}break;case"OpenStreetMap":if(!D.mapTag.extension.Options||!D.mapTag.extension.Options[0].type){this.options.Mapnik=OpenLayers.i18n("openStreetMap");this.baseMaps.Mapnik=D;if(!this.defaultBasemap){this.defaultBasemap="Mapnik"}}else{switch(D.mapTag.extension.Options[0].type[0]){case"TransportMap":if(D.mapTag.extension.Options[0].name){this.options.TransportMap=D.mapTag.extension.Options[0].name[0]}else{this.options.TransportMap=OpenLayers.i18n("openStreetMapTransportMap")}this.baseMaps.TransportMap=D;break;case"CycleMap":if(D.mapTag.extension.Options[0].name){this.options.CycleMap=D.mapTag.extension.Options[0].name[0]}else{this.options.CycleMap=OpenLayers.i18n("openStreetMapCycleMap")}this.baseMaps.CycleMap=D;break;default:if(D.mapTag.extension.Options[0].name){this.options.Mapnik=D.mapTag.extension.Options[0].name[0]}else{this.options.Mapnik=OpenLayers.i18n("openStreetMap")}this.baseMaps.Mapnik=D;break}if(!this.defaultBasemap){this.defaultBasemap=D.mapTag.extension.Options[0].type[0]}}break;default:break}}if(!this.defaultBasemap){this.defaultBasemap="None"}},setUiObject:function(B){Fusion.Widget.prototype.setUiObject.apply(this,[B]);this.setDefaultBasemap()},checkZoomOffsets:function(){if(this.activeBasemap!=null){this.applyZoomOffset(this.activeBasemap)}},applyZoomOffset:function(B){var E=0;if(this.zoomOffsets[B]){E=this.zoomOffsets[B]}for(var D=0;D<this.getMap().aMaps.length;D++){var C=this.getMap().aMaps[D];if(C.arch=="MapGuide"&&C.bUsesCommercialLayerScaleList){C.applyZoomOffset(E)}}},setBasemap:function(B){if("None"!=B&&this.getMap().oMapOL.baseLayer.CLASS_NAME=="OpenLayers.Layer.MapGuide"){var C=this.baseMaps.None.oLayerOL.visibility;this.getMap().oMapOL.setBaseLayer(this.baseMaps[B].oLayerOL,false);this.applyZoomOffset(B);this.baseMaps.None.oLayerOL.visibility=C;this.baseMaps.None.oLayerOL.redraw()}else{this.getMap().oMapOL.setBaseLayer(this.baseMaps[B].oLayerOL,false);this.applyZoomOffset(B)}this.activeBasemap=B},setDefaultBasemap:function(){this.generateOptions();this.uiObj.subDomObj.empty();var D=new Jx.ButtonSet();for(var B in this.options){if(this.options[B]){var C=new Jx.Menu.Item({label:OpenLayers.i18n(this.options[B]),toggle:true,onDown:OpenLayers.Function.bind(this.setBasemap,this,B)});D.add(C);this.uiObj.add(C);this.menuItems[B]=C}}this.menuItems[this.defaultBasemap].setActive(true);this.setBasemap(this.defaultBasemap)}});Fusion.Widget.Buffer=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,isExclusive:false,layerName:null,layerNameInput:null,bufferDistance:null,bufferDistanceInput:null,bufferUnits:null,bufferUnitsInput:null,borderColor:null,borderColorInput:null,fillColor:null,fillColorInput:null,initializeWidget:function(C){var B=C.extension;this.layerName=B.LayerName?B.LayerName[0]:"";this.layerNameInput=B.LayerNameInput?B.LayerNameInput[0]:null;this.bufferDistance=B.BufferDistance?parseFloat(B.BufferDistance[0]):"";this.bufferDistanceInput=B.BufferDistanceInput?B.BufferDistanceInput[0]:null;this.bufferUnits=Fusion.unitFromName(B.BufferUnits?B.BufferUnits[0]:"meters");this.bufferUnitsInput=B.BufferUnitsInput?B.BufferUnitsInput[0]:null;this.borderColor=B.BorderColor?B.BorderColor[0]:"00000000";this.borderColorInput=B.BorderColorInput?B.BorderColorInput[0]:null;this.fillColor=B.FillColor?B.FillColor[0]:"00000000";this.fillColorInput=B.FillColorInput?B.FillColorInput[0]:null;if(this.layerNameInput){this.layerNameInput=$(this.layerNameInput);this.setValue(this.layerNameInput,this.layerName)}if(this.bufferDistanceInput){this.bufferDistanceInput=$(this.bufferDistanceInput);this.setValue(this.bufferDistanceInput,this.bufferDistance)}if(this.bufferUnitsInput){this.bufferUnitsInput=$(this.bufferUnitsInput);this.setValue(this.bufferUnitsInput,this.bufferUnits)}if(this.borderColorInput){this.borderColorInput=$(this.borderColorInput);this.setValue(this.borderColorInput,this.borderColor)}if(this.fillColorInput){this.fillColorInput=$(this.fillColorInput);this.setValue(this.fillColorInput,this.fillColor)}this.enable=Fusion.Widget.Buffer.prototype.enable;this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_ON,OpenLayers.Function.bind(this.enable,this));this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_OFF,OpenLayers.Function.bind(this.disable,this))},setValue:function(B,D){if(B.tagName.toLowerCase()=="input"){switch(B.type){case"radio":case"checkbox":for(var C=0;C<B.length;C++){if(B[C].value==D){B[C].checked=true}}break;case"file":break;case"button":case"hidden":case"image":case"password":case"reset":case"submit":case"text":B.value=D;break;default:}}if(B.tagName.toLowerCase()=="textarea"){B.value=D}if(B.tagName.toLowerCase()=="select"){for(var C=0;C<B.options.length;C++){if(B.options[C].value==D){B.options[C].selected=true;break}}}},getValue:function(B){if(B.tagName.toLowerCase()=="input"){switch(B.type){case"radio":case"checkbox":return B.value;break;case"file":case"button":case"hidden":case"image":case"password":case"reset":case"submit":case"text":return B.value;break;default:}}if(B.tagName.toLowerCase()=="textarea"){return B.value}if(B.tagName.toLowerCase()=="select"){return B.options[B.selectedIndex].value}},enable:function(){if(this.oMap&&this.oMap.hasSelection()){Fusion.Widget.prototype.enable.apply(this,[])}else{this.disable()}},execute:function(){if(this.layerNameInput){this.layerName=this.getValue(this.layerNameInput)}var I="&layer="+this.layerName;var J;if(this.bufferDistanceInput){J=this.getValue(this.bufferDistanceInput)}else{J=this.bufferDistance}var D;if(this.bufferUnitsInput){D=this.getValue(this.bufferUnitsInput)}else{D=this.bufferUnits}var B="&distance="+Fusion.toMeter(Fusion.unitFromName(D),J);var F="&bordercolor=";if(this.borderColorInput){F+=this.getValue(this.borderColorInput)}else{F+=this.borderColor}var C="&fillcolor=";if(this.fillColorInput){C+=this.getValue(this.fillColorInput)}else{C+=this.fillColor}var E=this.getMap();var H=this.getMapLayer();var K=H.arch+"/"+Fusion.getScriptLanguage()+"/Buffer."+Fusion.getScriptLanguage();var G={};G.parameters="locale="+Fusion.locale+"&merge=1&session="+H.getSessionID()+"&mapname="+H.getMapName()+I+B+F+C;G.onComplete=OpenLayers.Function.bind(this.bufferCreated,this);Fusion.ajaxRequest(K,G)},bufferCreated:function(){var C=this.getMapLayer();var B=C.getLayerByName(this.layerName);if(B){B.noCache=true}C.reloadMap();C.drawMap()}});Fusion.Widget.BufferPanel=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,sFeatures:"menubar=no,location=no,resizable=no,status=no",isExclusive:false,initializeWidget:function(F){var E=F.extension;this.sTarget=E.Target?E.Target[0]:"BufferPanelWindow";this.sBaseUrl=Fusion.getFusionURL()+"widgets/BufferPanel/BufferPanel.php";this.bSelectionOnly=(E.DisableIfSelectionEmpty&&(E.DisableIfSelectionEmpty[0]=="true"||E.DisableIfSelectionEmpty[0]=="1"))?true:false;this.additionalParameters=[];if(E.AdditionalParameter){for(var D=0;D<E.AdditionalParameter.length;D++){var G=E.AdditionalParameter[D];var C=G.Key[0];var B=G.Value[0];this.additionalParameters.push(C+"="+encodeURIComponent(B))}}this.enable=Fusion.Widget.BufferPanel.prototype.enable;this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_ON,OpenLayers.Function.bind(this.enable,this));this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_OFF,OpenLayers.Function.bind(this.enable,this));this.disable()},enable:function(){var B=this.getMap();if(this.bSelectionOnly||!B){if(B&&B.hasSelection()){if(this.action){this.action.setEnabled(true)}else{Fusion.Widget.prototype.enable.apply(this,[])}}else{if(this.action){this.action.setEnabled(false)}else{this.disable()}}}else{if(this.action){this.action.setEnabled(true)}else{Fusion.Widget.prototype.enable.apply(this,[])}}},activate:function(){var C=this.sBaseUrl;var F=this.getMap();var E=this.getMapLayer();var D=Fusion.getWidgetById(this.sTarget);var B=$(this.sTarget);var G=[];G.push("locale="+Fusion.locale);G.push("session="+E.getSessionID());G.push("mapname="+E.getMapName());if(D||B){G.push("popup=false")}else{G.push("popup=true")}G.push("us=0");G=G.concat(this.additionalParameters);if(C.indexOf("?")<0){C+="?"}else{if(C.slice(-1)!="&"){C+="&"}}C+=G.join("&");if(D){if(!D.isSameWithLast(C)){D.setContent(C)}}else{if(B){B.src=C}else{window.open(C,this.sTarget,this.sWinFeatures)}}}});Fusion.Widget.CenterSelection=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,initializeWidget:function(B){this.enable=Fusion.Widget.CenterSelection.prototype.enable;this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_ON,OpenLayers.Function.bind(this.enable,this));this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_OFF,OpenLayers.Function.bind(this.disable,this))},activate:function(){this.getMap().getSelection(OpenLayers.Function.bind(this.centerSelection,this))},centerSelection:function(T){var S=this.getMap();var O=S.getCurrentExtents();var Q=O[2]-O[0];var H=O[3]-O[1];var L=null;var R=S.getAllMaps();for(var P=0;P<R.length;P++){if(R[P].arch=="MapGuide"){L=R[P].getMapName();break}}if(L!=null){var J=T[L].getLowerLeftCoord();var I=T[L].getUpperRightCoord();var K=I.x-J.x;var M=I.y-J.y;if(K<Q&&M<H){var C=(I.x+J.x)/2;var B=(I.y+J.y)/2;S.zoom(C,B,1)}else{var N=0.1;var G=J.x-K*N;var F=J.y-M*N;var E=I.x+K*N;var D=I.y+M*N;S.setExtents(new OpenLayers.Bounds(G,F,E,D))}}},enable:function(){if(this.oMap&&this.oMap.hasSelection()){Fusion.Widget.prototype.enable.apply(this,[])}else{this.disable()}}});Fusion.Widget.ClearSelection=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,initializeWidget:function(B){this.enable=Fusion.Widget.ClearSelection.prototype.enable;this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_ON,OpenLayers.Function.bind(this.enable,this));this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_OFF,OpenLayers.Function.bind(this.disable,this))},activate:function(){this.getMap().clearSelection()},enable:function(){if(this.oMap&&this.oMap.hasSelection()){Fusion.Widget.prototype.enable.apply(this,[])}else{this.disable()}}});Fusion.Widget.ColorPicker=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button.Color,colorInput:null,alpha:100,color:"#000000",colorButton:null,initializeWidget:function(C){var B=C.extension;if(B.ColorInputId){this.colorInput=$(B.ColorInputId[0])}if(this.colorInput){this.alpha=100*parseInt("0x"+this.colorInput.value.substring(0,2))/255;this.color="#"+this.colorInput.value.substring(2);this.colorInput.widget=this}},setUiObject:function(B){Fusion.Widget.prototype.setUiObject.apply(this,[B]);this.uiObj.setColor(this.color);this.uiObj.addEvent("change",OpenLayers.Function.bind(this.colorChanged,this))},colorChanged:function(C){var B=parseInt(C.options.alpha*255/100).toString(16);var D=B+C.options.color.substring(1);if(this.colorInput){this.colorInput.value=D}}});Fusion.Widget.CoordinateTracker=OpenLayers.Class(Fusion.Widget,{isExclusive:false,uiClass:Jx.Button,template:"x: {x}<br/> y: {y}",taskPane:null,olMapProj:null,projections:{},sWinFeatures:"menubar=no,location=no,resizable=no,status=no,width=250,height=300",initializeWidget:function(E){var C=E.extension;if(C.Projection){for(var B=0;B<C.Projection.length;B++){var D=C.Projection[B];this.projections[D]=new OpenLayers.Projection(D)}}this.sTarget=C.Target?C.Target[0]:"";if(this.sTarget){this.taskPane=new Fusion.Widget.CoordinateTracker.DefaultTaskPane(this)}},getDomId:function(B){return B.replace(":","_")},activate:function(){if(this.taskPane){this.taskPane.loadDisplayPanel()}},deactivate:function(){this.stopListening()},startListening:function(){this.olMapProj=this.getMap().oMapOL.getProjectionObject();this.getMap().oMapOL.events.register("mousemove",this.taskPane,this.taskPane.updateCoordinates)},stopListening:function(){if(this.olMapProj){this.olMapProj=null;this.getMap().oMapOL.events.unregister("mousemove",this.taskPane,this.taskPane.updateCoordinates)}}});Fusion.Widget.CoordinateTracker.DefaultTaskPane=OpenLayers.Class({widget:null,taskPaneWin:null,panelUrl:"widgets/CoordinateTracker/CoordinateTracker.php",map:null,initialize:function(B){this.widget=B;this.map=this.widget.getMap().oMapOL},loadDisplayPanel:function(){var C=Fusion.getFusionURL()+this.panelUrl;var F=[];F.push("LOCALE="+Fusion.locale);if(C.indexOf("?")<0){C+="?"}else{if(C.slice(-1)!="&"){C+="&"}}C+=F.join("&");var E=Fusion.getWidgetById(this.widget.sTarget);var D=window;if(E){E.setContent(C);D=E.iframe.contentWindow}else{D=window.open(C,this.widget.sTarget,this.widget.sWinFeatures)}this.taskPaneWin=D;var B=OpenLayers.Function.bind(this.initPanel,this);setTimeout(B,300)},updateCoordinates:function(B){lonLat=this.map.getLonLatFromPixel(B.xy);if(!lonLat){return }if(!this.widget.olMapProj){return }for(var E in this.widget.projections){var F=lonLat.clone();F.transform(this.widget.olMapProj,this.widget.projections[E]);var D=this.taskPaneWin.document.getElementById(this.widget.getDomId(E));if(D){var C=this.widget.template.replace("{x}",F.lon).replace("{y}",F.lat);D.innerHTML=C}}},initPanel:function(){var C=false;try{C=this.taskPaneWin.bReady}catch(D){if(!C){var B=OpenLayers.Function.bind(this.initPanel,this);setTimeout(B,300);return }}this.taskPaneWin.setWidget(this.widget)}});Fusion.Widget.CursorPosition=OpenLayers.Class(Fusion.Widget,{defaultTemplate:"x: {x}, y: {y}",domSpan:null,units:Fusion.UNKNOWN,initializeWidget:function(C){var B=C.extension;this.template=B.Template?B.Template[0]:this.defaultTemplate;this.precision=B.Precision?parseInt(B.Precision[0]):-1;this.units=B.Units?Fusion.unitFromName(B.Units[0]):Fusion.UNKOWN;this.domSpan=document.createElement("span");this.domSpan.className="spanCursorPosition";this.domSpan.innerHTML=this.emptyText;this.emptyText=B.EmptyText?B.EmptyText[0]:(this.domObj?this.domObj.innerHTML:"");if(this.domObj){this.domObj.innerHTML="";this.domObj.appendChild(this.domSpan)}this.displayProjection=B.DisplayProjection?new OpenLayers.Projection(B.DisplayProjection[0]):null;this.control=new OpenLayers.Control.MousePosition({div:this.domSpan,formatOutput:OpenLayers.Function.bind(this.formatHTML,this),emptyString:this.emptyText,displayProjection:this.displayProjection});this.getMap().oMapOL.addControl(this.control);this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.setUnits,this));this.registerParameter("Units");Fusion.addWidgetStyleSheet(C.location+"/CursorPosition/CursorPosition.css")},setUiObject:function(B){Fusion.Widget.prototype.setUiObject.apply(this,[B]);if(this.uiObj.domObj){this.uiObj.domObj.appendChild(this.domSpan)}else{this.uiObj.appendChild(this.domSpan)}},formatHTML:function(H){if(!this.displayProjection){var F=this.getMap().projection;var G=F.getUnits();if(this.units==Fusion.DEGREES&&G!="dd"&&G!="degrees"){var D=new OpenLayers.Projection('GEOGCS["LL84",DATUM["WGS84",SPHEROID["WGS84",6378137.000,298.25722293]],PRIMEM["Greenwich",0],UNIT["Degree",0.01745329251994]]');H=H.transform(this.getMap().projection,D)}else{if(this.units!=Fusion.UNKNOWN){var C=this.getMap().getMetersPerUnit();H.lon=Fusion.fromMeter(this.units,H.lon*C);H.lat=Fusion.fromMeter(this.units,H.lat*C)}}if(this.precision>=0){var E=Math.pow(10,this.precision);H.lon=Math.round(H.lon*E)/E;H.lat=Math.round(H.lat*E)/E}}var B=Fusion.unitAbbr(this.units);var I=this.template.replace("{x}",H.lon.toFixed(this.precision));I=I.replace("{y}",H.lat.toFixed(this.precision));I=I.replace("{units}",B).replace("{units}",B);return I},setUnits:function(){if(this.units==Fusion.UNKNOWN){this.setParameter("Units",this.getMap().getUnits())}},setParameter:function(D,C){if(D=="Units"){var B=C;if(this.displayProjection){B=this.displayProjection.getUnits()}this.units=Fusion.unitFromName(B)}}});Fusion.Widget.EditableScale=OpenLayers.Class(Fusion.Widget,{precision:4,initializeWidget:function(C){var B=C.extension;this.domPrefix=document.createElement("span");this.domPrefix.className="inputEditableScalePrefix";this.domPrefix.innerHTML="1: ";this.domScale=document.createElement("input");this.domScale.className="inputEditableScale";OpenLayers.Event.observe(this.domScale,"keypress",OpenLayers.Function.bindAsEventListener(this.keyPressHandler,this));this.precision=B.Precision?parseInt(B.Precision[0]):this.precision;this.getMap().registerForEvent(Fusion.Event.MAP_EXTENTS_CHANGED,OpenLayers.Function.bind(this.scaleChanged,this));Fusion.addWidgetStyleSheet(C.location+"/EditableScale/EditableScale.css");if(this.domObj){this.domObj.appendChild(this.domPrefix);this.domObj.appendChild(this.domScale)}},setUiObject:function(B){Fusion.Widget.prototype.setUiObject.apply(this,[B]);if(this.uiObj.domObj){this.uiObj.domObj.appendChild(this.domPrefix);this.uiObj.domObj.appendChild(this.domScale)}else{this.uiObj.appendChild(this.domPrefix);this.uiObj.appendChild(this.domScale)}},scaleChanged:function(){this.domScale.value=this.scaleToString(this.getMap().oMapOL.getScale())},scaleToString:function(B){B=Math.abs(parseFloat(B));return""+Math.round(B*Math.pow(10,this.precision))/Math.pow(10,this.precision)},keyPressHandler:function(B){if(B.keyCode==OpenLayers.Event.KEY_RETURN){this.zoomToScale()}},zoomToScale:function(B){var C=parseFloat(this.domScale.value);if(C){this.getMap().zoomToScale(C)}}});Fusion.Event.HISTORY_CHANGED=Fusion.Event.lastEventId++;Fusion.Widget.ExtentHistory=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,events:[],aHistory:[],sDirection:null,EPS:1e-8,initializeWidget:function(D){var C=D.extension;var B=C.Direction?C.Direction[0].toLowerCase():"previous";if(B!="previous"&&B!="next"){this.sDirection="previous"}else{this.sDirection=B}if(!this.aHistory.history){this.aHistory.history=[];this.aHistory.index=-1;this.getMap().registerForEvent(Fusion.Event.MAP_EXTENTS_CHANGED,OpenLayers.Function.bind(this.extentsChanged,this));this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.reset,this))}this.enable=Fusion.Widget.ExtentHistory.prototype.historyChanged;this.disable=Fusion.Widget.ExtentHistory.prototype.historyChanged;this.registerEventID(Fusion.Event.HISTORY_CHANGED);this.registerForEvent(Fusion.Event.HISTORY_CHANGED,OpenLayers.Function.bind(this.historyChanged,this));this.disable()},reset:function(){if(this.getMap().isMapLoaded()){this.aHistory.history=[this.getMap().getCurrentExtents()];this.aHistory.index=0}else{this.aHistory.history=[];this.aHistory.index=-1}this.historyChanged()},extentsChanged:function(){var B=this.getMap().getCurrentExtents();if(this.aHistory.history.length==0){this.aHistory.history.push(B);this.aHistory.index=0}else{var C=this.aHistory.history[this.aHistory.index];if(this.boundsEqual(B,C)){return }if(this.aHistory.index!=(this.aHistory.history.length-1)){this.aHistory.history=this.aHistory.history.slice(0,this.aHistory.index+1)}this.aHistory.history.push(B);this.aHistory.index=this.aHistory.history.length-1}this.triggerEvent(Fusion.Event.HISTORY_CHANGED)},historyChanged:function(){if(this.sDirection=="previous"){if(this.aHistory.index>0){Fusion.Widget.prototype.enable.apply(this,[])}else{Fusion.Widget.prototype.disable.apply(this,[])}}else{if(this.aHistory.index<(this.aHistory.history.length-1)){Fusion.Widget.prototype.enable.apply(this,[])}else{Fusion.Widget.prototype.disable.apply(this,[])}}},activate:function(){if(this.sDirection=="previous"){if(this.aHistory.index>0){this.aHistory.index--;this.getMap().setExtents(this.aHistory.history[this.aHistory.index]);this.triggerEvent(Fusion.Event.HISTORY_CHANGED)}}else{if(this.aHistory.index<(this.aHistory.history.length-1)){this.aHistory.index++;this.getMap().setExtents(this.aHistory.history[this.aHistory.index]);this.triggerEvent(Fusion.Event.HISTORY_CHANGED)}}},boundsEqual:function(C,B){var D=false;var E=100;if(B.top==0){C.top+=E;B.top+=E}if(B.bottom==0){C.bottom+=E;B.bottom+=E}if(B.left==0){C.left+=E;B.left+=E}if(B.right==0){C.right+=E;B.right+=E}D=(Math.abs((C.top-B.top)/B.top)<this.EPS&&Math.abs((C.bottom-B.bottom)/B.bottom)<this.EPS&&Math.abs((C.left-B.left)/B.left)<this.EPS&&Math.abs((C.right-B.right)/B.right)<this.EPS);return D}});Fusion.Widget.FeatureInfo=OpenLayers.Class(Fusion.Widget,{isExclusive:false,uiClass:Jx.Button,sFeatures:"menubar=no,location=no,resizable=no,status=no",oTarget:null,initializeWidget:function(C){var B=C.extension;this.sTarget=B.Target?B.Target[0]:"FeatureInfoWindow";this.sBaseUrl=Fusion.getFusionURL()+"widgets/FeatureInfo/featureinfomain.php"},activate:function(){var C=this.sBaseUrl;this.mapWidget=this.getMap();var E=this.getMapLayer();var D=Fusion.getWidgetById(this.sTarget);var B=$(this.sTarget);var F=[];F.push("LOCALE="+Fusion.locale);F.push("SESSION="+E.getSessionID());F.push("MAPNAME="+E.getMapName());if(D||B){F.push("POPUP=false")}else{F.push("POPUP=true")}if(C.indexOf("?")<0){C+="?"}else{if(C.slice(-1)!="&"){C+="&"}}C+=F.join("&");if(D){if(!D.isSameWithLast(C)){D.setContent(C)}this.oTarget=D.iframe.contentWindow}else{if(B){B.src=C;this.oTarget=B}else{this.oTarget=window.open(C,this.sTarget,this.sWinFeatures)}}},deactivate:function(){this.mapWidget.message.clear();if(this.oTarget&&this.oTarget.ClearDigitization){this.oTarget.ClearDigitization(true)}}});Fusion.Widget.Geolocation=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,nZoom:null,bEnableHighAccuracy:false,nTimeout:5000,nMaximumAge:0,initializeWidget:function(D){var B=D.extension;var C={};if(B.ZoomLevel){this.nZoom=parseInt(B.ZoomLevel[0])}if(B.EnableHighAccuracy){C.enableHighAccuracy=(B.EnableHighAccuracy[0]=="true")}if(B.Timeout){C.timeout=parseInt(B.Timeout[0])}if(B.MaximumAge){C.maximumAge=parseInt(B.MaximumAge[0])}this.geoOptions=C;this.enable()},onPositionError:function(B){switch(B.code){case 1:alert(B.message);case 2:alert(B.message);case 3:alert(B.message);default:console.error("Error with geolocation: ("+B.code+") "+B.message)}},onPositionRetrieved:function(H){var C=this.getMap();var E=C.oMapOL;var B=new OpenLayers.Projection("EPSG:4326");var G=E.projection;var F=new OpenLayers.LonLat(H.coords.longitude,H.coords.latitude);F.transform(B,G);if(this.nZoom==null){E.moveTo(F)}else{var D=C.getExtentFromPoint(F.lon,F.lat,this.nZoom);C.setExtents(D)}},activate:function(){if(typeof (navigator.geolocation)=="undefined"){alert(OpenLayers.i18n("geolocation_unsupported"))}else{navigator.geolocation.getCurrentPosition(OpenLayers.Function.bind(this.onPositionRetrieved,this),OpenLayers.Function.bind(this.onPositionError,this),this.geoOptions)}}});Fusion.Event.GET_FEATURE_INFO_COMPLETE=Fusion.Event.lastEventId++;Fusion.Widget.GetFeatureInfo=OpenLayers.Class(Fusion.Widget,{wmsLayers:[],isExclusive:true,uiClass:Jx.Button,initializeWidget:function(C){var B=C.extension;var D=this.getMap().oMapOL;this.handler=new OpenLayers.Handler.Click({map:D},{click:OpenLayers.Function.bind(this.issueRequest,this)});this.registerEventID(Fusion.Event.GET_FEATURE_INFO_COMPLETE);this.getMap().registerEventID(Fusion.Event.WMS_LAYER_ADDED);this.getMap().registerForEvent(Fusion.Event.WMS_LAYER_ADDED,OpenLayers.Function.bind(this.layerAdded,this));this.cursorNormal=["url('images/grab.cur'),move","grab","-moz-grab","move"]},activateTool:function(){this.getMap().activateWidget(this)},activate:function(){this.handler.activate()},deactivate:function(){this.handler.deactivate()},issueRequest:function(I){if(this.wmsLayers.length<1){alert("there are no WMS layers to query");return }var C=this.getMap();var D=C.getActiveLayer();var H=null;if(D){for(var G=0;G<this.wmsLayers.length;++G){if(D.layerName==this.wmsLayers[G].wms_name){H=this.wmsLayers[G];break}}}if(!H){alert("Please select a WMS layer by clicking on the layer name in the legend.");return }var J="text/html";if(I.shiftKey){J="text/plain"}else{if(I.ctrlKey){J="text/xml"}}var L=C.oMapOL.getSize();var K=C.oMapOL.getLonLatFromPixel(I.xy);var F={REQUEST:"GetFeatureInfo",VERSION:H.wms_version,SRS:H.wms_srs,FORMAT:H.wms_format,STYLES:"",EXCEPTIONS:"application/vnd.ogc.se_xml",BBOX:C.getCurrentExtents().toBBOX(),X:I.xy.x,Y:I.xy.y,INFO_FORMAT:J,LAYERS:H.wms_name,QUERY_LAYERS:H.wms_name,WIDTH:L.w,HEIGHT:L.h};var E=(H.wms_connection.indexOf("?")<0)?"?":"&";var B=H.wms_connection+E+OpenLayers.Util.getParameterString(F);window.open(B);OpenLayers.Event.stop(I)},displayResults:function(C,B){},getFeatureInfoFailed:function(C,B){},layerAdded:function(C,D){for(var B=0;B<D.length;++B){this.wmsLayers.push(D[B])}}});Fusion.require("lib/SymbolLayer.js");Fusion.Widget.GoogleStreetViewer=OpenLayers.Class(Fusion.Widget,{isExclusive:false,uiClass:Jx.Button,windowFeatures:"menubar=no,location=no,resizable=no,status=no,width=500,height=400",targetWindow:null,GoogleSVPage:null,targetCs:null,additionalParameters:null,activated:false,symbolLayerName:"GoogleStreetViewerSymbolLayer",symbolLayer:null,symbolStyle:{externalGraphic:Fusion.getFusionURL()+"widgets/GoogleStreetViewer/navigator.png",graphicHeight:32,graphicWidth:48,graphicOpacity:1,rotation:0},symbolRadius:16,showDirection:true,directionStyle:{fillColor:"black",fillOpacity:0.4,strokeColor:"black",strokeOpacity:1,strokeWidth:3,strokeLinecap:"round",strokeDashstyle:"dash",hoverStrokeColor:"black",hoverStrokeOpacity:1,hoverStrokeWidth:0.2},directionLength:22,csTransformErrorMessage:null,serviceUnavailableMessage:null,googleBaseMapErrorMessage:null,initializeWidget:function(G){Fusion.Widget.GoogleStreetViewer.hasGSV=true;this.csTransformErrorMessage=OpenLayers.i18n("googleSteetViewCSTransformError");this.serviceUnavailableMessage=OpenLayers.i18n("googleSteetViewNotAvailableError");this.googleBaseMapErrorMessage=OpenLayers.i18n("googleBaseMapNotOnError");this.targetCs=new OpenLayers.Projection("EPSG:4326");var E=G.extension;this.targetWindow=E.Target?E.Target[0]:"TaskPane";if(E.SymbolLayerName!=null&&E.SymbolLayerName[0].length!=0){this.symbolLayerName=E.SymbolLayerName[0]}if(E.ShowDirection!=null&&E.ShowDirection[0]!=null){this.showDirection=(E.ShowDirection[0].toLowerCase()==="false")?false:true}if(E.DirectionLength!=null&&E.DirectionLength[0]!=null&&E.DirectionLength[0]!=""){try{var F=parseInt(E.DirectionLength[0]);this.directionLength=F}catch(I){}}this.additionalParameters=[];if(E.AdditionalParameter){for(var D=0;D<E.AdditionalParameter.length;D++){var H=E.AdditionalParameter[D];var C=H.Key[0];var B=H.Value[0];this.additionalParameters.push(C+"="+encodeURIComponent(B))}}if(!Fusion.Widget.GoogleStreetViewer.prototype.enable){this.disable()}this.getMap().oMapOL.events.register("changebaselayer",this,this.baseMapChanged)},baseMapChanged:function(B){if(!this.isGoogleBaseMapOn()){if(this.activated){this.deactivate();alert(this.googleBaseMapErrorMessage)}}},isGoogleBaseMapOn:function(){var C=this.getMap().aMaps;for(var B=0;B<C.length;B++){if(C[B].oLayerOL===this.getMap().oMapOL.baseLayer){if(C[B].layerType==="Google"){return true}}}return false},activate:function(){if(!this.isGoogleBaseMapOn()){if(this.activated){this.deactivate()}alert(this.googleBaseMapErrorMessage);return }if(this.activated){return }this.setGoogleSVPage(null);if(!this.symbolLayer){this.symbolLayer=Fusion.SymbolLayer.CreateOrGet(this.symbolLayerName,{map:this.getMap().oMapOL,symbolStyle:this.symbolStyle,symbolRadius:this.symbolRadius,showDirection:this.showDirection,directionStyle:this.directionStyle,directionLength:this.directionLength})}this.symbolLayer.registerListener(this);this.symbolLayer.activateDragControl();this.activated=true;var C=Fusion.getFusionURL()+"widgets/GoogleStreetViewer/GoogleStreetView.php";var E=Fusion.getWidgetById(this.targetWindow);var B=$(this.targetWindow);var D=[];D.push("ts="+new Date().getTime());D.push("locale="+Fusion.locale);if(E||B){D.push("popup=false")}else{D.push("popup=true")}D=D.concat(this.additionalParameters);if(C.indexOf("?")<0){C+="?"}else{if(C.slice(-1)!="&"){C+="&"}}C+=D.join("&");if(E){E.setContent(C)}else{if(B){B.src=C}else{window.open(C,this.targetWindow,this.windowFeatures)}}},deactivate:function(){if(!this.activated){return }this.activated=false;if(this.symbolLayer!=null){this.symbolLayer.deregisterListener(this)}this.hideMessage(this.csTransformErrorMessage);this.hideMessage(this.serviceUnavailableMessage);this.hideMessage(this.googleBaseMapErrorMessage);if(this.GoogleSVPage!=null){this.GoogleSVPage.deregisterViewChangeListener(this);this.GoogleSVPage.hidePage()}},onSymbolChanged:function(B){if(!this.GoogleSVPage||!this.symbolLayer||!B){return }var F=new OpenLayers.LonLat(B.x,B.y);var D=new OpenLayers.LonLat(B.targetX,B.targetY);var E=this.getMap().projection;try{F.transform(E,this.targetCs);D.transform(E,this.targetCs);this.hideMessage(this.csTransformErrorMessage);var C=this.getUnitsPerMeter(this.targetCs);var H=this.getUnitsPerMeter(E);this.GoogleSVPage.setView(F.lon,F.lat,B.z*C/H,D.lon,D.lat,B.targetZ*C/H)}catch(G){this.showMessage(this.csTransformErrorMessage)}},getUnitsPerMeter:function(C){if(C.proj==null){return 1}var B=C.proj.unitIndex;if(B==null){var D=C.proj.units;if(!D){return 1}B=Fusion.unitFromName(D);C.proj.unitIndex=B}return Fusion.fromMeter(B,1)},onStreetViewChange:function(C){if(!this.activated||!this.GoogleSVPage||!C){return }var M=C.x;var K=C.y;var H=C.z;var L=C.targetX;var I=C.targetY;var G=C.targetZ;var B=new OpenLayers.LonLat(M,K);var F=new OpenLayers.LonLat(L,I);var N=this.getMap().projection;try{B.transform(this.targetCs,N);F.transform(this.targetCs,N);this.hideMessage(this.csTransformErrorMessage);M=B.lon;K=B.lat;L=F.lon;I=F.lat;var D=this.getUnitsPerMeter(this.targetCs);var J=this.getUnitsPerMeter(N);H=H*J/D;G=G*J/D;if(!this.getMap().getCurrentExtents().contains(M,K)){this.getMap().zoom(M,K,1)}this.symbolLayer.updateSymbolPosition(M,K,H,L,I,G,this)}catch(E){this.showMessage(this.csTransformErrorMessage)}},setGoogleSVPage:function(H){if(this.GoogleSVPage!=null){this.GoogleSVPage.deregisterViewChangeListener(this)}this.GoogleSVPage=H;if(H!=null){this.GoogleSVPage.registerViewChangeListener(this);if(this.GoogleSVPage.camera){this.onStreetViewChange(this.GoogleSVPage.camera)}else{if(!this.symbolLayer&&!this.symbolLayer.position){this.onSymbolChanged(this.symbolLayer.position)}else{var G=this.getMap().getCurrentCenter();var C=this.getMap().geoToPix(G.x,G.y);var E=this.getMap().pixToGeo(C.x,C.y-10);this.symbolLayer.updateSymbolPosition(G.x,G.y,0,E.x,E.y,0,null)}}}else{if(this.activated){var F=Fusion.Widget.uiInstances[this.type];for(var D=0;D<F.length;D++){var B=F[D];if(B.shouldActivateWith(this)){B.deactivate()}}this.deactivate()}}},showMessage:function(B){this.getMap().message.warn(B)},hideMessage:function(B){if(this.getMap().message){this.getMap().message.hideDesignatedMessage(B)}}});if(typeof (Proj4js)!="undefined"){Proj4js.reportError=function(B){if(Fusion.Widget.GoogleStreetViewer.hasGSV){throw B}}}Fusion.Widget.Help=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,sFeatures:"menubar=no,location=no,resizable=no,status=no",target:"HelpWindow",baseUrl:null,defaultUrl:"widgets/Help/Help.html",initializeWidget:function(C){var B=C.extension;this.target=B.Target?B.Target[0]:"HelpWindow";this.baseUrl=B.Url?B.Url[0]:this.defaultUrl;if(this.baseUrl==this.defaultUrl){this.baseUrl=Fusion.getFusionURL()+this.baseUrl}if(!C.Disabled||C.Disabled[0].toLowerCase()!="true"){this.enable()}},activate:function(){var C=this.baseUrl;var E=this.getMapLayer();var F=[];F.push("LOCALE="+Fusion.locale);F.push("SESSION="+E.getSessionID());F.push("MAPNAME="+E.getMapName());if(C.indexOf("?")<0){C+="?"}else{if(C.slice(-1)!="&"){C+="&"}}C+=F.join("&");var D=Fusion.getWidgetById(this.target);if(D){if(!D.isSameWithLast(C)){D.setContent(C)}}else{var B=$(this.target);if(B){B.src=C}else{window.open(C,this.target,this.sWinFeatures)}}}});Fusion.Widget.InitialMapView=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,viewType:"initial",initializeWidget:function(C){var B=C.extension;if(B.ViewType&&(B.ViewType[0].toLowerCase()=="full")){this.viewType="full"}},activate:function(){if(this.viewType=="full"){this.getMap().fullExtents()}else{var B=this.getMap();B.setExtents(B.initialExtents)}}});Fusion.Widget.InvokeScript=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,script:null,initializeWidget:function(C){var B=C.extension;this.script=B.Script?B.Script[0]:""},activate:function(){eval(this.script)}});Fusion.Widget.InvokeURL=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,sFeatures:"menubar=no,location=no,resizable=no,status=no",initializeWidget:function(F){var E=F.extension;this.sTarget=E.Target?E.Target[0]:"InvokeUrlWindow";this.sBaseUrl=E.Url[0];this.bSelectionOnly=(E.DisableIfSelectionEmpty&&(E.DisableIfSelectionEmpty[0]=="true"||E.DisableIfSelectionEmpty[0]=="1"))?true:false;this.additionalParameters=[];if(E.AdditionalParameter){for(var D=0;D<E.AdditionalParameter.length;D++){var G=E.AdditionalParameter[D];var C=G.Key[0];var B=G.Value[0];this.additionalParameters.push(C+"="+encodeURIComponent(B))}}this.enable=Fusion.Widget.InvokeURL.prototype.enable;this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_ON,OpenLayers.Function.bind(this.enable,this));this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_OFF,OpenLayers.Function.bind(this.enable,this));this.disable()},enable:function(){var C=this.getMap();var B=this.getMapLayer();if(this.bSelectionOnly||!C){if(C&&C.hasSelection()){if(B._sQueryfile){this.additionalParameters.push("queryfile="+B._sQueryfile)}if(this.action){this.action.setEnabled(true)}else{Fusion.Widget.prototype.enable.apply(this,[])}}else{if(this.action){this.action.setEnabled(false)}else{this.disable()}}}else{if(this.action){this.action.setEnabled(true)}else{Fusion.Widget.prototype.enable.apply(this,[])}}},activate:function(){var C=this.sBaseUrl;var E=this.getMapLayer();var F=[];F.push("locale="+Fusion.locale);F.push("session="+E.getSessionID());F.push("mapname="+E.getMapName());F.push("ts="+new Date().getTime());F=F.concat(this.additionalParameters);if(C.indexOf("?")<0){C+="?"}else{if(C.slice(-1)!="&"){C+="&"}}C+=F.join("&");var D=Fusion.getWidgetById(this.sTarget);if(D){if(!D.isSameWithLast(C)){D.setContent(C)}}else{var B=$(this.sTarget);if(B){B.src=C}else{window.open(C,this.sTarget,this.sFeatures)}}}});Fusion.Widget.LayerManager=OpenLayers.Class(Fusion.Widget,{currentNode:null,bIsDrawn:false,map:null,defTemplate:'<li id="{id}" class="jxListItemContainer jxLmanLayer"><a class="jxListItem lmanLabel" href="javascript:void(0);" alt="{label}" title="{label}"><input type="checkbox" class="lmanVisCheck" {visSelect}><img class="lmanLayerIcon" src="'+Jx.aPixel.src+'" style="background-image: url({icon}); background-position: {iconOffset}; width:16px; height:16px;"><span class="lmanLayerLabel">{label}</span><img src="{delIcon}" class="lmanDelIcon"><img src="{infoIcon}" class="lmanInfoIcon"></a></li>',initializeWidget:function(C){var B=C.extension;this.delIconSrc=B.DeleteIcon?B.DeleteIcon[0]:"images/icons/select-delete.png";this.infoIconSrc=B.LayerInfoIcon?B.LayerInfoIcon[0]:"images/icons/tree_layer_info.png";this.template=B.Template?B.Template[0]:this.defTemplate;Fusion.addWidgetStyleSheet(C.location+"LayerManager/LayerManager.css");this.cursorNormal=["url('images/grab.cur'),move","grab","-moz-grab","move"];this.cursorDrag=["url('images/grabbing.cur'),move","grabbing","-moz-grabbing","move"];this.map=this.getMap();this.map.registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.mapLoaded,this));this.map.registerForEvent(Fusion.Event.MAP_RELOADED,OpenLayers.Function.bind(this.mapReLoaded,this));this.map.registerForEvent(Fusion.Event.MAP_SCALE_RANGE_LOADED,OpenLayers.Function.bind(this.scaleRangeLoaded,this));this.getMapLayer().registerForEvent(Fusion.Event.LAYER_PROPERTY_CHANGED,OpenLayers.Function.bind(this.layerChanged,this))},scaleRangeLoaded:function(){this.draw()},mapLoaded:function(){},layerChanged:function(C,B){this.updateLayer(this.getMapLayer());this.updateSessionMapFile()},mapReLoaded:function(){this.draw()},clear:function(B){while(B.childNodes.length>0){this.clear(B.childNodes[0]);B.removeChild(B.childNodes[0])}},draw:function(E){var D=this.domObj.getChildren();for(var C=0;C<D.length;++C){D[C].destroy()}var G=this.getMap();for(var C=0;C<G.aMaps.length;++C){var F=new Element("div",{id:"mapBlock_"+C});F.map=G;var B=new Element("a",{html:G.aMaps[C]._sMapTitle,"class":"jxLmanHandle jxListItem"});F.adopt(B);this.processMapBlock(F,G.aMaps[C]);this.domObj.adopt(F)}},processMapBlock:function(F,H){H.layerList=new Jx.ListView({"class":"jxLmanSet",id:"fusionLayerManager_"+H.getMapName()}).addTo(F);H.layerPrefix="layer_";var G=H.aLayers;for(var C=0;C<G.length;++C){var D=this.createItem(G[C]);D.addTo(H.layerList)}var B={constrain:true,clone:false,revert:true,onComplete:OpenLayers.Function.bind(this.updateLayer,this,H)};var E=new Sortables(H.layerList,B)},createItem:function(K){var I=K.oMap.getScale();var J=K.getScaleRange(I);var D=Jx.aPixel.src;var G="0px 0px";var N=K.legendLabel;if(J&&J.styles.length>0){var F=J.styles[0];var E=0;var C=0;if(F&&F.iconX>=0&&F.iconY>=0){E=-1*(F.iconX);C=-1*(F.iconY)}D=F.iconOpt.url;G=E+"px "+C+"px";if(F.legendLabel){N=F.legendLabel}}var H=this.template.substitute({id:"layer_"+K.uniqueId,label:N,icon:D,iconOffset:G,delIcon:this.delIconSrc,infoIcon:this.infoIconSrc,visSelect:K.visible?"CHECKED":""});var B=new Jx.ListItem({template:H});var P=B.domObj.getElements("img");var M=P[2];var O=P[1];var L=K.oMap.getLayerInfoUrl(K.layerName);if(!L){M.style.display="none"}OpenLayers.Event.observe(M,"click",OpenLayers.Function.bind(this.showLayerInfo,this,K));OpenLayers.Event.observe(O,"click",OpenLayers.Function.bind(this.deleteLayer,this,K));OpenLayers.Event.observe(B.domObj.getElement("input"),"click",OpenLayers.Function.bind(this.visChanged,this,K));OpenLayers.Event.observe(B.domObj,"mouseover",OpenLayers.Function.bind(this.setGrabCursor,this));OpenLayers.Event.observe(B.domObj,"mousedown",OpenLayers.Function.bind(this.setDragCursor,this));OpenLayers.Event.observe(B.domObj,"mouseout",OpenLayers.Function.bind(this.setNormalCursor,this));OpenLayers.Event.observe(B.domObj,"mouseover",OpenLayers.Function.bind(this.setHandleVis,this,O,M));OpenLayers.Event.observe(B.domObj,"mouseout",OpenLayers.Function.bind(this.setHandleHide,this,O,M));return B},setHandleVis:function(C,B){C.style.visibility="visible";B.style.visibility="visible"},setHandleHide:function(C,B){C.style.visibility="hidden";B.style.visibility="hidden"},setGrabCursor:function(C){var B=(new Event(C)).target;this.setCursor(this.cursorDrag,B)},setDragCursor:function(C){var B=(new Event(C)).target;this.setCursor(this.cursorDrag,B)},setNormalCursor:function(C){var B=(new Event(C)).target;this.setCursor("auto",B)},setCursor:function(D,B){this.cursor=D;if(D&&D.length&&typeof D=="object"){for(var C=0;C<D.length;C++){B.style.cursor=D[C];if(B.style.cursor==D[C]){break}}}else{if(typeof D=="string"){B.style.cursor=D}else{B.style.cursor="auto"}}},updateLayer:function(C){var D=[];var I=[];var B=C.layerList.listObj.getChildren();var E=B.length;for(var G=0;G<E;++G){I[G]=B[G].id.split("_");var H=parseInt(I[G].pop());D.push(H);B[G].id=""}for(var G=0;G<B.length;++G){var F=B[G];I[G].push(G);F.id=I[G].join("_")}var J=false;if(D.length==C.aLayers.length){for(var G=0;G<D.length;++G){if(D[G]!=G){J=true;break}}}else{J=true}if(J){C.reorderLayers(D)}},updateMapBlock:function(B){},deleteLayer:function(C,D){var B=(new Event(D)).target.parentNode.parentNode;$(B).dispose();C.oMap.layerList.remove(B);this.oMap.layerRoot.deleteLayer(C.uniqueId);this.updateLayer(C.oMap)},showLayerInfo:function(B,C){var D=B.oMap.getLayerInfoUrl(B.layerName);if(D){window.open(D)}},visChanged:function(B,C){var D=(new Event(C)).target;if(D.checked){B.show()}else{B.hide()}},updateSessionMapFile:function(){var F=this.getMapLayer();var E=F.getSessionID();var I=F.aLayers;var C=[];var H=[];for(var G=0;G<I.length;G++){C.push(I[G].layerName);if(I[G].visible==true){H.push(I[G].layerName)}}var D="&session="+E+"&mapname="+F.getMapName()+"&visLayers="+H+"&layers="+C;var J={parameters:D};var B="layers/"+F.arch+"/"+Fusion.getScriptLanguage()+"/updateSessionMapFile."+Fusion.getScriptLanguage();Fusion.ajaxRequest(B,J)}});Fusion.Widget.Legend=OpenLayers.Class(Fusion.Widget,{defaultLayerDWFIcon:"images/icons/legend-DWF.png",defaultLayerRasterIcon:"images/icons/legend-raster.png",defaultLayerThemeIcon:"images/icons/legend-theme.png",defaultDisabledLayerIcon:"images/icons/legend-layer.png",defaultRootFolderIcon:"images/icons/legend-map.png",defaultLayerInfoIcon:"images/icons/layer-info.png",defaultGroupInfoIcon:"images/icons/group-info.png",outOfRangeIcon:"images/icons/out-of-range.png",initializeWidget:function(widgetTag){Fusion.addWidgetStyleSheet(widgetTag.location+"Legend/Legend.css");var json=widgetTag.extension;if(json.LegendRenderer){var renderer=eval(json.LegendRenderer[0]);if(renderer&&renderer.prototype.CLASS_NAME&&renderer.prototype.CLASS_NAME=="Fusion.Widget.Legend.LegendRenderer"){this.renderer=new renderer(this,widgetTag)}else{if(typeof renderer=="function"){var renderFunction=renderer;this.renderer=new Fusion.Widget.Legend.LegendRenderer(this);this.renderer.mapLoaded=renderFunction;this.renderer.mapReloaded=renderFunction;this.renderer.mapLoading=false}else{this.renderer=new Fusion.Widget.Legend.LegendRendererDefault(this,widgetTag)}}}else{this.renderer=new Fusion.Widget.Legend.LegendRendererDefault(this,widgetTag)}if(this.renderer.mapReloaded){this.getMap().registerForEvent(Fusion.Event.MAP_RELOADED,OpenLayers.Function.bind(this.renderer.mapReloaded,this.renderer))}if(this.renderer.mapLoading){this.getMap().registerForEvent(Fusion.Event.MAP_LOADING,OpenLayers.Function.bind(this.renderer.mapLoading,this.renderer))}if(this.renderer.mapLoaded){this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.renderer.mapLoaded,this.renderer))}if(this.renderer.scaleRangesLoaded){this.getMap().registerForEvent(Fusion.Event.MAP_SCALE_RANGE_LOADED,OpenLayers.Function.bind(this.renderer.scaleRangesLoaded,this.renderer))}}});Fusion.Widget.Legend.LegendRenderer=OpenLayers.Class({oLegend:null,layerRoot:null,initialize:function(B){this.oLegend=B;this.layerRoot=this.getMap().layerRoot},renderLegend:function(){},mapLoading:function(){},mapLoaded:function(){},mapReloaded:function(){},mapRefresh:function(){},getMap:function(){return this.oLegend.getMap()},CLASS_NAME:"Fusion.Widget.Legend.LegendRenderer"});Fusion.Widget.Legend.LegendRendererDefault=OpenLayers.Class(Fusion.Widget.Legend.LegendRenderer,{showRootFolder:false,currentNode:null,bIsDrawn:false,updateDelay:500,targetFolder:null,bIncludeVisToggle:true,offsetsCalculated:false,initialize:function(D,E){Fusion.Widget.Legend.LegendRenderer.prototype.initialize.apply(this,[D]);var C=E.extension;this.imgLayerDWFIcon=C.LayerDWFIcon?C.LayerDWFIcon[0]:this.oLegend.defaultLayerDWFIcon;this.imgLayerRasterIcon=C.LayerRasterIcon?C.LayerRasterIcon[0]:this.oLegend.defaultLayerRasterIcon;this.imgLayerThemeIcon=C.LayerThemeIcon?C.LayerThemeIcon[0]:this.oLegend.defaultLayerThemeIcon;this.imgDisabledLayerIcon=C.DisabledLayerIcon?C.DisabledLayerIcon[0]:this.oLegend.defaultDisabledLayerIcon;this.imgLayerInfoIcon=C.LayerInfoIcon?C.LayerInfoIcon[0]:this.oLegend.defaultLayerInfoIcon;this.imgGroupInfoIcon=C.GroupInfoIcon?C.GroupInfoIcon[0]:this.oLegend.defaultGroupInfoIcon;this.selectedLayer=null;this.selection=new Jx.Selection({onSelect:function(F){var H=F.retrieve("jxTreeItem");var G=H.options.data;if(G instanceof Fusion.Layers.Group){this.getMap().setActiveLayer(null)}else{this.getMap().setActiveLayer(G)}}.bind(this)});this.oTree=new Jx.Tree({template:'<ul class="jxTreeRoot fusionLegendTreeRoot"></ul>',selection:this.selection}).addTo(this.oLegend.domObj);this.hideInvisibleLayers=(C.HideInvisibleLayers&&C.HideInvisibleLayers[0])=="true"?true:false;this.showRootFolder=(C.ShowRootFolder&&C.ShowRootFolder[0]=="true")?true:false;this.showMapFolder=(C.ShowMapFolder&&C.ShowMapFolder[0]=="false")?false:true;if(!this.showRootFolder){this.oRoot=this.oTree}else{var B={label:OpenLayers.i18n("defaultMapTitle"),open:true};this.oRoot=new Jx.TreeFolder(B);this.oTree.add(this.oRoot)}this.extentsChangedWatcher=this.update.bind(this)},getContextMenu:function(){return new Jx.Menu.Context(this.name).add([new Jx.Menu.Item({label:OpenLayers.i18n("refresh"),onClick:OpenLayers.Function.bind(this.update,this)}),new Jx.Menu.Item({label:OpenLayers.i18n("collapseAll"),onClick:OpenLayers.Function.bind(this.collapseAll,this)}),new Jx.Menu.Item({label:OpenLayers.i18n("expandAll"),onClick:OpenLayers.Function.bind(this.expandAll,this)})])},expandAll:function(B){this.oTree.items().each(function(C){if(C instanceof Jx.TreeFolder){this.recurseTree("expand",C)}},this);if(this.showRootFolder){this.oRoot.expand()}},collapseAll:function(B){this.oTree.items().each(function(C){if(C instanceof Jx.TreeFolder){this.recurseTree("collapse",C)}},this);if(this.showRootFolder){this.oRoot.collapse()}},collapseBranch:function(B){B.collapse()},expandBranch:function(B){B.expand()},recurseTree:function(C,B){B.items().each(function(D){if(D instanceof Jx.TreeFolder){this.recurseTree(C,D);D[C]()}},this)},scaleRangesLoaded:function(){this.layerRoot=this.getMap().layerRoot;this.renderLegend()},mapLoading:function(){this.getMap().deregisterForEvent(Fusion.Event.MAP_EXTENTS_CHANGED,this.extentsChangedWatcher);this.clear()},mapLoaded:function(){this.getMap().registerForEvent(Fusion.Event.MAP_EXTENTS_CHANGED,this.extentsChangedWatcher);var B=this.oLegend.getMapLayer();B.registerForEvent(Fusion.Event.MAP_LAYER_ORDER_CHANGED,OpenLayers.Function.bind(this.mapRefresh,this));this.layerRoot=this.getMap().layerRoot},mapReloaded:function(){this.layerRoot=this.getMap().layerRoot;this.renderLegend()},mapRefresh:function(){var B=this.oLegend.getMapLayer();B.parseLayers();this.layerRoot=this.getMap().layerRoot;this.renderLegend()},renderLegend:function(F){this.bIsDrawn=false;this.clear();if(this.showRootFolder){this.oRoot.setLabel(this.getMap().mapGroup.mapId)}var D=this.layerRoot;if(!this.showMapFolder){D=this.layerRoot.groups[0]}if(!D.legend){D.legend={};D.legend.treeItem=this.oRoot}if(this.layerRoot.groups.length>1){if(this.showMapFolder){for(var E=0;E<this.layerRoot.groups.length;E++){this.processMapGroup(this.layerRoot.groups[E],this.oRoot)}}else{for(var E=0;E<this.layerRoot.groups.length;E++){var C=this.layerRoot.groups[E];if(!C.legend){C.legend={};C.legend.treeItem=this.oRoot}for(var B=0;B<C.groups.length;B++){this.processMapGroup(C.groups[B],this.oRoot)}for(var B=0;B<C.layers.length;B++){this.processMapLayer(C.layers[B],this.oRoot)}}}}else{if(!D.legend){D.legend={};D.legend.treeItem=this.oRoot}for(var E=0;E<D.groups.length;E++){this.processMapGroup(D.groups[E],this.oRoot)}for(var E=0;E<D.layers.length;E++){this.processMapLayer(D.layers[E],this.oRoot)}}this.bIsDrawn=true;this.update()},processMapGroup:function(G,E){if(G.displayInLegend){G.legend={};var D={label:G.legendLabel,open:G.expandInLegend,checked:G.visible};var F=new Fusion.Widget.Legend.TreeFolder(D);F.options.data=G;G.legend.treeItem=F;E.add(F);var C=G.oMap.getGroupInfoUrl(G.groupName);if(C){F.setGroupInfo(C,this.imgGroupInfoIcon)}for(var B=0;B<G.groups.length;B++){this.processMapGroup(G.groups[B],F)}for(var B=0;B<G.layers.length;B++){this.processMapLayer(G.layers[B],F)}}},processMapLayer:function(B,C){B.legend={};B.legend.parentItem=C;B.legend.currentRange=null;B.oMap.registerForEvent(Fusion.Event.LAYER_PROPERTY_CHANGED,OpenLayers.Function.bind(this.layerPropertyChanged,this))},layerPropertyChanged:function(C,B){B.legend.treeItem.check(B.isVisible())},updateTimer:null,update:function(){if(this.bIsDrawn){if(this.updateTimer){window.clearTimeout(this.updateTimer);this.updateTimer=null}this.updateTimer=window.setTimeout(OpenLayers.Function.bind(this._update,this),this.updateDelay)}},_update:function(){this.oTree.freeze();this.updateTimer=null;var D=this.getMap();var C=D.getScale();for(var B=0;B<D.layerRoot.groups.length;B++){this.updateGroupLayers(D.layerRoot.groups[B],C)}for(var B=D.layerRoot.layers.length-1;B>=0;B--){this.updateLayer(D.layerRoot.layers[B],C)}this.oTree.thaw()},clear:function(){var C=this.getMap();for(var B=0;B<C.layerRoot.groups.length;B++){this.clearGroup(C.layerRoot.groups[B])}for(var B=0;B<C.layerRoot.layers.length;B++){if(C.layerRoot.layers[B].legend){C.layerRoot.layers[B].legend.treeItem=null;C.layerRoot.layers[B].legend.checkbox=null;C.layerRoot.layers[B].legend.currentRange=null}}this.oRoot.empty()},clearGroup:function(C){for(var B=0;B<C.groups.length;B++){this.clearGroup(C.groups[B])}for(var B=0;B<C.layers.length;B++){if(C.layers[B].legend){C.layers[B].legend.treeItem=null;C.layers[B].legend.currentRange=null}}},addLayerStyleTreeItems:function(C,B){C.tree.freeze();C.add(B);C.tree.thaw()},addLayerTreeItem:function(C,B){C.add(B,0)},updateGroupLayers:function(D,B){for(var C=0;C<D.groups.length;C++){this.updateGroupLayers(D.groups[C],B)}for(var C=D.layers.length-1;C>=0;C--){this.updateLayer(D.layers[C],B)}},updateLayer:function(L,G){if(!L.displayInLegend||!L.legend){return }var J=L.getScaleRange(G);if(J==L.legend.currentRange&&L.legend.treeItem){return }L.legend.currentRange=J;if(J!=null&&J.styles){if(J.styles.length>1){if(!L.legend.treeItem){L.legend.treeItem=this.createFolderItem(L);this.addLayerTreeItem(L.parentGroup.legend.treeItem,L.legend.treeItem)}else{if(L.legend.treeItem instanceof Fusion.Widget.Legend.TreeItem){this.clearTreeItem(L);L.legend.treeItem=this.createFolderItem(L);this.addLayerTreeItem(L.parentGroup.legend.treeItem,L.legend.treeItem)}else{L.legend.treeItem.empty()}}if(J.isCompressed){L.legend.treeItem.layer=L;L.legend.treeItem.range=J;L.legend.treeItem.scale=G;L.legend.treeItem.hasDecompressedTheme=false;var F=[];F.push(this.createTreeItem(L,J.styles[0],G,false));F.push(this.createThemeCompressionItem(J.styles.length-2,L.legend.treeItem));F.push(this.createTreeItem(L,J.styles[J.styles.length-1],G,false));this.addLayerStyleTreeItems(L.legend.treeItem,F)}else{var F=[];for(var H=0;H<J.styles.length;H++){F.push(this.createTreeItem(L,J.styles[H],G,false))}this.addLayerStyleTreeItems(L.legend.treeItem,F)}}else{var D=J.styles[0];if(D&&!D.legendLabel){D.legendLabel=L.legendLabel}if(!L.legend.treeItem){L.legend.treeItem=this.createTreeItem(L,D,G,!L.isBaseMapLayer);this.addLayerTreeItem(L.parentGroup.legend.treeItem,L.legend.treeItem)}else{if(L.legend.treeItem instanceof Fusion.Widget.Legend.TreeFolder){this.clearTreeItem(L);L.legend.treeItem=this.createTreeItem(L,D,G,!L.isBaseMapLayer);this.addLayerTreeItem(L.parentGroup.legend.treeItem,L.legend.treeItem)}else{if(J.styles.length>0){var E;if(D.iconOpt&&D.iconOpt.url){E=D.iconOpt.url;var I=L.legend.treeItem.elements.get("jxTreeIcon");var C=-1*D.iconX;var B=-1*D.iconY;I.style.backgroundPosition=C+"px "+B+"px"}else{E=L.oMap.getLegendImageURL(G,L,D)}L.legend.treeItem.setImage(E);L.legend.treeItem.enable(true)}else{L.legend.treeItem.enable(false)}}}}}else{if(this.hideInvisibleLayers){if(L.legend.treeItem){L.parentGroup.legend.treeItem.remove(L.legend.treeItem);L.legend.treeItem=null}}else{var K=this.createTreeItem(L,{legendLabel:L.legendLabel,iconOpt:{url:this.oLegend.outOfRangeIcon}},null,!L.isBaseMapLayer);if(L.legend.treeItem){L.parentGroup.legend.treeItem.replace(L.legend.treeItem,K);L.legend.treeItem.finalize()}else{this.addLayerTreeItem(L.parentGroup.legend.treeItem,K)}L.legend.treeItem=K}}if(L.legend.treeItem){L.legend.treeItem.options.data=L;if(!L.isBaseMapLayer){L.legend.treeItem.check(L.visible)}}},getThemeExpandContextMenu:function(B){return new Jx.Menu.Context(this.name).add([new Jx.Menu.Item({label:OpenLayers.i18n("expandTheme"),onClick:OpenLayers.Function.bind(function(){this.expandTheme(B)},this)})])},expandTheme:function(G){if(G.hasDecompressedTheme!==true&&confirm(OpenLayers.i18n("expandCompressedThemeConfirmation"))){var B=G.range;var E=G.layer;var C=G.scale;G.empty();for(var D=0;D<B.styles.length;D++){var F=this.createTreeItem(E,B.styles[D],C,false);G.add(F)}G.hasDecompressedTheme=true}},createThemeCompressionItem:function(E,D){var B={label:OpenLayers.i18n("otherThemeItems",{count:E}),draw:this.renderItem,contextMenu:this.getThemeExpandContextMenu(D),image:this.imgBlankIcon};var C=new Jx.TreeItem(B);return C},createFolderItem:function(D){var C={label:D.legendLabel==""?"&nbsp;":D.legendLabel,open:D.expandInLegend,image:this.imgLayerThemeIcon};if(D.metadata){C.selectable=!D.metadata.jxUnselectable||(D.metadata.jxUnselectable&&D.metadata.jxUnselectable!="true")}else{C.selectable=false}var E;if(!D.isBaseMapLayer){E=new Fusion.Widget.Legend.TreeFolder(C);var F=D.oMap.getLayerInfoUrl(D.layerName);if(F){E.setLayerInfo(F,this.imgLayerInfoIcon)}}else{C.selectable=false;E=new Jx.TreeFolder(C)}var B=E.elements.get("jxTreeIcon");B.style.backgroundPosition="0px 0px";return E},createTreeItem:function(J,D,F,I){var E={};E.statusIsDefault=J.statusDefault;if(D&&J.legend.currentRange.styles.length>1){E.label=D.legendLabel==""?"&nbsp;":D.legendLabel}else{E.label=J.legendLabel==""?"&nbsp;":J.legendLabel}if(J.metadata){E.selectable=!J.metadata.jxUnselectable||(J.metadata.jxUnselectable&&J.metadata.jxUnselectable!="true")}else{E.selectable=false}if(!D){E.image=this.imgDisabledLayerIcon;E.enabled=false}else{if(D.iconOpt&&D.iconOpt.url){E.image=D.iconOpt.url}else{E.image=J.oMap.getLegendImageURL(F,J,D)}}var P;if(!J.isBaseMapLayer&&I){P=new Fusion.Widget.Legend.TreeItem(E);var L=J.oMap.getLayerInfoUrl(J.layerName);if(L){P.setLayerInfo(L,this.imgLayerInfoIcon)}}else{E.selectable=false;P=new Jx.TreeItem(E)}var C=0;var B=0;var G=P.elements.get("jxTreeIcon");if(D&&D.iconX>=0&&D.iconY>=0){if(!this.offsetsCalculated){var N=G.parentNode;var O=G.getPrevious();var K=new Element("div",{"class":"fusionLegendTreeRoot"});G.setStyle("visiblity","hidden");G.inject(K);var M=16;var H=16;if(!O){G.inject(N,"top")}else{G.inject(O,"after")}G.setStyle("visibility","visible");this.iconWidth=((D.iconOpt?D.iconOpt.width:16)-M)/2;this.iconHeight=((D.iconOpt?D.iconOpt.height:16)-H)/2;this.offsetsCalculated=true}C=-1*(D.iconX+this.iconWidth);B=-1*(D.iconY+this.iconHeight);G.style.backgroundPosition=C+"px "+B+"px"}return P},clearTreeItem:function(B){if(B.legend.treeItem&&B.legend.treeItem.owner){B.legend.treeItem.owner.remove(B.legend.treeItem);B.legend.treeItem.destroy();B.legend.treeItem=null}}});Fusion.Widget.Legend.TreeItem=new Class({Extends:Jx.TreeItem,options:{template:'<li class="jxTreeContainer jxTreeLeaf"><img class="jxTreeImage" src="'+Jx.aPixel.src+'" alt="" title=""><span class="fusionLegendCheckboxContainer"><input type="checkbox" class="fusionLegendCheckboxInput"></span><a class="fusionLayerInfo" target="_blank"><img class="fusionLayerInfoIcon" src="'+Jx.aPixel.src+'"></a><a class="jxTreeItem fusionCheckboxItem" href="javascript:void(0);"><img class="jxTreeIcon" src="'+Jx.aPixel.src+'" alt="" title=""><span class="jxTreeLabel" alt="" title=""></span></a></li>'},classes:new Hash({domObj:"jxTreeContainer",domA:"jxTreeItem",domImg:"jxTreeImage",domIcon:"jxTreeIcon",domLabel:"jxTreeLabel",checkbox:"fusionLegendCheckboxInput",layerInfo:"fusionLayerInfo",layerInfoIcon:"fusionLayerInfoIcon"}),init:function(){this.bound.onClick=function(B){if(this.options.data){if(B.target.checked&&this.options.data.show){this.options.data.show()}else{if(!B.target.checked&&this.options.data.hide){this.options.data.hide()}}}}.bind(this);this.bound.enabled=function(){this.checkbox.disabled=false}.bind(this);this.bound.disabled=function(){this.checkbox.disabled=true}.bind(this);this.parent()},render:function(){this.parent();this.domLabel.set("alt",this.options.label);this.domLabel.set("title",this.options.label);if(this.checkbox){if($defined(this.options.checked)){this.check(this.options.checked)}this.checkbox.addEvent("click",this.bound.onClick);this.addEvents({enabled:this.bound.enabled,disabled:this.bound.disabled})}},cleanup:function(){this.removeEvents({enabled:this.bound.enabled,disabled:this.bound.disabled});if(this.checkbox){this.checkbox.removeEvent("click",this.bound.onClick)}this.bound.onClick=null;this.bound.enabled=null;this.bound.disabled=null;this.parent()},check:function(B){if(this.checkbox){this.checkbox.set("checked",B)}},isChecked:function(){return this.checkbox&&this.checkbox.checked},setLayerInfo:function(B,C){this.domObj.addClass("fusionShowLayerInfo");if(this.layerInfo){this.layerInfo.set("href",B)}if(this.layerInfoIcon){this.layerInfoIcon.set("src",C)}}});Fusion.Widget.Legend.TreeFolder=new Class({Extends:Jx.TreeFolder,options:{template:'<li class="jxTreeContainer jxTreeBranch"><img class="jxTreeImage" src="'+Jx.aPixel.src+'" alt="" title=""><span class="fusionLegendCheckboxContainer"><input type="checkbox" class="fusionLegendCheckboxInput"></span><a class="jxTreeItem fusionCheckboxItem" href="javascript:void(0);"><img class="jxTreeIcon" src="'+Jx.aPixel.src+'" alt="" title=""><span class="jxTreeLabel" alt="" title=""></span></a><a class="fusionGroupInfo"><img class="fusionGroupInfoIcon" src="'+Jx.aPixel.src+'"></a><a class="fusionLayerInfo"><img class="fusionLayerInfoIcon" src="'+Jx.aPixel.src+'"></a><ul class="jxTree"></ul></li>'},classes:new Hash({domObj:"jxTreeContainer",domA:"jxTreeItem",domImg:"jxTreeImage",domIcon:"jxTreeIcon",domLabel:"jxTreeLabel",domTree:"jxTree",checkbox:"fusionLegendCheckboxInput",layerInfo:"fusionLayerInfo",layerInfoIcon:"fusionLayerInfoIcon",groupInfo:"fusionGroupInfo",groupInfoIcon:"fusionGroupInfoIcon"}),init:function(){this.bound.onClick=function(B){if(this.options.data){if(B.target.checked&&this.options.data.show){this.options.data.show()}else{if(!B.target.checked&&this.options.data.hide){this.options.data.hide()}}}}.bind(this);this.bound.enabled=function(){this.checkbox.disabled=false}.bind(this);this.bound.disabled=function(){this.checkbox.disabled=true}.bind(this);this.parent()},render:function(){this.parent();this.domLabel.set("alt",this.options.label);this.domLabel.set("title",this.options.label);if(this.checkbox){if($defined(this.options.checked)){this.check(this.options.checked)}this.checkbox.addEvent("click",this.bound.onClick);this.addEvents({enabled:this.bound.enabled,disabled:this.bound.disabled})}},cleanup:function(){this.removeEvents({enabled:this.bound.enabled,disabled:this.bound.disabled});if(this.checkbox){this.checkbox.removeEvent("click",this.bound.onClick)}this.bound.onClick=null;this.bound.enabled=null;this.bound.disabled=null;this.parent()},check:function(B){if(this.checkbox){this.checkbox.set("checked",B)}},isChecked:function(){return this.checkbox&&this.checkbox.checked},setLayerInfo:function(B,C){this.domObj.addClass("fusionShowLayerInfo");if(this.layerInfo){this.layerInfo.set("href",B)}if(this.layerInfoIcon){this.layerInfoIcon.set("src",C)}},setGroupInfo:function(B,C){this.domObj.addClass("fusionShowGroupInfo");if(this.groupInfo){this.groupInfo.set("href",B)}if(this.groupInfoIcon){this.groupInfoIcon.set("src",C)}}});Fusion.Widget.LinkToView=OpenLayers.Class(Fusion.Widget,{initializeWidget:function(C){var B=C.extension;this.baseUrl=window.location.protocol+"//"+window.location.host+window.location.pathname+"?";var D="";for(var E in Fusion.queryParams){if(typeof Fusion.queryParams[E]=="string"){if(E=="extent"||E=="filter"||E=="spatialfilter"||E=="variant"||E=="theme"||E=="selectlayer"||E=="showlayers"||E=="hidelayers"||E=="showgroups"||E=="hidegroups"){continue}this.baseUrl+=D+E+"="+Fusion.queryParams[E];D="&"}}this.anchorLabel=B.Label?B.Label[0]:(this.domObj?(this.domObj.innerHTML?this.domObj.innerHTML:"Link to View"):"Link to View");Fusion.addWidgetStyleSheet(C.location+"LinkToView/LinkToView.css");this.anchor=document.createElement("input");this.anchor.className="anchorLinkToView";this.anchor.value=this.baseUrl;this.anchor.title=B.Tooltip?B.Tooltip[0]:"Right-click to copy or bookmark link to current view";this.anchor.onfocus=OpenLayers.Function.bind(this.selectAnchorValue,this);if(this.domObj){this.domObj.innerHTML="";this.domObj.appendChild(this.anchor)}this.getMap().oMapOL.events.register("addlayer",this,this.setListener);this.enable()},setUiObject:function(B){Fusion.Widget.prototype.setUiObject.apply(this,[B]);if(this.uiObj.domObj){this.uiObj.domObj.appendChild(this.anchor)}else{this.uiObj.appendChild(this.anchor)}},selectAnchorValue:function(){this.anchor.select()},setListener:function(B){var C=B.layer;C.events.register("loadend",this,this.updateLink)},updateLink:function(){var B=(this.baseUrl.indexOf("?")==this.baseUrl.length-1)?"":"&";var C=this.getMap().getLinkParams();this.anchor.value=this.baseUrl+B+C}});Fusion.Widget.MapMenu=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Menu,domObj:null,mapGroupData:null,loadOverlaysOnly:false,rootFolder:"",menus:null,initializeWidget:function(C){this.extension=this.widgetTag.extension;var B=this.getMapLayer();this.arch=B.arch;if(this.arch=="MapGuide"&&this.extension.Folder){this.rootFolder=this.extension.Folder?this.extension.Folder[0]:"Library://";this.requestURL="layers/"+this.arch+"/"+Fusion.getScriptLanguage()+"/MapMenu."+Fusion.getScriptLanguage()}else{if(this.arch=="MapServer"&&this.extension.Folder){this.rootFolder=this.extension.Folder?this.extension.Folder[0]:"/";this.requestURL=this.extension.ListURL?this.extension.ListURL[0]:"/platform/api/mapsherpa.php";this.publishedMapsOnly=this.extension.PublishedMapsOnly?this.extension.PublishedMapsOnly:false;if(this.publishedMapsOnly){this.platformRequest="listpublishedmaps"}else{this.platformRequest="listresources"}}}this.loadOverlaysOnly=(this.extension.LoadOverlaysOnly&&this.extension.LoadOverlaysOnly[0]=="true")?true:false;this.getMapLayer().registerForEvent(Fusion.Event.MAP_SESSION_CREATED,OpenLayers.Function.bind(this.loadMenu,this));this.enable()},setUiObject:function(F){Fusion.Widget.prototype.setUiObject.apply(this,[F]);this.loadMaxExtent=this.extension.LoadMaxExtent?(this.extension.LoadMaxExtent[0].toLowerCase()=="true"):false;var E=Fusion.applicationDefinition.mapGroups;this.mapGroupData={};for(var B in E){if(E[B].mapId){var D=E[B];if(this.extension.Folder){this.mapGroupData[D.maps[0].resourceId]=D}else{var G=D;var C=new Jx.Menu.Item({label:D.mapId,onClick:OpenLayers.Function.bind(this.switchMap,this,G)});this.uiObj.add(C)}}}},loadMenu:function(){if(this.arch=="MapGuide"&&this.extension.Folder){var E={parameters:{folder:this.rootFolder},onComplete:OpenLayers.Function.bind(this.processMapMenu,this)};Fusion.ajaxRequest(this.requestURL,E)}else{if(this.arch=="MapServer"&&this.extension.Folder){var D=this.getMapLayer();var C={parameters:{request:this.platformRequest,type:"map",session:D.getSessionID(),depth:-1,folder:this.rootFolder},method:"GET",onComplete:OpenLayers.Function.bind(this.processMSMapMenu,this)};var B=new OpenLayers.Ajax.Request(this.requestURL,C)}}},processMSMapMenu:function(C){if(C.status==200){var D=Fusion.parseJSON(C.responseText);this.menus={};this.uiObj.empty();if(D.values&&D.values.resources){var J=D.values.resources;var H=this.getMapLayer();for(var I=0;I<J.length;I++){var F=J[I];var L=F.sResourceId;L=L.replace(this.rootFolder,"");var E=L.split("/");var K=E.pop();var M=E.join("/");this.createFolders(M);var G={maps:[{resourceId:F.sResourceId,singleTile:true,type:H.arch,sid:H.getSessionID(),layerOptions:{},id:H.id,extension:{MapFile:["platform:/"+F.sResourceId],MapMetadata:[H.mapMetadataKeys],LayerMetadata:[H.layerMetadataKeys]}}]};G.getInitialView=function(){return this.initialView};if(this.loadOverlaysOnly){G.maps[0].layerOptions.isBaseLayer=false}var B=new Jx.Menu.Item({label:K,onClick:OpenLayers.Function.bind(this.switchMap,this,G)});if(M==""){this.uiObj.add(B)}else{this.menus[M].add(B)}}}}},processMapMenu:function(D){if(D.status==200){var H=Fusion.parseJSON(D.responseText);this.menus={};for(var B=0;B<H.maps.length;B++){var G=H.maps[B];var F=G.path.replace(this.rootFolder,"");if(F.lastIndexOf("/")>-1){F=F.slice(0,F.lastIndexOf("/"));this.createFolders(F)}else{F=""}var E=null;if(this.mapGroupData[G.path]){E=this.mapGroupData[G.path]}else{E={maps:[{resourceId:G.path,singleTile:true,type:this.arch,extension:{ResourceId:[G.path]}}]};E.getInitialView=function(){return this.initialView}}var C=new Jx.Menu.Item({label:G.name,onClick:OpenLayers.Function.bind(this.switchMap,this,E)});if(F==""){this.uiObj.add(C)}else{this.menus[F].add(C)}}}},createFolders:function(G){var D=G.split("/");var E="";var C="";for(var B=0;B<D.length;B++){if(!this.menus[E+C+D[B]]){var F=new Jx.Menu.SubMenu({label:D[B]});if(E==""){this.uiObj.add(F)}else{this.menus[E].add(F)}this.menus[E+C+D[B]]=F}E=E+C+D[B];C="/"}},switchMap:function(D){D.initialView=null;if(!this.loadMaxExtent){var E=this.getMap().getCurrentExtents();var B=null;for(var C=0;C<D.maps.length;++C){if(D.maps[C].layerOptions&&D.maps[C].layerOptions.projection){B=new OpenLayers.Projection(D.maps[C].layerOptions.projection);if(D.maps[C].layerOptions.isBaseLayer){break}}}if(B){E=E.transform(this.oMap.oMapOL.getProjectionObject(),B)}else{B=this.oMap.oMapOL.getProjectionObject()}D.initialView={minX:E.left,minY:E.bottom,maxX:E.right,maxY:E.top,projection:B}}this.getMap().loadMapGroup(D,this.loadOverlaysOnly)}});Fusion.Widget.MapMetadata=OpenLayers.Class(Fusion.Widget,{content:"text",layerName:null,initializeWidget:function(C){var B=C.extension;if(B.MetadataId){this.metadataId=B.MetadataId[0]}else{Fusion.reportError(new Fusion.Error(Fusion.Error.FATAL,"MetadataId is a required parameter for mapMetadata widget"))}if(B.Content){this.content=B.Content[0]}if(B.LayerName){this.layerName=B.LayerName[0]}this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.showMetadata,this))},showMetadata:function(){var D=this.getMapLayer();var C=D.getMetadata(this.metadataId,this.layerName);if(C){if(this.content=="markup"){var B=$(this.domObj);B.load(C)}else{if((this.content=="hyperlink")&&this.domObj.tagName=="A"){this.domObj.href=C}else{this.domObj.innerHTML=C}}}}});Fusion.Widget.Maptip=OpenLayers.Class(Fusion.Widget,{oCurrentPosition:new OpenLayers.Pixel(0,0),oMapTipPosition:null,nTimer:null,delay:null,aLayers:null,bOverTip:false,sWinFeatures:"menubar=no,location=no,resizable=no,status=no,scrollbars=yes",offset:new OpenLayers.Pixel(2,20),szTip:"",szHref:"",szLabel:"",aTextFields:null,mapTipFired:false,bStartMapTips:false,mapTipBtn:null,label:"",initializeWidget:function(E){var B=window.location.href.indexOf("?");this.label=E.label;var D=E.extension;this.sTarget=D.Target?D.Target[0]:"MaptipWindow";if(D.WinFeatures){this.sWinFeatures=D.WinFeatures[0]}this.delay=D.Delay?parseInt(D.Delay[0]):350;this.nTolerance=D.Tolerance?parseInt(D.Tolerance[0]):2;this.aCustomURL=[];this.aTextFields=[];this.aLayers=[];this.aLabels=[];if(D.Maptip){for(var C=0;C<D.Maptip.length;C++){this.aLayers.push(D.Maptip[C].Layer);this.aTextFields.push(D.Maptip[C].TextField);this.aLabels.push(D.Maptip[C].Label);this.aCustomURL.push(D.Maptip[C].CustomURL)}}Fusion.addWidgetStyleSheet(E.location+"Maptip/Maptip.css");if(this.domObj){this.domObj.parentNode.removeChild(this.domObj)}else{this.domObj=document.createElement("div")}this.domObj.className="maptipContainer";this.domObj.style.display="none";this.domObj.style.top="0px";this.domObj.style.left="0px";this.iframe=document.createElement("iframe");this.iframe.className="maptipShim";this.iframe.scrolling="no";this.iframe.frameborder=0;this.mouseOverTipFunc=OpenLayers.Function.bind(this.mouseOverTip,this);this.mouseOutTipFunc=OpenLayers.Function.bind(this.mouseOutTip,this);this.mouseMoveFunc=OpenLayers.Function.bind(this.mouseMove,this);this.mouseDownFunc=OpenLayers.Function.bind(this.mouseDown,this);this.mouseUpFunc=OpenLayers.Function.bind(this.mouseUp,this);this.mouseOutFunc=OpenLayers.Function.bind(this.mouseOut,this);this.mapTipReqFinishedFunc=OpenLayers.Function.bind(this._display,this);this.mapBusyChangedFunc=this.busyChanged.bind(this);this.mapLoaded=this.startMapTips.bind(this);this.getMap().registerForEvent(Fusion.Event.MAP_DIGITIZER_ACTIVATED,OpenLayers.Function.bind(this.onDigitizerActivated,this));this.getMap().registerForEvent(Fusion.Event.MAP_DIGITIZER_DEACTIVATED,OpenLayers.Function.bind(this.onDigitizerDeactivated,this))},onDigitizerActivated:function(){this.hideMaptip();this.bDigitizerActive=true},onDigitizerDeactivated:function(){this.bDigitizerActive=false},setUiObject:function(B){Fusion.Widget.uiInstances[this.type].push(this);this.mapTipBtn=new Jx.Button({id:"maptipButton",image:Fusion.getApplicationURL()+"images/icons.png",imageClass:"maptip",label:this.label,toggle:true,onDown:(function(){var E=Fusion.Widget.uiInstances[this.type];for(var D=0;D<E.length;D++){var C=E[D];if(C.shouldActivateWith(this)&&C.mapTipBtn&&C.mapTipBtn.setActive){C.mapTipBtn.setActive(true)}}if(!Fusion.Widget.Maptip.ActiveInstance){this.activate();Fusion.Widget.Maptip.ActiveInstance=this}}).bind(this),onUp:(function(){var E=Fusion.Widget.uiInstances[this.type];for(var D=0;D<E.length;D++){var C=E[D];if(C.shouldActivateWith(this)&&C.mapTipBtn&&C.mapTipBtn.setActive){C.mapTipBtn.setActive(false)}}if(Fusion.Widget.Maptip.ActiveInstance==this){this.deactivate();Fusion.Widget.Maptip.ActiveInstance=null}}).bind(this)}).addTo(B);if(this.widgetTag.tooltip){this.mapTipBtn.setTooltip(this.widgetTag.tooltip)}if(B.options.active){this.mapTipBtn.setActive(true)}this.uiObj=B},activate:function(){this.bStartMapTips=true;OpenLayers.Event.observe(this.domObj,"mouseover",this.mouseOverTipFunc);OpenLayers.Event.observe(this.domObj,"mouseout",this.mouseOutTipFunc);var B=this.getMap().getDomObj();document.getElementsByTagName("BODY")[0].appendChild(this.domObj);this.getMap().observeEvent("mousemove",this.mouseMoveFunc);this.getMap().observeEvent("mousedown",this.mouseDownFunc);this.getMap().observeEvent("mouseup",this.mouseUpFunc);this.getMap().observeEvent("mouseout",this.mouseOutFunc);this.eventListener=false;this.getMap().registerForEvent(Fusion.Event.MAP_MAPTIP_REQ_FINISHED,this.mapTipReqFinishedFunc);this.getMap().registerForEvent(Fusion.Event.MAP_BUSY_CHANGED,this.mapBusyChangedFunc);this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,this.mapLoaded)},deactivate:function(){this.bStartMapTips=false;OpenLayers.Event.stopObserving(this.domObj,"mouseover",this.mouseOverTipFunc);OpenLayers.Event.stopObserving(this.domObj,"mouseout",this.mouseOutTipFunc);this.getMap().stopObserveEvent("mousemove",this.mouseMoveFunc);this.getMap().stopObserveEvent("mousedown",this.mouseDownFunc);this.getMap().stopObserveEvent("mouseup",this.mouseUpFunc);this.getMap().stopObserveEvent("mouseout",this.mouseOutFunc);this.eventListener=false;this.getMap().deregisterForEvent(Fusion.Event.MAP_MAPTIP_REQ_FINISHED,this.mapTipReqFinishedFunc);this.getMap().deregisterForEvent(Fusion.Event.MAP_BUSY_CHANGED,this.mapBusyChangedFunc);this.getMap().deregisterForEvent(Fusion.Event.MAP_LOADED,this.mapLoaded);if(this.domObj!=null&&this.domObj.parentNode!=null){this.domObj.parentNode.removeChild(this.domObj)}},mouseOut:function(B){if(this.nTimer){window.clearTimeout(this.nTimer);if(!this.nHideTimer){this.nHideTimer=window.setTimeout(OpenLayers.Function.bind(this.hideMaptip,this),250)}}},startMapTips:function(){this.bStartMapTips=true},mouseMove:function(D){if(this.bStartMapTips==true){if(!this.eventListener){this.eventListener=true}if(this.bOverTip||this.mouseIsDown){return }var C=this.getMap();this.mapSize=C.getSize();this.mapOffset=C._oDomObj.getOffsets();var B=C.getEventPosition(D);if(B.x==this.oCurrentPosition.x&&B.y==this.oCurrentPosition.y){return }this.oCurrentPosition=B;this.oMapTipPosition=B;if(typeof (this.nTimer)=="number"){window.clearTimeout(this.nTimer);this.nTimer=null}this.nTimer=window.setTimeout(OpenLayers.Function.bind(this.showMaptip,this),this.delay)}},mouseDown:function(){this.mouseIsDown=true;this._hide()},mouseUp:function(){this.mouseIsDown=false},_getMapTip:function(C){var G=0;var B=this.getMap();for(var D=B.aMaps.length-1;D>=0;D--){if(B.aMaps[D].arch=="MapGuide"){G++}}if(G<=1){this.getMapLayer().getMapTip(this)}else{var F=B.getScale();for(var D=B.aMaps.length-1;D>=0;D--){var E=B.aMaps[D];if(F>=E.minScale&&F<=E.maxScale&&E.layerRoot.visible){E.getMapTip(C)}}}},showMaptip:function(){if(this.bDigitizerActive===true){return }this._getMapTip(this);this.mapTipFired=true},_display:function(G,O){if(this.bDigitizerActive===true||typeof (O)=="undefined"||O.t==""){return }if(this.domObj.style.visibility!="visible"||O.t!=this.szTip){this.domObj.innerHTML=null;var C=document.createElement("div");C.className="maptipContent";this.domObj.appendChild(C);var J=true;this.bIsVisible=true;var L=O.t;var M=O.h;var K=O.l;this.szTip=L;this.szHref=M;this.label=K;if(typeof (L)=="object"){for(var H=0;H<L.length;H++){var P=L[H];var I=M[H];var D=K[H];var E=this.addMapTipDomObj(I,P);var N=document.createElement("DIV");N.className="mapTipContentDIV";if(D!=""){N.innerHTML=D+" : ";C.appendChild(N);N.appendChild(E);J=false}else{C.appendChild(N);C.appendChild(E);J=false}}}else{if(L){var N=document.createElement("DIV");N.innerHTML=L.replace(/\\n/g,"<br>");C.appendChild(N);J=false}if(M){var N=document.createElement("DIV");M=M.replace(/\\n/g,"<br>");if(M.indexOf("href=")>0){N.innerHTML=M}else{var F=document.createElement("A");var B=OpenLayers.Function.bind(this.openLink,this,M);F.onclick=OpenLayers.Function.bindAsEventListener(B,this);F.target="_blank";F.href="javascript:void(0)";F.innerHTML=OpenLayers.i18n("maptipLinkText");N.appendChild(F)}C.appendChild(N);J=false}}if(!J){var Q=$(this.domObj).getBorderBoxSize();this.oMapTipPosition=this.oMapTipPosition.add(this.mapOffset.x,this.mapOffset.y);if(this.oCurrentPosition.x<this.mapSize.w/2){this.domObj.style.left=(this.oMapTipPosition.x+this.offset.x)+"px"}else{this.domObj.style.left=(this.oMapTipPosition.x-(Q.width+this.offset.x))+"px"}if(this.oCurrentPosition.y<this.mapSize.h/2){this.domObj.style.top=(this.oMapTipPosition.y+this.offset.y)+"px"}else{this.domObj.style.top=(this.oMapTipPosition.y-(Q.height+this.offset.y))+"px"}this.domObj.style.visibility="hidden";this.domObj.style.display="block";if(!window.opera){C.appendChild(this.iframe);var Q=$(this.domObj).getContentBoxSize();this.iframe.style.width=Q.width+"px";this.iframe.style.height=Q.height+"px"}this.domObj.style.visibility="visible"}else{this.hideMaptip()}}this.mapTipFired=false},addMapTipDomObj:function(F,G){if(F=="undefined"||F==typeof ("undefined")||F==""){var B=document.createElement("SPAN");B.className="mapTipData";B.innerHTML=G;return B}else{var C,E;var B=document.createElement("SPAN");B.className="mapTipData";if(F.indexOf("href=")>0){B.innerHTML=F;C=linkDiv.firstChild;E=C.href}else{C=document.createElement("a");C.className="mapTipLink";C.innerHTML=G;E=F;B.appendChild(C)}C.href="javascript:void(0)";var D=OpenLayers.Function.bind(this.openLink,this,E);C.onclick=OpenLayers.Function.bindAsEventListener(D,this);return B}},hideMaptip:function(){this.bIsVisible=false;this.hideTimer=window.setTimeout(OpenLayers.Function.bind(this._hide,this),10)},_hide:function(){this.hideTimer=null;this.domObj.style.display="none";this.domObj.style.visibility=""},mouseOverTip:function(){window.clearTimeout(this.nHideTimer);this.nHideTimer=null;this.bOverTip=true},mouseOutTip:function(){this.nHideTimer=window.setTimeout(OpenLayers.Function.bind(this.hideMaptip,this),250);this.bOverTip=false},busyChanged:function(){if(this.getMap().isBusy()){this.bIsVisible=false;this.hideMaptip()}},openLink:function(D,B){var E=Fusion.getWidgetById(this.sTarget);if(E){E.setContent(D)}else{var C=$(this.sTarget);if(C){C.src=D}else{window.open(D,this.sTarget,this.sWinFeatures)}}OpenLayers.Event.stop(B,true);return false}});Fusion.Constant.MEASURE_TYPE_DISTANCE=1;Fusion.Constant.MEASURE_TYPE_AREA=2;Fusion.Event.MEASURE_SEGMENT_UPDATE=Fusion.Event.lastEventId++;Fusion.Event.MEASURE_CLEAR=Fusion.Event.lastEventId++;Fusion.Event.MEASURE_COMPLETE=Fusion.Event.lastEventId++;Fusion.Widget.Measure=OpenLayers.Class(Fusion.Widget,{isExclusive:false,uiClass:Jx.Button,distances:null,distanceMarkers:null,areaMarker:null,units:Fusion.UNKNOWN,measureType:null,distPrecision:4,areaPrecision:4,distanceNormalStyle:null,fillStyle:null,geodesic:true,areaStyle:null,segmentLabels:true,totalLength:0,totalArea:0,initializeWidget:function(E){this.asCursor=["crosshair"];var M=E.extension;this.units=(M.Units&&(M.Units[0]!=""))?Fusion.unitFromName(M.Units[0]):this.units;this.distPrecision=M.DistancePrecision?parseInt(M.DistancePrecision[0]):4;this.areaPrecision=M.AreaPrecision?parseInt(M.AreaPrecision[0]):4;if(M.SegmentLabels){this.segmentLabels=(M.SegmentLabels[0].toLowerCase()=="true"&&M.SegmentLabels[0])?true:false}if(M.Geodesic){this.geodesic=(M.Geodesic[0].toLowerCase=="false")?false:true}this.sTarget=M.Target?M.Target[0]:"";this.sBaseUrl=Fusion.getFusionURL()+"widgets/Measure/Measure.php";this.measureType=0;if(M.Type){switch(M.Type[0].toLowerCase()){case"distance":this.measureType|=Fusion.Constant.MEASURE_TYPE_DISTANCE;break;case"area":this.measureType|=Fusion.Constant.MEASURE_TYPE_AREA;break;case"both":this.measureType|=Fusion.Constant.MEASURE_TYPE_DISTANCE;this.measureType|=Fusion.Constant.MEASURE_TYPE_AREA;break;default:break}}var K=M.FillStyle?M.FillStyle[0]:"rgba(0,0,255, 0.3)";var D=M.LineStyleWidth?M.LineStyleWidth[0]:2;var H=M.LineStyleColor?M.LineStyleColor[0]:"rgba(0,0,255,0.3)";this.distanceMarkers=[];this.distances=[];this.registerEventID(Fusion.Event.MEASURE_SEGMENT_UPDATE);this.registerEventID(Fusion.Event.MEASURE_CLEAR);this.registerEventID(Fusion.Event.MEASURE_COMPLETE);var C=this.getMap();this.keyHandler=OpenLayers.Function.bind(this.onKeyPress,this);Fusion.addWidgetStyleSheet(E.location+"Measure/Measure.css");C.registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.setUnits,this,this.units));this.registerParameter("Units");this.sketchSymbolizers={Point:{pointRadius:4,graphicName:"square",fillColor:"white",fillOpacity:1,strokeWidth:1,strokeOpacity:1,strokeColor:"#333333"},Line:{strokeWidth:3,strokeOpacity:1,strokeColor:"#666666"},Polygon:{strokeWidth:2,strokeOpacity:1,strokeColor:"#666666",fillColor:"white",fillOpacity:0.3}};var B=new OpenLayers.Style();B.addRules([new OpenLayers.Rule({symbolizer:this.sketchSymbolizers})]);var I=new OpenLayers.StyleMap({"default":B});this.map=C.oMapOL;var G={style:"default",layerOptions:{styleMap:I}};var L=OpenLayers.Handler.Path;if(this.measureType&Fusion.Constant.MEASURE_TYPE_AREA){L=OpenLayers.Handler.Polygon}var J={persist:true,handlerOptions:G,partialDelay:600,callbacks:{modify:OpenLayers.Function.bind(this.measurePartial,this),cancel:OpenLayers.Function.bind(this.resetMeasure,this)}};this.control=new OpenLayers.Control.Measure(L,J);this.getMap().oMapOL.addControl(this.control);this.control.events.on({measure:this.measure,scope:this});if(M.ClearButtonContainer){var F=M.ClearButtonText?M.ClearButtonText[0]:"Clear";this.clearButton=new Jx.Button({label:F,onClick:OpenLayers.Function.bind(this.clearMeasure,this)}).addTo(M.ClearButtonContainer[0]);this.registerForEvent(Fusion.Event.MEASURE_CLEAR,OpenLayers.Function.bind(this.toggleClearButton,this,false));this.registerForEvent(Fusion.Event.MEASURE_SEGMENT_UPDATE,OpenLayers.Function.bind(this.toggleClearButton,this,true));this.clearButton.setEnabled(false)}this.getMap().registerForEvent(Fusion.Event.MAP_EXTENTS_CHANGED,OpenLayers.Function.bind(this.extentsChangedCB,this));this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.extentsChangedCB,this))},clearMeasure:function(){this.control.cancel()},toggleClearButton:function(B){this.clearButton.setEnabled(B)},extentsChangedCB:function(){var D=this.control;if(D&&D.active){var C=D.handler;var B=C.getGeometry();if(B){this.updateMarkers(B)}}},updateMarkers:function(E){var C=E.getVertices();for(var D=0;D<this.distanceMarkers.length;D++){if(D+1>=C.length){break}var B=new OpenLayers.Geometry.LineString();B.addPoint(C[D].clone());B.addPoint(C[D+1].clone());this.updateMarker(this.distanceMarkers[D],B)}this.updateDistances(E);this.updateArea(E)},shouldActivateWith:function(B){return(B instanceof Fusion.Widget.SelectPolygon&&B.widgetUniqueId==this.widgetUniqueId)},measure:function(G){this.hasMeasure=true;var F=G.geometry;if(this.measureType&Fusion.Constant.MEASURE_TYPE_DISTANCE){var D=F.getVertices();while(this.distanceMarkers.length>D.length-1){this.distanceMarkers.pop().destroy()}var H=v0=D[0];for(var E=1;E<D.length;E++){v1=D[E];if(this.distanceMarkers[E-1]){var B=this.distanceMarkers[E-1];B.label=E+": "}else{B=new Fusion.Widget.Measure.Marker(this.units,this.distPrecision,E+": ")}var C=new OpenLayers.Geometry.LineString();C.addPoint(v0.clone());C.addPoint(v1.clone());this.updateMarker(B,C);v0=v1}if(this.measureType&Fusion.Constant.MEASURE_TYPE_AREA){C=new OpenLayers.Geometry.LineString();C.addPoint(H);C.addPoint(v0);this.lastMarker.label=E+": ";this.updateMarker(this.lastMarker,C)}}if(this.measureType&Fusion.Constant.MEASURE_TYPE_AREA){this.updateArea(F)}this.triggerEvent(Fusion.Event.MEASURE_COMPLETE)},measurePartial:function(B,E){var D=E.geometry;var C=D.getVertices();if(this.hasMeasure){if(C.length!=1){this.resetMeasure();this.hasMeasure=false}}if(this.measureType&Fusion.Constant.MEASURE_TYPE_DISTANCE){this.updateDistances(D)}if(this.measureType&Fusion.Constant.MEASURE_TYPE_AREA){this.updateArea(D)}this.triggerEvent(Fusion.Event.MEASURE_SEGMENT_UPDATE)},updateDistances:function(D){var C=D.getVertices();var E=C.length-1;if(E>0){var F=new OpenLayers.Geometry.LineString();F.addPoint(C[E-1].clone());F.addPoint(C[E].clone());var B;if(this.distanceMarkers.length<E){B=new Fusion.Widget.Measure.Marker(this.units,this.distPrecision,E+": ");this.distanceMarkers.push(B)}else{B=this.distanceMarkers[E-1]}this.updateMarker(B,F);if(E>1&&D.CLASS_NAME.indexOf("LineString")==-1){F=new OpenLayers.Geometry.LineString();F.addPoint(C[0].clone());F.addPoint(C[E].clone());if(!this.lastMarker){this.lastMarker=new Fusion.Widget.Measure.Marker(this.units,this.distPrecision,"")}this.lastMarker.label=C.length+": ";this.updateMarker(this.lastMarker,F)}}},updateArea:function(B){if(!this.areaMarker){this.areaMarker=new Fusion.Widget.Measure.Marker(this.units,this.areaPrecision,"",true)}this.updateMarker(this.areaMarker,B)},delayUpdate:function(B,C){this.delayUpdateTimer=null;this.updateMarker(B,C)},updateMarker:function(H,J){if(!H){return }var F,K,L;var M=J.getVertices();var C=this.getMap();var G=C.oMapOL.baseLayer.projection;var D=null;var N=0;if(J.CLASS_NAME.indexOf("LineString")!=-1){K=this.getMap().geoToPix(M[0].x,M[0].y);L=this.getMap().geoToPix(M[1].x,M[1].y);D={x:(K.x+L.x)/2,y:(K.y+L.y)/2};if(this.geodesic){F=J.getGeodesicLength(G)}else{F=J.getLength()}N=Math.sqrt((L.x-K.x)*(L.x-K.x)+(L.y-K.y)*(L.y-K.y));measureUnits=Fusion.METERS;if(measureUnits!=this.units){F=Fusion.convert(measureUnits,this.units,F)}}else{if(J.getArea()==0){return }var B=J.getCentroid();D=this.getMap().geoToPix(B.x,B.y);if(this.geodesic){F=J.getGeodesicArea(G)}else{F=J.getArea()}var E=this.getMap().getResolution();measureUnits=Fusion.METERS;if(measureUnits!=this.units){var I=Fusion.convert(measureUnits,this.units,1);F=F*I*I;E=E*I}this.areaMarker.quantity=F;N=F/(E*E)}if(N>1){H.setQuantity(F);this.positionMarker(H,D)}},positionMarker:function(D,B){var G=this.getMap().getDomObj();if(!D.domObj.parentNode||D.domObj.parentNode!=G){G.appendChild(D.domObj)}var F=D.getSize();var E=B.y-F.height/2;var C=B.x-F.width/2;if(!isNaN(E)&&!isNaN(C)){D.domObj.style.top=E+"px";D.domObj.style.left=C+"px";if(this.segmentLabels===true){D.domObj.style.display="block"}}else{if(this.segmentLabels===true){D.domObj.style.display="none"}}},onKeyPress:function(C){var B=(C.charCode)?C.charCode:((C.keyCode)?C.keyCode:C.which);if(B==OpenLayers.Event.KEY_ESC){this.deactivate();this.activate()}},initVars:function(){this.cumulativeDistance=0;this.lastDistance=0;this.cumulativeArea=0;this.lastArea=0;this.aAreaFirstPoint=null},activate:function(){this.loadDisplayPanel();this.startMeasurement()},startMeasurement:function(){this.control.activate();var C=this.getMap().message;C.info(OpenLayers.i18n("measureInProgress")+" <a id='measureMsgDismiss' href='javascript:void(0)'>"+OpenLayers.i18n("stop")+"</a>");var B=C.container.ownerDocument.getElementById("measureMsgDismiss");B.onclick=OpenLayers.Function.bind(this.stopMeasurement,this);OpenLayers.Event.observe(document,"keypress",this.keyHandler);this.getMap().supressContextMenu(true);this.updateButtonStates();this.getMap().triggerEvent(Fusion.Event.MAP_DIGITIZER_ACTIVATED)},stopMeasurement:function(){OpenLayers.Event.stopObserving(document,"keypress",this.keyHandler);this.control.deactivate();this.control.cancel();this.getMap().message.clear();this.getMap().supressContextMenu(false);this.updateButtonStates();this.getMap().triggerEvent(Fusion.Event.MAP_DIGITIZER_DEACTIVATED)},updateButtonStates:function(){if(this.startButton!=null&&this.stopButton!=null){this.stopButton.disabled=!this.control.active;this.startButton.disabled=this.control.active}},setButtons:function(B,C){this.startButton=C;this.stopButton=B;this.updateButtonStates()},initManualControls:function(C){this.startButton=null;this.stopButton=null;var E;var B=this;var D=function(){try{if(C.domInit){doc=C.document;clearInterval(E);C.SetWidget(B)}}catch(F){}};E=setInterval(D,200)},loadDisplayPanel:function(){if(this.sTarget){var B=this.sBaseUrl;var F="locale="+Fusion.locale;if(B.indexOf("?")<0){B+="?"}else{if(B.slice(-1)!="&"){B+="&"}}B+=F+"&type="+this.measureType;var E=Fusion.getWidgetById(this.sTarget);var D=window;if(E){if(!E.isSameWithLast(B)){E.setContent(B)}D=E.iframe.contentWindow}else{D=window.open(B,this.sTarget,this.sWinFeatures)}this.initManualControls(D);this.registerForEvent(Fusion.Event.MEASURE_CLEAR,OpenLayers.Function.bind(this.clearDisplay,this,D));this.registerForEvent(Fusion.Event.MEASURE_SEGMENT_UPDATE,OpenLayers.Function.bind(this.updateDisplay,this,D));this.registerForEvent(Fusion.Event.MEASURE_COMPLETE,OpenLayers.Function.bind(this.updateDisplay,this,D))}else{if(this.measureType&Fusion.Constant.MEASURE_TYPE_DISTANCE){this.totalDistanceMarker=new Fusion.Widget.Measure.Marker(this.units,this.distPrecision,"Total:");var C=this.getMap().getDomObj();if(!this.totalDistanceMarker.domObj.parentNode||this.totalDistanceMarker.domObj.parentNode!=C){C.appendChild(this.totalDistanceMarker.domObj)}this.totalDistanceMarker.domObj.addClass("divMeasureTotal");this.totalDistanceMarker.domObj.style.display="none";this.registerForEvent(Fusion.Event.MEASURE_CLEAR,OpenLayers.Function.bind(this.clearTotalDistance,this));this.registerForEvent(Fusion.Event.MEASURE_SEGMENT_UPDATE,OpenLayers.Function.bind(this.updateTotalDistance,this));this.registerForEvent(Fusion.Event.MEASURE_COMPLETE,OpenLayers.Function.bind(this.updateTotalDistance,this))}}},deactivate:function(){this.stopMeasurement()},resetMeasure:function(){this.initVars();for(var B=0;B<this.distanceMarkers.length;B++){this.distanceMarkers[B].destroy()}this.distanceMarkers=[];if(this.areaMarker){this.areaMarker.destroy();this.areaMarker=null}if(this.lastMarker){this.lastMarker.destroy();this.lastMarker=null}this.triggerEvent(Fusion.Event.MEASURE_CLEAR,this)},remoteMeasureSegment:function(E,H,I,G){var B=this.getMap();var D=this.getMapLayer();var K="layers/"+D.arch+"/"+Fusion.getScriptLanguage()+"/Measure."+Fusion.getScriptLanguage();var F=B.pixToGeo(H.x,H.y);var C=B.pixToGeo(I.x,I.y);var J={parameters:{session:D.getSessionID(),locale:Fusion.locale,mapname:B.getMapName(),x1:F.x,y1:F.y,x2:C.x,y2:C.y},onComplete:OpenLayers.Function.bind(this.remoteMeasureCompleted,this,H,I,E)};Fusion.ajaxRequest(K,J)},remoteMeasureCompleted:function(F,E,B,C){if(C.status==200){var D=Fusion.parseJSON(C.responseText);if(D.distance){mapUnits=Fusion.METERS;if(mapUnits!=this.units){D.distance=Fusion.convert(mapUnits,this.units,D.distance)}B.setQuantity(D.distance);this.positionMarker(B,F,E);this.triggerEvent(Fusion.Event.MEASURE_SEGMENT_UPDATE)}}},updateDisplay:function(H){var M=H.document;var C=this.getMap().getResolution();this.clearDisplay(H);var I=Fusion.unitAbbr(this.units);var L;var G=this.distPrecision;var K=function(O,S,P){if(S/P<1){return }var Q=M.createElement("tr");var R=M.createElement("td");R.innerHTML=OpenLayers.i18n("segment",{seg:O});Q.appendChild(R);R=M.createElement("td");if(G==0){L=Math.floor(S)}else{L=S.toPrecision(G)}R.innerHTML=L+" "+I;Q.appendChild(R);F.appendChild(Q)};if(this.measureType&Fusion.Constant.MEASURE_TYPE_DISTANCE){var F=M.getElementById("segmentTBody");var J=0;if(F){for(var E=0;E<this.distanceMarkers.length;E++){var B=this.distanceMarkers[E].getQuantity();J+=B;K(E+1,B,C)}if(this.lastMarker){J+=this.lastMarker.getQuantity();K(E+1,this.lastMarker.getQuantity(),C)}var N=M.getElementById("totalDistance");if(this.distPrecision==0){L=Math.floor(J)}else{L=J.toPrecision(this.distPrecision)}N.innerHTML=L+" "+I}}if(this.measureType&Fusion.Constant.MEASURE_TYPE_AREA){var D=M.getElementById("totalArea");if(D){L=this.areaMarker.getQuantity();if(this.areaPrecision==0){L=Math.floor(L)}else{L=L.toPrecision(this.areaPrecision)}D.innerHTML=L+" "+I+"<sup>2</sup>"}}},updateTotalDistance:function(){var B=0;var C=Fusion.unitAbbr(this.units);for(var D=0;D<this.distanceMarkers.length;D++){var G=this.distanceMarkers[D].getQuantity();B+=G}if(this.lastMarker){var F=this.lastMarker.getQuantity();if(F!=B){B+=F}}this.totalDistanceMarker.domObj.style.display="block";this.totalDistanceMarker.setQuantity(B);if(this.distPrecision==0){B=Math.floor(B)}else{B=B.toPrecision(this.distPrecision)}this.totalLength=B;if(this.measureType&Fusion.Constant.MEASURE_TYPE_AREA){var E=this.areaMarker.getQuantity();if(this.areaPrecision==0){E=Math.floor(E)}else{E=E.toPrecision(this.areaPrecision)}this.totalArea=E}},clearDisplay:function(E){var D=E.document;var B=D.getElementById("segmentTBody");if(B){while(B.firstChild){B.firstChild.marker=null;B.removeChild(B.firstChild)}var F=D.getElementById("totalDistance");F.innerHTML="";var C=D.getElementById("totalArea");if(C){C.innerHTML=""}}},clearTotalDistance:function(){this.totalDistanceMarker.domObj.style.display="none";this.totalLength=0},setUnits:function(B){var C=this.getMap();B=(B==Fusion.UNKNOWN)?Fusion.unitFromName(C.getUnits()):B;this.setParameter("Units",Fusion.unitName(B));if(C.oMapOL.baseLayer.projection.proj&&C.oMapOL.baseLayer.projection.proj.localCS){this.geodesic=false}},setParameter:function(D,C){if(D=="Units"){this.units=Fusion.unitFromName(C);for(var B=0;B<this.distanceMarkers.length;B++){this.distanceMarkers[B].setUnits(this.units)}if(this.totalDistanceMarker){this.totalDistanceMarker.setUnits(this.units)}}}});Fusion.Widget.Measure.Marker=OpenLayers.Class({calculatingImg:null,quantity:0,isArea:false,initialize:function(C,B,D,E){this.precision=B;this.label=D?D:"";this.isArea=E||false;this.domObj=new Element("DIV",{});this.domObj.className="divMeasureMarker";this.calculatingImg=document.createElement("img");this.calculatingImg.src=Fusion.getFusionURL()+"widgets/Measure/MeasurePending.gif";this.calculatingImg.width=19;this.calculatingImg.height=4;this.setUnits(C);this.setCalculating()},destroy:function(){if(this.domObj.parentNode){this.domObj.parentNode.removeChild(this.domObj);this.domObj.style.display="none"}},setUnits:function(B){this.unit=B;this.unitAbbr=Fusion.unitAbbr(B)},getQuantity:function(){return this.quantity},getQuantityLabel:function(){var C;if(this.precision==0){C=Math.floor(this.quantity)}else{C=this.quantity.toPrecision(this.precision)}var B="";if(this.isArea){B="<sup>2<sup>"}return this.label+" "+C+" "+this.unitAbbr+B},setQuantity:function(B){if(this.calculatingImg.parentNode){this.calculatingImg.parentNode.removeChild(this.calculatingImg)}this.quantity=B;this.domObj.innerHTML=this.getQuantityLabel()},setCalculating:function(){if(!this.calculatingImg.parentNode){this.domObj.innerHTML="";this.domObj.appendChild(this.calculatingImg)}},getSize:function(){var B=$(this.domObj).getBorderBoxSize();var C={width:19,height:4};if(B.width<C.width){B.width+=C.width}if(B.height<C.height){B.height+=C.height}return B}});Fusion.Widget.Navigator=OpenLayers.Class(Fusion.Widget,{bInternalChange:false,zoomInFactor:4,zoomOutFactor:2,panAmount:50,initializeWidget:function(F){this.activeControls=[];var D=document.createElement("map");D.name="Navigator_ImageMap";D.id="Navigator_ImageMap";var N=document.createElement("area");N.shape="poly";N.alt=OpenLayers.i18n("panEast");N.title=OpenLayers.i18n("panEast");N.coords="27,176, 27,177, 40,190, 44,182, 44,159";var O=OpenLayers.Function.bind(this.pan,this,this.panAmount/100,0);OpenLayers.Event.observe(N,"mousedown",OpenLayers.Function.bindAsEventListener(O,this));D.appendChild(N);var N=document.createElement("area");N.shape="poly";N.alt=OpenLayers.i18n("panWest");N.title=OpenLayers.i18n("panWest");N.coords="24,177, 24,176, 7,159, 7,182, 11,190";var B=OpenLayers.Function.bind(this.pan,this,-this.panAmount/100,0);OpenLayers.Event.observe(N,"mousedown",OpenLayers.Function.bindAsEventListener(B,this));D.appendChild(N);var N=document.createElement("area");N.shape="poly";N.alt=OpenLayers.i18n("panSouth");N.title=OpenLayers.i18n("panSouth");N.coords="25,178, 12,191, 21,197, 30,197, 39,191, 26,178";var M=OpenLayers.Function.bind(this.pan,this,0,-this.panAmount/100);OpenLayers.Event.observe(N,"mousedown",OpenLayers.Function.bindAsEventListener(M,this));D.appendChild(N);var N=document.createElement("area");N.shape="poly";N.alt=OpenLayers.i18n("panNorth");N.title=OpenLayers.i18n("panNorth");N.coords="26,175, 43,158, 8,158, 25,175";var H=OpenLayers.Function.bind(this.pan,this,0,this.panAmount/100);OpenLayers.Event.observe(N,"mousedown",OpenLayers.Function.bindAsEventListener(H,this));D.appendChild(N);var N=document.createElement("area");N.shape="circle";N.alt=OpenLayers.i18n("zoomOut");N.title=OpenLayers.i18n("zoomOut");N.coords="25,142,8";var J=OpenLayers.Function.bind(this.zoom,this,1/this.zoomOutFactor);OpenLayers.Event.observe(N,"mousedown",OpenLayers.Function.bindAsEventListener(J,this));D.appendChild(N);var N=document.createElement("area");N.shape="circle";N.alt=OpenLayers.i18n("zoomIn");N.title=OpenLayers.i18n("zoomIn");N.coords="25,34,8";var E=OpenLayers.Function.bind(this.zoom,this,this.zoomInFactor);OpenLayers.Event.observe(N,"mousedown",OpenLayers.Function.bindAsEventListener(E,this));D.appendChild(N);this.domObj.appendChild(D);var I=document.createElement("img");I.src=Fusion.getFusionURL()+F.location+"Navigator/sliderscale.png";I.className="png24";I.width=51;I.height=201;I.style.position="absolute";I.style.left="0px";I.style.top="0px";I.useMap="#Navigator_ImageMap";this.domObj.appendChild(I);var G=document.createElement("div");G.style.position="absolute";G.style.top="6px";G.style.left="6px";G.style.width="39px";G.style.height="16px";this.domObj.appendChild(G);var K=document.createElement("div");K.style.position="absolute";K.style.top="44px";K.style.left="0px";K.style.width="51px";K.style.height="85px";this.domObj.appendChild(K);var C=document.createElement("img");C.src=Fusion.getFusionURL()+F.location+"Navigator/slider.png";C.className="png24";C.width=29;C.height=12;C.style.position="absolute";C.style.left="11px";C.style.top="49px";K.appendChild(C);this.activityIndicator=document.createElement("img");this.activityIndicator.src=Fusion.getFusionURL()+F.location+"Navigator/spinner.gif";this.activityIndicator.width=18;this.activityIndicator.height=6;this.activityIndicator.style.position="absolute";this.activityIndicator.style.top="3px";this.activityIndicator.style.right="4px";G.appendChild(this.activityIndicator);this.domObj.style.position="absolute";this.domObj.style.zIndex=1000;this.domObj.style.width="51px";this.domObj.style.height="204px";this.domObj.style.cursor="pointer";this.domObj.addEvents({mouseenter:OpenLayers.Function.bind(this.mouseEnter,this),mouseleave:OpenLayers.Function.bind(this.mouseLeave,this)});var L=OpenLayers.Function.bind(this.checkPosition,this);new Drag(this.domObj,{handle:G,onComplete:L,preventDefault:true});this.slider=new Slider(K,C,{mode:"vertical",steps:81,snap:true,onComplete:OpenLayers.Function.bind(this.scaleChanged,this)});this.LN9=Math.log(9);this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.updateSlider,this));this.getMap().registerForEvent(Fusion.Event.MAP_RESIZED,L);this.getMap().registerForEvent(Fusion.Event.MAP_EXTENTS_CHANGED,OpenLayers.Function.bind(this.updateSlider,this));this.getMap().registerForEvent(Fusion.Event.MAP_BUSY_CHANGED,OpenLayers.Function.bind(this.busyChanged,this))},scaleChanged:function(F){var H=this.getMap();var G=null;if(H.oActiveWidget){G=H.oActiveWidget;H.deactivateWidget(H.oActiveWidget)}if(!this.bInternalChange){var D=this.getMap().oMapOL;var B=D.baseLayer;if(B!=null){if(B.singleTile){var I=Math.pow(9,F/9);var C=OpenLayers.Util.getResolutionFromScale(I,B.units);C+=B.minResolution;this.bInternalChange=true;D.zoomTo(D.getZoomForResolution(C));this.bInternalChange=false}else{var E=D.baseLayer.resolutions.length-F-1;this.bInternalChange=true;D.zoomTo(E);this.bInternalChange=false}}}if(G){H.activateWidget(G)}return false},checkPosition:function(){var E=this.domObj;var D=$(E.parentNode).getContentBoxSize();var C,B;C=parseInt(E.style.left);B=parseInt(E.style.top);if(C+E.getWidth()>D.width){C=D.width-E.getWidth();E.style.left=C+"px"}if(B+E.getHeight()>D.height){B=D.height-E.getHeight();E.style.top=B+"px"}if(C<0){E.style.left="0px"}if(B<0){E.style.top="0px"}},updateSlider:function(){var D=this.getMap().oMapOL;baseLayer=D.baseLayer;if(baseLayer.singleTile){this.slider.steps=81;var C=D.getResolution()-baseLayer.minResolution;var E=OpenLayers.Util.getScaleFromResolution(C,baseLayer.units);var B=9*Math.log(E)/this.LN9;this.bInternalChange=true;this.slider.set(B);this.bInternalChange=false}else{this.slider.steps=D.baseLayer.resolutions.length-1;var B=D.baseLayer.resolutions.length-1-D.getZoom();this.bInternalChange=true;this.slider.set(B);this.bInternalChange=false}},pan:function(C,H,G){var F=this.getMap();var B=F.getCurrentCenter();var E=F.oMapOL.getResolution();var D=F.oMapOL.getSize();F.zoom(B.x+(C*D.w*E),B.y+(H*D.h*E),1);OpenLayers.Event.stop(G);return false},zoom:function(C,E){var D=this.getMap();var B=D.getCurrentCenter();D.zoom(B.x,B.y,C);OpenLayers.Event.stop(E);return false},mouseEnter:function(){var B=this.getMap();var E=B.oMapOL;for(var C=0;C<E.controls.length;++C){var F=E.controls[C];if(F.active){F.deactivate();this.activeControls.push(F)}}for(var C=0;C<B.handlers.length;++C){var D=B.handlers[C];if(D.active){if(D.CLASS_NAME=="OpenLayers.Handler.Box"&&D.zoomBox!=undefined){D.removeBox()}D.deactivate();this.activeControls.push(D)}}},mouseLeave:function(){var B=this.getMap().oMapOL;while(this.activeControls.length>0){var C=this.activeControls.pop();C.activate()}},busyChanged:function(){this.activityIndicator.style.visibility=this.getMap().isBusy()?"visible":"hidden"}});Fusion.Widget.OverviewMap=OpenLayers.Class(Fusion.Widget,{oSize:null,nMinRatio:4,nMaxRatio:32,bDisplayed:false,initializeWidget:function(E){var D=E.extension;if(D.MinRatio){this.nMinRatio=D.MinRatio[0]}if(D.MaxRatio){this.nMaxRatio=D.MaxRatio[0]}var B=null;this.sMapGroupId=D.MapId;if(this.domObj){this.domObj.style.overflow="hidden";var C=this.domObj.retrieve("jxLayout");if(!C){C=new Jx.Layout(this.domObj)}C.addEvent("sizeChange",OpenLayers.Function.bind(this.sizeChanged,this))}this.oMapOptions={};this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.mapWidgetLoaded,this))},mapWidgetLoaded:function(){var C=null;if(this.sMapGroupId){var D=Fusion.applicationDefinition.getMapGroup(this.sMapGroupId);C=D.maps[0]}else{var B=this.getMap();C=B.mapGroup.maps[0]}if(Fusion.Layers[C.type]){this.mapObject=new Fusion.Layers[C.type](this.getMap(),C,false)}else{this.mapObject=new Fusion.Layers.Generic(this,C,false)}this.mapObject.registerForEvent(Fusion.Event.LAYER_LOADED,OpenLayers.Function.bind(this.loadOverview,this))},loadOverview:function(){if(this.control){this.control.destroy()}var E=this.mapObject.oLayerOL;if(E!=null){var D=$(this.domObj).getContentBoxSize();this.oSize=new OpenLayers.Size(D.width,D.height);E.isBaseLayer=true;E.ratio=1;if(E.singleTile){this.oMapOptions.numZoomLevels=3}ovLayers=[E];if(this.mapObject.oLayersOLTile&&this.mapObject.oLayersOLTile.length>1){for(var C=this.mapObject.oLayersOLTile.length-2;C>=0;C--){this.mapObject.oLayersOLTile[C].isBaseLayer=false;ovLayers.push(this.mapObject.oLayersOLTile[C])}}var B={div:this.domObj,size:this.oSize,minRatio:this.nMinRatio,maxRatio:this.nMaxRatio,mapOptions:this.oMapOptions,layers:ovLayers};this.control=new OpenLayers.Control.OverviewMap(B);if(D.width==0||D.height==0){return }else{this.getMap().oMapOL.addControl(this.control);this.bDisplayed=true}}},sizeChanged:function(){var B=$(this.domObj).getContentBoxSize();this.oSize=new OpenLayers.Size(B.width,B.height);if(B.width==0||B.height==0){return }if(!this.bDisplayed&&this.control){this.getMap().oMapOL.addControl(this.control);this.bDisplayed=true}if(this.control){this.control.size=new OpenLayers.Size(B.width,B.height);this.control.mapDiv.style.width=this.oSize.w+"px";this.control.mapDiv.style.height=this.oSize.h+"px";this.control.ovmap.updateSize();this.control.update()}}});Fusion.Widget.Pan=OpenLayers.Class(Fusion.Widget,{isExclusive:true,uiClass:Jx.Button,initializeWidget:function(E){this.control=new OpenLayers.Control.DragPan();this.getMap().oMapOL.addControl(this.control);this.control.handler.keyMask=0;var B=window.location.href.indexOf("?");var D=window.location.href.substring(0,B);B=D.lastIndexOf("/");D=D.substring(0,B+1);var C="url("+D+"images/grab.cur), move";var F="url("+D+"images/grabbing.cur), move";this.cursorNormal=[C,"grab","-moz-grab","move"];this.cursorDrag=[F,"grabbing","-moz-grabbing","move"];this.getMap().registerForEvent(Fusion.Event.MAP_DIGITIZER_ACTIVATED,OpenLayers.Function.bind(this.onDigitizerActivated,this));this.getMap().registerForEvent(Fusion.Event.MAP_DIGITIZER_DEACTIVATED,OpenLayers.Function.bind(this.onDigitizerDeactivated,this))},onDigitizerActivated:function(){this.bRestoreActiveState=this.isActive;this.deactivate()},onDigitizerDeactivated:function(){if(this.bRestoreActiveState===true){this.activate();this.bRestoreActiveState=false}},activate:function(){this.isActive=true;this.control.activate();this.getMap().setCursor(this.cursorNormal)},deactivate:function(){this.isActive=false;this.control.deactivate();this.getMap().setCursor("auto")}});Fusion.Widget.PanOnClick=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,fPercent:null,nDeltaX:null,nDeltaY:null,initializeWidget:function(D){var B=D.extension;var C=B.Percentage?B.Percentage[0]:75;this.fPercent=parseFloat(C)/100;var E=B.Direction?B.Direction[0]:"";switch(E){case"north":this.nDeltaX=0;this.nDeltaY=1;break;case"south":this.nDeltaX=0;this.nDeltaY=-1;break;case"east":this.nDeltaX=1;this.nDeltaY=0;break;case"west":this.nDeltaX=-1;this.nDeltaY=0;break;default:this.nDeltaX=0;this.nDeltaY=0}},activate:function(){var E=this.getMap().getCurrentExtents();var B=this.getMap().getCurrentCenter();var D,C;D=B.x+this.nDeltaX*(E[2]-E[0])*this.fPercent;C=B.y+this.nDeltaY*(E[3]-E[1])*this.fPercent;this.getMap().zoom(D,C,1)}});Fusion.Widget.PanQuery=OpenLayers.Class(Fusion.Widget,{isExclusive:true,uiClass:Jx.Button,selectionType:"INTERSECTS",nTolerance:3,bActiveOnly:false,initializeWidget:function(D){this.control=new OpenLayers.Control.DragPan();this.getMap().oMapOL.addControl(this.control);this.control.handler.up=OpenLayers.Function.bind(this.mouseUp,this);var B=D.extension;this.nTolerance=B.Tolerance?Math.abs(parseInt(B.Tolerance)):3;this.bComputeMetadata=(B.ComputeMetadata&&(B.ComputeMetadata[0]=="true"||B.ComputeMetadata[0]=="1"))?true:false;var C=B.QueryActiveLayer?B.QueryActiveLayer[0]:"false";this.bActiveOnly=(C=="true"||C=="1")?true:false;this.cursorNormal=["auto"];this.cursorDrag=["url('images/grabbing.cur'),move","grabbing","-moz-grabbing","move"]},mouseUp:function(E){var K=this.control.handler;var B={x:Event.pointerX(E),y:Event.pointerY(E)};var N=K.start.x-K.last.x;var L=K.start.y-K.last.y;if(Math.abs(N)<this.nTolerance&&Math.abs(L)<this.nTolerance){var H=this.getMap().pixToGeo(K.last.x,K.last.y);var M={};var C=this.getMap().pixToGeoMeasure(this.nTolerance);var J=H.x-C;var I=H.y-C;var G=H.x+C;var F=H.y+C;M.geometry="POLYGON(("+J+" "+I+", "+G+" "+I+", "+G+" "+F+", "+J+" "+F+", "+J+" "+I+"))";M.selectionType="INTERSECTS";M.computed=this.bComputeMetadata;if(this.bActiveOnly){var D=this.getMap().getActiveLayer();if(D){M.layers=D.layerName}else{return }}if(E.shiftKey){M.extendSelection=true}this.getMap().query(M)}Event.stop(E)},activate:function(){this.control.activate();this.getMap().setCursor(this.cursorNormal)},deactivate:function(){this.control.deactivate();this.getMap().setCursor("auto")},setParameter:function(C,B){if(C=="Tolerance"&&B>0){this.nTolerance=B}if(C=="SelectionType"){this.selectionType=B}}});Fusion.Widget.Print=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,initializeWidget:function(E){var D=E.extension;var G=D.ShowPrintUI?D.ShowPrintUI[0]:"false";this.showPrintUI=(G.toLowerCase()=="true"||G=="1");var F=D.ShowTitle?D.ShowTitle[0]:"false";this.showTitle=(F.toLowerCase()=="true"||F=="1");this.pageTitle=D.PageTitle?D.PageTitle[0]:"";this.resultsLayer=D.ResultsLayer?D.ResultsLayer[0]:null;var C=D.ShowLegend?D.ShowLegend[0]:"false";this.showLegend=(C.toLowerCase()=="true"||C=="1");var B=D.ShowNorthArrow?D.ShowNorthArrow[0]:"false";this.showNorthArrow=(B.toLowerCase()=="true"||B=="1");this.imageBaseUrl=D.ImageBaseUrl?D.ImageBaseUrl[0]:null;this.dialogContentURL=Fusion.getFusionURL()+E.location+"Print/Print.html";this.printablePageURL=Fusion.getFusionURL()+E.location+"Print/printablepage.php";Fusion.addWidgetStyleSheet(E.location+"Print/Print.css")},activate:function(){if(this.showPrintUI){this.openPrintUI()}else{this.openPrintable()}},openPrintUI:function(){if(!this.dialog){var B=new Jx.Toolbar({position:"bottom"});var D={label:OpenLayers.i18n("printTitle"),id:"printablePage",content:'<div class="PrintDialogForm"><fieldset class="PrintDialogOptions"><legend>'+OpenLayers.i18n("printOptions")+'</legend><label class="block" for="dialogPrintShowtitle"><input name="dialogPrintShowtitle" id="dialogPrintShowtitle" type="checkbox" value="showtitle" checked>'+OpenLayers.i18n("printShowTitle")+'</label><label class="block" for="dialogPrintTitle">'+OpenLayers.i18n("printTitleText")+'</label><input name="dialogPrintTitle" id="dialogPrintTitle" type="text" class="inputText" /><label class="block" for="dialogPrintShowlegend"><input name="dialogPrintShowlegend" id="dialogPrintShowlegend" type="checkbox" value="showlegend" checked>'+OpenLayers.i18n("printShowLegend")+'</label><label class="block" for="dialogPrintShowNorthArrow"><input name="dialogPrintShowNorthArrow" id="dialogPrintShowNorthArrow" type="checkbox" value="shownortharrow" checked>'+OpenLayers.i18n("printShowNorthArrow")+"</label></fieldset></div>",width:350,height:250,resize:true,toolbars:[B]};var C=new Jx.Dialog(D);C.addEvent("contentLoaded",this.contentLoaded.bind(this));B.add(new Jx.Button({label:OpenLayers.i18n("printGenerate"),onClick:OpenLayers.Function.bind(this.generate,this)}),new Jx.Button({label:OpenLayers.i18n("printCancel"),onClick:function(){C.close()}}));this.dialog=C}this.dialog.show()},setParameter:function(C,B){switch(C){case"Print_ShowTitle":this.showTitle=B;break;case"Print_Title":this.pageTitle=B;break;case"Print_ShowLegend":this.showLegend=B;break;case"Print_ShowNorthArrow":this.showNorthArrow=B;break}},contentLoaded:function(B){B.content.getElementById("dialogPrintShowtitle").checked=this.showTitle;B.content.getElementById("dialogPrintTitle").value=this.pageTitle;B.content.getElementById("dialogPrintTitle").disabled=!this.showTitle;B.content.getElementById("dialogPrintShowlegend").checked=this.showLegend;B.content.getElementById("dialogPrintShowNorthArrow").checked=this.showNorthArrow;OpenLayers.Event.observe(B.content.getElementById("dialogPrintShowtitle"),"click",OpenLayers.Function.bind(this.controlTitle,this))},controlTitle:function(){this.dialog.content.getElementById("dialogPrintTitle").disabled=!this.dialog.content.getElementById("dialogPrintShowtitle").checked},generate:function(){this.showTitle=this.dialog.content.getElementById("dialogPrintShowtitle").checked;this.pageTitle=this.dialog.content.getElementById("dialogPrintTitle").value;this.showLegend=this.dialog.content.getElementById("dialogPrintShowlegend").checked;this.showNorthArrow=this.dialog.content.getElementById("dialogPrintShowNorthArrow").checked;this.openPrintable()},openPrintable:function(){var B=this.getMap();var C=this.printablePageURL+"?";var F=B.getCurrentExtents();var H=(F.left+F.right)/2;var G=(F.top+F.bottom)/2;var D=B._nDpi;var I=B.getScale();var E=this.getMapLayer();C=C+"MAPNAME="+E.getMapName();C=C+"&SESSION="+E.getSessionID();C=C+"&CENTERX="+H;C=C+"&CENTERY="+G;C=C+"&DPI="+D;C=C+"&SCALE="+I;C=C+"&ISTITLE="+(this.showTitle!=""?"1":"0");C=C+"&ISLEGEND="+(this.showLegend?"1":"0");C=C+"&ISARROW="+(this.showNorthArrow?"1":"0");if(this.pageTitle!=""){C=C+"&TITLE="+this.pageTitle}window.open(C,"printablepage","")}});Fusion.Widget.Query=OpenLayers.Class(Fusion.Widget,{isExclusive:false,uiClass:Jx.Button,sFeatures:"menubar=no,location=no,resizable=no,status=no",initializeWidget:function(C){var B=C.extension;this.sTarget=B.Target?B.Target[0]:"QueryWindow";this.sBaseUrl=Fusion.getFusionURL()+"widgets/Query/querymain.php"},activate:function(){var C=this.sBaseUrl;var E=this.getMapLayer();var D=Fusion.getWidgetById(this.sTarget);var B=$(this.sTarget);var F=[];F.push("LOCALE="+Fusion.locale);F.push("SESSION="+E.getSessionID());F.push("MAPNAME="+E.getMapName());if(D||B){F.push("POPUP=false")}else{F.push("POPUP=true")}if(C.indexOf("?")<0){C+="?"}else{if(C.slice(-1)!="&"){C+="&"}}C+=F.join("&");if(D){if(!D.isSameWithLast(C)){D.setContent(C)}}else{if(B){B.src=C}else{window.open(C,this.sTarget,this.sWinFeatures)}}}});Fusion.require("widgets/QuickPlot/MapCapturer.js");Fusion.Widget.QuickPlot=OpenLayers.Class(Fusion.Widget,{isExclusive:false,uiClass:Jx.Button,sFeatures:"width=350,height=500,menubar=no,location=no,resizable=no,status=no",options:{},disclaimer:"",defaultDpi:null,paperList:null,scaleList:null,showCoordinatesInPreview:true,showSubTitle:true,persistPlotOptions:false,initializeWidget:function(G){this.mapCapturer=new OpenLayers.Control.MapCapturer(this.getMap());this.getMap().oMapOL.addControl(this.mapCapturer);var K=G.extension;this.sTarget=K.Target?K.Target[0]:"PrintPanelWindow";this.sBaseUrl=Fusion.getFusionURL()+"widgets/QuickPlot/QuickPlotPanel.php";if(K.DefaultDpi){this.defaultDpi=parseInt(K.DefaultDpi[0])}if(K.DefaultMargin){try{this.margin={};var D=K.DefaultMargin[0].split(",");this.margin.top=parseFloat(D[0]);this.margin.buttom=parseFloat(D[1]);this.margin.left=parseFloat(D[2]);this.margin.right=parseFloat(D[3])}catch(I){this.margin=null}}this.paperList=[];if(K.PaperListEntry){for(var H=0;H<K.PaperListEntry.length;H++){var C=K.PaperListEntry[H];var B=C.Name[0];var L=C.Value[0];this.paperList.push({name:B,size:L})}}this.scaleList=[];if(K.ScaleListEntry){for(var H=0;H<K.ScaleListEntry.length;H++){var C=K.ScaleListEntry[H];var B=C.Name[0];var E=C.Value[0];this.scaleList.push({name:B,scale:E})}}if(K.ShowSubTitle){this.showSubTitle=(K.ShowSubTitle[0]=="true")}if(K.ShowCoordinateLabels){this.showCoordinatesInPreview=(K.ShowCoordinateLabels[0]=="true")}if(K.RememberPlotOptions){this.persistPlotOptions=(K.RememberPlotOptions[0]=="true")}if(K.Disclaimer){this.disclaimer=K.Disclaimer[0]}this.additionalParameters=[];if(K.AdditionalParameter){for(var H=0;H<K.AdditionalParameter.length;H++){var C=K.AdditionalParameter[H];var F=C.Key[0];var J=C.Value[0];this.additionalParameters.push(F+"="+encodeURIComponent(J))}}},activate:function(){var D=this.sBaseUrl;var G=this.getMapLayer();var F=Fusion.getWidgetById(this.sTarget);var C=$(this.sTarget);var I=[];I.push("locale="+Fusion.locale);I.push("session="+G.getSessionID());I.push("mapname="+G.getMapName());if(F||C){I.push("popup=false")}else{I.push("popup=true")}I=I.concat(this.additionalParameters);if(D.indexOf("?")<0){D+="?"}else{if(D.slice(-1)!="&"){D+="&"}}D+=I.join("&");if(F){if(!F.isSameWithLast(D)){F.setContent(D)}}else{if(C){C.src=D}else{var H=window.open(D,this.sTarget,this.sFeatures);H.focus()}}if(typeof (panelman)!="undefined"){var B=null;for(var E=0;E<panelman.panels.length;++E){B=panelman.panels[E];if(B.options.contentId==this.sTarget){panelman.maximizePanel(B);return }}}}});OpenLayers.Control.MapCapturer=OpenLayers.Class(OpenLayers.Control,{layer:null,feature:null,captureBox:null,rotateHandle:null,rotateHandleStart:null,rotateHandleEnd:null,snappingLine:null,rotation:0,rotateHandleLength:30,captureBoxStyle:null,rotateHandleStyle:null,rotateHandlePointStyle:null,snappingLineStyle:null,enabled:false,warningMessage:OpenLayers.i18n("quickPlotResolutionWarning"),rotateSnappingStep:45,rotateSnappingTolerance:2,lastPixel:null,initialize:function(D,C){OpenLayers.Control.prototype.initialize.apply(this,[C]);this.captureBoxStyle=OpenLayers.Util.extend({},OpenLayers.Feature.Vector.style["default"]);this.captureBoxStyle.fillOpacity=0.8;this.captureBoxStyle.fillColor="#476387";this.captureBoxStyle.strokeColor="#39506F";this.rotateHandleStyle=OpenLayers.Util.extend({},OpenLayers.Feature.Vector.style["default"]);this.rotateHandleStyle.strokeColor="#39506F";this.rotateHandlePointStyle=OpenLayers.Util.extend({},OpenLayers.Feature.Vector.style["default"]);this.rotateHandlePointStyle.strokeColor="#39506F";this.rotateHandlePointStyle.fillOpacity=1;this.rotateHandlePointStyle.fillColor="#476387";this.rotateHandlePointStyle.pointRadius=4;this.snappingLineStyle=OpenLayers.Util.extend({},OpenLayers.Feature.Vector.style["default"]);this.snappingLineStyle.strokeOpacity=0.8;this.snappingLineStyle.strokeColor="black";this.snappingLineStyle.strokeDashstyle="dot";this.cursorMove="move";this.cursorRotate="url(../../../Widgets/QuickPlot/rotate.cur), default";this.wMap=D;this.layer=new OpenLayers.Layer.Vector("Map Capturer Layer");D.oMapOL.addLayer(this.layer);this.captureBox=new OpenLayers.Feature.Vector(null,null,this.captureBoxStyle);this.rotateHandle=new OpenLayers.Feature.Vector(null,null,this.rotateHandleStyle);this.rotateHandleStart=new OpenLayers.Feature.Vector(null,null,this.rotateHandlePointStyle);this.rotateHandleEnd=new OpenLayers.Feature.Vector(null,null,this.rotateHandlePointStyle);this.snappingLine=new OpenLayers.Feature.Vector(null,null,this.snappingLineStyle);this.layer.addFeatures([this.captureBox,this.rotateHandle,this.rotateHandleStart,this.rotateHandleEnd,this.snappingLine]);this.handlers={drag:new OpenLayers.Handler.Drag(this,OpenLayers.Util.extend({down:this.downFeature,up:this.upFeature,out:this.cancel,done:this.doneDragging},this.dragCallbacks)),feature:new OpenLayers.Handler.Feature(this,this.layer,OpenLayers.Util.extend({over:this.overFeature,out:this.outFeature},this.featureCallbacks),{geometryTypes:this.geometryTypes})};this.handlers.drag.move=this.mouseMove.bind(this);var B=this.wMap.oMapOL;B.events.register("zoomend",this,this.drawFeatures.bind(this))},destroy:function(){this.layer=null;OpenLayers.Control.prototype.destroy.apply(this,[])},activate:function(){return(this.handlers.feature.activate()&&OpenLayers.Control.prototype.activate.apply(this,arguments))},deactivate:function(){this.handlers.feature.deactivate();this.handlers.drag.deactivate();this.feature=null;this.dragging=false;this.lastPixel=null;return OpenLayers.Control.prototype.deactivate.apply(this,arguments)},overFeature:function(B){this.stopFeature=B;if(!this.handlers.drag.dragging){this.feature=B;this.handlers.drag.activate();this.over=true;this.setCursor()}else{if(this.captureBox.id==B.id||this.rotateHandleEnd.id==B.id){this.over=true}else{this.over=false}}},isDragging:function(){if(this.feature&&this.captureBox){return this.feature.id==this.captureBox.id||this.feature.id==this.rotateHandleStart.id}return false},isRotating:function(){return this.feature&&this.rotateHandleEnd&&this.feature.id==this.rotateHandleEnd.id},downFeature:function(B){this.setCursor();this.lastPixel=B},setCursor:function(){if(this.isDragging()){this.wMap.setCursor(this.cursorMove)}else{if(this.isRotating()){this.wMap.setCursor(this.cursorRotate)}}},mouseMove:function(B){if(this.isDragging()){this.moveFeature(B)}else{if(this.isRotating()){this.rotateFeature(B)}}},moveFeature:function(B){pixel=B.xy;var D=this.wMap.getResolution();var F={x:D*(pixel.x-this.lastPixel.x),y:D*(this.lastPixel.y-pixel.y)};var E=this.layer.features;for(var C=0;C<E.length;++C){if(E[C].geometry!=null&&E[C].id!=this.snappingLine.id){E[C].geometry.move(F.x,F.y);this.layer.drawFeature(E[C])}}this.lastPixel=pixel},rotateFeature:function(J){pixel=J.xy;var D=this.captureBox.geometry.getCentroid();var I=this.map.getViewPortPxFromLonLat(new OpenLayers.LonLat(D.x,D.y));var E=this.calculateAngle(pixel,I);var K=this.rotation+E;if(J.shiftKey){var H=K%this.rotateSnappingStep;var G=Math.round(K/this.rotateSnappingStep);var B=K;if(Math.abs(H)<=this.rotateSnappingTolerance||Math.abs(H)>=this.rotateSnappingStep-this.rotateSnappingTolerance){B=G*this.rotateSnappingStep;if(this.snappingLine.geometry==null){this.drawSnappingHint(B)}}else{this.clearSnappingHint()}E=B-this.rotation}else{this.clearSnappingHint()}this.rotation+=E;var C=this.layer.features;for(var F=0;F<C.length;++F){if(C[F].geometry!=null&&C[F].id!=this.snappingLine.id){C[F].geometry.rotate(E,D);this.layer.drawFeature(C[F])}}this.lastPixel=E==0?this.lastPixel:pixel},drawSnappingHint:function(F){var G=this.wMap.getCurrentExtents().getSize();var D=Math.sqrt(Math.pow(G.w,2)+Math.pow(G.h,2));var B=this.captureBox.geometry.getCentroid();var C=[];C.push(new OpenLayers.Geometry.Point(B.x-D,B.y));C.push(new OpenLayers.Geometry.Point(B.x+D,B.y));var E=new OpenLayers.Geometry.LineString(C);E.rotate(F+90,B);this.snappingLine.geometry=E;this.layer.drawFeature(this.snappingLine)},clearSnappingHint:function(){if(this.snappingLine!=null&&this.snappingLine.geometry!=null){this.layer.eraseFeatures([this.snappingLine]);this.snappingLine.geometry=null}},calculateAngle:function(C,B){var E=Math.atan2(C.y-B.y,C.x-B.x);var D=Math.atan2(this.lastPixel.y-B.y,this.lastPixel.x-B.x);return(D-E)*180/Math.PI},upFeature:function(B){if(!this.over){this.handlers.drag.deactivate()}else{this.feature=this.stopFeature;this.setCursor()}this.clearSnappingHint()},outFeature:function(B){if(!this.handlers.drag.dragging){this.over=false;this.handlers.drag.deactivate();this.wMap.setCursor("auto");this.feature=null}else{if(this.feature.id==B.id){this.over=false}}},cancel:function(){this.handlers.drag.deactivate();this.over=false},setMap:function(B){this.handlers.drag.setMap(B);this.handlers.feature.setMap(B);OpenLayers.Control.prototype.setMap.apply(this,arguments)},setSize:function(C,B){this.paperSize=C;this.scaleDenominator=B;this.drawFeatures();this.activate()},drawFeatures:function(){if(!this.paperSize){return }this.clearFeatures();this.createCaptureBox();this.createRotateHandle();if(this.enabled){if(this.validateResolution()){this.layer.features.each(function(B){B.layer.drawFeature(B)});if(this.wMap.message){this.wMap.message.hide()}}else{this.wMap.message.warn(this.warningMessage)}}},clearFeatures:function(){var D=this.layer.features;var E=[];var C=null;for(var B=0;B<D.length;++B){C=D[B];if(C.geometry!=null){E.push(C)}}this.layer.eraseFeatures(E)},createCaptureBox:function(){var C=null;var E=0;if(this.captureBox.geometry!=null){C=this.captureBox.geometry.getCentroid();E=this.rotation}else{C=this.wMap.getCurrentCenter()}var D=this.scaleDenominator/(this.wMap.getMetersPerUnit()*1000*2);var B=[];B.push(new OpenLayers.Geometry.Point(C.x-this.paperSize.w*D,C.y-this.paperSize.h*D));B.push(new OpenLayers.Geometry.Point(C.x+this.paperSize.w*D,C.y-this.paperSize.h*D));B.push(new OpenLayers.Geometry.Point(C.x+this.paperSize.w*D,C.y+this.paperSize.h*D));B.push(new OpenLayers.Geometry.Point(C.x-this.paperSize.w*D,C.y+this.paperSize.h*D));B.push(B[0]);var F=new OpenLayers.Geometry.Polygon(new OpenLayers.Geometry.LinearRing(B));if(E!=0){F.rotate(E,F.getCentroid())}this.captureBox.geometry=F},createRotateHandle:function(){var F=this.captureBox.geometry.clone();var E=F.getCentroid();if(this.rotation!=0){F.rotate(-this.rotation,E)}var D=this.rotateHandleLength*this.wMap.getResolution();var C=new OpenLayers.Geometry.Point(E.x,E.y+F.getBounds().getHeight()/2+D);var B=new OpenLayers.Geometry.LineString([E.clone(),C.clone()]);if(this.rotation!=0){C.rotate(this.rotation,E);B.rotate(this.rotation,E)}this.rotateHandle.geometry=B;this.rotateHandleStart.geometry=E;this.rotateHandleEnd.geometry=C},validateResolution:function(){if(this.captureBox){var B=this.map.getExtent().getSize();var C=this.captureBox.geometry.getBounds().getSize();if(C.w<B.w||C.h<B.h){return true}else{return false}}},getCaptureBox:function(){var F;if(!this.enabled){F=this.wMap.getCurrentExtents().toGeometry()}else{F=this.captureBox.geometry}var E="";var B=F.getVertices();var D=null;for(var C=0;C<B.length;++C){D=B[C];E+=D.x+","+D.y+","}E=E.substr(0,E.length-1);return{geometry:F,params:E}},getNormalizedCapture:function(){var E="";var F=null;if(!this.enabled){F=this.wMap.getCurrentExtents().toGeometry()}else{F=this.captureBox.geometry.clone();F.rotate(-this.rotation,F.getCentroid())}var B=F.getVertices();var D=null;for(var C=0;C<B.length;++C){D=B[C];E+=D.x+","+D.y+","}E=E.substr(0,E.length-1);return{geometry:F,params:E}},getCaptureRotation:function(){if(this.enabled){return this.rotation}else{return 0}},enable:function(){this.disable();this.enabled=true},disable:function(){this.enabled=false;if(this.wMap.message){this.wMap.message.hide()}this.clearFeatures();this.rotation=0;var C=this.layer.features;for(var B=0;B<C.length;++B){C[B].geometry=null}},CLASS_NAME:"OpenLayers.Control.MapCapturer"});function panelUnloaded(){var B=getParent().Fusion.getWidgetsByType("QuickPlot")[0].mapCapturer;B.disable()}function panelLoaded(){var H=getParent().Fusion.getWidgetsByType("QuickPlot")[0];var J=H.disclaimer;document.getElementById("legalNotice").value=J;if(H.paperList.length>0){var N=document.getElementById("PaperList");N.options.length=0;var G;for(G=0;G<H.paperList.length;G++){var E=document.createElement("option");var B=getParent().Fusion.trim(H.paperList[G].name);var I=H.paperList[G].size.split(",");var C=parseFloat(I[0]);var M=parseFloat(I[1]);var L=(C<M)?(C+","+M+","+B):(M+","+C+","+B);E.text=B;E.value=L;try{N.add(E,null)}catch(K){N.add(E)}}}if(H.scaleList.length>0){var O=document.getElementById("ScalingList");O.options.length=0;for(G=0;G<H.scaleList.length;G++){var D=document.createElement("option");D.text=H.scaleList[G].name;D.value=H.scaleList[G].scale;try{O.add(D,null)}catch(K){O.add(D)}}}if(!!H.margin){var F=H.margin;document.getElementById("margin").value=F.top+","+F.buttom+","+F.left+","+F.right}restoreUI()}function restoreUI(){setAdvancedOptionsUI(false);var E=getParent().Fusion.getWidgetsByType("QuickPlot")[0];if(E.persistPlotOptions){var D=getParent().Cookie.read("QuickPlotLastUsedPaperSize");var C=getParent().Cookie.read("QuickPlotLastUsedScaling");var B=getParent().Cookie.read("QuickPlotLastUsedDPI");var F=getParent().Cookie.read("QuickPlotLastUsedOrientation");if(D!=null){document.getElementById("PaperList").value=D}if(C!=null){document.getElementById("ScalingList").value=C}if(B!=null){document.getElementById("DPIList").value=B}if(F!=null){document.getElementById("OrientationList").value=F}}if(E.defaultDpi){document.getElementById("DPICtrl").style.display="none";document.getElementById("DPILabel").style.display="none"}else{document.getElementById("DPICtrl").style.display="block";document.getElementById("DPILabel").style.display="block"}if(E.showSubTitle){document.getElementById("SubTitleCtrl").style.display="block";document.getElementById("SubTitleLabel").style.display="block"}else{document.getElementById("SubTitleCtrl").style.display="none";document.getElementById("SubTitleLabel").style.display="none"}}function setAdvancedOptionsUI(B){document.getElementById("ScalingList").disabled=!B;document.getElementById("DPIList").disabled=!B;var C=getParent().Fusion.getWidgetsByType("QuickPlot")[0].mapCapturer;if(B){C.enable();drawCaptureBox()}else{C.disable()}}function generatePlot(){var F=getParent().Fusion.getWidgetsByType("QuickPlot")[0];if(!!F){var C=F.getMapLayer();var N=F.mapCapturer}if(C){var O=C.getSessionID();var J=C.getMapName()}if(N){var P=N.getCaptureBox();if(P){var G=P.params}var Q=N.rotation;var I=N.getNormalizedCapture();if(!!I){var K=I.params}}var B=getPrintSize();getPrintDpi();getScale();getPaperType();getOrientation();document.getElementById("sessionId").value=O;document.getElementById("mapName").value=J;document.getElementById("normalizedBox").value=K;document.getElementById("printSize").value=B.w+","+B.h;document.getElementById("rotation").value=Q;document.getElementById("box").value=G;if(F.persistPlotOptions){var L=365;getParent().Cookie.write("QuickPlotLastUsedPaperSize",document.getElementById("PaperList").value,{duration:L});getParent().Cookie.write("QuickPlotLastUsedScaling",document.getElementById("ScalingList").value,{duration:L});getParent().Cookie.write("QuickPlotLastUsedDPI",document.getElementById("DPIList").value,{duration:L});getParent().Cookie.write("QuickPlotLastUsedOrientation",document.getElementById("OrientationList").value,{duration:L})}var D=document.getElementById("Form1");D.target="_blank";var M=Math.random()*1000;var E="printId="+M;var H;if(D.action.indexOf("?")!=-1){H=D.action.slice(0,D.action.indexOf("?"))}else{H=D.action}D.action=H+"?"+E;D.submit()}function advancedOptionsOn(){var B=document.getElementById("AdvancedOptionsCheckBox");if(B&&B.checked){return true}return false}function getMargin(){var C=getParent().Fusion.getWidgetsByType("QuickPlot")[0];var B;if(!!C.margin){B=C.margin}else{B={top:25.4,buttom:12.7,left:12.7,right:12.7}}return B}function getOrientation(){document.getElementById("orientation").value=document.getElementById("OrientationList").value;return document.getElementById("OrientationList").value}function getPaperType(){var B=document.getElementById("PaperList").value.split(",");return B[2]}function getPrintSize(){var G=document.getElementById("PaperList").value.split(",");var J;var D=getOrientation();if(D==="P"){J={w:parseFloat(G[0]),h:parseFloat(G[1])}}else{if(D==="L"){J={w:parseFloat(G[1]),h:parseFloat(G[0])}}}if(!advancedOptionsOn()){var B=getParent().Fusion.getWidgetById("Map");var C=J.w/J.h;var F=B.getSize();var H;if(D==="P"){H={w:F.h,h:F.w}}if(D==="L"){H={w:F.w,h:F.h}}var I=H.w/H.h;if(C>I){J.w=J.h*I}else{J.h=J.w/I}}var E=getMargin();J.h=J.h-E.top-E.buttom;J.w=J.w-E.left-E.right;document.getElementById("paperSize").value=document.getElementById("PaperList").value;return J}function getScale(){var C=0;if(advancedOptionsOn()){C=document.getElementById("ScalingList").value}else{var B=getParent().Fusion.getWidgetById("Map");C=B.getScale()}C=parseInt(C);document.getElementById("scaleDenominator").value=C;return C}function getPrintDpi(){var B=getParent().Fusion.getWidgetsByType("QuickPlot")[0];if(B.defaultDpi){document.getElementById("dpi").value=B.defaultDpi;return B.defaultDpi}else{document.getElementById("dpi").value=document.getElementById("DPIList").value;return document.getElementById("DPIList").value}}function drawCaptureBox(){var B=getParent().Fusion.getWidgetsByType("QuickPlot")[0].mapCapturer;B.setSize(getPrintSize(),getScale())}Fusion.Event.REDLINE_FEATURE_ADDED=Fusion.Event.lastEventId++;Fusion.Widget.Redline=OpenLayers.Class(Fusion.Widget,{isExclusive:false,uiClass:Jx.Button,mapWidget:null,taskPane:null,autogenerateLayerNames:true,mapMessagePrompt:true,defaultDataStoreFormat:null,defaultRedlineGeometryTypes:0,bCreateOnStartup:false,initializeWidget:function(C){var B=C.extension;this.mapWidget=Fusion.getWidgetById("Map");if(B.AutogenerateLayerNames){this.autogenerateLayerNames=(B.AutogenerateLayerNames[0]=="true")}if(B.UseMapMessagePrompt){this.mapMessagePrompt=(B.UseMapMessagePrompt[0]=="true")}if(B.DataStoreFormat&&B.RedlineGeometryFormat){if(B.DataStoreFormat[0]=="SDF"||B.DataStoreFormat[0]=="SHP"||B.DataStoreFormat[0]=="SQLite"){var D=parseInt(B.RedlineGeometryFormat[0]);if(B.DataStoreFormat[0]=="SHP"){if(D==1||D==2||D==4){this.defaultDataStoreFormat=B.DataStoreFormat[0];this.defaultRedlineGeometryType=D;if(B.AutoCreateOnStartup){this.bCreateOnStartup=(B.AutoCreateOnStartup[0]=="true")}}}else{this.defaultDataStoreFormat=B.DataStoreFormat[0];this.defaultRedlineGeometryType=D;if(B.AutoCreateOnStartup){this.bCreateOnStartup=(B.AutoCreateOnStartup[0]=="true")}}}}this.registerEventID(Fusion.Event.REDLINE_FEATURE_ADDED);this.sTarget=B.Target?B.Target[0]:"";if(this.sTarget){this.taskPane=new Fusion.Widget.Redline.DefaultTaskPane(this,C.location)}},getSessionID:function(){return this.getMapLayer().getSessionID()},getMapName:function(){return this.getMapLayer().getMapName()},activate:function(){if(this.taskPane){this.taskPane.loadDisplayPanel()}},deactivate:function(){if(this.taskPane){this.taskPane.abortActiveDigitization()}if(this.mapMessagePrompt){this.mapWidget.message.clear()}}});Fusion.Widget.Redline.DefaultTaskPane=OpenLayers.Class({widget:null,taskPaneWin:null,panelUrl:"widgets/Redline/markupmain.php",initialize:function(C,B){this.widget=C;this.widget.registerForEvent(Fusion.Event.REDLINE_FEATURE_ADDED,OpenLayers.Function.bind(this.featureAdded,this))},loadDisplayPanel:function(){var B=Fusion.getFusionURL()+this.panelUrl;var E=[];E.push("LOCALE="+Fusion.locale);E.push("MAPNAME="+this.widget.getMapName());E.push("SESSION="+this.widget.getSessionID());if(this.widget.defaultDataStoreFormat!=null&&this.widget.defaultRedlineGeometryType>0){E.push("REDLINEFORMAT="+this.widget.defaultDataStoreFormat);E.push("REDLINEGEOMTYPE="+this.widget.defaultRedlineGeometryType);E.push("AUTOCREATE="+(this.widget.bCreateOnStartup?"1":"0"))}if(B.indexOf("?")<0){B+="?"}else{if(B.slice(-1)!="&"){B+="&"}}B+=E.join("&");var D=Fusion.getWidgetById(this.widget.sTarget);var C=window;if(D){if(!D.isSameWithLast(B)){D.setContent(B)}C=D.iframe.contentWindow}else{C=window.open(B,this.widget.sTarget,this.widget.sWinFeatures)}this.taskPaneWin=C},abortActiveDigitization:function(){if(this.taskPaneWin.ClearDigitization){this.taskPaneWin.ClearDigitization(true)}}});Fusion.Widget.RefreshMap=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,activate:function(){this.getMap().redraw()}});Fusion.Widget.SaveMap=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,iframe:null,printLayout:null,printScale:null,imageWidth:null,imageHeight:null,initializeWidget:function(E){var J=E.extension;this.format=(J.Format&&J.Format[0]!="")?J.Format[0]:"png";if(this.format=="DWF"&&J.PrintLayout.length){var I=J.PrintLayout;for(var G=0;G<I.length;G++){var H=I[G];var C={label:H.Name[0]};var F={rid:H.ResourceId[0]};if(H.PageHeight){F.pageHeight=H.PageHeight[0]}if(H.PageWidth){F.pageWidth=H.PageWidth[0]}if(H.Margins){F.margins=[H.Margins[0].Top[0],H.Margins[0].Left[0],H.Margins[0].Right[0],H.Margins[0].Bottom[0]]}var B=null;if(H.Scale){B=new Jx.Menu.SubMenu(C);F.scales=[];for(var D=0;D<H.Scale.length;D++){F.scales.push(H.Scale[D]);B.add(new Jx.Menu.Item({label:H.Scale[D],onClick:OpenLayers.Function.bind(this.setLayout,this,F,D)}))}B.add(new Jx.Menu.Item({label:"Current Scale",onClick:OpenLayers.Function.bind(this.setLayout,this,F)}))}else{C.onClick=OpenLayers.Function.bind(this.setLayout,this,F);B=new Jx.Menu.Item(C)}this.oMenu.add(B)}}else{if(this.format.toLowerCase()=="dwf"){var H=J;if(H.ResourceId){this.printLayout=H.ResourceId[0]}if(H.PageHeight){this.pageHeight=H.PageHeight[0]}if(H.PageWidth){this.pageWidth=H.PageWidth[0]}if(H.Margins){this.margins=[H.Margins[0].Top[0],H.Margins[0].Left[0],H.Margins[0].Right[0],H.Margins[0].Bottom[0]]}if(H.Scale&&H.Scale!="0"){this.printScale=H.Scale[0]}}else{if(J.Width&&J.Width[0]!=""){this.imageWidth=J.Width[0]}if(J.Height&&J.Height[0]!=""){this.imageHeight=J.Height[0]}}}this.enable=Fusion.Widget.SaveMap.prototype.enable},enable:function(){Fusion.Widget.prototype.enable.apply(this,[])},setLayout:function(B){this.printLayout=B.rid;this.pageHeight=B.pageHeight;this.pageWidth=B.pageWidth;this.pageMargins=B.margins;if(arguments.length==3){this.printScale=parseFloat(B.scales[arguments[1]])}else{this.printScale=null}this.activateTool()},activate:function(){if(!this.iframe){this.iframe=document.createElement("iframe");this.iframe.id="w";this.iframe.style.visibility="hidden";document.body.appendChild(this.iframe)}var C="";var K="";var D="";var I="";var G="";if(this.format.toLowerCase()=="dwf"){if(this.printLayout){C="&layout="+this.printLayout}if(this.printScale){K="&scale="+this.printScale}if(this.pageHeight){D="&pageheight="+this.pageHeight}if(this.pageWidth){I="&pagewidth="+this.pageWidth}if(this.pageMargins){G="&margins="+this.pageMargins.join(",")}}var F="";if(this.imageHeight){F="&height="+this.imageHeight}var H="";if(this.imageWidth){H="&width="+this.imageWidth}var E=this.getMapLayer();if(navigator.appVersion.match(/\bMSIE\b/)){var B=Fusion.fusionURL+"layers/"+E.arch+"/"+Fusion.getScriptLanguage()+"/SaveMapFrame."+Fusion.getScriptLanguage()+"?session="+E.getSessionID()+"&mapname="+E.getMapName()+"&format="+this.format.toUpperCase()+C+K+H+F+D+I+G;w=open(B,"Save","menubar=no,height=200,width=300")}else{var J=Fusion.fusionURL+"layers/"+E.arch+"/"+Fusion.getScriptLanguage()+"/SaveMap."+Fusion.getScriptLanguage()+"?session="+E.getSessionID()+"&mapname="+E.getMapName()+"&format="+this.format.toUpperCase()+C+K+H+F+D+I+G;this.iframe.src=J}}});Fusion.Widget.SaveMapImage=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,initializeWidget:function(C){var B=C.extension},activate:function(){var C=this.oMap.oMapOL;var B=null;if(C.baseLayer.singleTile){var B=C.baseLayer.grid[0][0].url}if(B){window.open(B,"","")}}});Fusion.Event.SAVE_SESSION_FINISHED=Fusion.Event.lastEventId++;Fusion.Widget.SaveSession=OpenLayers.Class(Fusion.Widget,{oSessionName:null,oInputURL:null,oSaveSessionLink:null,oSaveSessionShare:null,oEmail:null,oFacebook:null,oTwitter:null,oDialog:null,bDrawn:false,initializeWidget:function(C){var B=this.getMapLayer().arch;var D=Fusion.getScriptLanguage();this.script="layers/"+B+"/"+D+"/SaveSession."+D;this.getMap().registerEventID(Fusion.Event.SAVE_SESSION_FINISHED);this.oDialog=new Jx.Dialog({id:"saveSessionDialog",label:"Save Session",modal:false,resize:true,width:500,height:150})},activate:function(){this.oDialog.open();this.drawSaving();this.save()},drawSaving:function(){this.oDialog.content.empty();var B=document.createElement("div");B.innerHTML="Saving session, please wait...";B.addClass("sheetTip");this.oDialog.content.adopt(B)},drawForm:function(){this.oDialog.content.empty();this.form=new Jx.Form({name:"testForm",formClass:"jxFormBlock"}).addTo(this.oDialog.content);this.oInputURL=new Jx.Field.Text({id:"sessionUrl",name:"sessionUrl",label:"Session URL",width:400}).addTo(this.form);var B=document.createElement("div");B.innerHTML="Copy and paste the URL above to restore this session";B.addClass("sheetTip");this.oDialog.content.adopt(B)},save:function(){var E=this;var C=this.getMap();var B=this.getMapLayer();var D=[];D[0]=parseFloat(C._oCurrentExtents.left);D[1]=parseFloat(C._oCurrentExtents.bottom);D[2]=parseFloat(C._oCurrentExtents.right);D[3]=parseFloat(C._oCurrentExtents.top);var F={parameters:OpenLayers.Util.getParameterString({command:"save",extents:D,layers:B.aVisibleLayers,session:B.getSessionID(),mapname:B.getMapName()}),onComplete:function(H){var G=Fusion.parseJSON(H.responseText);E.saveCallBack(G)}};if(B.hasSelection()){F.parameters+="&queryfile="+B._sQueryfile}Fusion.ajaxRequest(this.script,F)},saveCallBack:function(C){if(C.error){alert(C.error)}if(C.sessionKey){this.drawForm();var B=new URI(window.location.href);B.setData({restoreState:C.sessionKey},true,"query");this.oInputURL.setValue(B.toString());this.oInputURL.field.focus();this.oInputURL.field.select()}}});if(typeof (ScaleBarTool)=="undefined"){Fusion.require("widgets/scalebar/scalebartool.js")}Fusion.Widget.Scalebar=OpenLayers.Class(Fusion.Widget,{style:"thin",displaySystem:"metric",minWidth:100,maxWidth:200,divisions:2,subdivisions:2,showMinorMeasures:true,abbreviateLabel:true,singleLine:false,initializeWidget:function(D){var C=D.extension;this.style=C.Style?C.Style[0].toLowerCase():this.style;if(this.style!="fancy"&&this.style!="fat"&&this.style!="thin"&&this.style!="thinner"){this.style="thin"}this.displaySystem=C.DisplaySystem?C.DisplaySystem[0]:this.displaySystem;this.minWidth=C.MinWidth?C.MinWidth[0]:this.minWidth;this.maxWidth=C.MaxWidth?C.MaxWidth[0]:this.maxWidth;this.divisions=C.Divisions?C.Divisions[0]:this.divisions;this.subdivisions=C.SubDivisions?C.SubDivisions[0]:this.subdivisions;this.showMinorMeasures=(C.ShowMinorMeasures&&C.ShowMinorMeasures[0])=="false"?false:true;this.abbreviateLabel=(C.AbbreviateLabel&&C.AbbreviateLabel[0])=="true"?true:false;this.singleLine=(C.SingleLine&&C.SingleLine[0])=="true"?true:false;if(document.styleSheets){if(document.styleSheets[0]){var B=Fusion.getFusionURL()+"widgets/scalebar/scalebar-"+this.style+".css";if(document.styleSheets[0].addImport){document.styleSheets[0].addImport(B)}else{document.styleSheets[0].insertRule("@import url("+B+");",0)}}}this.oScaleBar=new ScaleBarTool(1);this.oScaleBar.displaySystem=this.displaySystem;this.oScaleBar.minWidth=this.minWidth;this.oScaleBar.maxWidth=this.maxWidth;this.oScaleBar.divisions=this.divisions;this.oScaleBar.subdivisions=this.subdivisions;this.oScaleBar.showMinorMeasures=this.showMinorMeasures;this.oScaleBar.abbreviateLabel=this.abbreviateLabel;this.oScaleBar.singleLine=this.singleLine;window.setTimeout(OpenLayers.Function.bind(this.oScaleBar.place,this.oScaleBar,D.name),1);this.getMap().registerForEvent(Fusion.Event.MAP_EXTENTS_CHANGED,OpenLayers.Function.bind(this.extentsChangedCB,this));this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.extentsChangedCB,this))},extentsChangedCB:function(){this.oScaleBar.update(this.getMap().getScale())}});Fusion.Widget.ScalebarDual=OpenLayers.Class(Fusion.Widget,{initializeWidget:function(I){var F=I.extension;var H=F.MaxWidth?parseInt(F.MaxWidth[0]):300;var G=F.TopInUnits?F.TopInUnits[0]:"ft";var B=F.TopOutUnits?F.TopOutUnits[0]:"mi";var D=F.BottomInUnits?F.BottomInUnits[0]:"m";var E=F.BottomOutUnits?F.BottomOutUnits[0]:"km";var C={maxWidth:H,topInUnits:G,topOutUnits:B,bottomInUnits:D,bottomOutUnits:E};if(this.domObj){C.div=this.domObj}this.addControl(new OpenLayers.Control.ScaleLine(C))}});Fusion.Widget.Search=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,sFeatures:"menubar=no,location=no,status=no,scrollbars=yes",initializeWidget:function(C){var B=C.extension;this.sTarget=B.Target?B.Target[0]:"SearchWindow";this.sBaseUrl=Fusion.getFusionURL()+"widgets/Search/SearchPrompt.php";this.prompt=B.Prompt?B.Prompt[0]:"";this.layer=B.Layer?B.Layer[0]:"";this.filter=B.Filter?B.Filter[0]:"";this.limit=B.MatchLimit?B.MatchLimit[0]:100;this.resultColumns=B.ResultColumns?B.ResultColumns[0].Column:[];this.title=B.Title?B.Title[0]:C.label},activate:function(){var C=this.sBaseUrl;var G=this.getMapLayer();var F=Fusion.getWidgetById(this.sTarget);var B=$(this.sTarget);var I=[];I.push("locale="+Fusion.locale);I.push("session="+G.getSessionID());I.push("mapname="+G.getMapName());if(F||B){I.push("popup=false")}else{I.push("popup=true")}I.push("title="+this.title);I.push("prompt="+this.prompt);I.push("target="+this.sTarget);I.push("filter="+this.filter);I.push("layer="+this.layer);I.push("limit="+this.limit);var H=[];var E=[];for(var D=0;D<this.resultColumns.length;++D){H.push(this.resultColumns[D].Name);E.push(this.resultColumns[D].Property)}I.push("properties="+E.join(","));I.push("propNames="+H.join(","));if(C.indexOf("?")<0){C+="?"}else{if(C.slice(-1)!="&"){C+="&"}}C+=I.join("&");if(F){F.setContent(C)}else{if(B){B.src=C}else{window.open(C,this.sTarget,this.sFeatures)}}}});Fusion.Widget.Select=OpenLayers.Class(Fusion.Widget,{isExclusive:true,uiClass:Jx.Button,selectionType:"INTERSECTS",nTolerance:3,bActiveOnly:false,maxFeatures:0,pointClickSingleSelect:true,initializeWidget:function(D){this.asCursor=["auto"];this.enable=Fusion.Widget.Select.prototype.enable;var C=D.extension;this.selectionType=C.SelectionType?C.SelectionType[0]:"INTERSECTS";if(C.Tolerance&&(parseInt(C.Tolerance[0])>0)){this.nTolerance=parseInt(C.Tolerance[0])}if(C.MaxFeatures){this.maxFeatures=parseInt(C.MaxFeatures[0])}if(C.PointClickSingleSelect){this.pointClickSingleSelect=(C.PointClickSingleSelect[0]!="false")}this.bActiveOnly=(C.QueryActiveLayer&&(C.QueryActiveLayer[0]=="true"||C.QueryActiveLayer[0]=="1"))?true:false;this.bComputeMetadata=(C.ComputeMetadata&&(C.ComputeMetadata[0]=="true"||C.ComputeMetadata[0]=="1"))?true:false;if(this.bActiveOnly){this.getMap().registerForEvent(Fusion.Event.MAP_ACTIVE_LAYER_CHANGED,OpenLayers.Function.bind(this.enable,this))}var B=this.getMap();this.map=B.oMapOL;this.handler=new OpenLayers.Handler.Box(this,{done:this.execute});B.handlers.push(this.handler)},shouldActivateWith:function(B){return(B instanceof Fusion.Widget.SelectPolygon&&B.widgetUniqueId==this.widgetUniqueId)},enable:function(){if(this.bActiveOnly){var B=this.getMap().getActiveLayer();if(B&&B.selectable){Fusion.Widget.prototype.enable.apply(this,[])}else{this.disable()}}else{Fusion.Widget.prototype.enable.apply(this,[])}},activate:function(){this.handler.activate();this.getMap().setCursor(this.asCursor)},deactivate:function(){this.handler.deactivate();this.getMap().setCursor("auto")},execute:function(I,L){if(this.keyModifiers&OpenLayers.Handler.MOD_CTRL){}var F,C;var B=I.left;var N=I.bottom;var H=this.maxFeatures;if(I instanceof OpenLayers.Bounds){F=I.right;C=I.top}else{F=B=I.x;C=N=I.y;if(this.pointClickSingleSelect){H=1}}var G=this.getMap().pixToGeo(B,N);var M=this.getMap().pixToGeo(F,C);var E=Math.abs(B-F);var K=Math.abs(N-C);var O={};if(E<=this.nTolerance&&K<=this.nTolerance){var D=this.getMap().pixToGeoMeasure(this.nTolerance);G.x=G.x-D;G.y=G.y-D;M.x=M.x+D;M.y=M.y+D}O.geometry="POLYGON(("+G.x+" "+G.y+", "+M.x+" "+G.y+", "+M.x+" "+M.y+", "+G.x+" "+M.y+", "+G.x+" "+G.y+"))";O.selectionType=this.selectionType;O.maxFeatures=H;O.computed=this.bComputeMetadata;if(this.bActiveOnly){var J=this.getMap().getActiveLayer();if(J){O.layers=J.layerName}else{return }}if(this.handler.dragHandler.evt.shiftKey){O.extendSelection=true}this.getMap().query(O)},extend:function(B){this.execute(B,true)},setModifiers:function(B){this.keyModifiers=(B.shiftKey?OpenLayers.Handler.MOD_SHIFT:0)|(B.ctrlKey?OpenLayers.Handler.MOD_CTRL:0)|(B.altKey?OpenLayers.Handler.MOD_ALT:0)},clearModifiers:function(B){this.keyModifiers=0},setParameter:function(C,B){if(C=="Tolerance"&&B>0){this.nTolerance=B}if(C=="SelectionType"){this.selectionType=B}}});Fusion.Event.RADIUS_WIDGET_ACTIVATED=Fusion.Event.lastEventId++;Fusion.Widget.SelectAttribute=OpenLayers.Class(Fusion.Widget,{isExclusive:true,uiClass:Jx.Button,drawn:false,initializeWidget:function(C){var B=C.extension;if(B.Container){this.container=$(B.Container[0])}this.workArea=document.createElement("div");this.container.appendChild(this.workArea);this.attrRow=document.createElement("div");this.attrRow.className="selectAttrInputs";this.workArea.appendChild(this.attrRow);var D=document.createElement("div");D.innerHTML="layer to query:";this.layerList=document.createElement("select");this.layerList.className="layerSelector";D.appendChild(this.layerList);this.attrRow.appendChild(D);this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.listLayers,this));this.getMap().registerForEvent(Fusion.Event.MAP_RELOADED,OpenLayers.Function.bind(this.listLayers,this));this.getMap().registerForEvent(Fusion.Event.MAP_ACTIVE_LAYER_CHANGED,OpenLayers.Function.bind(this.setAttributeOptions,this))},listLayers:function(){this.layerList.innerHTML="";var F=this.getMapLayer();this.layerList.options[this.layerList.options.length]=new Option("--select--","");for(var E=0;E<F.aLayers.length;++E){var D=F.aLayers[E];if(D.selectable){this.layerList.options[this.layerList.options.length]=new Option(D.legendLabel,D.layerName)}}this.layerList.onchange=OpenLayers.Function.bind(this.activateLayer,this);var B=Fusion.getScriptLanguage();var H="layers/"+F.arch+"/"+B+"/GetAttributes."+B;var G={mapname:F._sMapname,session:F.getSessionID()};var C={onSuccess:OpenLayers.Function.bind(this.setAttributes,this),method:"GET",parameters:G};Fusion.ajaxRequest(H,C)},setAttributes:function(B){if(B.status<400){this.attrs=Fusion.parseJSON(B.responseText)}},setAttributeOptions:function(F){if(this.drawn){this.propsList.innerHTML="";var D=this.layerList[this.layerList.selectedIndex].value;var B=this.attrs[D].propertyvalues;var E=this.attrs[D].propertynames;for(var C=0;C<B.length;++C){this.propsList.options[this.propsList.options.length]=new Option(B[C],E[C])}}},activateLayer:function(E){if(this.drawn){var D=this.layerList[this.layerList.selectedIndex].value;var F=this.getMapLayer();var B=this.getMap();for(var C=0;C<F.aLayers.length;++C){if(F.aLayers[C].layerName==D){B.setActiveLayer(F.aLayers[C]);break}}}},activate:function(){this.container.style.display="block";if(!this.drawn){this.drawn=true;this.propsList=document.createElement("select");this.propsList.className="propsSelector";this.attrRow.appendChild(this.propsList);this.operatorList=document.createElement("select");this.operatorList.className="operatorSelector";this.operatorList.options[this.operatorList.options.length]=new Option("=","eq",true);this.operatorList.options[this.operatorList.options.length]=new Option("like","like");this.operatorList.options[this.operatorList.options.length]=new Option(">","gt");this.operatorList.options[this.operatorList.options.length]=new Option("<","lt");this.operatorList.options[this.operatorList.options.length]=new Option("<=","le");this.operatorList.options[this.operatorList.options.length]=new Option(">=","ge");this.operatorList.options[this.operatorList.options.length]=new Option("!=","ne");this.attrRow.appendChild(this.operatorList);this.attrValue=document.createElement("input");this.attrValue.className="propsValue";this.attrRow.appendChild(this.attrValue);new Jx.Button({label:"Query",onClick:OpenLayers.Function.bind(this.execute,this)}).addTo(this.attrRow)}},deactivate:function(){this.container.style.display="none"},execute:function(){var D=this.propsList[this.propsList.selectedIndex].value;var C=this.operatorList[this.operatorList.selectedIndex].value;var B=this.attrValue.value;var G=parseFloat(B);var F=null;if(isNaN(G)){if(C=="like"){F="/.*"+B+".*/gi"}else{F="(["+D+"] "+C+" '"+B+"')"}}else{F="(["+D+"] "+C+" "+B+")"}var E={layers:this.layerList[this.layerList.selectedIndex].value,filterItem:D,filter:F};this.getMap().query(E)}});Fusion.Widget.SelectPolygon=OpenLayers.Class(Fusion.Widget,{isExclusive:false,uiClass:Jx.Button,bActiveOnly:false,selectionType:"INTERSECTS",nTolerance:3,initializeWidget:function(D){this.asCursor=["auto"];var C=D.extension;this.selectionType=C.SelectionType?C.SelectionType[0]:"INTERSECTS";if(C.Tolerance&&(parseInt(C.Tolerance[0])>0)){nTolerance=parseInt(C.Tolerance[0])}this.bActiveOnly=(C.QueryActiveLayer&&(C.QueryActiveLayer[0]=="true"||C.QueryActiveLayer[0]=="1"))?true:false;this.bComputeMetadata=(C.ComputeMetadata&&(C.ComputeMetadata[0]=="true"||C.ComputeMetadata[0]=="1"))?true:false;var B=this.getMap();this.map=B.oMapOL;this.handlerOptions={};this.handler=new OpenLayers.Handler.Polygon(this,{done:this.execute},this.handlerOptions);B.handlers.push(this.handler);this.keyHandler=OpenLayers.Function.bind(this.onKeyPress,this)},onKeyPress:function(C){var B=(C.charCode)?C.charCode:((C.keyCode)?C.keyCode:C.which);if(B==OpenLayers.Event.KEY_ESC){this.deactivate()}},shouldActivateWith:function(B){return(B instanceof Fusion.Widget.SelectPolygon&&B.widgetUniqueId==this.widgetUniqueId)},activate:function(){OpenLayers.Event.observe(document,"keypress",this.keyHandler);this.handler.activate();var C=this.getMap();var D=C.message;D.info(OpenLayers.i18n("selectPolygonPrompt")+' <a id="abortSelectPolygonLink" href="javascript:void(0)">'+OpenLayers.i18n("stop")+"</a>");var B=D.container.ownerDocument.getElementById("abortSelectPolygonLink");B.onclick=OpenLayers.Function.bind(this.deactivate,this);C.setCursor(this.asCursor);C.supressContextMenu(true);this.getMap().triggerEvent(Fusion.Event.MAP_DIGITIZER_ACTIVATED)},deactivate:function(){OpenLayers.Event.stopObserving(document,"keypress",this.keyHandler);this.handler.deactivate();var B=this.getMap();B.message.clear();B.setCursor("auto");B.supressContextMenu(false);this.getMap().triggerEvent(Fusion.Event.MAP_DIGITIZER_DEACTIVATED)},execute:function(D){var B={};var E=D.getVertices();if(E.length<3){return }B.geometry=D.toString();B.selectionType=this.selectionType;B.computed=this.bComputeMetadata;if(this.handler.evt.ctrlKey){B.extendSelection=true}if(this.bActiveOnly){var C=this.getMap().getActiveLayer();if(C){B.layers=C.layerName}else{return }}this.getMap().query(B);this.deactivate();return false},setParameter:function(C,B){if(C=="Tolerance"&&B>0){this.nTolerance=B}if(C=="SelectionType"){this.selectionType=B}}});Fusion.Event.RADIUS_WIDGET_ACTIVATED=Fusion.Event.lastEventId++;Fusion.Widget.SelectRadius=OpenLayers.Class(Fusion.Widget,{isExclusive:false,uiClass:Jx.Button,selectionType:"INTERSECTS",bActiveOnly:false,nTolerance:3,defaultRadius:20,initializeWidget:function(F){this.asCursor=["auto"];var D=F.extension;this.selectionType=D.SelectionType?D.SelectionType[0]:"INTERSECTS";if(D.Tolerance&&(parseInt(D.Tolerance[0])>0)){nTolerance=parseInt(D.Tolerance[0])}this.defaultRadius=D.DefaultRadius?parseInt(D.DefaultRadius[0]):this.defaultRadius;this.bComputeMetadata=(D.ComputeMetadata&&(D.ComputeMetadata[0]=="true"||D.ComputeMetadata[0]=="1"))?true:false;this.bActiveOnly=(D.QueryActiveLayer&&(D.QueryActiveLayer[0]=="true"||D.QueryActiveLayer[0]=="1"))?true:false;var B=D.RadiusTooltipContainer?D.RadiusTooltipContainer[0]:"";if(B!=""){this.radiusTip=$(B)}if(this.radiusTip){this.radiusTipType=D.RadiusTooltipType?D.RadiusTooltipType[0].toLowerCase():"dynamic";if(this.radiusTipType=="dynamic"){var E=this.getMap().getDomObj();E.appendChild(this.radiusTip);this.radiusTip.style.position="absolute";this.radiusTip.style.display="none";this.radiusTip.style.top="0px";this.radiusTip.style.left="0px";this.radiusTip.style.zIndex=101}}this.registerEventID(Fusion.Event.RADIUS_WIDGET_ACTIVATED);var C=this.getMap();this.map=C.oMapOL;this.handlerOptions={sides:40};this.handler=new OpenLayers.Handler.RegularPolygon(this,{interval:100,done:this.execute,down:this.mouseDown,move:this.mouseMove},this.handlerOptions);C.handlers.push(this.handler);this.keyHandler=OpenLayers.Function.bind(this.onKeyPress,this)},setRadius:function(B){this.defaultRadius=B},getRadius:function(){if(this.handler.active){return this.handler.radius}else{return this.defaultRadius}},onKeyPress:function(C){var B=(C.charCode)?C.charCode:((C.keyCode)?C.keyCode:C.which);if(B==OpenLayers.Event.KEY_ESC){this.deactivate()}},activate:function(){OpenLayers.Event.observe(document,"keypress",this.keyHandler);var B=this.getMap().pixToGeoMeasure(this.defaultRadius);this.handler.setOptions({radius:B});this.handler.activate();var D=this.getMap();D.setCursor(this.asCursor);this.units=D.units;var E=D.message;E.info(OpenLayers.i18n("selectRadiusPrompt")+' <a id="abortSelectRadiusLink" href="javascript:void(0)">'+OpenLayers.i18n("stop")+"</a>");var C=E.container.ownerDocument.getElementById("abortSelectRadiusLink");C.onclick=OpenLayers.Function.bind(this.deactivate,this);D.supressContextMenu(true);this.triggerEvent(Fusion.Event.RADIUS_WIDGET_ACTIVATED,true);this.getMap().triggerEvent(Fusion.Event.MAP_DIGITIZER_ACTIVATED)},deactivate:function(){OpenLayers.Event.stopObserving(document,"keypress",this.keyHandler);this.handler.deactivate();var B=this.getMap();B.message.clear();B.setCursor("auto");B.supressContextMenu(false);this.triggerEvent(Fusion.Event.RADIUS_WIDGET_ACTIVATED,false);this.getMap().triggerEvent(Fusion.Event.MAP_DIGITIZER_DEACTIVATED)},mouseDown:function(F){var D=this.handler.evt;if(OpenLayers.Event.isLeftClick(D)){this.handler.fixedRadius=false;var G=this.getMap().getEventPosition(D);var C=this.getMap().pixToGeo(G.x,G.y);var B=this.getMap().pixToGeoMeasure(this.handler.radius);if(this.radiusTip&&this.radiusTipType=="dynamic"){this.radiusTip.style.display="block";var E=$(this.radiusTip).getBorderBoxSize();this.radiusTip.style.top=(G.y-E.height*2)+"px";this.radiusTip.style.left=G.x+"px";if(this.units=="m"||this.units=="ft"){B=Math.round(B*100)/100}this.radiusTip.innerHTML=B+this.units}}},mouseMove:function(F){var D=this.handler.evt;if(OpenLayers.Event.isLeftClick(D)){var H=this.getMap();var G=H.getEventPosition(D);var C=H.pixToGeo(G.x,G.y);var B=this.getMap().pixToGeoMeasure(this.handler.radius);if(this.radiusTip&&this.radiusTipType=="dynamic"){this.radiusTip.style.display="block";var E=$(this.radiusTip).getBorderBoxSize();this.radiusTip.style.top=(G.y-E.height*2)+"px";this.radiusTip.style.left=G.x+"px";if(this.units=="m"||this.units=="ft"){B=Math.round(B*100)/100}this.radiusTip.innerHTML=B+this.units}}},execute:function(D){if(this.radiusTip&&this.radiusTipType=="dynamic"){this.radiusTip.style.display="none";this.radiusTip.innerHTML=""}if(this.handler.start==this.handler.last){this.handler.clear()}var B={};B.geometry=D.toString();B.selectionType=this.selectionType;B.computed=this.bComputeMetadata;if(this.bActiveOnly){var C=this.getMap().getActiveLayer();if(C){B.layers=C.layerName}else{return }}if(this.handler.evt.shiftKey){B.extendSelection=true}this.getMap().query(B);this.deactivate()},setParameter:function(C,B){if(C=="Tolerance"&&B>0){this.nTolerance=B}if(C=="SelectionType"){this.selectionType=B}}});Fusion.Widget.SelectRadiusValue=OpenLayers.Class(Fusion.Widget,{radiusWidgetName:null,label:"",className:"",domLabel:null,initializeWidget:function(C){var B=C.extension;this.radiusWidgetName=B.RadiusName?B.RadiusName[0]:null;this.label=B.Label?B.Label[0]:"";this.className=B.ClassName?B.ClassName[0]:"";Fusion.registerForEvent(Fusion.Event.FUSION_INITIALIZED,OpenLayers.Function.bind(this.mapLoaded,this));this.getMap().registerForEvent(Fusion.Event.MAP_EXTENTS_CHANGED,OpenLayers.Function.bind(this.mapExtentsChanged,this))},draw:function(){var B=this.getMap().units;this.domLabel=document.createElement("span");this.domLabel.className=this.className;this.domLabel.innerHTML=this.label+"("+B+")";this.input=document.createElement("input");this.input.type="text";this.domLabel.appendChild(this.input);this.domObj.appendChild(this.domLabel);OpenLayers.Event.observe(this.input,"blur",OpenLayers.Function.bind(this.onBlur,this))},setUiObject:function(B){Fusion.Widget.prototype.setUiObject.apply(this,[B]);if(this.uiObj.domObj){this.domObj=this.uiObj.domObj}else{this.domObj=this.uiObj}},mapLoaded:function(){this.draw();this.input.disabled=true;var C=Fusion.getWidgetsByType("SelectRadius");for(var B=0;B<C.length;B++){if(C[B].widgetTag.name==this.radiusWidgetName){this.widget=C[B];this.widget.registerForEvent(Fusion.Event.RADIUS_WIDGET_ACTIVATED,this.dependantEnable.bind(this));break}}this.updateFromWidgetValue()},dependantEnable:function(B,C){if(this.widget){if(C){this.input.disabled=false}else{this.input.disabled=true}}},mapExtentsChanged:function(){this.updateWidgetValue()},onBlur:function(){this.updateWidgetValue()},updateWidgetValue:function(){if(this.widget){var B=this.input.getValue();this.widget.setRadius(B)}},updateFromWidgetValue:function(){if(this.widget){this.input.value=this.widget.getRadius()}}});Fusion.Widget.SelectWithin=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,sFeatures:"menubar=no,location=no,resizable=no,status=no",initializeWidget:function(F){var E=F.extension;this.sTarget=E.Target?E.Target[0]:"SelectWithinWindow";this.sBaseUrl=Fusion.getFusionURL()+"widgets/SelectWithin/SelectWithinPanel.php";this.bSelectionOnly=(E.DisableIfSelectionEmpty&&(E.DisableIfSelectionEmpty[0]=="true"||E.DisableIfSelectionEmpty[0]=="1"))?true:false;this.additionalParameters=[];if(E.AdditionalParameter){for(var D=0;D<E.AdditionalParameter.length;D++){var G=E.AdditionalParameter[D];var C=G.Key[0];var B=G.Value[0];this.additionalParameters.push(C+"="+encodeURIComponent(B))}}this.enable=Fusion.Widget.SelectWithin.prototype.enable;this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_ON,OpenLayers.Function.bind(this.enable,this));this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_OFF,OpenLayers.Function.bind(this.enable,this));this.disable()},enable:function(){var B=this.getMap();if(this.bSelectionOnly||!B){if(B&&B.hasSelection()){if(this.action){this.action.setEnabled(true)}else{Fusion.Widget.prototype.enable.apply(this,[])}}else{if(this.action){this.action.setEnabled(false)}else{this.disable()}}}else{if(this.action){this.action.setEnabled(true)}else{Fusion.Widget.prototype.enable.apply(this,[])}}},activate:function(){var C=this.sBaseUrl;var E=this.getMapLayer();var D=Fusion.getWidgetById(this.sTarget);var B=$(this.sTarget);var F=[];F.push("locale="+Fusion.locale);F.push("session="+E.getSessionID());F.push("mapname="+E.getMapName());if(D||B){F.push("popup=false")}else{F.push("popup=true")}F=F.concat(this.additionalParameters);if(C.indexOf("?")<0){C+="?"}else{if(C.slice(-1)!="&"){C+="&"}}C+=F.join("&");if(D){if(!D.isSameWithLast(C)){D.setContent(C)}}else{if(B){B.src=C}else{window.open(C,this.sTarget,this.sWinFeatures)}}}});Fusion.Widget.SelectionInfo=OpenLayers.Class(Fusion.Widget,{defaultTemplate:"selectionInfo",domSpan:null,initializeWidget:function(C){var B=C.extension;this.emptyText=B.EmptyText?B.EmptyText[0]:this.domObj.innerHTML;this.template=B.Template?B.Template[0]:null;this.domSpan=document.createElement("span");this.domSpan.className="spanSelectionInfo";this.domSpan.innerHTML=OpenLayers.i18n(this.emptyText);this.emptyText=B.EmptyText?B.EmptyText[0]:(this.domObj?this.domObj.innerHTML:null);if(this.domObj){this.domObj.innerHTML="";this.domObj.appendChild(this.domSpan)}this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_ON,OpenLayers.Function.bind(this.update,this));this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_OFF,OpenLayers.Function.bind(this.update,this));Fusion.addWidgetStyleSheet(C.location+"/SelectionInfo/SelectionInfo.css")},setUiObject:function(B){Fusion.Widget.prototype.setUiObject.apply(this,[B]);if(this.uiObj.domObj){this.uiObj.domObj.appendChild(this.domSpan)}else{this.uiObj.appendChild(this.domSpan)}},update:function(){var D=this.getMap();var C=D.getAllMaps();var H=0;var G=0;for(var B=0;B<C.length;++B){var F=C[B];if(F.hasSelection()){var E=F.getSelectedLayers();H+=E.length;G+=F.getSelectedFeatureCount()}}if(G>0){if(this.template){this.domSpan.innerHTML=this.template.replace("{0}",G).replace("{1}",H)}else{this.domSpan.innerHTML=OpenLayers.i18n(this.defaultTemplate,{features:G,layers:H})}}else{this.domSpan.innerHTML=OpenLayers.i18n(this.emptyText)}}});Fusion.Widget.SelectionPanel=OpenLayers.Class(Fusion.Widget,{previousIcon:"images/icon_back.gif",nextIcon:"images/icon_forward.gif",initializeWidget:function(widgetTag){var json=widgetTag.extension;if(json.PreviousImageUrl){this.previousIcon=json.PreviousImageUrl}if(json.NextImageUrl){this.nextIcon=json.NextImageUrl}this.iResultsPerPage=json.ResultsPerPage?json.ResultsPerPage[0]:0;this.iResultsPerPage=parseInt(this.iResultsPerPage);if(isNaN(this.iResultsPerPage)||(this.iResultsPerPage<0)){this.iResultsPerPage=0}if(json.SelectionRenderer){var renderer=eval(json.SelectionRenderer[0]);if(renderer&&renderer.prototype.CLASS_NAME&&renderer.prototype.CLASS_NAME=="Fusion.Widget.SelectionPanel.SelectionRenderer"){this.renderer=new renderer(this)}else{if(typeof renderer=="function"){var renderFunction=renderer;this.renderer=new Fusion.Widget.SelectionPanel.SelectionRenderer(this);this.renderer.updateSelection=function(){this.getMap().getSelection(OpenLayers.Function.bind(renderFunction))};this.renderer.clearSelection=false}else{this.renderer=new Fusion.Widget.SelectionPanel.SelectionRendererDefault(this)}}}else{this.renderer=new Fusion.Widget.SelectionPanel.SelectionRendererDefault(this)}this.iResultsPerPage=null;if(this.renderer.updateSelection){this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_ON,OpenLayers.Function.bind(this.renderer.updateSelection,this.renderer))}if(this.renderer.clearSelection){this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_OFF,OpenLayers.Function.bind(this.renderer.clearSelection,this.renderer))}}});Fusion.Widget.SelectionPanel.SelectionRenderer=OpenLayers.Class({oSelection:null,aiCurrentIndex:null,iResultsPerPage:0,initialize:function(B){this.oSelectionPanel=B;this.iResultsPerPage=B.iResultsPerPage;this.aiCurrentIndex=new Array()},updatePageIndexes:function(){var C=this.oSelection.getNumLayers();for(var B=0;B<C;B++){this.aiCurrentIndex[this.oSelection.getLayer(B).getName()]=0}},getNextPage:function(B){if(B&&(this.iResultsPerPage!=0)){var D=B.getName();if(this.aiCurrentIndex[D]>=B.getNumElements()){this.aiCurrentIndex[D]=this.aiCurrentIndex[D]-this.iResultsPerPage}var C=B.getNumElements();var G=this.aiCurrentIndex[D];var E=G+this.iResultsPerPage;if(E>=C){E=C}if(G<0){G=0}this.aiCurrentIndex[D]=E;var F=(E-G);if(F!=this.iResultsPerPage){this.aiCurrentIndex[D]=this.aiCurrentIndex[D]+(this.iResultsPerPage-F)}return this.getPage(B,G,E)}return this.getPage(B)},getPreviousPage:function(B){var D=B.getName();if(B&&(this.aiCurrentIndex[D]!=0)&&(this.iResultsPerPage!=0)){var C=B.getNumElements();var F=this.aiCurrentIndex[D]-(this.iResultsPerPage*2);var E=this.aiCurrentIndex[D]-this.iResultsPerPage;if(F<0){F=0;E=(C<this.iResultsPerPage)?C:this.iResultsPerPage}this.aiCurrentIndex[D]=E;return this.getPage(B,F,E)}return this.getPage(B)},getMap:function(){return this.oSelectionPanel.getMap()},getPage:function(B,H,G){var F=false;if(B){F=new Array();H=H?H:0;G=G?G:B.getNumElements();var I=B.getPropertyNames();var D=0;for(var E=H;E<G;E++,D++){F[D]=new Array();for(var C=0;C<I.length;C++){F[D][C]=B.getElementValue(E,C)}}}return F},updateSelection:function(){},clearSelection:function(){},CLASS_NAME:"Fusion.Widget.SelectionPanel.SelectionRenderer"});Fusion.Widget.SelectionPanel.SelectionRendererDefault=OpenLayers.Class(Fusion.Widget.SelectionPanel.SelectionRenderer,{initialize:function(C){Fusion.Widget.SelectionPanel.SelectionRenderer.prototype.initialize.apply(this,[C]);var B=document.createElement("div");this.toolbar=document.createElement("div");this.toolbar.className="selectionPanelToolbar";this.layerList=document.createElement("select");this.layerList.className="layerSelector";this.toolbar.appendChild(this.layerList);OpenLayers.Event.observe(this.layerList,"change",OpenLayers.Function.bind(this.renderSelectionFeatures,this));this.featureList=document.createElement("select");this.featureList.className="featureSelector";this.toolbar.appendChild(this.featureList);OpenLayers.Event.observe(this.featureList,"change",OpenLayers.Function.bind(this.renderFeature,this));this.featureDiv=document.createElement("div");this.featureDiv.className="selectionPanelContent";this.clearSelection();B.appendChild(this.toolbar);B.appendChild(this.featureDiv);Fusion.addWidgetStyleSheet(this.oSelectionPanel.getLocation()+"SelectionPanel/SelectionPanel.css");this.oSelectionPanel.domObj.appendChild(B)},updateSelection:function(){this.getMap().getSelection(OpenLayers.Function.bind(this.renderSelectionLayers,this))},clearSelection:function(){this.layerList.options.length=0;this.featureList.options.length=0;this.oSelection=null;this.featureDiv.className="selectionPanelContent noSelection";this.featureDiv.innerHTML=OpenLayers.i18n("noSelection")},renderSelectionLayers:function(H){this.oSelection=null;for(var K in H){this.oSelection=H[K];break}if(!this.oSelection){return }this.featureDiv.className="selectionPanelContent";while(this.layerList.length>0){this.layerList.remove(this.layerList.options[0])}var E=this.oSelection.getNumLayers();for(var I=0;I<E;I++){var F=this.oSelection.getLayer(I);var D=[];var B=this.getMap();for(G=0;G<B.aMaps.length;++G){if(B.aMaps[G].aLayers){for(k=0;k<B.aMaps[G].aLayers.length;++k){D.push(B.aMaps[G].aLayers[k])}}}var J=F.getName();for(var G=0;G<D.length;++G){if(D[G].layerName==J){J=D[G].legendLabel;break}}var C=new Option(J,I);this.layerList.options[I]=C}this.layerList.selectedIndex=0;this.renderSelectionFeatures()},renderSelectionFeatures:function(){var C=this.layerList.selectedIndex;var F=this.oSelection.getLayer(C);while(this.featureList.length>0){this.featureList.remove(this.featureList.options[0])}var B=F.getNumElements();for(var E=0;E<B;E++){var D=new Option(E+1,E);this.featureList.options[E]=D}this.featureList.selectedIndex=0;this.renderFeature()},renderFeature:function(){var L=this.layerList.selectedIndex;var H=this.featureList.selectedIndex;var E=this.oSelection.getLayer(L);var K=E.getNumProperties();var C=E.getPropertyNames();var M=document.createElement("table");var I=document.createElement("thead");var J=document.createElement("tr");var B=document.createElement("th");B.innerHTML=OpenLayers.i18n("attribute");J.appendChild(B);var B=document.createElement("th");B.innerHTML=OpenLayers.i18n("value");J.appendChild(B);I.appendChild(J);M.appendChild(I);var G=document.createElement("tbody");M.appendChild(G);for(var F=0;F<K;F++){var J=document.createElement("tr");if(F%2){J.className="oddRow"}var B=document.createElement("th");B.innerHTML=C[F];var D=document.createElement("td");D.innerHTML=E.getElementValue(H,F);J.appendChild(B);J.appendChild(D);G.appendChild(J)}this.featureDiv.innerHTML="";this.featureDiv.appendChild(M)}});Fusion.Widget.SelectionPanel.SelectionRendererHorizontal=OpenLayers.Class(Fusion.Widget.SelectionPanel.SelectionRenderer,{initialize:function(C){Fusion.Widget.SelectionPanel.SelectionRenderer.prototype.initialize.apply(this,[C]);var B=document.createElement("div");this.featureDiv=document.createElement("div");this.featureDiv.innerHTML="No Selection";this.featureDiv.className="selectionPanelContent noSelection";B.appendChild(this.featureDiv);if(this.iResultsPerPage!=0){this.previousButton=document.createElement("img");this.previousButton.src=this.oSelectionPanel.previousIcon;this.previousButton.style.position="absolute";this.previousButton.style.left="0px";this.previousButton.style.padding="3px";OpenLayers.Event.observe(this.previousButton,"click",OpenLayers.Function.bind(this.renderLayers,this,"prev"));this.nextButton=document.createElement("img");this.nextButton.src=this.oSelectionPanel.nextIcon;this.nextButton.style.position="absolute";this.nextButton.style.right="0px";this.nextButton.style.padding="3px";OpenLayers.Event.observe(this.nextButton,"click",OpenLayers.Function.bind(this.renderLayers,this,"next"));B.appendChild(this.previousButton);B.appendChild(this.nextButton)}Fusion.addWidgetStyleSheet(this.oSelectionPanel.getLocation()+"SelectionPanel/SelectionPanel.css");this.oSelectionPanel.domObj.appendChild(B)},updateSelection:function(){this.getMap().getSelection(OpenLayers.Function.bind(this.renderSelection,this))},clearSelection:function(){this.oSelection=null;this.featureDiv.className="selectionPanelContent noSelection";this.featureDiv.innerHTML=OpenLayers.i18n("noSelection")},renderSelection:function(C){this.oSelection=null;for(var B in C){this.oSelection=C[B];break}this.updatePageIndexes();this.renderLayers("next")},renderLayers:function(C){if(!this.oSelection){return }$(this.featureDiv).removeClass("noSelection");this.featureDiv.innerHTML="";var F=this.getMap();var N=F.getAllMaps();var B=null;for(var M=0;M<N.length;M++){if(N[M].arch=="MapGuide"){B=N[M];break}}if(B==null){return }var H=this.oSelection.getNumLayers();for(var M=0;M<H;M++){var R=document.createElement("table");R.style.borderLeft="1px solid #CCCCCC";R.style.marginBottom="10px";var I=this.oSelection.getLayer(M);var G=I.getPropertyNames();var E=B.aLayers;var L=I.getName();for(var J=0;J<E.length;++J){if(E[J].layerName==L){L=E[J].legendLabel;break}}var P=document.createElement("thead");var Q=document.createElement("tr");var D=document.createElement("th");D.innerHTML=L;D.colSpan=G.length;D.style.textAlign="center";Q.appendChild(D);P.appendChild(Q);Q=document.createElement("tr");for(var J=0;J<G.length;J++){D=document.createElement("th");D.innerHTML=G[J];D.style.textAlign="center";Q.appendChild(D)}P.appendChild(Q);R.appendChild(P);var K=document.createElement("tbody");var O=(C=="next")?this.getNextPage(I):this.getPreviousPage(I);this.renderFeatures(O,K);R.appendChild(K);this.featureDiv.appendChild(R)}},renderFeatures:function(E,F){if(!E){return }for(var C=0;C<E.length;C++){var D=document.createElement("tr");if(C%2){D.className="oddRow"}for(var B=0;B<E[C].length;B++){var G=document.createElement("td");G.innerHTML=E[C][B];D.appendChild(G)}F.appendChild(D)}}});Fusion.Event.TASK_PANE_LOADED=Fusion.Event.lastEventId++;Fusion.Widget.TaskPane=OpenLayers.Class(Fusion.Widget,{aExecutedTasks:null,nCurrentTask:-1,nTasks:0,initializeWidget:function(I){this.aExecutedTasks=[];var C=Fusion.getFusionURL();var G=C+I.location+"TaskPane/taskpane.png";var E="TaskPane_home";var K=C+I.location+"TaskPane/taskpane.png";var B="TaskPane_back";var M=C+I.location+"TaskPane/taskpane.png";var H="TaskPane_forward";var L=C+I.location+"TaskPane/taskpane.png";var F="TaskPane_tasks";var D=I.location+"TaskPane/TaskPane.html";var N=I.extension;if(N.InitialTask){D=taskURL=N.InitialTask[0]}else{D=C+D}G=N.HomeIcon?N.HomeIcon[0]:G;E=N.HomeClass?N.HomeClass[0]:E;K=N.PreviousIcon?N.PreviousIcon[0]:K;B=N.PreviousClass?N.PreviousClass[0]:B;M=N.NextIcon?N.NextIcon[0]:M;H=N.NextClass?N.NextClass[0]:H;L=N.TaskIcon?N.TaskIcon[0]:L;F=N.TaskClass?N.TaskClass[0]:F;if(N.MenuContainer){this.menuName=N.MenuContainer[0]}this.toolbar=new Jx.Toolbar();this.homeButton=new Jx.Button({image:G,imageClass:E,tooltip:OpenLayers.i18n("taskHome"),onClick:OpenLayers.Function.bind(this.goHome,this)});this.prevButton=new Jx.Button({image:K,imageClass:B,tooltip:OpenLayers.i18n("prevTask"),onClick:OpenLayers.Function.bind(this.gotoPrevTask,this)});this.nextButton=new Jx.Button({image:M,imageClass:H,tooltip:OpenLayers.i18n("nextTask"),onClick:OpenLayers.Function.bind(this.gotoNextTask,this)});this.toolbar.add(this.homeButton,this.prevButton,this.nextButton);this.taskMenu=new Jx.Menu({image:L,imageClass:F,label:OpenLayers.i18n("taskList"),right:0});$(this.taskMenu.domObj).addClass("taskMenu");$(this.taskMenu.button.domObj).addClass("jxButtonContentLeft");this.toolbar.add(this.taskMenu);var J=this.name+"_IFRAME";this.iframe=document.createElement("iframe");new Jx.Layout(this.iframe);this.iframe.setAttribute("name",J);this.iframe.setAttribute("id",J);this.iframe.setAttribute("frameborder",0);this.iframe.style.border="0px solid #fff";this.oTaskPane=new Jx.Panel({toolbars:[this.toolbar],hideTitle:true,content:this.iframe});$(this.domObj).addClass("taskPanePanel");Fusion.addWidgetStyleSheet(I.location+"TaskPane/TaskPane.css");this.domObj.appendChild(this.oTaskPane.domObj);this.oTaskPane.domObj.resize();Fusion.registerEventID(Fusion.Event.TASK_PANE_LOADED);Fusion.registerForEvent(Fusion.Event.FUSION_INITIALIZED,OpenLayers.Function.bind(this.setTaskMenu,this));this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.setInitialContent,this,D))},updateButtons:function(){this.prevButton.setEnabled(this.nCurrentTask>0);this.nextButton.setEnabled(this.nCurrentTask<this.aExecutedTasks.length-1)},gotoPrevTask:function(){this.nCurrentTask=this.nCurrentTask>0?--this.nCurrentTask:0;var B=this.aExecutedTasks[this.nCurrentTask];this.loadFrame(B)},gotoNextTask:function(){this.nCurrentTask=this.nCurrentTask<this.aExecutedTasks.length-1?++this.nCurrentTask:this.aExecutedTasks.length-1;var B=this.aExecutedTasks[this.nCurrentTask];this.loadFrame(B)},goHome:function(){this.nCurrentTask=0;var B=this.aExecutedTasks[this.nCurrentTask];this.loadFrame(B)},setInitialContent:function(B){this.aExecutedTasks=[];this.nCurrentTask=-1;this.setContent(B)},addCommonParams:function(B){var D=B.split("?");var F=OpenLayers.Util.getParameters(B);var C=this.getMapLayer();if(!F.LOCALE&&!F.locale){F.locale=Fusion.locale}if(!F.SESSION&&!F.session){F.session=C.getSessionID()}if(!F.MAPNAME&&!F.mapname){F.mapname=C.getMapName()}var E=D[0]+"?"+OpenLayers.Util.getParameterString(F);return E},isSameWithLast:function(B){return this.aExecutedTasks[this.aExecutedTasks.length-1]==this.addCommonParams(B)},setContent:function(B){Fusion.triggerEvent(Fusion.Event.TASK_PANE_LOADED);var C=this.addCommonParams(B);this.aExecutedTasks.push(C);++this.nCurrentTask;this.loadFrame(C)},loadFrame:function(B){this.iframe.src=B;this.iframe.taskPaneId=this.widgetTag.name;this.updateButtons()},setTaskMenu:function(){if(this.menuName){var B=this.getMap().widgetSet.getContainerByName(this.menuName);if(B){B.createWidgets(this.getMap().widgetSet,this.taskMenu)}}}});Fusion.Widget.Theme=OpenLayers.Class(Fusion.Widget,{isExclusive:false,uiClass:Jx.Button,sFeatures:"menubar=no,location=no,resizable=no,status=no",initializeWidget:function(C){var B=C.extension;this.sTarget=B.Target?B.Target[0]:"ThemeWindow";this.sBaseUrl=Fusion.getFusionURL()+"widgets/Theme/thememain.php"},activate:function(){var C=this.sBaseUrl;var E=this.getMapLayer();var D=Fusion.getWidgetById(this.sTarget);var B=$(this.sTarget);var F=[];F.push("LOCALE="+Fusion.locale);F.push("SESSION="+E.getSessionID());F.push("MAPNAME="+E.getMapName());if(D||B){F.push("POPUP=false")}else{F.push("POPUP=true")}if(C.indexOf("?")<0){C+="?"}else{if(C.slice(-1)!="&"){C+="&"}}C+=F.join("&");if(D){if(!D.isSameWithLast(C)){D.setContent(C)}}else{if(B){B.src=C}else{window.open(C,this.sTarget,this.sWinFeatures)}}}});Fusion.Widget.ViewOptions=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Menu,displayUnits:false,options:{imperial:"Miles",metric:"Meters",deg:"Degrees"},menuItems:null,system:null,initializeWidget:function(C){var B=C.extension;this.displayUnits=B.DisplayUnits?B.DisplayUnits[0]:false;this.paramRegister.push("Units");this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.setMapUnits,this));this.menuItems={}},setUiObject:function(E){Fusion.Widget.prototype.setUiObject.apply(this,[E]);var D=new Jx.ButtonSet();for(var B in this.options){var C=new Jx.Menu.Item({label:OpenLayers.i18n(B),toggle:true,onDown:OpenLayers.Function.bind(this.setViewOptions,this,this.options[B])});D.add(C);this.uiObj.add(C);this.menuItems[B]=C}},setViewOptions:function(B){this.getMap().setViewOptions(B)},setMapUnits:function(){var B=this.displayUnits?this.displayUnits:this.getMap().getUnits();this.setViewOptions(B);this.system=Fusion.unitSystem(Fusion.unitFromName(B));if(this.menuItems[this.system]){this.menuItems[this.system].setActive(true)}},setParameter:function(C,B){if(C=="Units"&&this.system!=Fusion.unitSystem(Fusion.unitFromName(B))){this.system=Fusion.unitSystem(Fusion.unitFromName(B));if(this.menuItems[this.system]){this.menuItems[this.system].setActive(true)}}}});Fusion.Widget.ViewSize=OpenLayers.Class(Fusion.Widget,{defaultTemplate:"x: {x}, y: {y}",domSpan:null,emptyText:"",units:Fusion.UNKNOWN,initializeWidget:function(C){var B=C.extension;this.template=B.Template?B.Template[0]:this.defaultTemplate;this.precision=B.Precision?parseInt(B.Precision[0]):-1;this.units=B.Units?Fusion.unitFromName(B.Units[0]):Fusion.UNKOWN;this.domSpan=document.createElement("span");this.domSpan.className="spanViewSize";this.domSpan.innerHTML=this.emptyText;if(this.domObj){this.emptyText=this.domObj.innerHTML;this.domObj.innerHTML="";this.domObj.appendChild(this.domSpan)}this.getMap().registerForEvent(Fusion.Event.MAP_RESIZED,OpenLayers.Function.bind(this.updateViewSize,this));this.getMap().registerForEvent(Fusion.Event.MAP_LOADED,OpenLayers.Function.bind(this.setUnits,this));this.getMap().registerForEvent(Fusion.Event.MAP_EXTENTS_CHANGED,OpenLayers.Function.bind(this.updateViewSize,this));this.registerParameter("Units");Fusion.addWidgetStyleSheet(C.location+"/ViewSize/ViewSize.css")},setUiObject:function(B){Fusion.Widget.prototype.setUiObject.apply(this,[B]);if(this.uiObj.domObj){this.uiObj.domObj.appendChild(this.domSpan)}else{this.uiObj.appendChild(this.domSpan)}},updateViewSize:function(H){var G=this.getMap();var F=G.getSize();if(this.units!=Fusion.PIXELS){var I=G.pixToGeoMeasure(F.w);var D=G.pixToGeoMeasure(F.h);if(this.units!=Fusion.UNKNOWN){var C=G.getMetersPerUnit();I=Fusion.fromMeter(this.units,I*C);D=Fusion.fromMeter(this.units,D*C)}if(this.precision>=0){var E=Math.pow(10,this.precision);I=Math.round(I*E)/E;D=Math.round(D*E)/E}}var B=Fusion.unitAbbr(this.units);this.domSpan.innerHTML=this.template.replace("{w}",I).replace("{h}",D).replace("{units}",B).replace("{units}",B)},setUnits:function(){if(this.units==Fusion.UNKNOWN){this.setParameter("Units",this.getMap().getUnits())}this.updateViewSize()},setParameter:function(C,B){if(C=="Units"){this.units=Fusion.unitFromName(B);this.updateViewSize()}}});Fusion.Widget.Zoom=OpenLayers.Class(Fusion.Widget,{isExclusive:true,tolerance:5,factor:2,zoomIn:true,uiClass:Jx.Button,initializeWidget:function(H){var C=window.location.href.indexOf("?");var F=window.location.href.substring(0,C);C=F.lastIndexOf("/");F=F.substring(0,C+1);var G="url("+F+"images/zoomin.cur), auto";var E="url("+F+"images/zoomout.cur), auto";this.asCursor=[G,"-moz-zoom-in","auto"];this.zoomInCursor=[G,"-moz-zoom-in","auto"];this.zoomOutCursor=[E,"-moz-zoom-out","auto"];var D=H.extension;this.tolerance=D.Tolerance?D.Tolerance[0]:this.tolerance;this.factor=D.Factor?D.Factor[0]:this.factor;this.zoomIn=(D.Direction&&D.Direction[0]=="out")?false:true;this.keypressWatcher=OpenLayers.Function.bind(this.keypressHandler,this);var B=this.getMap();this.map=B.oMapOL;this.handler=new OpenLayers.Handler.Box(this,{done:this.execute},{keyMask:0});this.shiftHandler=new OpenLayers.Handler.Box(this,{done:this.altZoom},{keyMask:OpenLayers.Handler.MOD_SHIFT});B.handlers.push(this.handler);B.handlers.push(this.shiftHandler);this.getMap().registerForEvent(Fusion.Event.MAP_DIGITIZER_ACTIVATED,OpenLayers.Function.bind(this.onDigitizerActivated,this));this.getMap().registerForEvent(Fusion.Event.MAP_DIGITIZER_DEACTIVATED,OpenLayers.Function.bind(this.onDigitizerDeactivated,this))},onDigitizerActivated:function(){this.bRestoreActiveState=this.isActive;this.deactivate()},onDigitizerDeactivated:function(){if(this.bRestoreActiveState===true){this.activate();this.bRestoreActiveState=false}},shouldActivateWith:function(B){return(B instanceof Fusion.Widget.SelectPolygon&&B.widgetUniqueId==this.widgetUniqueId)},activate:function(){this.isActive=true;this.handler.activate();this.shiftHandler.activate();if(this.zoomIn){this.getMap().setCursor(this.zoomInCursor)}else{this.getMap().setCursor(this.zoomOutCursor)}OpenLayers.Event.observe(document,"keypress",this.keypressWatcher)},deactivate:function(){this.isActive=false;this.handler.deactivate();this.shiftHandler.deactivate();this.getMap().setCursor("auto");OpenLayers.Event.stopObserving(document,"keypress",this.keypressWatcher)},execute:function(I,N){var G=this.zoomIn;if(N){G=!G}if(I instanceof OpenLayers.Bounds){var J=this.map.getLonLatFromPixel(new OpenLayers.Pixel(I.left,I.bottom));var L=this.map.getLonLatFromPixel(new OpenLayers.Pixel(I.right,I.top));var C=new OpenLayers.Bounds(J.lon,J.lat,L.lon,L.lat);if(G){this.getMap().setExtents(C)}else{var H=C.getWidth();var D=C.getHeight();var M=this.getMap().getCurrentExtents();var E=M.getWidth();var F=M.getHeight();var K=Math.min(H/E,D/F);var B=C.getCenterLonLat();this.getMap().zoom(B.lon,B.lat,K)}}else{var B=this.map.getLonLatFromPixel(I);var K;if(!G&&this.factor>1){K=1/this.factor}else{K=this.factor}this.getMap().zoom(B.lon,B.lat,K)}},altZoom:function(B){this.execute(B,true)},setParameter:function(C,B){if(C=="Factor"&&B>0){this.factor=B}},keypressHandler:function(C){var B=(C.charCode)?C.charCode:C.keyCode;if(B==Event.KEY_ESC){this.handler.deactivate();this.handler.activate()}}});Fusion.Widget.ZoomOnClick=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,factor:4,initializeWidget:function(C){var B=C.extension;this.factor=parseFloat(B.Factor?B.Factor[0]:this.factor)},activate:function(){var B=this.getMap().getCurrentCenter();this.getMap().zoom(B.x,B.y,this.factor)},setParameter:function(C,B){if(C=="Factor"&&B>0){this.factor=B}}});Fusion.Widget.ZoomToSelection=OpenLayers.Class(Fusion.Widget,{uiClass:Jx.Button,initializeWidget:function(C){var B=C.extension;this.maxDimension=B.MaximumZoomDimension?B.MaximumZoomDimension[0]:-1;this.zoomFactor=B.ZoomFactor?B.ZoomFactor[0]:2;this.enable=Fusion.Widget.ZoomToSelection.prototype.enable;this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_ON,OpenLayers.Function.bind(this.enable,this));this.getMap().registerForEvent(Fusion.Event.MAP_SELECTION_OFF,OpenLayers.Function.bind(this.disable,this))},activate:function(){this.getMap().getSelection(OpenLayers.Function.bind(this.zoomToSelection,this))},zoomToSelection:function(J){var G=this.getMap().getAllMaps();var C=new OpenLayers.Bounds();for(var F=0;F<G.length;++F){var H=G[F].getMapName();if(J[H]){var I=J[H].getLowerLeftCoord();C.extend(new OpenLayers.LonLat(I.x,I.y));var E=J[H].getUpperRightCoord();C.extend(new OpenLayers.LonLat(E.x,E.y))}}var D=this.zoomFactor*Math.max(Math.abs(C.getWidth()),Math.abs(C.getHeight()))/2;var B=C.getCenterLonLat();llx=B.lon-D;urx=B.lon+D;lly=B.lat-D;ury=B.lat+D;this.getMap().setExtents(new OpenLayers.Bounds(llx,lly,urx,ury))},enable:function(){if(this.oMap&&this.oMap.hasSelection()){Fusion.Widget.prototype.enable.apply(this,[])}else{this.disable()}}});function ScaleBarTool(C){this.scaleDenominator=(C==null)?1:C;this.displaySystem="metric";this.minWidth=100;this.maxWidth=200;this.divisions=2;this.subdivisions=2;this.showMinorMeasures=false;this.abbreviateLabel=false;this.singleLine=false;this.resolution=72;this.align="center";this.container=document.createElement("div");this.container.className="sbWrapper";this.labelContainer=document.createElement("div");this.labelContainer.className="sbUnitsContainer";this.labelContainer.style.position="absolute";this.graphicsContainer=document.createElement("div");this.graphicsContainer.style.position="absolute";this.graphicsContainer.className="sbGraphicsContainer";this.numbersContainer=document.createElement("div");this.numbersContainer.style.position="absolute";this.numbersContainer.className="sbNumbersContainer";var B=document.createElement("div");B.className="sbMarkerMajor";this.graphicsContainer.appendChild(B);var D=document.createElement("div");D.className="sbMarkerMinor";this.graphicsContainer.appendChild(D);var E=document.createElement("div");E.className="sbBar";this.graphicsContainer.appendChild(E);var F=document.createElement("div");F.className="sbBarAlt";this.graphicsContainer.appendChild(F)}ScaleBarTool.prototype.update=function(U){if(U!=null){this.scaleDenominator=U}function u(AF,AP,AH){var AH=(AH==null)?10:AH;var AI=Number.POSITIVE_INFINITY;var AJ=Number.POSITIVE_INFINITY;var AR=AF;var AG=3;for(var AK=0;AK<3;++AK){var AE=Math.pow(2,(-1*AK));var AN=Math.floor(Math.log(AP/AE)/Math.LN10);for(var AQ=AN;AQ>(AN-AH+1);--AQ){var AM=Math.max(AK-AQ,0);var AS=AE*Math.pow(10,AQ);if((AS*Math.floor(AP/AS))>=AF){if(AF%AS==0){var AO=AF/AS}else{var AO=Math.floor(AF/AS)+1}var AD=AO+(2*AK);var AL=(AQ<0)?(Math.abs(AQ)+1):AQ;if((AD<AI)||((AD==AI)&&(AL<AJ))){AI=AD;AJ=AL;AR=(AS*AO).toFixed(AM);AG=AM}}}}this.value=AR;this.score=AI;this.tieBreaker=AJ;this.numDec=AG}u.prototype.toString=function(){return this.value.toString()};u.prototype.valueOf=function(){return this.value};function g(AD,AI){var AK=0;if(document.styleSheets){for(var AF=document.styleSheets.length-1;AF>=0;--AF){var AG=document.styleSheets[AF];if(!AG.disabled){var AE;if(typeof (AG.cssRules)=="undefined"){if(typeof (AG.rules)=="undefined"){return 0}else{AE=AG.rules}}else{AE=AG.cssRules}for(var AJ=0;AJ<AE.length;++AJ){var AH=AE[AJ];if(AH.selectorText&&(AH.selectorText.toLowerCase()==AD.toLowerCase())){if(AH.style[AI]!=""){AK=parseInt(AH.style[AI])}}}}}}return AK?AK:0}function v(AH,AG){AG=(AG)?AG:0;var AF=""+Math.round(AH);var AE=/(-?[0-9]+)([0-9]{3})/;while(AE.test(AF)){AF=AF.replace(AE,"$1,$2")}if(AG>0){var AD=Math.floor(Math.pow(10,AG)*(AH-Math.round(AH)));if(AD==0){return AF}else{return AF+"."+AD}}else{return AF}}this.container.title="scale 1:"+v(this.scaleDenominator);var M=new Object();M.english={units:["miles","feet","inches"],abbr:["mi","ft","in"],inches:[63360,12,1]};M.metric={units:["kilometers","meters","centimeters"],abbr:["km","m","cm"],inches:[39370.07874,39.370079,0.393701]};var AA=new Array();for(var AB=0;AB<M[this.displaySystem].units.length;++AB){AA[AB]=new Object();var J=this.resolution*M[this.displaySystem].inches[AB]/this.scaleDenominator;var F=(this.minWidth/J)/(this.divisions*this.subdivisions);var O=(this.maxWidth/J)/(this.divisions*this.subdivisions);for(var E=0;E<(this.divisions*this.subdivisions);++E){var R=F*(E+1);var l=O*(E+1);var D=new u(R,l);AA[AB][E]={value:(D.value/(E+1)),score:0,tieBreaker:0,numDec:0,displayed:0};for(var N=0;N<(this.divisions*this.subdivisions);++N){displayedValuePosition=D.value*(N+1)/(E+1);niceNumber2=new u(displayedValuePosition,displayedValuePosition);var q=((N+1)%this.subdivisions==0);var AC=((N+1)==(this.divisions*this.subdivisions));if((this.singleLine&&AC)||(!this.singleLine&&(q||this.showMinorMeasures))){AA[AB][E].score+=niceNumber2.score;AA[AB][E].tieBreaker+=niceNumber2.tieBreaker;AA[AB][E].numDec=Math.max(AA[AB][E].numDec,niceNumber2.numDec);AA[AB][E].displayed+=1}else{AA[AB][E].score+=niceNumber2.score/this.subdivisions;AA[AB][E].tieBreaker+=niceNumber2.tieBreaker/this.subdivisions}}var H=(AB+1)*AA[AB][E].tieBreaker/AA[AB][E].displayed;AA[AB][E].score*=H}}var W=null;var I=null;var B=null;var S=null;var a=Number.POSITIVE_INFINITY;var Y=Number.POSITIVE_INFINITY;var Z=0;for(var AB=0;AB<AA.length;++AB){for(E in AA[AB]){if((AA[AB][E].score<a)||((AA[AB][E].score==a)&&(AA[AB][E].tieBreaker<Y))){a=AA[AB][E].score;Y=AA[AB][E].tieBreaker;W=AA[AB][E].value;Z=AA[AB][E].numDec;I=M[this.displaySystem].units[AB];B=M[this.displaySystem].abbr[AB];J=this.resolution*M[this.displaySystem].inches[AB]/this.scaleDenominator;S=J*W}}}var L=(g(".sbMarkerMajor","borderLeftWidth")+g(".sbMarkerMajor","width")+g(".sbMarkerMajor","borderRightWidth"))/2;var G=(g(".sbMarkerMinor","borderLeftWidth")+g(".sbMarkerMinor","width")+g(".sbMarkerMinor","borderRightWidth"))/2;var d=(g(".sbBar","borderLeftWidth")+g(".sbBar","borderRightWidth"))/2;var z=(g(".sbBarAlt","borderLeftWidth")+g(".sbBarAlt","borderRightWidth"))/2;if(!document.styleSheets){L=0.5;G=0.5}while(this.labelContainer.hasChildNodes()){this.labelContainer.removeChild(this.labelContainer.firstChild)}while(this.graphicsContainer.hasChildNodes()){this.graphicsContainer.removeChild(this.graphicsContainer.firstChild)}while(this.numbersContainer.hasChildNodes()){this.numbersContainer.removeChild(this.numbersContainer.firstChild)}var f,h,T,V;var C={left:0,center:(-1*this.divisions*this.subdivisions*S/2),right:(-1*this.divisions*this.subdivisions*S)};var Q=0+C[this.align];var j=0;for(var b=0;b<this.divisions;++b){Q=b*this.subdivisions*S;Q+=C[this.align];j=(b==0)?0:((b*this.subdivisions)*W).toFixed(Z);f=document.createElement("div");f.className="sbMarkerMajor";f.style.position="absolute";f.style.overflow="hidden";f.style.left=Math.round(Q-L)+"px";f.appendChild(document.createTextNode(" "));this.graphicsContainer.appendChild(f);if(!this.singleLine){T=document.createElement("div");T.className="sbNumbersBox";T.style.position="absolute";T.style.overflow="hidden";T.style.textAlign="center";if(this.showMinorMeasures){T.style.width=Math.round(S*2)+"px";T.style.left=Math.round(Q-S)+"px"}else{T.style.width=Math.round(this.subdivisions*S*2)+"px";T.style.left=Math.round(Q-(this.subdivisions*S))+"px"}T.appendChild(document.createTextNode(j));this.numbersContainer.appendChild(T)}for(var K=0;K<this.subdivisions;++K){h=document.createElement("div");h.style.position="absolute";h.style.overflow="hidden";h.style.width=Math.round(S)+"px";if((K%2)==0){h.className="sbBar";h.style.left=Math.round(Q-d)+"px"}else{h.className="sbBarAlt";h.style.left=Math.round(Q-z)+"px"}h.appendChild(document.createTextNode(" "));this.graphicsContainer.appendChild(h);if(K<(this.subdivisions-1)){Q=((b*this.subdivisions)+(K+1))*S;Q+=C[this.align];j=(b*this.subdivisions+K+1)*W;f=document.createElement("div");f.className="sbMarkerMinor";f.style.position="absolute";f.style.overflow="hidden";f.style.left=Math.round(Q-G)+"px";f.appendChild(document.createTextNode(" "));this.graphicsContainer.appendChild(f);if(this.showMinorMeasures&&!this.singleLine){T=document.createElement("div");T.className="sbNumbersBox";T.style.position="absolute";T.style.overflow="hidden";T.style.textAlign="center";T.style.width=Math.round(S*2)+"px";T.style.left=Math.round(Q-S)+"px";T.appendChild(document.createTextNode(j));this.numbersContainer.appendChild(T)}}}}Q=(this.divisions*this.subdivisions)*S;Q+=C[this.align];j=((this.divisions*this.subdivisions)*W).toFixed(Z);f=document.createElement("div");f.className="sbMarkerMajor";f.style.position="absolute";f.style.overflow="hidden";f.style.left=Math.round(Q-L)+"px";f.appendChild(document.createTextNode(" "));this.graphicsContainer.appendChild(f);if(!this.singleLine){T=document.createElement("div");T.className="sbNumbersBox";T.style.position="absolute";T.style.overflow="hidden";T.style.textAlign="center";if(this.showMinorMeasures){T.style.width=Math.round(S*2)+"px";T.style.left=Math.round(Q-S)+"px"}else{T.style.width=Math.round(this.subdivisions*S*2)+"px";T.style.left=Math.round(Q-(this.subdivisions*S))+"px"}T.appendChild(document.createTextNode(j));this.numbersContainer.appendChild(T)}var o=document.createElement("div");o.style.position="absolute";var m;if(this.singleLine){m=j;o.className="sbLabelBoxSingleLine";o.style.top="-0.6em";o.style.left=(Q+10)+"px"}else{m="";o.className="sbLabelBox";o.style.textAlign="center";o.style.width=Math.round(this.divisions*this.subdivisions*S)+"px";o.style.left=Math.round(C[this.align])+"px";o.style.overflow="hidden"}if(this.abbreviateLabel){m+=" "+B}else{m+=" "+I}o.appendChild(document.createTextNode(m));this.labelContainer.appendChild(o);if(!document.styleSheets){var P=document.createElement("style");P.type="text/css";var r=".sbBar {top: 0px; background: #666666; height: 1px; border: 0;}";r+=".sbBarAlt {top: 0px; background: #666666; height: 1px; border: 0;}";r+=".sbMarkerMajor {height: 7px; width: 1px; background: #666666; border: 0;}";r+=".sbMarkerMinor {height: 5px; width: 1px; background: #666666; border: 0;}";r+=".sbLabelBox {top: -16px;}";r+=".sbNumbersBox {top: 7px;}";P.appendChild(document.createTextNode(r));document.getElementsByTagName("head").item(0).appendChild(P)}this.container.appendChild(this.graphicsContainer);this.container.appendChild(this.labelContainer);this.container.appendChild(this.numbersContainer)};ScaleBarTool.prototype.place=function(B){if(B==null){document.body.appendChild(this.container)}else{var C=document.getElementById(B);if(C!=null){C.appendChild(this.container)}}this.update()};Fusion.Layers.Generic=OpenLayers.Class(Fusion.Layers,{arch:"Generic",sActiveLayer:null,selectionType:"INTERSECTS",bSelectionOn:false,oSelection:null,initialize:function(D,C,B){Fusion.Layers.prototype.initialize.apply(this,arguments);this.registerEventID(Fusion.Event.MAP_SESSION_CREATED);if(C.extension.LayerType){this.layerType=C.extension.LayerType[0]}this._sMapname=C.layerOptions.name?C.layerOptions.name:"generic layer";this._sMapTitle=this._sMapname;this.bSingleTile=C.singleTile;this.minScale=C.layerOptions.minScale?C.layerOptions.minScale:1;this.maxScale=C.layerOptions.maxScale?C.layerOptions.maxScale:"auto";if(B){this.loadMap(this.sMapResourceId)}},loadMap:function(B){this.bMapLoaded=false;this.triggerEvent(Fusion.Event.LAYER_LOADING);this.internalLoadMap(B);window.setTimeout(OpenLayers.Function.bind(this.asyncTrigger,this),1)},internalLoadMap:function(E){if(this.bIsMapWidgetLayer){this.mapWidget._addWorker()}if(this.oLayerOL){this.oLayerOL.events.unregister("loadstart",this,this.loadStart);this.oLayerOL.events.unregister("loadend",this,this.loadEnd);this.oLayerOL.events.unregister("loadcancel",this,this.loadEnd);this.oLayerOL.destroy();this.oLayerOL=null}if(typeof this.mapTag.layerOptions.sphericalMercator=="undefined"){this.mapTag.layerOptions.sphericalMercator=true}if(this.mapTag.layerOptions.sphericalMercator){if(!this.mapTag.layerOptions.maxExtent){this.mapTag.layerOptions.maxExtent=new OpenLayers.Bounds(-20037508.3427892,-20037508.3427892,20037508.3427892,20037508.3427892)}this.mapTag.layerOptions.units="m";this.mapTag.layerOptions.projection="EPSG:900913"}else{if(!this.mapTag.layerOptions.maxExtent){this.mapTag.layerOptions.maxExtent=new OpenLayers.Bounds(-180,-90,180,90)}this.mapTag.layerOptions.units="dd";this.mapTag.layerOptions.projection="EPSG:4326"}if(typeof this.mapTag.layerOptions.numZoomLevels=="undefined"){this.mapTag.layerOptions.numZoomLevels=20}switch(this.layerType){case"Google":switch(this.mapTag.layerOptions.type){case"G_PHYSICAL_MAP":case"TERRAIN":this.mapTag.layerOptions.type=google.maps.MapTypeId.TERRAIN;break;case"G_HYBRID_MAP":case"HYBRID":this.mapTag.layerOptions.type=google.maps.MapTypeId.HYBRID;break;case"G_SATELLITE_MAP":case"SATELLITE":this.mapTag.layerOptions.type=google.maps.MapTypeId.SATELLITE;break;case"G_NORMAL_MAP":case"ROADMAP":this.mapTag.layerOptions.type=google.maps.MapTypeId.ROADMAP;default:if(this.mapTag.layerOptions.type==google.maps.MapTypeId.TERRAIN){this.mapTag.layerOptions.type=google.maps.MapTypeId.TERRAIN}else{if(this.mapTag.layerOptions.type==google.maps.MapTypeId.HYBRID){this.mapTag.layerOptions.type=google.maps.MapTypeId.HYBRID}else{if(this.mapTag.layerOptions.type==google.maps.MapTypeId.SATELLITE){this.mapTag.layerOptions.type=google.maps.MapTypeId.SATELLITE}else{this.mapTag.layerOptions.type=google.maps.MapTypeId.ROADMAP}}}break}break;case"VirtualEarth":this.mapTag.layerOptions.animationEnabled=false;switch(this.mapTag.layerOptions.type){case"Aerial":case"a":this.mapTag.layerOptions.type=VEMapStyle.Aerial;break;case"Shaded":case"s":this.mapTag.layerOptions.type=VEMapStyle.Shaded;break;case"Hybrid":case"h":this.mapTag.layerOptions.type=VEMapStyle.Hybrid;break;default:this.mapTag.layerOptions.type=VEMapStyle.Road;break}break;case"Yahoo":switch(this.mapTag.layerOptions.type){case"YAHOO_MAP_SAT":case"YAHOO_SAT":this.mapTag.layerOptions.type=YAHOO_MAP_SAT;break;case"YAHOO_MAP_HYB":case"YAHOO_HYB":this.mapTag.layerOptions.type=YAHOO_MAP_HYB;break;case"YAHOO_MAP_REG":case"YAHOO_REG":default:this.mapTag.layerOptions.type=YAHOO_MAP_REG;break}break;case"OpenStreetMap":case"OSM":if(this.mapTag.layerOptions.type){this.mapTag.layerOptions.type=this.mapTag.layerOptions.type}else{this.mapTag.layerOptions.type="Mapnik"}break;case"XYZ":this.oLayerOL=new OpenLayers.Layer[this.layerType](this.getMapName(),this.sMapResourceId,this.mapTag.layerOptions);break;default:this.oLayerOL=new OpenLayers.Layer[this.layerType](this.getMapName(),this.sMapResourceId,this.mapTag.layerParams,this.mapTag.layerOptions);break}if(!this.oLayerOL){if(this.layerType=="OpenStreetMap"||this.layerType=="OSM"){if(typeof (OpenLayers.Layer.OSM[this.mapTag.layerOptions.type])!="undefined"){this.oLayerOL=new OpenLayers.Layer.OSM[this.mapTag.layerOptions.type](this.getMapName(),null,this.mapTag.layerOptions)}else{this.oLayerOL=new OpenLayers.Layer.OSM(this.getMapName(),null,this.mapTag.layerOptions)}}else{this.oLayerOL=new OpenLayers.Layer[this.layerType](this.getMapName(),this.mapTag.layerOptions);this.mapWidget.fractionalZoom=false;this.mapWidget.oMapOL.setOptions({fractionalZoom:false})}}this.mapWidget.oMapOL.minPx=null;this.oLayerOL.events.register("loadstart",this,this.loadStart);this.oLayerOL.events.register("loadend",this,this.loadEnd);this.oLayerOL.events.register("loadcancel",this,this.loadEnd);var D=null;var C=new Fusion.Layers.ScaleRange({minScale:this.minScale,maxScale:this.maxScale},Fusion.Constant.LAYER_RASTER_TYPE,{label:this._sMapname});rootOpts={layerName:this._sMapname,resourceId:this.sMapResourceId,selectable:false,editable:false,layerTypes:[Fusion.Constant.LAYER_RASTER_TYPE],minScale:this.minScale,maxScale:this.maxScale,scaleRanges:[C],parentGroup:this.mapWidget.layerRoot,displayInLegend:this.bDisplayInLegend,expandInLegend:this.bExpandInLegend,legendLabel:this._sMapname,uniqueId:"layerRoot",visible:true,actuallyVisible:true};if(this.layerRoot){D=this.mapWidget.layerRoot;var B=D.findLayerByAttribute("layerName",this.layerRoot.layerName);if(B){D.deleteLayer(B.uniqueId)}}this.layerRoot=new Fusion.Layers.Layer(rootOpts,this);if(D){D.addLayer(this.layerRoot)}if(this.bIsMapWidgetLayer){this.mapWidget.addMap(this);this.mapWidget._removeWorker()}},asyncTrigger:function(){this.aLayers=new Array();this.aLayers[0]=new Fusion.Layers.Layer({layerName:this.getMapName(),legendLabel:this.getMapName(),displayInLegend:true,expandInLegend:true,actuallyVisible:true,visible:true,initiallyVisible:true,selectable:false},this);this.bMapLoaded=true;this.triggerEvent(Fusion.Event.LAYER_LOADED)},reloadMap:function(){this.bMapLoaded=false;this.internalLoadMap(this.sResourceId);this.mapWidget.triggerEvent(Fusion.Event.MAP_RELOADED);this.drawMap();this.bMapLoaded=true},drawMap:function(){if(!this.bMapLoaded){return }this.oLayerOL.mergeNewParams(params)},showLayer:function(B,C){this.processLayerEvents(B,true);if(!C){this.oLayerOL.setVisibility(true)}},hideLayer:function(B,C){this.processLayerEvents(B,false);if(!C){this.oLayerOL.setVisibility(false)}},showGroup:function(C,B){this.processGroupEvents(C,true)},hideGroup:function(C,B){this.processGroupEvents(C,false)},refreshLayer:function(B){this.drawMap()},getLegendImageURL:function(B,C,D,E){return E},getSessionID:function(){return""},getLinkParams:function(){var B={};B.layerType=this.layerType;return B}});Fusion.Layers.MapGuide=OpenLayers.Class(Fusion.Layers,{arch:"MapGuide",session:[null],aShowLayers:null,aHideLayers:null,aShowGroups:null,aHideGroups:null,aRefreshLayers:null,sActiveLayer:null,selectionType:"INTERSECTS",bSelectionOn:false,oSelection:null,nCmsScaleTolerance:2,bUsesCommercialLayerScaleList:false,aCmsScales:[1128.49722,2256.99444,4513.98888,9027.977761000002,18055.95552,36111.91104,72223.82208999999,144447.6442,288895.2884,577790.5767000001,1155581.153,2311162.307,4622324.614,9244649.227,18489298.45,36978596.91,73957193.82,147914387.6,295828775.3,591657550.5],bUseNativeServices:false,selectionAsOverlay:true,useAsyncOverlay:false,defaultFormat:"PNG",oLayersOLTile:null,oLayerOLDynamic:false,supports:{query:true,edit:true},alternateHostNames:null,initialize:function(F,D,C){Fusion.Layers.prototype.initialize.apply(this,arguments);var G=Fusion.getQueryParam("theme");if(G!=""){this.sMapResourceId=G;Fusion.queryParams.theme=null}this.registerEventID(Fusion.Event.MAP_SESSION_CREATED);this.mapInfo=D.mapInfo;this.imageFormat=D.extension.ImageFormat?D.extension.ImageFormat[0]:this.defaultFormat;this.selectionType=D.extension.SelectionType?D.extension.SelectionType[0]:"INTERSECTS";this.selectionColor=D.extension.SelectionColor?D.extension.SelectionColor[0]:"";this.selectionFormat=D.extension.SelectionFormat?D.extension.SelectionFormat[0]:"PNG";if(D.extension.SelectionAsOverlay&&D.extension.SelectionAsOverlay[0]=="false"){this.selectionAsOverlay=false}if(!this.bIsMapWidgetLayer){this.selectionAsOverlay=false}if(this.bIsMapWidgetLayer){var E=true;if(D.extension.DisableCtrlClick&&D.extension.DisableCtrlClick[0]=="true"){E=false}if(E){this.map=this.mapWidget.oMapOL;this.handler=new OpenLayers.Handler.Click(this,{click:OpenLayers.Function.bind(this.mouseUpCRTLClick,this)},{keyMask:OpenLayers.Handler.MOD_CTRL});this.handler.activate();this.nTolerance=2}}if(D.layerOptions.AlternateHostNames){this.alternateHostNames=D.layerOptions.AlternateHostNames}rootOpts={displayInLegend:this.bDisplayInLegend,expandInLegend:this.bExpandInLegend,legendLabel:this._sMapname,uniqueId:"layerRoot",groupName:"layerRoot",visible:true,actuallyVisible:true};this.layerRoot=new Fusion.Layers.Group(rootOpts,this);this.keepAliveInterval=parseInt(D.extension.KeepAliveInterval?D.extension.KeepAliveInterval[0]:300);this.noCache=true;this.oLayersOLTile=[];if(Fusion.siteVersion){this.siteVersion=Fusion.siteVersion;this.checkNativeServiceSupport()}var B=Fusion.sessionId;if(B){this.session[0]=B;this.mapSessionCreated()}else{this.createSession()}},createSession:function(){if(!this.session[0]){this.session[0]=this;var B=Fusion.getScriptLanguage();var D="layers/"+this.arch+"/"+B+"/CreateSession."+B;var C={onSuccess:OpenLayers.Function.bind(this.createSessionCB,this)};Fusion.ajaxRequest(D,C)}if(this.session[0] instanceof Fusion.Layers.MapGuide){this.session[0].registerForEvent(Fusion.Event.MAP_SESSION_CREATED,OpenLayers.Function.bind(this.mapSessionCreated,this))}else{this.mapSessionCreated()}},checkNativeServiceSupport:function(){this.bUseNativeServices=false;var B=this.siteVersion[0];var C=this.siteVersion[1];if(B>2){this.bUseNativeServices=true}else{if(B==2){if(C>=6){this.bUseNativeServices=true}}}},createSessionCB:function(H){if(H.status==200){var G=Fusion.parseJSON(H.responseText);if(G.success===false){Fusion.reportError(G.message)}else{var C=G.siteVersion;var F=C.split(".");this.siteVersion=new Array(parseInt(F[0]),parseInt(F[1]),parseInt(F[2]),parseInt(F[3]));this.checkNativeServiceSupport();this.session[0]=G.sessionId;if(!Fusion.siteVersion){Fusion.siteVersion=this.siteVersion}if(!Fusion.sessionId){Fusion.sessionId=G.sessionId}var E=G.acceptLanguage.split(",");for(var D=0;D<E.length;++D){var B=E[D].split(";");Fusion.initializeLocale(B[0]);break}this.triggerEvent(Fusion.Event.MAP_SESSION_CREATED)}}},mapSessionCreated:function(){if(this.sMapResourceId!=""){var B={};if(this.bIsMapWidgetLayer){var D=Fusion.getQueryParam("showlayers");Fusion.queryParams.showlayers=null;var C=Fusion.getQueryParam("hidelayers");Fusion.queryParams.hidelayers=null;var F=Fusion.getQueryParam("showgroups");Fusion.queryParams.showgroups=null;var E=Fusion.getQueryParam("hidegroups");Fusion.queryParams.hidegroups=null;var B={showlayers:D==""?[]:D.split(","),hidelayers:C==""?[]:C.split(","),showgroups:F==""?[]:F.split(","),hidegroups:E==""?[]:E.split(",")}}this.loadMap(this.sMapResourceId,B)}this.keepAliveTimer=window.setInterval(OpenLayers.Function.bind(this.pingServer,this),this.keepAliveInterval*1000)},sessionReady:function(){return(typeof this.session[0]=="string")},getSessionID:function(){return this.session[0]},calcMapName:function(F,C){var E=F.lastIndexOf("/")+1;var D=F.lastIndexOf(".");var B=F.substring(E,D);if(C){B+=(new Date()).getTime()}return B},loadMap:function(H,J){this.bMapLoaded=false;if(!this.sessionReady()){this.sMapResourceId=H;return }this.triggerEvent(Fusion.Event.LAYER_LOADING);this.mapWidget._addWorker();this._fScale=-1;J=J||{};this.aShowLayers=J.showlayers||[];this.aHideLayers=J.hidelayers||[];this.aShowGroups=J.showgroups||[];this.aHideGroups=J.hidegroups||[];this.aRefreshLayers=J.refreshlayers||[];this.aLayers=[];this.oSelection=null;this.aSelectionCallbacks=[];this._bSelectionIsLoading=false;if(this.bUseNativeServices){var C=(1|2|4);var B=new Fusion.Lib.MGRequest.MGCreateRuntimeMap(H,C,25);var I=this.calcMapName(H,true);B.setParams({targetMapName:I,iconFormat:"GIF"});if(this.session.length==1){B.setParams({session:this.session[0]})}Fusion.oBroker.dispatchRequest(B,OpenLayers.Function.bind(this.onRuntimeMapCreated,this))}else{var F=Fusion.getScriptLanguage();var E="layers/"+this.arch+"/"+F+"/LoadMap."+F;var D=this.getSessionID();var G={mapid:H,session:D};var J={onSuccess:OpenLayers.Function.bind(this.mapLoaded,this),parameters:G};Fusion.ajaxRequest(E,J)}},convertResponse:function(P){var G=P.RuntimeMap;var J={backgroundColor:("#"+G.BackgroundColor[0].substring(2)),siteVersion:G.SiteVersion[0],mapId:G.MapDefinition[0],mapName:G.Name[0],mapTitle:G.Name[0],metersPerUnit:G.CoordinateSystem[0].MetersPerUnit?parseFloat(G.CoordinateSystem[0].MetersPerUnit[0]):1,wkt:G.CoordinateSystem[0].Wkt?G.CoordinateSystem[0].Wkt[0]:"",epsg:G.CoordinateSystem[0].EpsgCode?parseInt(G.CoordinateSystem[0].EpsgCode[0]):4326,extent:[parseFloat(G.Extents[0].LowerLeftCoordinate[0].X[0]),parseFloat(G.Extents[0].LowerLeftCoordinate[0].Y[0]),parseFloat(G.Extents[0].UpperRightCoordinate[0].X[0]),parseFloat(G.Extents[0].UpperRightCoordinate[0].Y[0])],hasBaseMapLayers:false,hasDynamicLayers:false,FiniteDisplayScales:[],groups:[],layers:[]};if(G.FiniteDisplayScale){for(var U=0;U<G.FiniteDisplayScale.length;U++){J.FiniteDisplayScales.push(parseFloat(G.FiniteDisplayScale[U]))}}if(G.Group){for(var U=0;U<G.Group.length;U++){var H=G.Group[U];var O={groupName:H.Name[0],legendLabel:(H.LegendLabel?H.LegendLabel[0]:""),uniqueId:H.ObjectId[0],displayInLegend:(H.DisplayInLegend[0]=="true"),expandInLegend:(H.ExpandInLegend[0]=="true"),parentUniqueId:H.ParentId?H.ParentId[0]:"",visible:(H.Visible[0]=="true"),actuallyVisible:(H.ActuallyVisible[0]=="true"),isBaseMapGroup:(H.Type[0]=="2")};if(H.Type[0]=="2"){J.hasBaseMapLayers=true}else{J.hasDynamicLayers=true}J.groups.push(O)}}var L={layers:[]};if(G.Layer){for(var U=0;U<G.Layer.length;U++){var N=G.Layer[U];var I={uniqueId:N.ObjectId[0],layerName:N.Name[0],layerTypes:[],resourceId:N.LayerDefinition[0],parentGroup:N.ParentId?N.ParentId[0]:"",selectable:(N.Selectable[0]=="true"),visible:(N.Visible[0]=="true"),actuallyVisible:(N.ActuallyVisible[0]=="true"),editable:false,isBaseMapLayer:(N.Type[0]=="2"),legendLabel:(N.LegendLabel?N.LegendLabel[0]:""),displayInLegend:(N.DisplayInLegend[0]=="true"),expandInLegend:(N.ExpandInLegend[0]=="true")};J.layers.push(I);var C={uniqueId:I.uniqueId,scaleRanges:[]};var R={};var W=10000000000;var B=0;if(N.ScaleRange){for(var T=0;T<N.ScaleRange.length;T++){var S=N.ScaleRange[T];var M={isCompressed:false,maxScale:S.MaxScale[0],minScale:S.MinScale[0],styles:[]};W=Math.min(W,S.MinScale[0]);B=Math.max(B,S.MaxScale[0]);if(S.FeatureStyle){for(var V=0;V<S.FeatureStyle.length;V++){var K=S.FeatureStyle[V];for(var Q=0;Q<K.Rule.length;Q++){var F=K.Rule[Q];var D={categoryIndex:Q,filter:F.Filter?F.Filter[0]:"",geometryType:parseInt(K.Type[0]),legendLabel:F.LegendLabel?F.LegendLabel[0]:""};if(typeof (R[D.geometryType])=="undefined"){R[D.geometryType]=D.geometryType}if(!F.Icon){M.isCompressed=true}else{D.imageData="data:"+G.IconMimeType[0]+";base64,"+F.Icon[0]}M.styles.push(D)}}}C.scaleRanges.push(M)}}else{W=0;B=10000000000;C.scaleRanges.push(new Fusion.Layers.ScaleRange({minScale:0,maxScale:10000000000},Fusion.Constant.LAYER_DWF_TYPE,{label:N.layerName}))}for(var E in R){I.layerTypes.push(E)}I.minScale=W;I.maxScale=B;L.layers.push(C)}}return{LoadMap:J,LoadScaleRanges:L}},initLoadMapResponse:function(B){this._sResourceId=B.mapId;this._sMapname=B.mapName;this._sMapTitle=B.mapTitle;var F=this.mapWidget.mapGroup.maps;var I=false;for(var G=0,H=F.length;G<H;G++){var C=F[G];if(C.resourceId==this._sResourceId){I=this;break}}if(I){this.mapWidget.setMetersPerUnit(B.metersPerUnit);this.mapWidget.setBackgroundColor(B.backgroundColor)}this.mapTag.layerOptions.maxExtent=OpenLayers.Bounds.fromArray(B.extent);this.layerRoot.clear();this.layerRoot.legendLabel=this._sMapTitle;this.layerRoot.displayInLegend=true;this.layerRoot.expandInLegend=true;this.parseMapLayersAndGroups(B);this.minScale=10000000000;this.maxScale=0;for(var D=0;D<this.aLayers.length;D++){this.minScale=Math.min(this.minScale,this.aLayers[D].minScale);this.maxScale=Math.max(this.maxScale,this.aLayers[D].maxScale)}if(this.minScale<=0){this.minScale=1}for(var D=0;D<this.aShowLayers.length;D++){var E=this.layerRoot.findLayerByAttribute("layerName",this.aShowLayers[D]);if(E){this.aShowLayers[D]=E.uniqueId}else{this.aShowLayers[D]=""}}for(var D=0;D<this.aHideLayers.length;D++){var E=this.layerRoot.findLayerByAttribute("layerName",this.aHideLayers[D]);if(E){this.aHideLayers[D]=E.uniqueId}else{this.aHideLayers[D]=""}}for(var D=0;D<this.aShowGroups.length;D++){var K=this.layerRoot.findGroupByAttribute("groupName",this.aShowGroups[D]);if(K){this.aShowGroups[D]=K.uniqueId}else{this.aShowGroups[D]=""}}for(var D=0;D<this.aHideGroups.length;D++){var K=this.layerRoot.findGroupByAttribute("groupName",this.aHideGroups[D]);if(K){this.aHideGroups[D]=K.uniqueId}else{this.aHideGroups[D]=""}}if(B.hasBaseMapLayers&&this.bIsMapWidgetLayer){this.bSingleTile=false}var L;if(B.wkt&&B.wkt.length>0){if(B.epsg!=0){L=new OpenLayers.Projection("EPSG:"+B.epsg);this.mapTag.layerOptions.projection="EPSG:"+B.epsg}else{L=new OpenLayers.Projection(B.wkt)}}if(!L||(L&&L.proj&&!L.proj.readyToUse)){if(B.epsg!=0){L=new OpenLayers.Projection("EPSG:"+B.epsg);this.mapTag.layerOptions.projection="EPSG:"+B.epsg}else{B.wkt='LOCAL_CS["Non-Earth (Meter)",LOCAL_DATUM["Local Datum",0],UNIT["Meter", 1],AXIS["X",EAST],AXIS["Y",NORTH]]';L=new OpenLayers.Projection(B.wkt)}}this.mapTag.layerOptions.units=Fusion.getClosestUnits(B.metersPerUnit);if(B.FiniteDisplayScales&&B.FiniteDisplayScales.length>0){this.scales=B.FiniteDisplayScales;this.mapWidget.fractionalZoom=false;this.mapWidget.oMapOL.fractionalZoom=false}if(!this.bSingleTile){if(B.groups.length>0){var J=0;this.noCache=false;this.mapWidget.registerForEvent(Fusion.Event.MAP_EXTENTS_CHANGED,OpenLayers.Function.bind(this.mapExtentsChanged,this));for(var D=0;D<B.groups.length;D++){if(B.groups[D].isBaseMapGroup){this.oLayersOLTile[J]=this.createOLLayer(this._sMapname+"_Tiled["+J+"]",false,2,false,B.groups[D].groupName);J++}}}else{this.bSingleTile=true}}if(this.oLayerOL){this.oLayerOL.events.unregister("loadstart",this,this.loadStart);this.oLayerOL.events.unregister("loadend",this,this.loadEnd);this.oLayerOL.events.unregister("loadcancel",this,this.loadEnd);this.oLayerOL.destroy()}if(this.oLayersOLTile.length!=0){this.oLayerOL=this.oLayersOLTile[this.oLayersOLTile.length-1]}else{this.oLayerOL=this.createOLLayer(this._sMapname,this.bSingleTile,2,false,"")}if(L&&L.proj&&L.proj.readyToUse){this.oLayerOL.projection=L;this.oLayerOL.projection.proj.units=this.mapTag.layerOptions.units}this.oLayerOL.events.register("loadstart",this,this.loadStart);this.oLayerOL.events.register("loadend",this,this.loadEnd);this.oLayerOL.events.register("loadcancel",this,this.loadEnd);if(this.oLayerOL2){this.oLayerOL2.destroy()}this.bMapLoaded=true;if(this.bIsMapWidgetLayer){this.mapWidget.addMap(this);if(this.oLayersOLTile.length>1){for(var D=this.oLayersOLTile.length-2;D>=0;D--){this.oLayersOLTile[D].isBaseLayer=false;this.mapWidget.oMapOL.addLayer(this.oLayersOLTile[D])}}if(!this.bSingleTile&&B.hasDynamicLayers){this.oLayerOL2=this.createOLLayer(this._sMapname+"_DynamicOverlay",true,2,true,"");this.mapWidget.oMapOL.addLayer(this.oLayerOL2);this.oLayerOL2.setVisibility(true)}}},mapLoaded:function(B){if(B.status==200){var C=Fusion.parseJSON(B.responseText);this.initLoadMapResponse(C)}this.mapWidget._removeWorker();this.triggerEvent(Fusion.Event.LAYER_LOADED)},onRuntimeMapCreated:function(B){if(B.status==200){var D=Fusion.parseJSON(B.responseText);var C=this.convertResponse(D);this.initLoadMapResponse(C.LoadMap);this._initScaleRanges=C.LoadScaleRanges}this.mapWidget._removeWorker();this.triggerEvent(Fusion.Event.LAYER_LOADED)},reloadMap:function(){this.mapWidget._addWorker();this.aShowLayers=[];this.aHideLayers=[];this.aShowGroups=[];this.aHideGroups=[];this.aRefreshLayers=[];this.layerRoot.clear();var H=$A(this.aLayers);this.aLayers=[];if(this.bUseNativeServices){var E=(1|2|4);var F=new Fusion.Lib.MGRequest.MGDescribeRuntimeMap(this._sMapname,E,25);F.setParams({iconFormat:"GIF",session:this.getSessionID()});Fusion.oBroker.dispatchRequest(F,OpenLayers.Function.bind(this.onRuntimeMapReloaded,this,H))}else{var B=Fusion.getScriptLanguage();var C="layers/"+this.arch+"/"+B+"/LoadMap."+B;var G=this.getSessionID();var I={mapname:this._sMapname,session:G};var D={onSuccess:OpenLayers.Function.bind(this.mapReloaded,this,H),onException:OpenLayers.Function.bind(this.reloadFailed,this),parameters:I};Fusion.ajaxRequest(C,D)}},reloadFailed:function(B){Fusion.reportError(new Fusion.Error(Fusion.Error.FATAL,OpenLayers.i18n("mapLoadError",{error:B.transport.responseText})));this.mapWidget._removeWorker()},loadScaleRanges:function(){if(this.bUseNativeServices&&this._initScaleRanges){this.initLoadScaleRangeResponse(this._initScaleRanges);delete this._initScaleRanges}else{var B=Fusion.getScriptLanguage();var C="layers/"+this.arch+"/"+B+"/LoadScaleRanges."+B;var G=!(Browser.Engine.trident4||Browser.Engine.trident5);var E=this.getSessionID();var F={mapname:this._sMapname,session:E,preCacheIcons:G};var D={onSuccess:OpenLayers.Function.bind(this.scaleRangesLoaded,this),parameters:F};Fusion.ajaxRequest(C,D)}},initLoadScaleRangeResponse:function(G){if(G.layers&&G.layers.length>0){var F={url:G.icons_url||null,width:G.icons_width||16,height:G.icons_height||16};for(var D=0;D<G.layers.length;D++){var B=this.getLayerById(G.layers[D].uniqueId);if(B){B.scaleRanges=[];for(var C=0;C<G.layers[D].scaleRanges.length;C++){var E=new Fusion.Layers.ScaleRange(G.layers[D].scaleRanges[C],B.layerType,F);B.scaleRanges.push(E)}}}}this.mapWidget.triggerEvent(Fusion.Event.MAP_SCALE_RANGE_LOADED)},scaleRangesLoaded:function(B){if(B.status==200){var C=Fusion.parseJSON(B.responseText);this.initLoadScaleRangeResponse(C)}},onRuntimeMapReloaded:function(G,F){if(F.status==200){var D=Fusion.parseJSON(F.responseText);var I=this.convertResponse(D);var H=I.LoadMap;this.parseMapLayersAndGroups(H);this._initScaleRanges=I.LoadScaleRanges;for(var C=0;C<this.aLayers.length;++C){var E=this.aLayers[C];for(var B=0;B<G.length;++B){if(G[B].uniqueId==E.uniqueId){E.selectedFeatureCount=G[B].selectedFeatureCount;E.noCache=G[B].noCache;break}}}this.mapWidget.triggerEvent(Fusion.Event.MAP_RELOADED);this.drawMap()}this.mapWidget._removeWorker()},mapReloaded:function(F,E){if(E.status==200){var G=Fusion.parseJSON(E.responseText);this.parseMapLayersAndGroups(G);for(var C=0;C<this.aLayers.length;++C){var D=this.aLayers[C];for(var B=0;B<F.length;++B){if(F[B].uniqueId==D.uniqueId){D.selectedFeatureCount=F[B].selectedFeatureCount;D.noCache=F[B].noCache;break}}}this.mapWidget.triggerEvent(Fusion.Event.MAP_RELOADED);this.drawMap()}this.mapWidget._removeWorker()},reorderLayers:function(E){var B=Fusion.getScriptLanguage();var C="layers/"+this.arch+"/"+B+"/SetLayers."+B;var F={mapname:this._sMapname,session:this.getSessionID(),layerindex:E.join()};var D={onSuccess:OpenLayers.Function.bind(this.mapLayersReset,this,E),parameters:F};Fusion.ajaxRequest(C,D)},mapLayersReset:function(C,D){if(D.status==200){var E=Fusion.parseJSON(D.responseText);if(E.success){var F=$A(this.aLayers);this.aLayers=[];this.aVisibleLayers=[];for(var B=0;B<C.length;++B){this.aLayers.push(F[C[B]]);if(this.aLayers[B].visible){this.aVisibleLayers.push(this.aLayers[B].layerName)}}this.drawMap();this.triggerEvent(Fusion.Event.MAP_LAYER_ORDER_CHANGED)}else{alert(OpenLayers.i18n("setLayersError",{error:E.layerindex}))}}},parseMapLayersAndGroups:function(F){for(var C=0;C<F.groups.length;C++){var E=new Fusion.Layers.Group(F.groups[C],this);var D;if(E.parentUniqueId!=""){D=this.layerRoot.findGroupByAttribute("uniqueId",E.parentUniqueId)}else{D=this.layerRoot}D.addGroup(E,this.bLayersReversed)}for(var C=0;C<F.layers.length;C++){var B=new Fusion.Layers.Layer(F.layers[C],this);var D;if(B.parentGroup!=""){D=this.layerRoot.findGroupByAttribute("uniqueId",B.parentGroup)}else{D=this.layerRoot}D.addLayer(B,this.bLayersReversed);this.aLayers.push(B)}},drawMap:function(){if(!this.bMapLoaded){return }var B={ts:(new Date()).getTime(),showLayers:this.aShowLayers.length>0?this.aShowLayers.toString():null,hideLayers:this.aHideLayers.length>0?this.aHideLayers.toString():null,showGroups:this.aShowGroups.length>0?this.aShowGroups.toString():null,hideGroups:this.aHideGroups.length>0?this.aHideGroups.toString():null,refreshLayers:this.aRefreshLayers.length>0?this.aRefreshLayers.toString():null};this.aShowLayers=[];this.aHideLayers=[];this.aShowGroups=[];this.aHideGroups=[];this.aRefreshLayers=[];if(this.oLayerOL2){this.oLayerOL2.mergeNewParams(B)}else{this.oLayerOL.mergeNewParams(B)}},drawSelection:function(){if(this.queryLayer){this.queryLayer.redraw(true)}else{this.drawMap()}},createOLLayer:function(K,F,B,N,J){this.useAsyncOverlay=Fusion.getConfigurationItem("mapguide","useAsyncOverlay");if(!this.useAsyncOverlay){this.selectionAsOverlay=false}var M={maxResolution:"auto",useOverlay:this.selectionAsOverlay,useAsyncOverlay:this.useAsyncOverlay,ratio:this.ratio,transitionEffect:"resize"};if(this.scales&&this.scales.length>0){M.scales=this.scales}if(this.maxScale!=Infinity){M.minScale=this.maxScale}else{if(this.mapWidget.minScale){M.minScale=this.mapWidget.maxScale}}if(!this.mapWidget.oMapOL.scales&&!this.scales){M.maxScale=this.minScale}M.displayOutsideMaxExtent=true;M.singleTile=F;OpenLayers.Util.extend(M,this.mapTag.layerOptions);var E={};if(F){E={session:this.getSessionID(),mapname:this._sMapname,format:this.imageFormat,behavior:B,clientagent:this.clientAgent};E.showLayers=this.aShowLayers.length>0?this.aShowLayers.toString():null;E.hideLayers=this.aHideLayers.length>0?this.aHideLayers.toString():null;E.showGroups=this.aShowGroups.length>0?this.aShowGroups.toString():null;E.hideGroups=this.aHideGroups.length>0?this.aHideGroups.toString():null;E.refreshLayers=this.aRefreshLayers.length>0?this.aRefreshLayers.toString():null;if(B==5){E.selectioncolor=this.selectionColor;E.format=this.selectionFormat}if(N){M.isBaseLayer=false}}else{E={mapdefinition:this._sResourceId,basemaplayergroupname:J,session:this.getSessionID(),clientagent:this.clientAgent}}if(E.format&&E.format.toLowerCase().indexOf("png")>=0){M.alpha=true}var C;if(!F&&M.useHttpTile){C=Fusion.getConfigurationItem("mapguide","tileCacheUrl")}else{C=Fusion.getConfigurationItem("mapguide","mapAgentUrl")}if(this.alternateHostNames){var L=this.alternateHostNames.split(",");var Q=C.indexOf("http://")+7;if(Q<7){Q=C.indexOf("https://")+8}var I=C.substring(0,Q);var O=C.indexOf("/",Q+1);var P=C.substring(O);M.alternateUrls=[];for(var G=0;G<L.length;G++){var D=I+L[G]+P;M.alternateUrls.push(D)}}var H=new OpenLayers.Layer.MapGuide(K,C,E,M);if(!F){if(H.scales.length==this.aCmsScales.length){H.bUsesCommercialLayerScaleList=false;for(var G=0;G<this.aCmsScales.length;G++){if(!this.scalesAreApproximate(H.scales[G],this.aCmsScales[G])){return H}}H.bUsesCommercialLayerScaleList=true;this.bUsesCommercialLayerScaleList=true}}return H},scalesAreApproximate:function(C,B){return Math.abs(C-B)<this.nCmsScaleTolerance},applyZoomOffset:function(C){if(this.oLayerOL&&this.oLayerOL.bUsesCommercialLayerScaleList===true){this.oLayerOL.zoomOffset=C;this.oLayerOL.redraw()}if(this.oLayerOL2&&this.oLayerOL2.bUsesCommercialLayerScaleList===true){this.oLayerOL2.zoomOffset=C;this.oLayerOL2.redraw()}if(this.oLayersOLTile){for(var B=0;B<this.oLayersOLTile.length;B++){if(this.oLayersOLTile[B].bUsesCommercialLayerScaleList===true){this.oLayersOLTile[B].zoomOffset=C;this.oLayersOLTile[B].redraw()}}}},getLayerByName:function(C){var B=null;for(var D=0;D<this.aLayers.length;D++){if(this.aLayers[D].layerName==C){B=this.aLayers[D];break}}return B},getLayerById:function(D){var B=null;for(var C=0;C<this.aLayers.length;C++){if(this.aLayers[C].uniqueId==D){B=this.aLayers[C];break}}return B},getSelectionCB:function(E,C){if(C.status==200){var D=Fusion.parseJSON(C.responseText);var B=new Fusion.SelectionObject(D);E(B)}},newSelection:function(){if(this.oSelection){this.oSelection=null}this.bSelectionOn=true;this.triggerEvent(Fusion.Event.MAP_SELECTION_ON)},getSelectedFeatureCount:function(){var C=0;for(var B=0;B<this.aLayers.length;++B){C+=this.aLayers[B].selectedFeatureCount}return C},getSelectedLayers:function(){var C=[];for(var B=0;B<this.aLayers.length;++B){if(this.aLayers[B].selectedFeatureCount>0){C.push(this.aLayers[B])}}return C},getSelectableLayers:function(){var C=[];for(var B=0;B<this.aLayers.length;++B){if(this.aLayers[B].selectable){C.push(this.aLayers[B])}}return C},setSelection:function(C,B){if(C!=""&&C!=null){this.updateSelection(C,B,false)}else{this.clearSelection()}},updateSelection:function(D,C,B){this.updateMapSelection(D,C);this.getSelectedFeatureProperties(D)},getSelectedFeatureProperties:function(F){this.mapWidget._addWorker();var B=Fusion.getScriptLanguage();var D="layers/"+this.arch+"/"+B+"/GetSelectionProperties."+B;var E={mapname:this.getMapName(),session:this.getSessionID(),selection:F,seq:Math.random()};var C={onSuccess:OpenLayers.Function.bind(this.processSelectedFeatureProperties,this),parameters:E};Fusion.ajaxRequest(D,C)},updateMapSelection:function(G,F){this.mapWidget._addWorker();var B=Fusion.getScriptLanguage();var D="layers/"+this.arch+"/"+B+"/SaveSelection."+B;var E={mapname:this.getMapName(),session:this.getSessionID(),selection:G,seq:Math.random(),getextents:F?"true":"false"};var C={onSuccess:OpenLayers.Function.bind(this.renderSelection,this,F),parameters:E};Fusion.ajaxRequest(D,C)},getSelection:function(F,E,D){if(F){if(this.previousAttributes){F(new Fusion.SelectionObject(this.previousAttributes))}else{var C="layers/"+this.arch+"/"+Fusion.getScriptLanguage()+"/Selection."+Fusion.getScriptLanguage();var B={parameters:{session:this.getSessionID(),mapname:this._sMapname,layers:E,startcount:D},onSuccess:OpenLayers.Function.bind(this.getSelectionCB,this,F)};Fusion.ajaxRequest(C,B)}}},selectionCleared:function(){for(var B=0;B<this.aLayers.length;++B){this.aLayers[B].selectedFeatureCount=0}this.bSelectionOn=false;if(this.queryLayer){this.queryLayer.setVisibility(false)}this.triggerEvent(Fusion.Event.MAP_SELECTION_OFF);this.drawMap();this.oSelection=null},clearSelection:function(){if(this.hasSelection()){var C="layers/"+this.arch+"/"+Fusion.getScriptLanguage()+"/ClearSelection."+Fusion.getScriptLanguage();var B={parameters:{session:this.getSessionID(),mapname:this._sMapname},onSuccess:OpenLayers.Function.bind(this.selectionCleared,this)};Fusion.ajaxRequest(C,B)}if(this.previousSelection!=null){this.previousSelection.clear()}},removeQueryLayer:function(){if(this.queryLayer){this.queryLayer.destroy();this.queryLayer=null}},processQueryResults:function(C,B){this.renderSelection(C,B);this.processSelectedFeatureProperties(B)},processSelectedFeaturePropertiesNode:function(B){if(B.hasSelection){this.newSelection()}else{this.clearSelection()}},processSelectedFeatureProperties:function(B){this.mapWidget._removeWorker();if(B.responseText){var C=Fusion.parseJSON(B.responseText);this.processSelectedFeaturePropertiesNode(C)}},renderSelection:function(I,G){this.mapWidget._removeWorker();if(G.responseText){var H=Fusion.parseJSON(G.responseText);if(H.hasSelection){if(this.selectionAsOverlay){if(!this.queryLayer){this.queryLayer=this.createOLLayer("query layer",true,5,true,"");this.mapWidget.oMapOL.addLayer(this.queryLayer);this.mapWidget.registerForEvent(Fusion.Event.MAP_LOADING,OpenLayers.Function.bind(this.removeQueryLayer,this))}else{this.queryLayer.setVisibility(true)}}for(var C=0;C<this.aLayers.length;++C){this.aLayers[C].selectedFeatureCount=0}for(var D=0;D<H.layers.length;++D){var B=H.layers[D];for(var C=0;C<this.aLayers.length;++C){if(B==this.aLayers[C].layerName){this.aLayers[C].selectedFeatureCount=H[B].featureCount}}}this.newSelection();if(I){var E=H.extents;var F=new OpenLayers.Bounds(E.minx,E.miny,E.maxx,E.maxy);this.mapWidget.setExtents(F)}this.drawSelection()}else{this.clearSelection();return }}},query:function(E){this.mapWidget._addWorker();for(var D=0;D<this.aLayers.length;++D){this.aLayers[D].selectedFeatureCount=0}var G=1;var H=3;var C=E.maxFeatures;if(C==null||C==0){C=-1}if(E.filter==null){E.filter=""}if(this.bUseNativeServices){var B=1;var F=new Fusion.Lib.MGRequest.MGQueryMapFeatures2(this.getSessionID(),this._sMapname,E.geometry,C,G,E.selectionType||this.selectionType,E.filter,E.layers,H,B,this.selectionColor,this.selectionImageFormat);var I=(E.extendSelection==true)?OpenLayers.Function.bind(this.processAndMergeExtendedFeatureInfo,this):OpenLayers.Function.bind(this.processExtendedFeatureInfo,this);Fusion.oBroker.dispatchRequest(F,I)}else{var F=new Fusion.Lib.MGRequest.MGQueryMapFeatures(this.getSessionID(),this._sMapname,E.geometry,C,G,E.selectionType||this.selectionType,E.filter,E.layers,H);var I=(E.extendSelection==true)?OpenLayers.Function.bind(this.processAndMergeFeatureInfo,this):OpenLayers.Function.bind(this.processFeatureInfo,this);Fusion.oBroker.dispatchRequest(F,I)}},showLayer:function(B,C){this.processLayerEvents(B,true);this.aShowLayers.push(B.uniqueId);if(!C){this.drawMap()}},hideLayer:function(B,C){this.processLayerEvents(B,false);this.aHideLayers.push(B.uniqueId);if(!C){this.drawMap()}},showGroup:function(D,C){this.processGroupEvents(D,true);if(D.groupName=="layerRoot"){this.oLayerOL.setVisibility(true);if(this.oLayerOL2){this.oLayerOL2.setVisibility(true)}}else{if(D.isBaseMapGroup){for(var B=0;B<this.oLayersOLTile.length;B++){if(this.oLayersOLTile[B].params.basemaplayergroupname==D.name){this.oLayersOLTile[B].setVisibility(true)}}}else{this.aShowGroups.push(D.uniqueId);if(!C){this.drawMap()}}}},hideGroup:function(D,C){this.processGroupEvents(D,false);if(D.groupName=="layerRoot"){this.oLayerOL.setVisibility(false);if(this.oLayerOL2){this.oLayerOL2.setVisibility(false)}}else{if(D.isBaseMapGroup){for(var B=0;B<this.oLayersOLTile.length;B++){if(this.oLayersOLTile[B].params.basemaplayergroupname==D.name){this.oLayersOLTile[B].setVisibility(false)}}}else{this.aHideGroups.push(D.uniqueId);if(!C){this.drawMap()}}}},refreshLayer:function(B){this.aRefreshLayers.push(B.uniqueId);this.drawMap()},mouseUpCRTLClick:function(M){if(M.ctrlKey){var F=this.mapWidget.pixToGeo(M.xy.x-this.nTolerance,M.xy.y-this.nTolerance);var K=this.mapWidget.pixToGeo(M.xy.x+this.nTolerance,M.xy.y+this.nTolerance);if(!F){return }var H="POLYGON(("+F.x+" "+F.y+", "+F.x+" "+K.y+", "+K.x+" "+K.y+", "+K.x+" "+F.y+", "+F.x+" "+F.y+"))";var D=1;var I=0;var L="INTERSECTS";var C="";var J="";var E=3;var O="";for(var G=0;G<this.aLayers.length;++G){J+=O+this.aLayers[G].layerName;O=","}var B=new Fusion.Lib.MGRequest.MGQueryMapFeatures(this.getSessionID(),this._sMapname,H,D,I,L,C,J,E);var N=OpenLayers.Function.bind(this.crtlClickDisplay,this);Fusion.oBroker.dispatchRequest(B,N)}},crtlClickDisplay:function(D){if(D.status==200){var C=Fusion.parseJSON(D.responseText);var B=C.FeatureInformation["Hyperlink"];if(B){window.open(B[0],"")}}},mapExtentsChanged:function(){if(!this.singleTile){var B=this.mapWidget.oMapOL.getCenter();var D=this.mapWidget.oMapOL.getSize();var C=new Fusion.Lib.MGRequest.MGGetVisibleMapExtent(this.getSessionID(),this._sMapname,B.lon,B.lat,this.mapWidget.oMapOL.getScale(),null,this._nDpi,D.w,D.h);Fusion.oBroker.dispatchRequest(C)}},pingServer:function(){var B="layers/"+this.arch+"/"+Fusion.getScriptLanguage()+"/Common."+Fusion.getScriptLanguage();var C={onSuccess:OpenLayers.Function.bind(this.checkPingResponse,this)};C.parameters={session:this.getSessionID()};Fusion.ajaxRequest(B,C)},checkPingResponse:function(C){if(C.responseText){var B=Fusion.parseJSON(C.responseText);if(!B.success){Fusion.reportError(B.message);clearInterval(this.keepAliveTimer)}}},getLinkParams:function(){var F={};F.theme=this.sMapResourceId;var E=[];var D=[];for(var C=0;C<this.aLayers.length;++C){var B=this.aLayers[C];if(B.visible&&!B.initiallyVisible){E.push(B.layerName)}if(!B.visible&&B.initiallyVisible){D.push(B.layerName)}}F.showlayers=E.join(",");F.hidelayers=D.join(",");var I=[];var G=[];for(var C=0;C<this.layerRoot.groups.length;++C){var H=this.layerRoot.groups[C];if(H.visible&&!H.initiallyVisible){I.push(H.groupName)}if(!H.visible&&H.initiallyVisible){G.push(H.groupName)}}F.showgroups=I.join(",");F.hidegroups=G.join(",");return F},getMapTip:function(D){var J=Fusion.oBroker;var O=D.oCurrentPosition.x;var L=D.oCurrentPosition.y;var G=this.mapWidget.pixToGeo(O-D.nTolerance,L-D.nTolerance);var M=this.mapWidget.pixToGeo(O+D.nTolerance,L+D.nTolerance);if(!G){return }var H="POLYGON(("+G.x+" "+G.y+", "+G.x+" "+M.y+", "+M.x+" "+M.y+", "+M.x+" "+G.y+", "+G.x+" "+G.y+"))";var E=1;var I=0;var P="INTERSECTS";var C="";var F=5;var K=D.aLayers.toString();if(this.bUseNativeServices){var N=(4|8);var B=new Fusion.Lib.MGRequest.MGQueryMapFeatures2(this.getSessionID(),this._sMapname,H,E,I,P,C,K,F,N,this.selectionColor,this.selectionImageFormat);J.dispatchRequest(B,OpenLayers.Function.bind(this.parseMapTip,this))}else{var B=new Fusion.Lib.MGRequest.MGQueryMapFeatures(this.getSessionID(),this._sMapname,H,E,I,P,C,K,F);J.dispatchRequest(B,OpenLayers.Function.bind(this.parseMapTip,this))}},parseMapTip:function(F){var E;var D=Fusion.parseJSON(F.responseText);this.oMaptip={t:"",h:""};var B=D.FeatureInformation["Tooltip"];if(B){this.oMaptip.t=B[0].replace(/\\n/g,"<br>")}var C=D.FeatureInformation["Hyperlink"];if(C){this.oMaptip.h=C[0]}this.mapWidget.triggerEvent(Fusion.Event.MAP_MAPTIP_REQ_FINISHED,this.oMaptip)},getLegendImageURL:function(C,D,F,H){if(D.layerTypes[0]==4){return H}else{if(F.iconOpt&&F.iconOpt.url){return F.iconOpt.url}var E=Fusion.getConfigurationItem("mapguide","mapAgentUrl");var G=null;if(this.oLayerOL&&this.oLayerOL.alternateUrls&&this.oLayerOL.alternateUrls.length>0){G=this.oLayerOL.getNextAltURL()}var B=(G==null)?E:G;B+="?OPERATION=GETLEGENDIMAGE&SESSION="+D.oMap.getSessionID();B+="&VERSION=1.0.0&SCALE="+C;op=/\(/g;cp=/\)/g;B+="&LAYERDEFINITION="+encodeURIComponent(D.resourceId).replace(op,"%28").replace(cp,"%29");B+="&THEMECATEGORY="+F.categoryIndex;B+="&TYPE="+F.geometryType;B+="&CLIENTAGENT="+encodeURIComponent(this.clientAgent);if(this.noCache){B+="&TS="+(new Date()).getTime()}return B}},typeNameToValue:function(B){switch(B){case"byte":return 2;case"boolean":return 1;case"blob":return 10;case"clob":return 11;case"datetime":return 3;case"double":return 5;case"int16":return 6;case"int32":return 7;case"int64":return 8;case"single":return 4;case"string":return 9}return -1},convertExtendedFeatureInfo:function(G){var F=false;var J={};var L=[];var B={};if(G.FeatureInformation.SelectedFeatures){var M=G.FeatureInformation.SelectedFeatures[0].SelectedLayer;F=(M.length>0);var I=new OpenLayers.Bounds();for(var S=0;S<M.length;S++){var H=M[S];var U=H["@name"];if(!J[U]){if(H.LayerMetadata){var K=H.LayerMetadata[0];var D=[];var C=[];var P=[];for(var R=0;R<K.Property.length;R++){var T=K.Property[R];D.push(T.Name[0]);C.push(T.Type[0]);P.push(T.DisplayName[0])}}J[U]={metadata:[],metadatanames:["dimension","bbox","center","area","length"],numelements:H.Feature.length,propertynames:D,propertytypes:C,propertyvalues:P,values:[]};L.push(U)}for(var R=0;R<H.Feature.length;R++){var N=H.Feature[R];var O=[];if(N.Property){for(var Q=0;Q<N.Property.length;Q++){O.push(N.Property[Q].Value==null?"":N.Property[Q].Value[0])}}J[U].values.push(O);J[U].metadata.push(["","","","",""]);if(N.Bounds){var E=N.Bounds[0].split(" ");I.extend(new OpenLayers.LonLat(parseFloat(E[0]),parseFloat(E[1])));I.extend(new OpenLayers.LonLat(parseFloat(E[2]),parseFloat(E[3])))}}}return OpenLayers.Util.extend(J,{hasSelection:F,extents:{minx:I.left,miny:I.bottom,maxx:I.right,maxy:I.top},layers:L})}else{J.hasSelection=false;return J}},processAndMergeExtendedFeatureInfo:function(B){this.processSelectedExtendedFeatureInfo(B,true)},processExtendedFeatureInfo:function(B){this.processSelectedExtendedFeatureInfo(B,false)},processSelectedExtendedFeatureInfo:function(C,G){var E=Fusion.parseJSON(C.responseText);var D=new Fusion.SimpleSelectionObject(E);var B=this.convertExtendedFeatureInfo(E);var F=D.getSelectionXml();if(G==true){D.merge(this.previousSelection)}this.previousSelection=D;if(F!=""&&F!=null){this.previousAttributes=B;this.updateMapSelection(F,false);this.processSelectedFeaturePropertiesNode(B)}else{this.previousAttributes=null;this.clearSelection()}this.mapWidget._removeWorker()},processAndMergeFeatureInfo:function(B){this.processSelectedFeatureInfo(B,true)},processFeatureInfo:function(B){this.processSelectedFeatureInfo(B,false)},processSelectedFeatureInfo:function(C,F){var D=Fusion.parseJSON(C.responseText);var B=new Fusion.SimpleSelectionObject(D);if(F==true){B.merge(this.previousSelection)}this.previousSelection=B;var E=B.getSelectionXml();this.setSelection(E,false);this.mapWidget._removeWorker()}});Fusion.SimpleSelectionObject=OpenLayers.Class({aLayers:null,nLayers:0,initialize:function(G){this.aLayers=[];this.nLayers=0;try{var E=G.FeatureInformation.FeatureSet[0].Layer;if(E!=null){for(var F=0;F<E.length;F++){var D=E[F]["@id"][0];var K=E[F]["Class"][0];var J=E[F]["Class"][0]["@id"][0];var H=new Fusion.SimpleSelectionObject.Layer(D,J);this.addLayer(H);var B=K.ID;for(var C=0;C<B.length;C++){H.addFeature(B[C])}}}}catch(I){}},addLayer:function(B){this.aLayers[this.nLayers]=B;this.nLayers++},getNumLayers:function(){return this.nLayers},getLayerByName:function(C){var B=null;for(var D=0;D<this.nLayers;D++){if(this.aLayers[D].getName()==C){B=this.aLayers[D];break}}return B},getLayer:function(B){if(B>=0&&B<this.nLayers){return this.aLayers[B]}else{return null}},getSelectionXml:function(){var E="";if(this.nLayers>0){E='<?xml version="1.0" encoding="UTF-8"?>\n<FeatureSet>\n';for(var D=0;D<this.nLayers;D++){var C=this.aLayers[D];E+='<Layer id="'+C.getName()+'">\n';E+='<Class id="'+C.getClassName()+'">\n';for(var B=0;B<C.getNumFeatures();B++){var F=C.featIds[B];E+="<ID>"+F+"</ID>\n"}E+="</Class>\n</Layer>\n"}E+="</FeatureSet>\n"}return E},merge:function(C){if(C!=null&&C.nLayers>0){for(var I=0;I<C.nLayers;I++){var B=C.aLayers[I];var E=this.getLayerByName(B.getName());if(E!=null){for(var F=0;F<B.getNumFeatures();F++){var H=E.featIds.find(B.featIds[F]);if(H==null){E.addFeature(B.featIds[F])}else{E.removeFeatures(H)}}if(E.featIds.length==0){this.clear()}}else{var G=new Fusion.SimpleSelectionObject.Layer(B.getName(),B.getClassName());for(var D=0;D<B.getNumFeatures();D++){G.addFeature(B.featIds[D])}this.addLayer(G)}}}},clear:function(){this.aLayers=[];this.nLayers=0}});Fusion.SimpleSelectionObject.Layer=OpenLayers.Class({name:"",className:"",featIds:null,nFeatures:0,initialize:function(B,C){this.name=B;this.className=C;this.nFeatures=0;this.featIds=[]},addFeature:function(B){this.featIds[this.nFeatures]=B;this.nFeatures++},getName:function(){return this.name},getClassName:function(){return this.className},getNumFeatures:function(){return this.nFeatures},removeFeatures:function(B){var C=B.length;for(var D=0;D<C;D++){this.featIds.remove(B[D]);this.nFeatures--}}});Array.prototype.find=function(B){var C=null;for(i=0;i<this.length;i++){if(typeof (B)=="function"){if(B.test(this[i])){if(!C){C=[]}C.push(i)}}else{if(this[i]===B){if(!C){C=[]}C.push(i)}}}return C};Array.prototype.remove=function(B){this.splice(B,1)};Proj4js.defs["EPSG:4030"]="+proj=longlat +ellps=WGS84 +no_defs ";Proj4js.defs["EPSG:4152"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:4322"]="+proj=longlat +ellps=WGS72 +no_defs ";Proj4js.defs["EPSG:4267"]="+proj=longlat +ellps=clrk66 +datum=NAD27 +no_defs ";Proj4js.defs["EPSG:4202"]="+proj=longlat +ellps=aust_SA +no_defs ";Proj4js.defs["EPSG:4203"]="+proj=longlat +ellps=aust_SA +no_defs ";Proj4js.defs["EPSG:4283"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4122"]="+proj=longlat +a=6378135 +b=6356750.304921594 +no_defs ";Proj4js.defs["EPSG:4617"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:4230"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4258"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:4807"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +no_defs ";Proj4js.defs["EPSG:4171"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4612"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4272"]="+proj=longlat +ellps=intl +datum=nzgd49 +no_defs ";Proj4js.defs["EPSG:4135"]="+proj=longlat +ellps=clrk66 +no_defs ";Proj4js.defs["EPSG:4124"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:4248"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4168"]="+proj=longlat +a=6378300 +b=6356751.689189189 +towgs84=-199,32,322,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4143"]="+proj=longlat +ellps=clrk80 +towgs84=-124.76,53,466.79,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4201"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:4205"]="+proj=longlat +ellps=krass +towgs84=-43,-163,45,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4204"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4289"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:4196"]="+proj=longlat +ellps=intl +towgs84=-45,417,-3.5,0,0,0.814,-0.6 +no_defs ";Proj4js.defs["EPSG:4169"]="+proj=longlat +ellps=clrk66 +towgs84=-115,118,426,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4176"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4601"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:4208"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4209"]="+proj=longlat +a=6378249.145 +b=6356514.966398753 +no_defs ";Proj4js.defs["EPSG:4210"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:4712"]="+proj=longlat +ellps=intl +towgs84=-205,107,53,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4183"]="+proj=longlat +ellps=intl +towgs84=-104,167,-38,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4211"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:4214"]="+proj=longlat +ellps=krass +no_defs ";Proj4js.defs["EPSG:4313"]="+proj=longlat +ellps=intl +towgs84=106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1 +no_defs ";Proj4js.defs["EPSG:4714"]="+proj=longlat +ellps=intl +towgs84=-127,-769,472,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4216"]="+proj=longlat +ellps=clrk66 +no_defs ";Proj4js.defs["EPSG:4165"]="+proj=longlat +ellps=intl +towgs84=-173,253,27,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4218"]="+proj=longlat +ellps=intl +towgs84=307,304,-318,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4219"]="+proj=longlat +ellps=bessel +towgs84=-384,664,-48,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4220"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:4221"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4728"]="+proj=longlat +ellps=intl +towgs84=-307,-92,127,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4717"]="+proj=longlat +ellps=clrk66 +towgs84=-2,151,181,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4222"]="+proj=longlat +a=6378249.145 +b=6356514.966398753 +no_defs ";Proj4js.defs["EPSG:4223"]="+proj=longlat +a=6378249.2 +b=6356515 +no_defs ";Proj4js.defs["EPSG:4149"]="+proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4150"]="+proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4672"]="+proj=longlat +ellps=intl +towgs84=175,-38,113,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4151"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4224"]="+proj=longlat +ellps=intl +towgs84=-134,229,-29,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4632"]="+proj=longlat +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4315"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-23,259,-9,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4225"]="+proj=longlat +ellps=intl +towgs84=-206,172,-6,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4623"]="+proj=longlat +ellps=intl +towgs84=-186,230,110,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4155"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-83,37,124,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4274"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4316"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4227"]="+proj=longlat +a=6378249.2 +b=6356515 +no_defs ";Proj4js.defs["EPSG:4314"]="+proj=longlat +ellps=bessel +datum=potsdam +no_defs ";Proj4js.defs["EPSG:4602"]="+proj=longlat +ellps=clrk80 +towgs84=725,685,536,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4719"]="+proj=longlat +ellps=intl +towgs84=211,147,111,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4133"]="+proj=longlat +ellps=GRS80 +towgs84=0.055,-0.541,-0.185,0.0183,-0.0003,-0.007,-0.014 +no_defs ";Proj4js.defs["EPSG:4180"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4154"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4668"]="+proj=longlat +ellps=intl +towgs84=-86,-98,-119,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4159"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4232"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:4132"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:4625"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4621"]="+proj=longlat +ellps=intl +towgs84=137,248,-430,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4121"]="+proj=longlat +ellps=GRS80 +towgs84=-199.87,74.79,246.62,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4603"]="+proj=longlat +ellps=clrk80 +towgs84=72,213.7,93,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4170"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4675"]="+proj=longlat +ellps=clrk66 +towgs84=-100,-248,259,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4624"]="+proj=longlat +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4147"]="+proj=longlat +ellps=krass +towgs84=-17.51,-108.32,-62.39,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4148"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4237"]="+proj=longlat +ellps=GRS67 +no_defs ";Proj4js.defs["EPSG:4255"]="+proj=longlat +ellps=intl +towgs84=-333,-222,114,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4658"]="+proj=longlat +ellps=intl +towgs84=-73,46,-86,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4254"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4738"]="+proj=longlat +a=6378293.645208759 +b=6356617.987679838 +no_defs ";Proj4js.defs["EPSG:4611"]="+proj=longlat +ellps=intl +towgs84=-162.619,-276.959,-161.764,0.067753,-2.24365,-1.15883,-1.09425 +no_defs ";Proj4js.defs["EPSG:4236"]="+proj=longlat +ellps=intl +towgs84=-637,-549,-203,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4633"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4630"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4239"]="+proj=longlat +a=6377276.345 +b=6356075.41314024 +towgs84=217,823,299,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4131"]="+proj=longlat +a=6377276.345 +b=6356075.41314024 +no_defs ";Proj4js.defs["EPSG:4240"]="+proj=longlat +a=6377276.345 +b=6356075.41314024 +no_defs ";Proj4js.defs["EPSG:4238"]="+proj=longlat +a=6378160 +b=6356774.50408554 +no_defs ";Proj4js.defs["EPSG:4173"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4725"]="+proj=longlat +ellps=intl +towgs84=189,-79,-202,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4144"]="+proj=longlat +a=6377276.345 +b=6356075.41314024 +no_defs ";Proj4js.defs["EPSG:4145"]="+proj=longlat +a=6377301.243 +b=6356100.230165384 +no_defs ";Proj4js.defs["EPSG:4146"]="+proj=longlat +a=6377299.151 +b=6356098.145120132 +towgs84=295,736,257,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4244"]="+proj=longlat +a=6377276.345 +b=6356075.41314024 +towgs84=-97,787,86,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4698"]="+proj=longlat +ellps=intl +towgs84=145,-187,103,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4245"]="+proj=longlat +a=6377304.063 +b=6356103.038993155 +towgs84=-11,851,5,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4123"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4166"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4247"]="+proj=longlat +ellps=intl +towgs84=-273.5,110.6,-357.9,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4250"]="+proj=longlat +ellps=clrk80 +towgs84=-130,29,364,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4251"]="+proj=longlat +ellps=clrk80 +towgs84=-90,40,88,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4207"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4669"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4142"]="+proj=longlat +ellps=clrk80 +towgs84=-125,53,467,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4181"]="+proj=longlat +ellps=intl +towgs84=-193,13.7,-39.3,-0.41,-2.933,2.688,0.43 +no_defs ";Proj4js.defs["EPSG:4253"]="+proj=longlat +ellps=clrk66 +no_defs ";Proj4js.defs["EPSG:4615"]="+proj=longlat +ellps=intl +towgs84=-499,-249,314,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4256"]="+proj=longlat +ellps=clrk80 +towgs84=41,-220,-134,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4257"]="+proj=longlat +ellps=bessel +towgs84=-587.8,519.75,145.76,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4259"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4262"]="+proj=longlat +ellps=bessel +towgs84=639,405,60,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4312"]="+proj=longlat +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +no_defs ";Proj4js.defs["EPSG:4264"]="+proj=longlat +ellps=intl +towgs84=-252.95,-4.11,-96.38,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4268"]="+proj=longlat +a=6378450.047548896 +b=6356826.621488444 +no_defs ";Proj4js.defs["EPSG:4727"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4263"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:4638"]="+proj=longlat +ellps=clrk66 +towgs84=30,430,368,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4604"]="+proj=longlat +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4639"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4130"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,-0,-0,-0,0 +no_defs ";Proj4js.defs["EPSG:4266"]="+proj=longlat +a=6378249.2 +b=6356515 +no_defs ";Proj4js.defs["EPSG:4158"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4271"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4644"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4273"]="+proj=longlat +a=6377492.018 +b=6356173.508712696 +towgs84=278.3,93,474.5,7.889,0.05,-6.61,6.21 +no_defs ";Proj4js.defs["EPSG:4270"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:4307"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:4275"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4167"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4182"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4229"]="+proj=longlat +ellps=helmert +no_defs ";Proj4js.defs["EPSG:4277"]="+proj=longlat +ellps=airy +datum=OSGB36 +no_defs ";Proj4js.defs["EPSG:4134"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:4637"]="+proj=longlat +ellps=intl +towgs84=325,154,172,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4636"]="+proj=longlat +ellps=intl +towgs84=365,194,166,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4729"]="+proj=longlat +ellps=intl +towgs84=185,165,42,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4282"]="+proj=longlat +a=6378249.2 +b=6356515 +no_defs ";Proj4js.defs["EPSG:4620"]="+proj=longlat +ellps=clrk80 +towgs84=-106,-129,165,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4190"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:4139"]="+proj=longlat +ellps=clrk66 +towgs84=11,72,-101,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4284"]="+proj=longlat +ellps=krass +no_defs ";Proj4js.defs["EPSG:4179"]="+proj=longlat +ellps=krass +towgs84=33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84 +no_defs ";Proj4js.defs["EPSG:4178"]="+proj=longlat +ellps=krass +towgs84=24,-123,-94,0.02,-0.25,-0.13,1.1 +no_defs ";Proj4js.defs["EPSG:4286"]="+proj=longlat +ellps=helmert +no_defs ";Proj4js.defs["EPSG:4285"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4614"]="+proj=longlat +ellps=intl +towgs84=-119.425,-303.659,-11.0006,1.1643,0.174458,1.09626,3.65706 +no_defs ";Proj4js.defs["EPSG:4194"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4153"]="+proj=longlat +ellps=intl +towgs84=-133.63,-157.5,-158.62,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4189"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4626"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4627"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4265"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4184"]="+proj=longlat +ellps=intl +towgs84=-203,141,53,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4292"]="+proj=longlat +ellps=intl +towgs84=-355,21,72,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4293"]="+proj=longlat +ellps=bess_nam +no_defs ";Proj4js.defs["EPSG:4195"]="+proj=longlat +ellps=intl +towgs84=105,326,-102.5,0,0,0.814,-0.6 +no_defs ";Proj4js.defs["EPSG:4613"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:4616"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4175"]="+proj=longlat +ellps=clrk80 +towgs84=-88,4,101,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4156"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:4164"]="+proj=longlat +ellps=krass +towgs84=-76,-138,67,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4643"]="+proj=longlat +ellps=intl +towgs84=-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7 +no_defs ";Proj4js.defs["EPSG:4642"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4622"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4605"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:4606"]="+proj=longlat +ellps=clrk80 +towgs84=-149,128,296,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4619"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4629"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4628"]="+proj=longlat +ellps=intl +towgs84=162,117,154,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4297"]="+proj=longlat +ellps=intl +towgs84=-189,-242,-91,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4127"]="+proj=longlat +ellps=clrk66 +no_defs ";Proj4js.defs["EPSG:4298"]="+proj=longlat +ellps=evrstSS +no_defs ";Proj4js.defs["EPSG:4299"]="+proj=longlat +a=6377340.189 +b=6356034.447938534 +no_defs ";Proj4js.defs["EPSG:4302"]="+proj=longlat +a=6378293.645208759 +b=6356617.987679838 +no_defs ";Proj4js.defs["EPSG:4734"]="+proj=longlat +ellps=intl +towgs84=-632,438,-609,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4304"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-73,-247,227,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4324"]="+proj=longlat +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +no_defs ";Proj4js.defs["EPSG:4610"]="+proj=longlat +a=6378140 +b=6356755.288157528 +no_defs ";Proj4js.defs["EPSG:4309"]="+proj=longlat +ellps=intl +towgs84=-155,171,37,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4163"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4311"]="+proj=longlat +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4149"]="+proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4736"]="+proj=longlat +ellps=clrk80 +towgs84=260,12,-147,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4735"]="+proj=longlat +ellps=intl +towgs84=647,1777,-1124,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4661"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4190"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:4733"]="+proj=longlat +ellps=intl +towgs84=276,-57,149,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4659"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4755"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4754"]="+proj=longlat +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4749"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4747"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4740"]="+proj=longlat +a=6378136 +b=6356751.361745712 +towgs84=0,0,1.5,-0,-0,0.076,0 +no_defs ";Proj4js.defs["EPSG:4702"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4737"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4670"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4674"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4141"]="+proj=longlat +ellps=GRS80 +towgs84=-48,55,52,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4161"]="+proj=longlat +ellps=intl +towgs84=27.5,14,186.4,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4188"]="+proj=longlat +ellps=airy +towgs84=482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15 +no_defs ";Proj4js.defs["EPSG:4192"]="+proj=longlat +ellps=intl +towgs84=-206.1,-174.7,-87.7,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4212"]="+proj=longlat +ellps=clrk80 +towgs84=31.95,300.99,419.19,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4231"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4242"]="+proj=longlat +ellps=clrk66 +no_defs ";Proj4js.defs["EPSG:4246"]="+proj=longlat +ellps=clrk80 +towgs84=-294.7,-200.1,525.5,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4281"]="+proj=longlat +a=6378300.789 +b=6356566.435 +towgs84=-275.722,94.7824,340.894,-8.001,-4.42,-11.821,1 +no_defs ";Proj4js.defs["EPSG:4318"]="+proj=longlat +ellps=WGS84 +towgs84=-3.2,-5.7,2.8,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4319"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:4607"]="+proj=longlat +ellps=clrk80 +towgs84=195.671,332.517,274.607,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4641"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4657"]="+proj=longlat +a=6377019.27 +b=6355762.5391 +towgs84=-28,199,5,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4660"]="+proj=longlat +ellps=intl +towgs84=982.609,552.753,-540.873,32.3934,-153.257,-96.2266,16.805 +no_defs ";Proj4js.defs["EPSG:4662"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4663"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4664"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4665"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4666"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:4667"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4673"]="+proj=longlat +ellps=intl +towgs84=174.05,-25.49,112.57,-0,-0,0.554,0.2263 +no_defs ";Proj4js.defs["EPSG:4678"]="+proj=longlat +ellps=krass +towgs84=44.585,-131.212,-39.544,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4679"]="+proj=longlat +ellps=clrk80 +towgs84=-80.01,253.26,291.19,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4680"]="+proj=longlat +ellps=clrk80 +towgs84=124.5,-63.5,-281,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4682"]="+proj=longlat +a=6377276.345 +b=6356075.41314024 +no_defs ";Proj4js.defs["EPSG:4683"]="+proj=longlat +ellps=clrk66 +towgs84=-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06 +no_defs ";Proj4js.defs["EPSG:4684"]="+proj=longlat +ellps=intl +towgs84=-133,-321,50,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4686"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4687"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:4688"]="+proj=longlat +ellps=intl +towgs84=347.103,1078.12,2623.92,-33.8875,70.6773,-9.3943,186.074 +no_defs ";Proj4js.defs["EPSG:4689"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4691"]="+proj=longlat +ellps=intl +towgs84=215.525,149.593,176.229,-3.2624,-1.692,-1.1571,10.4773 +no_defs ";Proj4js.defs["EPSG:4692"]="+proj=longlat +ellps=intl +towgs84=217.037,86.959,23.956,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4693"]="+proj=longlat +ellps=WGS84 +towgs84=0,-0.15,0.68,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4699"]="+proj=longlat +ellps=clrk80 +towgs84=-770.1,158.4,-498.2,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4701"]="+proj=longlat +ellps=clrk80 +towgs84=-79.9,-158,-168.9,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4708"]="+proj=longlat +ellps=aust_SA +towgs84=-491,-22,435,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4709"]="+proj=longlat +ellps=intl +towgs84=145,75,-272,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4710"]="+proj=longlat +ellps=intl +towgs84=-320,550,-494,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4711"]="+proj=longlat +ellps=intl +towgs84=124,-234,-25,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4713"]="+proj=longlat +ellps=clrk80 +towgs84=-79,-129,145,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4715"]="+proj=longlat +ellps=intl +towgs84=-104,-129,239,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4716"]="+proj=longlat +ellps=intl +towgs84=298,-304,-375,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4718"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4720"]="+proj=longlat +ellps=WGS72 +no_defs ";Proj4js.defs["EPSG:4721"]="+proj=longlat +ellps=intl +towgs84=265.025,384.929,-194.046,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4722"]="+proj=longlat +ellps=intl +towgs84=-794,119,-298,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4723"]="+proj=longlat +ellps=clrk66 +towgs84=67.8,106.1,138.8,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4724"]="+proj=longlat +ellps=intl +towgs84=208,-435,-229,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4726"]="+proj=longlat +ellps=clrk66 +no_defs ";Proj4js.defs["EPSG:4730"]="+proj=longlat +ellps=intl +towgs84=170,42,84,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4732"]="+proj=longlat +a=6378270 +b=6356794.343434343 +towgs84=102,52,-38,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4739"]="+proj=longlat +ellps=intl +towgs84=-156,-271,-189,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4743"]="+proj=longlat +ellps=clrk80 +towgs84=84.1,-320.1,218.7,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4748"]="+proj=longlat +a=6378306.3696 +b=6356571.996 +towgs84=51,391,-36,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4805"]="+proj=longlat +ellps=bessel +pm=ferro +no_defs ";Proj4js.defs["EPSG:4255"]="+proj=longlat +ellps=intl +towgs84=-333,-222,114,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:30791"]="+proj=lcc +lat_1=36 +lat_0=36 +lon_0=2.7 +k_0=0.999625544 +x_0=500135 +y_0=300090 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4307"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:30792"]="+proj=lcc +lat_1=33.3 +lat_0=33.3 +lon_0=2.7 +k_0=0.999625769 +x_0=500135 +y_0=300090 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:30729"]="+proj=utm +zone=29 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:30730"]="+proj=utm +zone=30 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:30731"]="+proj=utm +zone=31 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:30732"]="+proj=utm +zone=32 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4304"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-73,-247,227,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:30491"]="+proj=lcc +lat_1=36 +lat_0=36 +lon_0=2.7 +k_0=0.999625544 +x_0=500000 +y_0=300000 +a=6378249.2 +b=6356515 +towgs84=-73,-247,227,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:30492"]="+proj=lcc +lat_1=33.3 +lat_0=33.3 +lon_0=2.7 +k_0=0.999625769 +x_0=500000 +y_0=300000 +a=6378249.2 +b=6356515 +towgs84=-73,-247,227,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4220"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:22091"]="+proj=tmerc +lat_0=0 +lon_0=11.5 +k=0.9996 +x_0=500000 +y_0=10000000 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:22092"]="+proj=tmerc +lat_0=0 +lon_0=12 +k=0.9996 +x_0=500000 +y_0=10000000 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:22032"]="+proj=utm +zone=32 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:22033"]="+proj=utm +zone=33 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4259"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:25932"]="+proj=utm +zone=32 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4264"]="+proj=longlat +ellps=intl +towgs84=-252.95,-4.11,-96.38,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:26432"]="+proj=utm +zone=32 +south +ellps=intl +towgs84=-252.95,-4.11,-96.38,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4701"]="+proj=longlat +ellps=clrk80 +towgs84=-79.9,-158,-168.9,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4176"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4698"]="+proj=longlat +ellps=intl +towgs84=145,-187,103,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4637"]="+proj=longlat +ellps=intl +towgs84=325,154,172,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4636"]="+proj=longlat +ellps=intl +towgs84=365,194,166,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4736"]="+proj=longlat +ellps=clrk80 +towgs84=260,12,-147,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4715"]="+proj=longlat +ellps=intl +towgs84=-104,-129,239,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4722"]="+proj=longlat +ellps=intl +towgs84=-794,119,-298,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3336"]="+proj=utm +zone=42 +south +ellps=intl +towgs84=145,-187,103,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3033"]="+proj=lcc +lat_1=-68.5 +lat_2=-74.5 +lat_0=-50 +lon_0=70 +x_0=6000000 +y_0=6000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3204"]="+proj=lcc +lat_1=-60.66666666666666 +lat_2=-63.33333333333334 +lat_0=-90 +lon_0=-66 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3205"]="+proj=lcc +lat_1=-60.66666666666666 +lat_2=-63.33333333333334 +lat_0=-90 +lon_0=-54 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3206"]="+proj=lcc +lat_1=-60.66666666666666 +lat_2=-63.33333333333334 +lat_0=-90 +lon_0=-42 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3207"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=-174 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3208"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=-66 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3209"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=-54 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3210"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=42 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3211"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=54 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3212"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=66 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3213"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=78 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3214"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=90 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3215"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=102 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3216"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=114 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3217"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=126 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3218"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=138 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3219"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=150 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3220"]="+proj=lcc +lat_1=-64.66666666666667 +lat_2=-67.33333333333333 +lat_0=-90 +lon_0=162 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3221"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=-102 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3222"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=-90 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3223"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=-78 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3224"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=-66 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3225"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=-18 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3226"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=-6 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3227"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=6 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3228"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=18 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3229"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=30 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3230"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=42 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3231"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=54 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3232"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=66 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3233"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=78 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3234"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=90 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3235"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=102 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3236"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=114 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3237"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=126 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3238"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=138 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3239"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=150 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3240"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=162 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3241"]="+proj=lcc +lat_1=-68.66666666666667 +lat_2=-71.33333333333333 +lat_0=-90 +lon_0=174 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3242"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=-153 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3243"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=-135 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3244"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=-117 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3245"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=-99 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3246"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=-81 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3247"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=-63 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3248"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=-27 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3249"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=-9 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3250"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=9 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3251"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=27 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3252"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=45 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3253"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=63 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3254"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=81 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3255"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=99 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3256"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=117 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3257"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=135 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3258"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=153 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3259"]="+proj=lcc +lat_1=-72.66666666666667 +lat_2=-75.33333333333333 +lat_0=-90 +lon_0=171 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3260"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=-168 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3261"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=-144 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3262"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=-120 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3263"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=-96 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3264"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=-72 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3265"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=-48 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3266"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=-24 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3267"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=0 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3268"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=24 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3269"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=48 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3270"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=72 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3271"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=96 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3272"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=120 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3273"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=144 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3274"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-90 +lon_0=168 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3294"]="+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-78 +lon_0=162 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:2001"]="+proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001 +x_0=400000 +y_0=0 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4601"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:22191"]="+proj=tmerc +lat_0=-90 +lon_0=-72 +k=1 +x_0=1500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:22192"]="+proj=tmerc +lat_0=-90 +lon_0=-69 +k=1 +x_0=2500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:22193"]="+proj=tmerc +lat_0=-90 +lon_0=-66 +k=1 +x_0=3500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:22194"]="+proj=tmerc +lat_0=-90 +lon_0=-63 +k=1 +x_0=4500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:22195"]="+proj=tmerc +lat_0=-90 +lon_0=-60 +k=1 +x_0=5500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:22196"]="+proj=tmerc +lat_0=-90 +lon_0=-57 +k=1 +x_0=6500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:22197"]="+proj=tmerc +lat_0=-90 +lon_0=-54 +k=1 +x_0=7500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4221"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:2315"]="+proj=utm +zone=19 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2316"]="+proj=utm +zone=20 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2083"]="+proj=tmerc +lat_0=-90 +lon_0=-69 +k=1 +x_0=2500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4190"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:4190"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:22171"]="+proj=tmerc +lat_0=-90 +lon_0=-72 +k=1 +x_0=1500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:22172"]="+proj=tmerc +lat_0=-90 +lon_0=-69 +k=1 +x_0=2500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:22173"]="+proj=tmerc +lat_0=-90 +lon_0=-66 +k=1 +x_0=3500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:22174"]="+proj=tmerc +lat_0=-90 +lon_0=-63 +k=1 +x_0=4500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:22175"]="+proj=tmerc +lat_0=-90 +lon_0=-60 +k=1 +x_0=5500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:22176"]="+proj=tmerc +lat_0=-90 +lon_0=-57 +k=1 +x_0=6500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:22177"]="+proj=tmerc +lat_0=-90 +lon_0=-54 +k=1 +x_0=7500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:4674"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4161"]="+proj=longlat +ellps=intl +towgs84=27.5,14,186.4,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4686"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2082"]="+proj=tmerc +lat_0=-90 +lon_0=-69 +k=1 +x_0=2500000 +y_0=0 +ellps=intl +towgs84=27.5,14,186.4,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2935"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=41.53333333333333 +k=1 +x_0=1300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2936"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=44.53333333333333 +k=1 +x_0=2300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2937"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=47.53333333333333 +k=1 +x_0=3300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28408"]="+proj=tmerc +lat_0=0 +lon_0=45 +k=1 +x_0=8500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:20249"]="+proj=utm +zone=49 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20250"]="+proj=utm +zone=50 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20251"]="+proj=utm +zone=51 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20252"]="+proj=utm +zone=52 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20253"]="+proj=utm +zone=53 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20254"]="+proj=utm +zone=54 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20255"]="+proj=utm +zone=55 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20256"]="+proj=utm +zone=56 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20257"]="+proj=utm +zone=57 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20349"]="+proj=utm +zone=49 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20350"]="+proj=utm +zone=50 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20351"]="+proj=utm +zone=51 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20352"]="+proj=utm +zone=52 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20353"]="+proj=utm +zone=53 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20354"]="+proj=utm +zone=54 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20355"]="+proj=utm +zone=55 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20356"]="+proj=utm +zone=56 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20357"]="+proj=utm +zone=57 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:28348"]="+proj=utm +zone=48 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:28349"]="+proj=utm +zone=49 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:28350"]="+proj=utm +zone=50 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:28351"]="+proj=utm +zone=51 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:28352"]="+proj=utm +zone=52 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:28353"]="+proj=utm +zone=53 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:28354"]="+proj=utm +zone=54 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:28355"]="+proj=utm +zone=55 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:28356"]="+proj=utm +zone=56 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:28357"]="+proj=utm +zone=57 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:28358"]="+proj=utm +zone=58 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3110"]="+proj=lcc +lat_1=-36 +lat_2=-38 +lat_0=-37 +lon_0=145 +x_0=2500000 +y_0=4500000 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:4203"]="+proj=longlat +ellps=aust_SA +no_defs ";Proj4js.defs["EPSG:4283"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4176"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:20248"]="+proj=utm +zone=48 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20258"]="+proj=utm +zone=58 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20348"]="+proj=utm +zone=48 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20358"]="+proj=utm +zone=58 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:4708"]="+proj=longlat +ellps=aust_SA +towgs84=-491,-22,435,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3107"]="+proj=lcc +lat_1=-28 +lat_2=-36 +lat_0=-32 +lon_0=135 +x_0=1000000 +y_0=2000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3111"]="+proj=lcc +lat_1=-36 +lat_2=-38 +lat_0=-37 +lon_0=145 +x_0=2500000 +y_0=2500000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3112"]="+proj=lcc +lat_1=-18 +lat_2=-36 +lat_0=0 +lon_0=134 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3113"]="+proj=tmerc +lat_0=-28 +lon_0=153 +k=0.99999 +x_0=50000 +y_0=100000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31251"]="+proj=tmerc +lat_0=0 +lon_0=28 +k=1 +x_0=0 +y_0=-5000000 +ellps=bessel +pm=ferro +units=m +no_defs ";Proj4js.defs["EPSG:31252"]="+proj=tmerc +lat_0=0 +lon_0=31 +k=1 +x_0=0 +y_0=-5000000 +ellps=bessel +pm=ferro +units=m +no_defs ";Proj4js.defs["EPSG:31253"]="+proj=tmerc +lat_0=0 +lon_0=34 +k=1 +x_0=0 +y_0=-5000000 +ellps=bessel +pm=ferro +units=m +no_defs ";Proj4js.defs["EPSG:31254"]="+proj=tmerc +lat_0=0 +lon_0=10.33333333333333 +k=1 +x_0=0 +y_0=-5000000 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31255"]="+proj=tmerc +lat_0=0 +lon_0=13.33333333333333 +k=1 +x_0=0 +y_0=-5000000 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31256"]="+proj=tmerc +lat_0=0 +lon_0=16.33333333333333 +k=1 +x_0=0 +y_0=-5000000 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31257"]="+proj=tmerc +lat_0=0 +lon_0=10.33333333333333 +k=1 +x_0=150000 +y_0=-5000000 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31258"]="+proj=tmerc +lat_0=0 +lon_0=13.33333333333333 +k=1 +x_0=450000 +y_0=-5000000 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31259"]="+proj=tmerc +lat_0=0 +lon_0=16.33333333333333 +k=1 +x_0=750000 +y_0=-5000000 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31281"]="+proj=tmerc +lat_0=0 +lon_0=28 +k=1 +x_0=0 +y_0=0 +ellps=bessel +pm=ferro +units=m +no_defs ";Proj4js.defs["EPSG:31282"]="+proj=tmerc +lat_0=0 +lon_0=31 +k=1 +x_0=0 +y_0=0 +ellps=bessel +pm=ferro +units=m +no_defs ";Proj4js.defs["EPSG:31283"]="+proj=tmerc +lat_0=0 +lon_0=34 +k=1 +x_0=0 +y_0=0 +ellps=bessel +pm=ferro +units=m +no_defs ";Proj4js.defs["EPSG:31284"]="+proj=tmerc +lat_0=0 +lon_0=10.33333333333333 +k=1 +x_0=150000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31285"]="+proj=tmerc +lat_0=0 +lon_0=13.33333333333333 +k=1 +x_0=450000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31286"]="+proj=tmerc +lat_0=0 +lon_0=16.33333333333333 +k=1 +x_0=750000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31288"]="+proj=tmerc +lat_0=0 +lon_0=28 +k=1 +x_0=150000 +y_0=0 +ellps=bessel +pm=ferro +units=m +no_defs ";Proj4js.defs["EPSG:31289"]="+proj=tmerc +lat_0=0 +lon_0=31 +k=1 +x_0=450000 +y_0=0 +ellps=bessel +pm=ferro +units=m +no_defs ";Proj4js.defs["EPSG:31290"]="+proj=tmerc +lat_0=0 +lon_0=34 +k=1 +x_0=750000 +y_0=0 +ellps=bessel +pm=ferro +units=m +no_defs ";Proj4js.defs["EPSG:2936"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=44.53333333333333 +k=1 +x_0=2300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2937"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=47.53333333333333 +k=1 +x_0=3300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2938"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=50.53333333333333 +k=1 +x_0=4300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28408"]="+proj=tmerc +lat_0=0 +lon_0=45 +k=1 +x_0=8500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28409"]="+proj=tmerc +lat_0=0 +lon_0=51 +k=1 +x_0=9500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2318"]="+proj=lcc +lat_1=17 +lat_2=33 +lat_0=25.08951 +lon_0=48 +x_0=0 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:20499"]="+proj=utm +zone=39 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4204"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:20437"]="+proj=utm +zone=37 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:20438"]="+proj=utm +zone=38 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:20436"]="+proj=utm +zone=36 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4682"]="+proj=longlat +a=6377276.345 +b=6356075.41314024 +no_defs ";Proj4js.defs["EPSG:3106"]="+proj=tmerc +lat_0=0 +lon_0=90 +k=0.9996 +x_0=500000 +y_0=0 +a=6377276.345 +b=6356075.41314024 +units=m +no_defs ";Proj4js.defs["EPSG:28406"]="+proj=tmerc +lat_0=0 +lon_0=33 +k=1 +x_0=6500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21500"]="+proj=lcc +lat_1=49.83333333333334 +lat_2=51.16666666666666 +lat_0=90 +lon_0=0 +x_0=150000 +y_0=5400000 +ellps=intl +pm=brussels +units=m +no_defs ";Proj4js.defs["EPSG:31370"]="+proj=lcc +lat_1=51.16666723333333 +lat_2=49.8333339 +lat_0=90 +lon_0=4.367486666666666 +x_0=150000.013 +y_0=5400088.438 +ellps=intl +towgs84=106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1 +units=m +no_defs ";Proj4js.defs["EPSG:4313"]="+proj=longlat +ellps=intl +towgs84=106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1 +no_defs ";Proj4js.defs["EPSG:4216"]="+proj=longlat +ellps=clrk66 +no_defs ";Proj4js.defs["EPSG:3770"]="+proj=tmerc +lat_0=32 +lon_0=-64.75 +k=1 +x_0=550000 +y_0=100000 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24879"]="+proj=utm +zone=19 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24880"]="+proj=utm +zone=20 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:29189"]="+proj=utm +zone=19 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29190"]="+proj=utm +zone=20 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29871"]="+proj=omerc +lat_0=4 +lonc=115 +alpha=53.31582047222222 +k=0.99984 +x_0=590476.8714630401 +y_0=442857.653094361 +ellps=evrstSS +to_meter=20.11676512155263 +no_defs ";Proj4js.defs["EPSG:29872"]="+proj=omerc +lat_0=4 +lonc=115 +alpha=53.31582047222222 +k=0.99984 +x_0=590476.8727431979 +y_0=442857.6545573985 +ellps=evrstSS +to_meter=0.3047994715386762 +no_defs ";Proj4js.defs["EPSG:29873"]="+proj=omerc +lat_0=4 +lonc=115 +alpha=53.31582047222222 +k=0.99984 +x_0=590476.87 +y_0=442857.65 +ellps=evrstSS +units=m +no_defs ";Proj4js.defs["EPSG:4312"]="+proj=longlat +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +no_defs ";Proj4js.defs["EPSG:20934"]="+proj=utm +zone=34 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:20935"]="+proj=utm +zone=35 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:29189"]="+proj=utm +zone=19 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29190"]="+proj=utm +zone=20 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29191"]="+proj=utm +zone=21 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29192"]="+proj=utm +zone=22 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29193"]="+proj=utm +zone=23 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29194"]="+proj=utm +zone=24 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29195"]="+proj=utm +zone=25 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:4208"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:20822"]="+proj=utm +zone=22 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:20823"]="+proj=utm +zone=23 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:20824"]="+proj=utm +zone=24 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4225"]="+proj=longlat +ellps=intl +towgs84=-206,172,-6,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:22523"]="+proj=utm +zone=23 +south +ellps=intl +towgs84=-206,172,-6,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:22524"]="+proj=utm +zone=24 +south +ellps=intl +towgs84=-206,172,-6,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:29101"]="+proj=poly +lat_0=0 +lon_0=-54 +x_0=5000000 +y_0=10000000 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:2309"]="+proj=tmerc +lat_0=0 +lon_0=116 +k=0.9996 +x_0=500000 +y_0=10000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:2310"]="+proj=tmerc +lat_0=0 +lon_0=132 +k=0.9996 +x_0=500000 +y_0=10000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:22521"]="+proj=utm +zone=21 +south +ellps=intl +towgs84=-206,172,-6,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:22522"]="+proj=utm +zone=22 +south +ellps=intl +towgs84=-206,172,-6,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:28404"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=1 +x_0=4500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28405"]="+proj=tmerc +lat_0=0 +lon_0=27 +k=1 +x_0=5500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2215"]="+proj=utm +zone=32 +a=6378249.2 +b=6356515 +towgs84=-70.9,-151.8,-41.4,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4193"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-70.9,-151.8,-41.4,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4192"]="+proj=longlat +ellps=intl +towgs84=-206.1,-174.7,-87.7,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3119"]="+proj=tmerc +lat_0=0 +lon_0=10.5 +k=0.999 +x_0=1000000 +y_0=1000000 +ellps=intl +towgs84=-206.1,-174.7,-87.7,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:32083"]="+proj=tmerc +lat_0=0 +lon_0=-58.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:32084"]="+proj=tmerc +lat_0=0 +lon_0=-61.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:32085"]="+proj=tmerc +lat_0=0 +lon_0=-64.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:32086"]="+proj=tmerc +lat_0=0 +lon_0=-67.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:32181"]="+proj=tmerc +lat_0=0 +lon_0=-53 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32182"]="+proj=tmerc +lat_0=0 +lon_0=-56 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32183"]="+proj=tmerc +lat_0=0 +lon_0=-58.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32184"]="+proj=tmerc +lat_0=0 +lon_0=-61.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32185"]="+proj=tmerc +lat_0=0 +lon_0=-64.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32186"]="+proj=tmerc +lat_0=0 +lon_0=-67.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32187"]="+proj=tmerc +lat_0=0 +lon_0=-70.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32194"]="+proj=tmerc +lat_0=0 +lon_0=-87 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32081"]="+proj=tmerc +lat_0=0 +lon_0=-53 +k=0.9999 +x_0=304800 +y_0=0 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:32082"]="+proj=tmerc +lat_0=0 +lon_0=-56 +k=0.9999 +x_0=304800 +y_0=0 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:32098"]="+proj=lcc +lat_1=60 +lat_2=46 +lat_0=44 +lon_0=-68.5 +x_0=0 +y_0=0 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:32198"]="+proj=lcc +lat_1=60 +lat_2=46 +lat_0=44 +lon_0=-68.5 +x_0=0 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32180"]="+proj=tmerc +lat_0=0 +lon_0=-55.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2945"]="+proj=tmerc +lat_0=0 +lon_0=-58.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2946"]="+proj=tmerc +lat_0=0 +lon_0=-61.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2947"]="+proj=tmerc +lat_0=0 +lon_0=-64.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2948"]="+proj=tmerc +lat_0=0 +lon_0=-67.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2949"]="+proj=tmerc +lat_0=0 +lon_0=-70.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2950"]="+proj=tmerc +lat_0=0 +lon_0=-73.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2951"]="+proj=tmerc +lat_0=0 +lon_0=-76.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2952"]="+proj=tmerc +lat_0=0 +lon_0=-79.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2955"]="+proj=utm +zone=11 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2956"]="+proj=utm +zone=12 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2957"]="+proj=utm +zone=13 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2958"]="+proj=utm +zone=17 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2959"]="+proj=utm +zone=18 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2960"]="+proj=utm +zone=19 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2961"]="+proj=utm +zone=20 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2962"]="+proj=utm +zone=21 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2944"]="+proj=tmerc +lat_0=0 +lon_0=-55.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3154"]="+proj=utm +zone=7 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3155"]="+proj=utm +zone=8 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3156"]="+proj=utm +zone=9 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3157"]="+proj=utm +zone=10 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3158"]="+proj=utm +zone=14 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3159"]="+proj=utm +zone=15 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3160"]="+proj=utm +zone=16 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3161"]="+proj=lcc +lat_1=44.5 +lat_2=53.5 +lat_0=0 +lon_0=-85 +x_0=930000 +y_0=6430000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3162"]="+proj=lcc +lat_1=44.5 +lat_2=53.5 +lat_0=0 +lon_0=-85 +x_0=930000 +y_0=6430000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3401"]="+proj=tmerc +lat_0=0 +lon_0=-115 +k=0.9992 +x_0=0 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3400"]="+proj=tmerc +lat_0=0 +lon_0=-115 +k=0.9992 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2200"]="+proj=sterea +lat_0=46.5 +lon_0=-66.5 +k=0.999912 +x_0=300000 +y_0=800000 +a=6378135 +b=6356750.304921594 +units=m +no_defs ";Proj4js.defs["EPSG:2953"]="+proj=sterea +lat_0=46.5 +lon_0=-66.5 +k=0.999912 +x_0=2500000 +y_0=7500000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:32188"]="+proj=tmerc +lat_0=0 +lon_0=-73.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32189"]="+proj=tmerc +lat_0=0 +lon_0=-76.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32190"]="+proj=tmerc +lat_0=0 +lon_0=-79.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32191"]="+proj=tmerc +lat_0=0 +lon_0=-82.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32192"]="+proj=tmerc +lat_0=0 +lon_0=-81 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32193"]="+proj=tmerc +lat_0=0 +lon_0=-84 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32195"]="+proj=tmerc +lat_0=0 +lon_0=-90 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32196"]="+proj=tmerc +lat_0=0 +lon_0=-93 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32197"]="+proj=tmerc +lat_0=0 +lon_0=-96 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2290"]="+proj=sterea +lat_0=47.25 +lon_0=-63 +k=0.999912 +x_0=700000 +y_0=400000 +a=6378135 +b=6356750.304921594 +units=m +no_defs ";Proj4js.defs["EPSG:2954"]="+proj=sterea +lat_0=47.25 +lon_0=-63 +k=0.999912 +x_0=400000 +y_0=800000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:32183"]="+proj=tmerc +lat_0=0 +lon_0=-58.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32184"]="+proj=tmerc +lat_0=0 +lon_0=-61.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32185"]="+proj=tmerc +lat_0=0 +lon_0=-64.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32186"]="+proj=tmerc +lat_0=0 +lon_0=-67.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32187"]="+proj=tmerc +lat_0=0 +lon_0=-70.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32198"]="+proj=lcc +lat_1=60 +lat_2=46 +lat_0=44 +lon_0=-68.5 +x_0=0 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3797"]="+proj=lcc +lat_1=50 +lat_2=46 +lat_0=44 +lon_0=-70 +x_0=800000 +y_0=0 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:3798"]="+proj=lcc +lat_1=50 +lat_2=46 +lat_0=44 +lon_0=-70 +x_0=800000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3799"]="+proj=lcc +lat_1=50 +lat_2=46 +lat_0=44 +lon_0=-70 +x_0=800000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2219"]="+proj=utm +zone=19 +a=6378135 +b=6356750.304921594 +units=m +no_defs ";Proj4js.defs["EPSG:2220"]="+proj=utm +zone=20 +a=6378135 +b=6356750.304921594 +units=m +no_defs ";Proj4js.defs["EPSG:2947"]="+proj=tmerc +lat_0=0 +lon_0=-64.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2294"]="+proj=tmerc +lat_0=0 +lon_0=-61.5 +k=0.9999 +x_0=4500000 +y_0=0 +a=6378135 +b=6356750.304921594 +units=m +no_defs ";Proj4js.defs["EPSG:2295"]="+proj=tmerc +lat_0=0 +lon_0=-64.5 +k=0.9999 +x_0=5500000 +y_0=0 +a=6378135 +b=6356750.304921594 +units=m +no_defs ";Proj4js.defs["EPSG:3005"]="+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3153"]="+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:4723"]="+proj=longlat +ellps=clrk66 +towgs84=67.8,106.1,138.8,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4726"]="+proj=longlat +ellps=clrk66 +no_defs ";Proj4js.defs["EPSG:24877"]="+proj=utm +zone=17 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24878"]="+proj=utm +zone=18 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24879"]="+proj=utm +zone=19 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:29187"]="+proj=utm +zone=17 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29188"]="+proj=utm +zone=18 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29189"]="+proj=utm +zone=19 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:4719"]="+proj=longlat +ellps=intl +towgs84=211,147,111,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2084"]="+proj=utm +zone=19 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4254"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:28413"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=13500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28414"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=14500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28415"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=15500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28416"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=16500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28417"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=17500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28418"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=18500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28419"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=19500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28420"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=20500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28421"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=21500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28422"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=22500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28423"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=23500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21458"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21459"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21460"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21461"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21462"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21463"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21453"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21454"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21455"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21456"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21457"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21413"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=13500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21414"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=14500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21415"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=15500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21416"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=16500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21417"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=17500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21418"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=18500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21419"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=19500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21420"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=20500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21421"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=21500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21422"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=22500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21423"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=23500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2431"]="+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2432"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2433"]="+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2434"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2435"]="+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2436"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2437"]="+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2438"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2439"]="+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2440"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2441"]="+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2442"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2422"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2423"]="+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2424"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2425"]="+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2426"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2427"]="+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2428"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2429"]="+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2430"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2401"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=25500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2402"]="+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=26500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2403"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=27500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2404"]="+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=28500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2405"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=29500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2406"]="+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=30500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2407"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=31500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2408"]="+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=32500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2409"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=33500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2410"]="+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=34500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2411"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=35500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2412"]="+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=36500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2413"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=37500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2414"]="+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=38500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2415"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=39500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2416"]="+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=40500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2417"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=41500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2418"]="+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=42500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2419"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=43500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2420"]="+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=44500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2421"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=45500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:4214"]="+proj=longlat +ellps=krass +no_defs ";Proj4js.defs["EPSG:2343"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2344"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2345"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2346"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2347"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2348"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2338"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2339"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2340"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2341"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2342"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2327"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=13500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2328"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=14500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2329"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=15500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2330"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=16500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2331"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=17500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2332"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=18500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2333"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=19500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2334"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=20500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2335"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=21500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2336"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=22500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2337"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=23500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2379"]="+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2380"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2381"]="+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2382"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2383"]="+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2384"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2385"]="+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2386"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2387"]="+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2388"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2389"]="+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2390"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2370"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2371"]="+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2372"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2373"]="+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2374"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2375"]="+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2376"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2377"]="+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2378"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2349"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=25500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2350"]="+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=26500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2351"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=27500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2352"]="+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=28500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2353"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=29500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2354"]="+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=30500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2355"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=31500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2356"]="+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=32500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2357"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=33500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2358"]="+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=34500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2359"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=35500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2360"]="+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=36500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2361"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=37500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2362"]="+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=38500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2363"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=39500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2364"]="+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=40500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2365"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=41500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2366"]="+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=42500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2367"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=43500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2368"]="+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=44500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:2369"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=45500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs ";Proj4js.defs["EPSG:4610"]="+proj=longlat +a=6378140 +b=6356755.288157528 +no_defs ";Proj4js.defs["EPSG:4218"]="+proj=longlat +ellps=intl +towgs84=307,304,-318,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:21818"]="+proj=utm +zone=18 +ellps=intl +towgs84=307,304,-318,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3114"]="+proj=tmerc +lat_0=4.596200416666666 +lon_0=-80.07750791666666 +k=1 +x_0=1000000 +y_0=1000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3115"]="+proj=tmerc +lat_0=4.596200416666666 +lon_0=-77.07750791666666 +k=1 +x_0=1000000 +y_0=1000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3116"]="+proj=tmerc +lat_0=4.596200416666666 +lon_0=-74.07750791666666 +k=1 +x_0=1000000 +y_0=1000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3117"]="+proj=tmerc +lat_0=4.596200416666666 +lon_0=-71.07750791666666 +k=1 +x_0=1000000 +y_0=1000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3118"]="+proj=tmerc +lat_0=4.596200416666666 +lon_0=-68.07750791666666 +k=1 +x_0=1000000 +y_0=1000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:21896"]="+proj=tmerc +lat_0=4.599047222222222 +lon_0=-77.08091666666667 +k=1 +x_0=1000000 +y_0=1000000 +ellps=intl +towgs84=307,304,-318,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:21897"]="+proj=tmerc +lat_0=4.599047222222222 +lon_0=-74.08091666666667 +k=1 +x_0=1000000 +y_0=1000000 +ellps=intl +towgs84=307,304,-318,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:21898"]="+proj=tmerc +lat_0=4.599047222222222 +lon_0=-71.08091666666667 +k=1 +x_0=1000000 +y_0=1000000 +ellps=intl +towgs84=307,304,-318,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:21899"]="+proj=tmerc +lat_0=4.599047222222222 +lon_0=-68.08091666666667 +k=1 +x_0=1000000 +y_0=1000000 +ellps=intl +towgs84=307,304,-318,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4282"]="+proj=longlat +a=6378249.2 +b=6356515 +no_defs ";Proj4js.defs["EPSG:28232"]="+proj=utm +zone=32 +south +a=6378249.2 +b=6356515 +units=m +no_defs ";Proj4js.defs["EPSG:4701"]="+proj=longlat +ellps=clrk80 +towgs84=-79.9,-158,-168.9,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:31265"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=1 +x_0=5500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31266"]="+proj=tmerc +lat_0=0 +lon_0=18 +k=1 +x_0=6500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31267"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=1 +x_0=7500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31268"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=1 +x_0=8500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:4312"]="+proj=longlat +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +no_defs ";Proj4js.defs["EPSG:3795"]="+proj=lcc +lat_1=23 +lat_2=21.7 +lat_0=22.35 +lon_0=-81 +x_0=500000 +y_0=280296.016 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:3796"]="+proj=lcc +lat_1=21.3 +lat_2=20.13333333333333 +lat_0=20.71666666666667 +lon_0=-76.83333333333333 +x_0=500000 +y_0=229126.939 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:2065"]="+proj=krovak +lat_0=49.5 +lon_0=42.5 +alpha=30.28813972222222 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +pm=ferro +units=m +no_defs ";Proj4js.defs["EPSG:4156"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:2198"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=1 +x_0=900000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2196"]="+proj=tmerc +lat_0=0 +lon_0=9.5 +k=0.99995 +x_0=200000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:4713"]="+proj=longlat +ellps=clrk80 +towgs84=-79,-129,145,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:24817"]="+proj=utm +zone=17 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24818"]="+proj=utm +zone=18 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24877"]="+proj=utm +zone=17 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24878"]="+proj=utm +zone=18 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:29168"]="+proj=utm +zone=18 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29187"]="+proj=utm +zone=17 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29188"]="+proj=utm +zone=18 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:22991"]="+proj=tmerc +lat_0=30 +lon_0=35 +k=1 +x_0=300000 +y_0=1100000 +ellps=helmert +units=m +no_defs ";Proj4js.defs["EPSG:22994"]="+proj=tmerc +lat_0=30 +lon_0=27 +k=1 +x_0=700000 +y_0=1200000 +ellps=helmert +units=m +no_defs ";Proj4js.defs["EPSG:4229"]="+proj=longlat +ellps=helmert +no_defs ";Proj4js.defs["EPSG:22993"]="+proj=tmerc +lat_0=30 +lon_0=27 +k=1 +x_0=700000 +y_0=200000 +ellps=helmert +units=m +no_defs ";Proj4js.defs["EPSG:22992"]="+proj=tmerc +lat_0=30 +lon_0=31 +k=1 +x_0=615000 +y_0=810000 +ellps=helmert +units=m +no_defs ";Proj4js.defs["EPSG:4258"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:2157"]="+proj=tmerc +lat_0=53.5 +lon_0=-8 +k=0.99982 +x_0=600000 +y_0=750000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4173"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2158"]="+proj=utm +zone=29 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:29902"]="+proj=tmerc +lat_0=53.5 +lon_0=-8 +k=1.000035 +x_0=200000 +y_0=250000 +a=6377340.189 +b=6356034.447938534 +units=m +no_defs ";Proj4js.defs["EPSG:4299"]="+proj=longlat +a=6377340.189 +b=6356034.447938534 +no_defs ";Proj4js.defs["EPSG:4188"]="+proj=longlat +ellps=airy +towgs84=482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15 +no_defs ";Proj4js.defs["EPSG:29901"]="+proj=tmerc +lat_0=53.5 +lon_0=-8 +k=1 +x_0=200000 +y_0=250000 +ellps=airy +towgs84=482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15 +units=m +no_defs ";Proj4js.defs["EPSG:4262"]="+proj=longlat +ellps=bessel +towgs84=639,405,60,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:26237"]="+proj=utm +zone=37 +ellps=bessel +towgs84=639,405,60,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4133"]="+proj=longlat +ellps=GRS80 +towgs84=0.055,-0.541,-0.185,0.0183,-0.0003,-0.007,-0.014 +no_defs ";Proj4js.defs["EPSG:3300"]="+proj=lcc +lat_1=59.33333333333334 +lat_2=58 +lat_0=57.51755393055556 +lon_0=24 +x_0=500000 +y_0=6375000 +ellps=GRS80 +towgs84=0.055,-0.541,-0.185,0.0183,-0.0003,-0.007,-0.014 +units=m +no_defs ";Proj4js.defs["EPSG:3301"]="+proj=lcc +lat_1=59.33333333333334 +lat_2=58 +lat_0=57.51755393055556 +lon_0=24 +x_0=500000 +y_0=6375000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4180"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4201"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:20135"]="+proj=utm +zone=35 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:20136"]="+proj=utm +zone=36 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:20137"]="+proj=utm +zone=37 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:20138"]="+proj=utm +zone=38 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4292"]="+proj=longlat +ellps=intl +towgs84=-355,21,72,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:29220"]="+proj=utm +zone=20 +south +ellps=intl +towgs84=-355,21,72,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:29221"]="+proj=utm +zone=21 +south +ellps=intl +towgs84=-355,21,72,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3460"]="+proj=tmerc +lat_0=-17 +lon_0=178.75 +k=0.99985 +x_0=2000000 +y_0=4000000 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:4720"]="+proj=longlat +ellps=WGS72 +no_defs ";Proj4js.defs["EPSG:4721"]="+proj=longlat +ellps=intl +towgs84=265.025,384.929,-194.046,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4752"]="+proj=longlat +a=6378306.3696 +b=6356571.996 +towgs84=51,391,-36,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4748"]="+proj=longlat +a=6378306.3696 +b=6356571.996 +towgs84=51,391,-36,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3141"]="+proj=utm +zone=60 +south +ellps=intl +towgs84=265.025,384.929,-194.046,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3142"]="+proj=utm +zone=1 +south +ellps=intl +towgs84=265.025,384.929,-194.046,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2391"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=1 +x_0=1500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2392"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=1 +x_0=2500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2394"]="+proj=tmerc +lat_0=0 +lon_0=30 +k=1 +x_0=4500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2393"]="+proj=tmerc +lat_0=0 +lon_0=27 +k=1 +x_0=3500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4123"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:3067"]="+proj=utm +zone=35 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3126"]="+proj=tmerc +lat_0=0 +lon_0=19 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3127"]="+proj=tmerc +lat_0=0 +lon_0=20 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3128"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3129"]="+proj=tmerc +lat_0=0 +lon_0=22 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3130"]="+proj=tmerc +lat_0=0 +lon_0=23 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3131"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3132"]="+proj=tmerc +lat_0=0 +lon_0=25 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3133"]="+proj=tmerc +lat_0=0 +lon_0=26 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3134"]="+proj=tmerc +lat_0=0 +lon_0=27 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3135"]="+proj=tmerc +lat_0=0 +lon_0=28 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3136"]="+proj=tmerc +lat_0=0 +lon_0=29 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3137"]="+proj=tmerc +lat_0=0 +lon_0=30 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3138"]="+proj=tmerc +lat_0=0 +lon_0=31 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:4807"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +no_defs ";Proj4js.defs["EPSG:4171"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2154"]="+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4632"]="+proj=longlat +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2980"]="+proj=utm +zone=38 +south +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2192"]="+proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=2.337229166666667 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4638"]="+proj=longlat +ellps=clrk66 +towgs84=30,430,368,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2987"]="+proj=utm +zone=21 +ellps=clrk66 +towgs84=30,430,368,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4639"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:2988"]="+proj=utm +zone=1 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4275"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4626"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:3727"]="+proj=tmerc +lat_0=-21.11666666666667 +lon_0=55.53333333333333 +k=1 +x_0=160000 +y_0=50000 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4627"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2975"]="+proj=utm +zone=40 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:27561"]="+proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ";Proj4js.defs["EPSG:27571"]="+proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=1200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ";Proj4js.defs["EPSG:27562"]="+proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ";Proj4js.defs["EPSG:27572"]="+proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ";Proj4js.defs["EPSG:27563"]="+proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.999877499 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ";Proj4js.defs["EPSG:27573"]="+proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.999877499 +x_0=600000 +y_0=3200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ";Proj4js.defs["EPSG:27564"]="+proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.99994471 +x_0=234.358 +y_0=185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ";Proj4js.defs["EPSG:27574"]="+proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.99994471 +x_0=234.358 +y_0=4185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ";Proj4js.defs["EPSG:4687"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:3942"]="+proj=lcc +lat_1=41.25 +lat_2=42.75 +lat_0=42 +lon_0=3 +x_0=1700000 +y_0=1200000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3943"]="+proj=lcc +lat_1=42.25 +lat_2=43.75 +lat_0=43 +lon_0=3 +x_0=1700000 +y_0=2200000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3944"]="+proj=lcc +lat_1=43.25 +lat_2=44.75 +lat_0=44 +lon_0=3 +x_0=1700000 +y_0=3200000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3945"]="+proj=lcc +lat_1=44.25 +lat_2=45.75 +lat_0=45 +lon_0=3 +x_0=1700000 +y_0=4200000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3946"]="+proj=lcc +lat_1=45.25 +lat_2=46.75 +lat_0=46 +lon_0=3 +x_0=1700000 +y_0=5200000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3947"]="+proj=lcc +lat_1=46.25 +lat_2=47.75 +lat_0=47 +lon_0=3 +x_0=1700000 +y_0=6200000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3948"]="+proj=lcc +lat_1=47.25 +lat_2=48.75 +lat_0=48 +lon_0=3 +x_0=1700000 +y_0=7200000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3949"]="+proj=lcc +lat_1=48.25 +lat_2=49.75 +lat_0=49 +lon_0=3 +x_0=1700000 +y_0=8200000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3950"]="+proj=lcc +lat_1=49.25 +lat_2=50.75 +lat_0=50 +lon_0=3 +x_0=1700000 +y_0=9200000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2978"]="+proj=utm +zone=7 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4629"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:2977"]="+proj=utm +zone=5 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4628"]="+proj=longlat +ellps=intl +towgs84=162,117,154,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2976"]="+proj=utm +zone=6 +south +ellps=intl +towgs84=162,117,154,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4662"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4688"]="+proj=longlat +ellps=intl +towgs84=347.103,1078.12,2623.92,-33.8875,70.6773,-9.3943,186.074 +no_defs ";Proj4js.defs["EPSG:4689"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4691"]="+proj=longlat +ellps=intl +towgs84=215.525,149.593,176.229,-3.2624,-1.692,-1.1571,10.4773 +no_defs ";Proj4js.defs["EPSG:4692"]="+proj=longlat +ellps=intl +towgs84=217.037,86.959,23.956,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4687"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:3296"]="+proj=utm +zone=5 +south +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3297"]="+proj=utm +zone=6 +south +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3298"]="+proj=utm +zone=7 +south +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3299"]="+proj=utm +zone=8 +south +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:4266"]="+proj=longlat +a=6378249.2 +b=6356515 +no_defs ";Proj4js.defs["EPSG:26632"]="+proj=utm +zone=32 +a=6378249.2 +b=6356515 +units=m +no_defs ";Proj4js.defs["EPSG:26692"]="+proj=utm +zone=32 +south +a=6378249.2 +b=6356515 +units=m +no_defs ";Proj4js.defs["EPSG:2935"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=41.53333333333333 +k=1 +x_0=1300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2936"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=44.53333333333333 +k=1 +x_0=2300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2937"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=47.53333333333333 +k=1 +x_0=3300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28407"]="+proj=tmerc +lat_0=0 +lon_0=39 +k=1 +x_0=7500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28408"]="+proj=tmerc +lat_0=0 +lon_0=45 +k=1 +x_0=8500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:31466"]="+proj=tmerc +lat_0=0 +lon_0=6 +k=1 +x_0=2500000 +y_0=0 +ellps=bessel +datum=potsdam +units=m +no_defs ";Proj4js.defs["EPSG:31467"]="+proj=tmerc +lat_0=0 +lon_0=9 +k=1 +x_0=3500000 +y_0=0 +ellps=bessel +datum=potsdam +units=m +no_defs ";Proj4js.defs["EPSG:31468"]="+proj=tmerc +lat_0=0 +lon_0=12 +k=1 +x_0=4500000 +y_0=0 +ellps=bessel +datum=potsdam +units=m +no_defs ";Proj4js.defs["EPSG:31469"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=1 +x_0=5500000 +y_0=0 +ellps=bessel +datum=potsdam +units=m +no_defs ";Proj4js.defs["EPSG:4314"]="+proj=longlat +ellps=bessel +datum=potsdam +no_defs ";Proj4js.defs["EPSG:3068"]="+proj=cass +lat_0=52.41864827777778 +lon_0=13.62720366666667 +x_0=40000 +y_0=10000 +ellps=bessel +datum=potsdam +units=m +no_defs ";Proj4js.defs["EPSG:3396"]="+proj=tmerc +lat_0=0 +lon_0=9 +k=1 +x_0=3500000 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3397"]="+proj=tmerc +lat_0=0 +lon_0=12 +k=1 +x_0=4500000 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3399"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=1 +x_0=5500000 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3398"]="+proj=tmerc +lat_0=0 +lon_0=12 +k=1 +x_0=4500000 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3398"]="+proj=tmerc +lat_0=0 +lon_0=12 +k=1 +x_0=4500000 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:2136"]="+proj=tmerc +lat_0=4.666666666666667 +lon_0=-1 +k=0.99975 +x_0=274319.7391633579 +y_0=0 +a=6378300 +b=6356751.689189189 +towgs84=-199,32,322,0,0,0,0 +to_meter=0.3047997101815088 +no_defs ";Proj4js.defs["EPSG:4168"]="+proj=longlat +a=6378300 +b=6356751.689189189 +towgs84=-199,32,322,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2137"]="+proj=tmerc +lat_0=0 +lon_0=-1 +k=0.9996 +x_0=500000 +y_0=0 +a=6378300 +b=6356751.689189189 +towgs84=-199,32,322,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:25000"]="+proj=tmerc +lat_0=4.666666666666667 +lon_0=-1 +k=0.99975 +x_0=274319.51 +y_0=0 +ellps=clrk80 +towgs84=-130,29,364,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4250"]="+proj=longlat +ellps=clrk80 +towgs84=-130,29,364,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4277"]="+proj=longlat +ellps=airy +datum=OSGB36 +no_defs ";Proj4js.defs["EPSG:27700"]="+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +datum=OSGB36 +units=m +no_defs ";Proj4js.defs["EPSG:27700"]="+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +datum=OSGB36 +units=m +no_defs ";Proj4js.defs["EPSG:4121"]="+proj=longlat +ellps=GRS80 +towgs84=-199.87,74.79,246.62,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2100"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=0.9996 +x_0=500000 +y_0=0 +ellps=GRS80 +towgs84=-199.87,74.79,246.62,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4196"]="+proj=longlat +ellps=intl +towgs84=-45,417,-3.5,0,0,0.814,-0.6 +no_defs ";Proj4js.defs["EPSG:4194"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:2216"]="+proj=utm +zone=22 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2217"]="+proj=utm +zone=23 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4195"]="+proj=longlat +ellps=intl +towgs84=105,326,-102.5,0,0,0.814,-0.6 +no_defs ";Proj4js.defs["EPSG:4747"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3178"]="+proj=utm +zone=18 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3179"]="+proj=utm +zone=19 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3180"]="+proj=utm +zone=20 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3181"]="+proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3182"]="+proj=utm +zone=22 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3183"]="+proj=utm +zone=23 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3184"]="+proj=utm +zone=24 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3185"]="+proj=utm +zone=25 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3186"]="+proj=utm +zone=26 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3187"]="+proj=utm +zone=27 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3188"]="+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3189"]="+proj=utm +zone=29 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2003"]="+proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001 +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=72,213.7,93,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4603"]="+proj=longlat +ellps=clrk80 +towgs84=72,213.7,93,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:32061"]="+proj=lcc +lat_1=16.81666666666667 +lat_0=16.81666666666667 +lon_0=-90.33333333333333 +k_0=0.99992226 +x_0=500000 +y_0=292209.579 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:32062"]="+proj=lcc +lat_1=14.9 +lat_0=14.9 +lon_0=-90.33333333333333 +k_0=0.99989906 +x_0=500000 +y_0=325992.681 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:4315"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-23,259,-9,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:31528"]="+proj=utm +zone=28 +a=6378249.2 +b=6356515 +towgs84=-23,259,-9,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31529"]="+proj=utm +zone=29 +a=6378249.2 +b=6356515 +towgs84=-23,259,-9,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4155"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-83,37,124,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3461"]="+proj=utm +zone=28 +a=6378249.2 +b=6356515 +towgs84=-83,37,124,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3462"]="+proj=utm +zone=29 +a=6378249.2 +b=6356515 +towgs84=-83,37,124,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4165"]="+proj=longlat +ellps=intl +towgs84=-173,253,27,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2095"]="+proj=utm +zone=28 +ellps=intl +towgs84=-173,253,27,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24820"]="+proj=utm +zone=20 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24821"]="+proj=utm +zone=21 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:29170"]="+proj=utm +zone=20 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29171"]="+proj=utm +zone=21 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:4623"]="+proj=longlat +ellps=intl +towgs84=-186,230,110,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2971"]="+proj=utm +zone=22 +ellps=intl +towgs84=-186,230,110,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4624"]="+proj=longlat +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2972"]="+proj=utm +zone=22 +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:32649"]="+proj=utm +zone=49 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32650"]="+proj=utm +zone=50 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:4738"]="+proj=longlat +a=6378293.645208759 +b=6356617.987679838 +no_defs ";Proj4js.defs["EPSG:2326"]="+proj=tmerc +lat_0=22.31213333333334 +lon_0=114.1785555555556 +k=1 +x_0=836694.05 +y_0=819069.8 +ellps=intl +towgs84=-162.619,-276.959,-161.764,0.067753,-2.24365,-1.15883,-1.09425 +units=m +no_defs ";Proj4js.defs["EPSG:4611"]="+proj=longlat +ellps=intl +towgs84=-162.619,-276.959,-161.764,0.067753,-2.24365,-1.15883,-1.09425 +no_defs ";Proj4js.defs["EPSG:4739"]="+proj=longlat +ellps=intl +towgs84=-156,-271,-189,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:23700"]="+proj=somerc +lat_0=47.14439372222222 +lon_0=19.04857177777778 +k_0=0.99993 +x_0=650000 +y_0=200000 +ellps=GRS67 +units=m +no_defs ";Proj4js.defs["EPSG:4237"]="+proj=longlat +ellps=GRS67 +no_defs ";Proj4js.defs["EPSG:4658"]="+proj=longlat +ellps=intl +towgs84=-73,46,-86,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3057"]="+proj=lcc +lat_1=64.25 +lat_2=65.75 +lat_0=65 +lon_0=-19 +x_0=500000 +y_0=500000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4659"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4657"]="+proj=longlat +a=6377019.27 +b=6355762.5391 +towgs84=-28,199,5,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3054"]="+proj=utm +zone=26 +ellps=intl +towgs84=-73,46,-86,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3055"]="+proj=utm +zone=27 +ellps=intl +towgs84=-73,46,-86,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3056"]="+proj=utm +zone=28 +ellps=intl +towgs84=-73,46,-86,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24370"]="+proj=lcc +lat_1=39.5 +lat_0=39.5 +lon_0=68 +k_0=0.99846154 +x_0=2153865.73916853 +y_0=2368292.194628102 +a=6377299.36559538 +b=6356098.359005157 +to_meter=0.9143985307444408 +no_defs ";Proj4js.defs["EPSG:24371"]="+proj=lcc +lat_1=32.5 +lat_0=32.5 +lon_0=68 +k_0=0.99878641 +x_0=2743195.592233322 +y_0=914398.5307444407 +a=6377299.36559538 +b=6356098.359005157 +to_meter=0.9143985307444408 +no_defs ";Proj4js.defs["EPSG:24372"]="+proj=lcc +lat_1=26 +lat_0=26 +lon_0=74 +k_0=0.99878641 +x_0=2743195.592233322 +y_0=914398.5307444407 +a=6377299.36559538 +b=6356098.359005157 +to_meter=0.9143985307444408 +no_defs ";Proj4js.defs["EPSG:24382"]="+proj=lcc +lat_1=26 +lat_0=26 +lon_0=90 +k_0=0.99878641 +x_0=2743195.592233322 +y_0=914398.5307444407 +a=6377299.36559538 +b=6356098.359005157 +to_meter=0.9143985307444408 +no_defs ";Proj4js.defs["EPSG:24373"]="+proj=lcc +lat_1=19 +lat_0=19 +lon_0=80 +k_0=0.99878641 +x_0=2743195.592233322 +y_0=914398.5307444407 +a=6377299.36559538 +b=6356098.359005157 +to_meter=0.9143985307444408 +no_defs ";Proj4js.defs["EPSG:24374"]="+proj=lcc +lat_1=12 +lat_0=12 +lon_0=80 +k_0=0.99878641 +x_0=2743195.592233322 +y_0=914398.5307444407 +a=6377299.36559538 +b=6356098.359005157 +to_meter=0.9143985307444408 +no_defs ";Proj4js.defs["EPSG:3176"]="+proj=tmerc +lat_0=0 +lon_0=106 +k=0.9996 +x_0=500000 +y_0=0 +a=6377276.345 +b=6356075.41314024 +units=m +no_defs ";Proj4js.defs["EPSG:3148"]="+proj=utm +zone=48 +a=6377276.345 +b=6356075.41314024 +units=m +no_defs ";Proj4js.defs["EPSG:3149"]="+proj=utm +zone=49 +a=6377276.345 +b=6356075.41314024 +units=m +no_defs ";Proj4js.defs["EPSG:4239"]="+proj=longlat +a=6377276.345 +b=6356075.41314024 +towgs84=217,823,299,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:23946"]="+proj=utm +zone=46 +a=6377276.345 +b=6356075.41314024 +towgs84=217,823,299,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23947"]="+proj=utm +zone=47 +a=6377276.345 +b=6356075.41314024 +towgs84=217,823,299,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23948"]="+proj=utm +zone=48 +a=6377276.345 +b=6356075.41314024 +towgs84=217,823,299,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4131"]="+proj=longlat +a=6377276.345 +b=6356075.41314024 +no_defs ";Proj4js.defs["EPSG:4240"]="+proj=longlat +a=6377276.345 +b=6356075.41314024 +no_defs ";Proj4js.defs["EPSG:24047"]="+proj=utm +zone=47 +a=6377276.345 +b=6356075.41314024 +units=m +no_defs ";Proj4js.defs["EPSG:24048"]="+proj=utm +zone=48 +a=6377276.345 +b=6356075.41314024 +units=m +no_defs ";Proj4js.defs["EPSG:24375"]="+proj=lcc +lat_1=26 +lat_0=26 +lon_0=90 +k_0=0.99878641 +x_0=2743185.69 +y_0=914395.23 +a=6377276.345 +b=6356075.41314024 +units=m +no_defs ";Proj4js.defs["EPSG:4144"]="+proj=longlat +a=6377276.345 +b=6356075.41314024 +no_defs ";Proj4js.defs["EPSG:24305"]="+proj=utm +zone=45 +a=6377276.345 +b=6356075.41314024 +units=m +no_defs ";Proj4js.defs["EPSG:24306"]="+proj=utm +zone=46 +a=6377276.345 +b=6356075.41314024 +units=m +no_defs ";Proj4js.defs["EPSG:24376"]="+proj=lcc +lat_1=32.5 +lat_0=32.5 +lon_0=68 +k_0=0.99878641 +x_0=2743196.4 +y_0=914398.8 +a=6377301.243 +b=6356100.230165384 +units=m +no_defs ";Proj4js.defs["EPSG:24377"]="+proj=lcc +lat_1=26 +lat_0=26 +lon_0=74 +k_0=0.99878641 +x_0=2743196.4 +y_0=914398.8 +a=6377301.243 +b=6356100.230165384 +units=m +no_defs ";Proj4js.defs["EPSG:4145"]="+proj=longlat +a=6377301.243 +b=6356100.230165384 +no_defs ";Proj4js.defs["EPSG:24311"]="+proj=utm +zone=41 +a=6377301.243 +b=6356100.230165384 +units=m +no_defs ";Proj4js.defs["EPSG:24312"]="+proj=utm +zone=42 +a=6377301.243 +b=6356100.230165384 +units=m +no_defs ";Proj4js.defs["EPSG:24313"]="+proj=utm +zone=43 +a=6377301.243 +b=6356100.230165384 +units=m +no_defs ";Proj4js.defs["EPSG:24378"]="+proj=lcc +lat_1=32.5 +lat_0=32.5 +lon_0=68 +k_0=0.99878641 +x_0=2743195.5 +y_0=914398.5 +a=6377299.151 +b=6356098.145120132 +towgs84=295,736,257,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24379"]="+proj=lcc +lat_1=26 +lat_0=26 +lon_0=74 +k_0=0.99878641 +x_0=2743195.5 +y_0=914398.5 +a=6377299.151 +b=6356098.145120132 +towgs84=295,736,257,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24380"]="+proj=lcc +lat_1=26 +lat_0=26 +lon_0=90 +k_0=0.99878641 +x_0=2743195.5 +y_0=914398.5 +a=6377299.151 +b=6356098.145120132 +towgs84=295,736,257,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24381"]="+proj=lcc +lat_1=19 +lat_0=19 +lon_0=80 +k_0=0.99878641 +x_0=2743195.5 +y_0=914398.5 +a=6377299.151 +b=6356098.145120132 +towgs84=295,736,257,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24383"]="+proj=lcc +lat_1=12 +lat_0=12 +lon_0=80 +k_0=0.99878641 +x_0=2743195.5 +y_0=914398.5 +a=6377299.151 +b=6356098.145120132 +towgs84=295,736,257,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4146"]="+proj=longlat +a=6377299.151 +b=6356098.145120132 +towgs84=295,736,257,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:24342"]="+proj=utm +zone=42 +a=6377299.151 +b=6356098.145120132 +towgs84=295,736,257,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24343"]="+proj=utm +zone=43 +a=6377299.151 +b=6356098.145120132 +towgs84=295,736,257,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24344"]="+proj=utm +zone=44 +a=6377299.151 +b=6356098.145120132 +towgs84=295,736,257,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24345"]="+proj=utm +zone=45 +a=6377299.151 +b=6356098.145120132 +towgs84=295,736,257,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24346"]="+proj=utm +zone=46 +a=6377299.151 +b=6356098.145120132 +towgs84=295,736,257,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24347"]="+proj=utm +zone=47 +a=6377299.151 +b=6356098.145120132 +towgs84=295,736,257,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4682"]="+proj=longlat +a=6377276.345 +b=6356075.41314024 +no_defs ";Proj4js.defs["EPSG:4211"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:3001"]="+proj=merc +lon_0=110 +k=0.997 +x_0=3900000 +y_0=900000 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:2308"]="+proj=tmerc +lat_0=0 +lon_0=109 +k=0.9996 +x_0=500000 +y_0=10000000 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:21148"]="+proj=utm +zone=48 +south +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:21149"]="+proj=utm +zone=49 +south +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:21150"]="+proj=utm +zone=50 +south +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:4219"]="+proj=longlat +ellps=bessel +towgs84=-384,664,-48,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4238"]="+proj=longlat +a=6378160 +b=6356774.50408554 +no_defs ";Proj4js.defs["EPSG:23846"]="+proj=utm +zone=46 +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23847"]="+proj=utm +zone=47 +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23887"]="+proj=utm +zone=47 +south +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23848"]="+proj=utm +zone=48 +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23888"]="+proj=utm +zone=48 +south +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23849"]="+proj=utm +zone=49 +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23889"]="+proj=utm +zone=49 +south +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23850"]="+proj=utm +zone=50 +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23890"]="+proj=utm +zone=50 +south +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23851"]="+proj=utm +zone=51 +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23891"]="+proj=utm +zone=51 +south +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23852"]="+proj=utm +zone=52 +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23892"]="+proj=utm +zone=52 +south +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23893"]="+proj=utm +zone=53 +south +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:23894"]="+proj=utm +zone=54 +south +a=6378160 +b=6356774.50408554 +units=m +no_defs ";Proj4js.defs["EPSG:4257"]="+proj=longlat +ellps=bessel +towgs84=-587.8,519.75,145.76,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3002"]="+proj=merc +lon_0=110 +k=0.997 +x_0=3900000 +y_0=900000 +ellps=bessel +towgs84=-587.8,519.75,145.76,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2933"]="+proj=utm +zone=50 +south +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:4613"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:3000"]="+proj=merc +lon_0=110 +k=0.997 +x_0=3900000 +y_0=900000 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:4755"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:23866"]="+proj=utm +zone=46 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23867"]="+proj=utm +zone=47 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23868"]="+proj=utm +zone=48 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23869"]="+proj=utm +zone=49 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23870"]="+proj=utm +zone=50 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23871"]="+proj=utm +zone=51 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23872"]="+proj=utm +zone=52 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23877"]="+proj=utm +zone=47 +south +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23878"]="+proj=utm +zone=48 +south +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23879"]="+proj=utm +zone=49 +south +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23880"]="+proj=utm +zone=50 +south +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23881"]="+proj=utm +zone=51 +south +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23882"]="+proj=utm +zone=52 +south +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23883"]="+proj=utm +zone=53 +south +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:23884"]="+proj=utm +zone=54 +south +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2057"]="+proj=omerc +lat_0=27.51882880555555 +lonc=52.60353916666667 +alpha=0.5716611944444444 +k=0.999895934 +x_0=658377.437 +y_0=3044969.194 +ellps=intl +towgs84=-133.63,-157.5,-158.62,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4153"]="+proj=longlat +ellps=intl +towgs84=-133.63,-157.5,-158.62,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4693"]="+proj=longlat +ellps=WGS84 +towgs84=0,-0.15,0.68,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3200"]="+proj=lcc +lat_1=32.5 +lat_0=32.5 +lon_0=45 +k_0=0.9987864078000001 +x_0=1500000 +y_0=1166200 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4132"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:4667"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4743"]="+proj=longlat +ellps=clrk80 +towgs84=84.1,-320.1,218.7,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4141"]="+proj=longlat +ellps=GRS80 +towgs84=-48,55,52,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2039"]="+proj=tmerc +lat_0=31.73439361111111 +lon_0=35.20451694444445 +k=1.0000067 +x_0=219529.584 +y_0=626907.39 +ellps=GRS80 +towgs84=-48,55,52,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3003"]="+proj=tmerc +lat_0=0 +lon_0=9 +k=0.9996 +x_0=1500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:3004"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=0.9996 +x_0=2520000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4265"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4143"]="+proj=longlat +ellps=clrk80 +towgs84=-124.76,53,466.79,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2165"]="+proj=tmerc +lat_0=0 +lon_0=-5 +k=0.9996 +x_0=500000 +y_0=0 +ellps=clrk80 +towgs84=-124.76,53,466.79,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2043"]="+proj=utm +zone=29 +ellps=clrk80 +towgs84=-124.76,53,466.79,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2041"]="+proj=utm +zone=30 +ellps=clrk80 +towgs84=-124.76,53,466.79,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4142"]="+proj=longlat +ellps=clrk80 +towgs84=-125,53,467,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2164"]="+proj=tmerc +lat_0=0 +lon_0=-5 +k=0.9996 +x_0=500000 +y_0=0 +ellps=clrk80 +towgs84=-125,53,467,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2040"]="+proj=utm +zone=30 +ellps=clrk80 +towgs84=-125,53,467,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2042"]="+proj=utm +zone=29 +ellps=clrk80 +towgs84=-125,53,467,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24200"]="+proj=lcc +lat_1=18 +lat_0=18 +lon_0=-77 +k_0=1 +x_0=250000 +y_0=150000 +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:4242"]="+proj=longlat +ellps=clrk66 +no_defs ";Proj4js.defs["EPSG:2443"]="+proj=tmerc +lat_0=33 +lon_0=129.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2444"]="+proj=tmerc +lat_0=33 +lon_0=131 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2445"]="+proj=tmerc +lat_0=36 +lon_0=132.1666666666667 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2446"]="+proj=tmerc +lat_0=33 +lon_0=133.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2447"]="+proj=tmerc +lat_0=36 +lon_0=134.3333333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2448"]="+proj=tmerc +lat_0=36 +lon_0=136 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2449"]="+proj=tmerc +lat_0=36 +lon_0=137.1666666666667 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2450"]="+proj=tmerc +lat_0=36 +lon_0=138.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2451"]="+proj=tmerc +lat_0=36 +lon_0=139.8333333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2452"]="+proj=tmerc +lat_0=40 +lon_0=140.8333333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2453"]="+proj=tmerc +lat_0=44 +lon_0=140.25 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2454"]="+proj=tmerc +lat_0=44 +lon_0=142.25 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2456"]="+proj=tmerc +lat_0=26 +lon_0=142 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2457"]="+proj=tmerc +lat_0=26 +lon_0=127.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2458"]="+proj=tmerc +lat_0=26 +lon_0=124 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2459"]="+proj=tmerc +lat_0=26 +lon_0=131 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2460"]="+proj=tmerc +lat_0=20 +lon_0=136 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2461"]="+proj=tmerc +lat_0=26 +lon_0=154 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4612"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:30161"]="+proj=tmerc +lat_0=33 +lon_0=129.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30162"]="+proj=tmerc +lat_0=33 +lon_0=131 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30163"]="+proj=tmerc +lat_0=36 +lon_0=132.1666666666667 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30164"]="+proj=tmerc +lat_0=33 +lon_0=133.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30169"]="+proj=tmerc +lat_0=36 +lon_0=139.8333333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30165"]="+proj=tmerc +lat_0=36 +lon_0=134.3333333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30166"]="+proj=tmerc +lat_0=36 +lon_0=136 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30167"]="+proj=tmerc +lat_0=36 +lon_0=137.1666666666667 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30168"]="+proj=tmerc +lat_0=36 +lon_0=138.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30170"]="+proj=tmerc +lat_0=40 +lon_0=140.8333333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30171"]="+proj=tmerc +lat_0=44 +lon_0=140.25 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30172"]="+proj=tmerc +lat_0=44 +lon_0=142.25 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30173"]="+proj=tmerc +lat_0=44 +lon_0=144.25 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30174"]="+proj=tmerc +lat_0=26 +lon_0=142 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30175"]="+proj=tmerc +lat_0=26 +lon_0=127.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30176"]="+proj=tmerc +lat_0=26 +lon_0=124 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30177"]="+proj=tmerc +lat_0=26 +lon_0=131 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30178"]="+proj=tmerc +lat_0=20 +lon_0=136 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:30179"]="+proj=tmerc +lat_0=26 +lon_0=154 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3092"]="+proj=utm +zone=51 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3093"]="+proj=utm +zone=52 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3094"]="+proj=utm +zone=53 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3095"]="+proj=utm +zone=54 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3096"]="+proj=utm +zone=55 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:4301"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:2443"]="+proj=tmerc +lat_0=33 +lon_0=129.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2444"]="+proj=tmerc +lat_0=33 +lon_0=131 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2445"]="+proj=tmerc +lat_0=36 +lon_0=132.1666666666667 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2446"]="+proj=tmerc +lat_0=33 +lon_0=133.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2447"]="+proj=tmerc +lat_0=36 +lon_0=134.3333333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2448"]="+proj=tmerc +lat_0=36 +lon_0=136 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2449"]="+proj=tmerc +lat_0=36 +lon_0=137.1666666666667 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2450"]="+proj=tmerc +lat_0=36 +lon_0=138.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2451"]="+proj=tmerc +lat_0=36 +lon_0=139.8333333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2452"]="+proj=tmerc +lat_0=40 +lon_0=140.8333333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2453"]="+proj=tmerc +lat_0=44 +lon_0=140.25 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2454"]="+proj=tmerc +lat_0=44 +lon_0=142.25 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2455"]="+proj=tmerc +lat_0=44 +lon_0=144.25 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2456"]="+proj=tmerc +lat_0=26 +lon_0=142 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2457"]="+proj=tmerc +lat_0=26 +lon_0=127.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2458"]="+proj=tmerc +lat_0=26 +lon_0=124 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2459"]="+proj=tmerc +lat_0=26 +lon_0=131 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2460"]="+proj=tmerc +lat_0=20 +lon_0=136 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2461"]="+proj=tmerc +lat_0=26 +lon_0=154 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3097"]="+proj=utm +zone=51 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3098"]="+proj=utm +zone=52 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3099"]="+proj=utm +zone=53 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3100"]="+proj=utm +zone=54 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3101"]="+proj=utm +zone=55 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4709"]="+proj=longlat +ellps=intl +towgs84=145,75,-272,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4711"]="+proj=longlat +ellps=intl +towgs84=124,-234,-25,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3066"]="+proj=tmerc +lat_0=0 +lon_0=37 +k=0.9998 +x_0=500000 +y_0=-3000000 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2939"]="+proj=tmerc +lat_0=0.1333333333333333 +lon_0=50.76666666666667 +k=1 +x_0=2300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2940"]="+proj=tmerc +lat_0=0.1333333333333333 +lon_0=53.76666666666667 +k=1 +x_0=3300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2941"]="+proj=tmerc +lat_0=0.1333333333333333 +lon_0=56.76666666666667 +k=1 +x_0=4300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28409"]="+proj=tmerc +lat_0=0 +lon_0=51 +k=1 +x_0=9500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28410"]="+proj=tmerc +lat_0=0 +lon_0=57 +k=1 +x_0=10500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28411"]="+proj=tmerc +lat_0=0 +lon_0=63 +k=1 +x_0=11500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28412"]="+proj=tmerc +lat_0=0 +lon_0=69 +k=1 +x_0=12500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21096"]="+proj=utm +zone=36 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21036"]="+proj=utm +zone=36 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21097"]="+proj=utm +zone=37 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21037"]="+proj=utm +zone=37 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:2311"]="+proj=tmerc +lat_0=0 +lon_0=6 +k=0.9996 +x_0=500000 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:28412"]="+proj=tmerc +lat_0=0 +lon_0=69 +k=1 +x_0=12500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:4166"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4737"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:20438"]="+proj=utm +zone=38 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24600"]="+proj=lcc +lat_1=32.5 +lat_0=32.5 +lon_0=45 +k_0=0.9987864078000001 +x_0=1500000 +y_0=1166200 +ellps=clrk80 +towgs84=-294.7,-200.1,525.5,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4246"]="+proj=longlat +ellps=clrk80 +towgs84=-294.7,-200.1,525.5,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4319"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:4667"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:31901"]="+proj=tmerc +lat_0=0 +lon_0=48 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:4661"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3059"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=0.9996 +x_0=500000 +y_0=-6000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4251"]="+proj=longlat +ellps=clrk80 +towgs84=-90,40,88,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2073"]="+proj=tmerc +lat_0=0 +lon_0=19 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2074"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2075"]="+proj=tmerc +lat_0=0 +lon_0=23 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2076"]="+proj=tmerc +lat_0=0 +lon_0=25 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2068"]="+proj=tmerc +lat_0=0 +lon_0=9 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2069"]="+proj=tmerc +lat_0=0 +lon_0=11 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2070"]="+proj=tmerc +lat_0=0 +lon_0=13 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2071"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2072"]="+proj=tmerc +lat_0=0 +lon_0=17 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2087"]="+proj=tmerc +lat_0=0 +lon_0=12 +k=0.9996 +x_0=500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2077"]="+proj=utm +zone=32 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2078"]="+proj=utm +zone=33 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2079"]="+proj=utm +zone=34 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2080"]="+proj=utm +zone=35 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4159"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4754"]="+proj=longlat +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3177"]="+proj=tmerc +lat_0=0 +lon_0=17 +k=0.9965000000000001 +x_0=1000000 +y_0=0 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3190"]="+proj=tmerc +lat_0=0 +lon_0=9 +k=0.99995 +x_0=200000 +y_0=0 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3191"]="+proj=tmerc +lat_0=0 +lon_0=11 +k=0.99995 +x_0=200000 +y_0=0 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3192"]="+proj=tmerc +lat_0=0 +lon_0=13 +k=0.99995 +x_0=200000 +y_0=0 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3193"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=0.99995 +x_0=200000 +y_0=0 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3194"]="+proj=tmerc +lat_0=0 +lon_0=17 +k=0.99995 +x_0=200000 +y_0=0 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3195"]="+proj=tmerc +lat_0=0 +lon_0=19 +k=0.99995 +x_0=200000 +y_0=0 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3196"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=0.99995 +x_0=200000 +y_0=0 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3197"]="+proj=tmerc +lat_0=0 +lon_0=23 +k=0.99995 +x_0=200000 +y_0=0 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3198"]="+proj=tmerc +lat_0=0 +lon_0=25 +k=0.99995 +x_0=200000 +y_0=0 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3199"]="+proj=utm +zone=32 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3201"]="+proj=utm +zone=33 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3202"]="+proj=utm +zone=34 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3203"]="+proj=utm +zone=35 +ellps=intl +towgs84=-208.406,-109.878,-2.5764,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3346"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=0.9998 +x_0=500000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4669"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2169"]="+proj=tmerc +lat_0=49.83333333333334 +lon_0=6.166666666666667 +k=1 +x_0=80000 +y_0=100000 +ellps=intl +towgs84=-193,13.7,-39.3,-0.41,-2.933,2.688,0.43 +units=m +no_defs ";Proj4js.defs["EPSG:4181"]="+proj=longlat +ellps=intl +towgs84=-193,13.7,-39.3,-0.41,-2.933,2.688,0.43 +no_defs ";Proj4js.defs["EPSG:29738"]="+proj=utm +zone=38 +south +ellps=intl +towgs84=-189,-242,-91,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:29739"]="+proj=utm +zone=39 +south +ellps=intl +towgs84=-189,-242,-91,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4297"]="+proj=longlat +ellps=intl +towgs84=-189,-242,-91,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:20936"]="+proj=utm +zone=36 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:3167"]="+proj=omerc +lat_0=4 +lonc=102.25 +alpha=323.0257905 +k=0.99984 +x_0=40000 +y_0=0 +a=6377295.664 +b=6356094.667915204 +to_meter=20.116756 +no_defs ";Proj4js.defs["EPSG:24547"]="+proj=utm +zone=47 +a=6377304.063 +b=6356103.038993155 +towgs84=-11,851,5,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24548"]="+proj=utm +zone=48 +a=6377304.063 +b=6356103.038993155 +towgs84=-11,851,5,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4245"]="+proj=longlat +a=6377304.063 +b=6356103.038993155 +towgs84=-11,851,5,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4298"]="+proj=longlat +ellps=evrstSS +no_defs ";Proj4js.defs["EPSG:29871"]="+proj=omerc +lat_0=4 +lonc=115 +alpha=53.31582047222222 +k=0.99984 +x_0=590476.8714630401 +y_0=442857.653094361 +ellps=evrstSS +to_meter=20.11676512155263 +no_defs ";Proj4js.defs["EPSG:29872"]="+proj=omerc +lat_0=4 +lonc=115 +alpha=53.31582047222222 +k=0.99984 +x_0=590476.8727431979 +y_0=442857.6545573985 +ellps=evrstSS +to_meter=0.3047994715386762 +no_defs ";Proj4js.defs["EPSG:29873"]="+proj=omerc +lat_0=4 +lonc=115 +alpha=53.31582047222222 +k=0.99984 +x_0=590476.87 +y_0=442857.65 +ellps=evrstSS +units=m +no_defs ";Proj4js.defs["EPSG:29849"]="+proj=utm +zone=49 +ellps=evrstSS +units=m +no_defs ";Proj4js.defs["EPSG:29850"]="+proj=utm +zone=50 +ellps=evrstSS +units=m +no_defs ";Proj4js.defs["EPSG:4261"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=31,146,47,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:26191"]="+proj=lcc +lat_1=33.3 +lat_0=33.3 +lon_0=-5.4 +k_0=0.999625769 +x_0=500000 +y_0=300000 +a=6378249.2 +b=6356515 +towgs84=31,146,47,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:26194"]="+proj=lcc +lat_1=26.1 +lat_0=26.1 +lon_0=-5.4 +k_0=0.999616304 +x_0=1200000 +y_0=400000 +a=6378249.2 +b=6356515 +towgs84=31,146,47,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:26195"]="+proj=lcc +lat_1=22.5 +lat_0=22.5 +lon_0=-5.4 +k_0=0.999616437 +x_0=1500000 +y_0=400000 +a=6378249.2 +b=6356515 +towgs84=31,146,47,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:26192"]="+proj=lcc +lat_1=29.7 +lat_0=29.7 +lon_0=-5.4 +k_0=0.9996155960000001 +x_0=500000 +y_0=300000 +a=6378249.2 +b=6356515 +towgs84=31,146,47,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4699"]="+proj=longlat +ellps=clrk80 +towgs84=-770.1,158.4,-498.2,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:31965"]="+proj=utm +zone=11 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31966"]="+proj=utm +zone=12 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31967"]="+proj=utm +zone=13 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31968"]="+proj=utm +zone=14 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4130"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,-0,-0,-0,0 +no_defs ";Proj4js.defs["EPSG:3036"]="+proj=utm +zone=36 +south +ellps=WGS84 +towgs84=0,0,0,-0,-0,-0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3037"]="+proj=utm +zone=37 +south +ellps=WGS84 +towgs84=0,0,0,-0,-0,-0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2736"]="+proj=utm +zone=36 +south +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:4127"]="+proj=longlat +ellps=clrk66 +no_defs ";Proj4js.defs["EPSG:2737"]="+proj=utm +zone=37 +south +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:24382"]="+proj=lcc +lat_1=26 +lat_0=26 +lon_0=90 +k_0=0.99878641 +x_0=2743195.592233322 +y_0=914398.5307444407 +a=6377299.36559538 +b=6356098.359005157 +to_meter=0.9143985307444408 +no_defs ";Proj4js.defs["EPSG:4293"]="+proj=longlat +ellps=bess_nam +no_defs ";Proj4js.defs["EPSG:29333"]="+proj=utm +zone=33 +south +ellps=bess_nam +units=m +no_defs ";Proj4js.defs["EPSG:28992"]="+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:28991"]="+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=0 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:4289"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:24819"]="+proj=utm +zone=19 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:29169"]="+proj=utm +zone=19 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:4633"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:2981"]="+proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4644"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:2998"]="+proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4643"]="+proj=longlat +ellps=intl +towgs84=-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7 +no_defs ";Proj4js.defs["EPSG:2997"]="+proj=utm +zone=58 +south +ellps=intl +towgs84=-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7 +units=m +no_defs ";Proj4js.defs["EPSG:4642"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:2996"]="+proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4749"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4641"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4662"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:2995"]="+proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:3060"]="+proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:3163"]="+proj=lcc +lat_1=-20.66666666666667 +lat_2=-22.33333333333333 +lat_0=-21.5 +lon_0=166 +x_0=400000 +y_0=300000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3164"]="+proj=utm +zone=58 +south +ellps=WGS84 +towgs84=-56.263,16.136,-22.856,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3165"]="+proj=lcc +lat_1=-22.24469175 +lat_2=-22.29469175 +lat_0=-22.26969175 +lon_0=166.44242575 +x_0=0.66 +y_0=1.02 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:3166"]="+proj=lcc +lat_1=-22.24472222222222 +lat_2=-22.29472222222222 +lat_0=-22.26972222222222 +lon_0=166.4425 +x_0=8.313000000000001 +y_0=-2.354 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:3169"]="+proj=utm +zone=57 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3170"]="+proj=utm +zone=58 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3171"]="+proj=utm +zone=59 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3172"]="+proj=utm +zone=59 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4672"]="+proj=longlat +ellps=intl +towgs84=175,-38,113,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4167"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2119"]="+proj=tmerc +lat_0=-42.68888888888888 +lon_0=173.01 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2106"]="+proj=tmerc +lat_0=-37.76111111111111 +lon_0=176.4661111111111 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2132"]="+proj=tmerc +lat_0=-46.6 +lon_0=168.3427777777778 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2117"]="+proj=tmerc +lat_0=-41.81055555555555 +lon_0=171.5811111111111 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2114"]="+proj=tmerc +lat_0=-40.71472222222223 +lon_0=172.6719444444444 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2125"]="+proj=tmerc +lat_0=-43.74861111111111 +lon_0=171.3605555555555 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2118"]="+proj=tmerc +lat_0=-42.33361111111111 +lon_0=171.5497222222222 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2108"]="+proj=tmerc +lat_0=-39.65083333333333 +lon_0=176.6736111111111 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2121"]="+proj=tmerc +lat_0=-42.88611111111111 +lon_0=170.9797222222222 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2123"]="+proj=tmerc +lat_0=-43.97777777777778 +lon_0=168.6061111111111 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2116"]="+proj=tmerc +lat_0=-41.28972222222222 +lon_0=172.1088888888889 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2127"]="+proj=tmerc +lat_0=-44.735 +lon_0=169.4675 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2120"]="+proj=tmerc +lat_0=-41.54444444444444 +lon_0=173.8019444444444 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2105"]="+proj=tmerc +lat_0=-36.87972222222222 +lon_0=174.7641666666667 +k=0.9999 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2128"]="+proj=tmerc +lat_0=-45.13277777777778 +lon_0=168.3986111111111 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2124"]="+proj=tmerc +lat_0=-43.59055555555556 +lon_0=172.7269444444445 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2129"]="+proj=tmerc +lat_0=-45.56361111111111 +lon_0=167.7386111111111 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2115"]="+proj=tmerc +lat_0=-41.27444444444444 +lon_0=173.2991666666667 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2131"]="+proj=tmerc +lat_0=-45.86138888888889 +lon_0=170.2825 +k=0.99996 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2130"]="+proj=tmerc +lat_0=-45.81611111111111 +lon_0=170.6283333333333 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2122"]="+proj=tmerc +lat_0=-43.11 +lon_0=170.2608333333333 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2107"]="+proj=tmerc +lat_0=-38.62444444444444 +lon_0=177.8855555555556 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2109"]="+proj=tmerc +lat_0=-39.13555555555556 +lon_0=174.2277777777778 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2126"]="+proj=tmerc +lat_0=-44.40194444444445 +lon_0=171.0572222222222 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2110"]="+proj=tmerc +lat_0=-39.51222222222222 +lon_0=175.64 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2133"]="+proj=utm +zone=58 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2134"]="+proj=utm +zone=59 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2135"]="+proj=utm +zone=60 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2112"]="+proj=tmerc +lat_0=-40.92527777777777 +lon_0=175.6472222222222 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2111"]="+proj=tmerc +lat_0=-40.24194444444444 +lon_0=175.4880555555555 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2113"]="+proj=tmerc +lat_0=-41.3011111111111 +lon_0=174.7763888888889 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:27219"]="+proj=tmerc +lat_0=-42.68911658333333 +lon_0=173.0101333888889 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27206"]="+proj=tmerc +lat_0=-37.76124980555556 +lon_0=176.46619725 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27232"]="+proj=tmerc +lat_0=-46.60000961111111 +lon_0=168.342872 +k=1 +x_0=300002.66 +y_0=699999.58 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27217"]="+proj=tmerc +lat_0=-41.81080286111111 +lon_0=171.5812600555556 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27214"]="+proj=tmerc +lat_0=-40.71475905555556 +lon_0=172.6720465 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27225"]="+proj=tmerc +lat_0=-43.74871155555556 +lon_0=171.3607484722222 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27218"]="+proj=tmerc +lat_0=-42.33369427777778 +lon_0=171.5497713055556 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27208"]="+proj=tmerc +lat_0=-39.65092930555556 +lon_0=176.6736805277778 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27221"]="+proj=tmerc +lat_0=-42.88632236111111 +lon_0=170.9799935 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27223"]="+proj=tmerc +lat_0=-43.97780288888889 +lon_0=168.606267 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27216"]="+proj=tmerc +lat_0=-41.28991152777778 +lon_0=172.1090281944444 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27227"]="+proj=tmerc +lat_0=-44.73526797222222 +lon_0=169.4677550833333 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27220"]="+proj=tmerc +lat_0=-41.54448666666666 +lon_0=173.8020741111111 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27205"]="+proj=tmerc +lat_0=-36.87986527777778 +lon_0=174.7643393611111 +k=0.9999 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27228"]="+proj=tmerc +lat_0=-45.13290258333333 +lon_0=168.3986411944444 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27224"]="+proj=tmerc +lat_0=-43.59063758333333 +lon_0=172.7271935833333 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27229"]="+proj=tmerc +lat_0=-45.56372616666666 +lon_0=167.7388617777778 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27215"]="+proj=tmerc +lat_0=-41.27454472222222 +lon_0=173.2993168055555 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27291"]="+proj=tmerc +lat_0=-39 +lon_0=175.5 +k=1 +x_0=274319.5243848086 +y_0=365759.3658464114 +ellps=intl +datum=nzgd49 +to_meter=0.9143984146160287 +no_defs ";Proj4js.defs["EPSG:27231"]="+proj=tmerc +lat_0=-45.86151336111111 +lon_0=170.2825891111111 +k=0.99996 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27230"]="+proj=tmerc +lat_0=-45.81619661111111 +lon_0=170.6285951666667 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27222"]="+proj=tmerc +lat_0=-43.11012813888889 +lon_0=170.2609258333333 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27207"]="+proj=tmerc +lat_0=-38.62470277777778 +lon_0=177.8856362777778 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27292"]="+proj=tmerc +lat_0=-44 +lon_0=171.5 +k=1 +x_0=457199.2073080143 +y_0=457199.2073080143 +ellps=intl +datum=nzgd49 +to_meter=0.9143984146160287 +no_defs ";Proj4js.defs["EPSG:27209"]="+proj=tmerc +lat_0=-39.13575830555556 +lon_0=174.22801175 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27226"]="+proj=tmerc +lat_0=-44.40222036111111 +lon_0=171.0572508333333 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27210"]="+proj=tmerc +lat_0=-39.51247038888889 +lon_0=175.6400368055556 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27258"]="+proj=utm +zone=58 +south +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27259"]="+proj=utm +zone=59 +south +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27260"]="+proj=utm +zone=60 +south +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27212"]="+proj=tmerc +lat_0=-40.92553263888889 +lon_0=175.6473496666667 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27211"]="+proj=tmerc +lat_0=-40.24194713888889 +lon_0=175.4880996111111 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:27213"]="+proj=tmerc +lat_0=-41.30131963888888 +lon_0=174.7766231111111 +k=1 +x_0=300000 +y_0=700000 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:2193"]="+proj=tmerc +lat_0=0 +lon_0=173 +k=0.9996 +x_0=1600000 +y_0=10000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:27200"]="+proj=nzmg +lat_0=-41 +lon_0=173 +x_0=2510000 +y_0=6023150 +ellps=intl +datum=nzgd49 +units=m +no_defs ";Proj4js.defs["EPSG:4673"]="+proj=longlat +ellps=intl +towgs84=174.05,-25.49,112.57,-0,-0,0.554,0.2263 +no_defs ";Proj4js.defs["EPSG:2197"]="+proj=tmerc +lat_0=0 +lon_0=12 +k=0.99995 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:4263"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:26393"]="+proj=tmerc +lat_0=4 +lon_0=12.5 +k=0.99975 +x_0=1110369.7 +y_0=0 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:26392"]="+proj=tmerc +lat_0=4 +lon_0=8.5 +k=0.99975 +x_0=670553.98 +y_0=0 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:26391"]="+proj=tmerc +lat_0=4 +lon_0=4.5 +k=0.99975 +x_0=230738.26 +y_0=0 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:26331"]="+proj=utm +zone=31 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:26332"]="+proj=utm +zone=32 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:27391"]="+proj=tmerc +lat_0=58 +lon_0=-4.666666666666667 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +b=6356173.508712696 +towgs84=278.3,93,474.5,7.889,0.05,-6.61,6.21 +pm=oslo +units=m +no_defs ";Proj4js.defs["EPSG:27392"]="+proj=tmerc +lat_0=58 +lon_0=-2.333333333333333 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +b=6356173.508712696 +towgs84=278.3,93,474.5,7.889,0.05,-6.61,6.21 +pm=oslo +units=m +no_defs ";Proj4js.defs["EPSG:27394"]="+proj=tmerc +lat_0=58 +lon_0=2.5 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +b=6356173.508712696 +towgs84=278.3,93,474.5,7.889,0.05,-6.61,6.21 +pm=oslo +units=m +no_defs ";Proj4js.defs["EPSG:27395"]="+proj=tmerc +lat_0=58 +lon_0=6.166666666666667 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +b=6356173.508712696 +towgs84=278.3,93,474.5,7.889,0.05,-6.61,6.21 +pm=oslo +units=m +no_defs ";Proj4js.defs["EPSG:27396"]="+proj=tmerc +lat_0=58 +lon_0=10.16666666666667 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +b=6356173.508712696 +towgs84=278.3,93,474.5,7.889,0.05,-6.61,6.21 +pm=oslo +units=m +no_defs ";Proj4js.defs["EPSG:27397"]="+proj=tmerc +lat_0=58 +lon_0=14.16666666666667 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +b=6356173.508712696 +towgs84=278.3,93,474.5,7.889,0.05,-6.61,6.21 +pm=oslo +units=m +no_defs ";Proj4js.defs["EPSG:27398"]="+proj=tmerc +lat_0=58 +lon_0=18.33333333333333 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +b=6356173.508712696 +towgs84=278.3,93,474.5,7.889,0.05,-6.61,6.21 +pm=oslo +units=m +no_defs ";Proj4js.defs["EPSG:4273"]="+proj=longlat +a=6377492.018 +b=6356173.508712696 +towgs84=278.3,93,474.5,7.889,0.05,-6.61,6.21 +no_defs ";Proj4js.defs["EPSG:4660"]="+proj=longlat +ellps=intl +towgs84=982.609,552.753,-540.873,32.3934,-153.257,-96.2266,16.805 +no_defs ";Proj4js.defs["EPSG:3058"]="+proj=tmerc +lat_0=0 +lon_0=-8.5 +k=1 +x_0=50000 +y_0=-7800000 +ellps=intl +towgs84=982.609,552.753,-540.873,32.3934,-153.257,-96.2266,16.805 +units=m +no_defs ";Proj4js.defs["EPSG:4232"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:23239"]="+proj=utm +zone=39 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:23240"]="+proj=utm +zone=40 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:27038"]="+proj=utm +zone=38 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:27039"]="+proj=utm +zone=39 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:27040"]="+proj=utm +zone=40 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4270"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:4134"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:3439"]="+proj=utm +zone=39 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:3440"]="+proj=utm +zone=40 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:27037"]="+proj=utm +zone=37 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:24370"]="+proj=lcc +lat_1=39.5 +lat_0=39.5 +lon_0=68 +k_0=0.99846154 +x_0=2153865.73916853 +y_0=2368292.194628102 +a=6377299.36559538 +b=6356098.359005157 +to_meter=0.9143985307444408 +no_defs ";Proj4js.defs["EPSG:4281"]="+proj=longlat +a=6378300.789 +b=6356566.435 +towgs84=-275.722,94.7824,340.894,-8.001,-4.42,-11.821,1 +no_defs ";Proj4js.defs["EPSG:28191"]="+proj=cass +lat_0=31.73409694444445 +lon_0=35.21208055555556 +x_0=170251.555 +y_0=126867.909 +a=6378300.789 +b=6356566.435 +towgs84=-275.722,94.7824,340.894,-8.001,-4.42,-11.821,1 +units=m +no_defs ";Proj4js.defs["EPSG:28192"]="+proj=tmerc +lat_0=31.73409694444445 +lon_0=35.21208055555556 +k=1 +x_0=170251.555 +y_0=1126867.909 +a=6378300.789 +b=6356566.435 +towgs84=-275.722,94.7824,340.894,-8.001,-4.42,-11.821,1 +units=m +no_defs ";Proj4js.defs["EPSG:28193"]="+proj=cass +lat_0=31.73409694444445 +lon_0=35.21208055555556 +x_0=170251.555 +y_0=1126867.909 +a=6378300.789 +b=6356566.435 +towgs84=-275.722,94.7824,340.894,-8.001,-4.42,-11.821,1 +units=m +no_defs ";Proj4js.defs["EPSG:4224"]="+proj=longlat +ellps=intl +towgs84=-134,229,-29,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:24877"]="+proj=utm +zone=17 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24878"]="+proj=utm +zone=18 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24879"]="+proj=utm +zone=19 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:29187"]="+proj=utm +zone=17 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29188"]="+proj=utm +zone=18 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29189"]="+proj=utm +zone=19 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:24892"]="+proj=tmerc +lat_0=-9.5 +lon_0=-76 +k=0.99932994 +x_0=720000 +y_0=1039979.159 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24893"]="+proj=tmerc +lat_0=-9.5 +lon_0=-70.5 +k=0.99952992 +x_0=1324000 +y_0=1040084.558 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24891"]="+proj=tmerc +lat_0=-6 +lon_0=-80.5 +k=0.99983008 +x_0=222000 +y_0=1426834.743 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4253"]="+proj=longlat +ellps=clrk66 +no_defs ";Proj4js.defs["EPSG:25391"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:25392"]="+proj=tmerc +lat_0=0 +lon_0=119 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:25393"]="+proj=tmerc +lat_0=0 +lon_0=121 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:25394"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:25395"]="+proj=tmerc +lat_0=0 +lon_0=125 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:4683"]="+proj=longlat +ellps=clrk66 +towgs84=-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06 +no_defs ";Proj4js.defs["EPSG:3121"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +towgs84=-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06 +units=m +no_defs ";Proj4js.defs["EPSG:3122"]="+proj=tmerc +lat_0=0 +lon_0=119 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +towgs84=-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06 +units=m +no_defs ";Proj4js.defs["EPSG:3123"]="+proj=tmerc +lat_0=0 +lon_0=121 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +towgs84=-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06 +units=m +no_defs ";Proj4js.defs["EPSG:3124"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +towgs84=-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06 +units=m +no_defs ";Proj4js.defs["EPSG:3125"]="+proj=tmerc +lat_0=0 +lon_0=125 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +towgs84=-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06 +units=m +no_defs ";Proj4js.defs["EPSG:2176"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=0.999923 +x_0=5500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2177"]="+proj=tmerc +lat_0=0 +lon_0=18 +k=0.999923 +x_0=6500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2178"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=0.999923 +x_0=7500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2179"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=0.999923 +x_0=8500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2180"]="+proj=tmerc +lat_0=0 +lon_0=19 +k=0.9993 +x_0=500000 +y_0=-5300000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2172"]="+proj=sterea +lat_0=53.00194444444445 +lon_0=21.50277777777778 +k=0.9998 +x_0=4603000 +y_0=5806000 +ellps=krass +towgs84=33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84 +units=m +no_defs ";Proj4js.defs["EPSG:2173"]="+proj=sterea +lat_0=53.58333333333334 +lon_0=17.00833333333333 +k=0.9998 +x_0=3501000 +y_0=5999000 +ellps=krass +towgs84=33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84 +units=m +no_defs ";Proj4js.defs["EPSG:2174"]="+proj=sterea +lat_0=51.67083333333333 +lon_0=16.67222222222222 +k=0.9998 +x_0=3703000 +y_0=5627000 +ellps=krass +towgs84=33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84 +units=m +no_defs ";Proj4js.defs["EPSG:2175"]="+proj=tmerc +lat_0=0 +lon_0=18.95833333333333 +k=0.999983 +x_0=237000 +y_0=-4700000 +ellps=krass +towgs84=33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84 +units=m +no_defs ";Proj4js.defs["EPSG:3120"]="+proj=sterea +lat_0=50.625 +lon_0=21.08333333333333 +k=0.9998 +x_0=4637000 +y_0=5467000 +ellps=krass +towgs84=33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84 +units=m +no_defs ";Proj4js.defs["EPSG:2189"]="+proj=utm +zone=26 +ellps=intl +towgs84=-104,167,-38,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4183"]="+proj=longlat +ellps=intl +towgs84=-104,167,-38,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2188"]="+proj=utm +zone=25 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2190"]="+proj=utm +zone=26 +ellps=intl +towgs84=-203,141,53,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4274"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:27493"]="+proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112 +k=1 +x_0=180.598 +y_0=-86.98999999999999 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:27429"]="+proj=utm +zone=29 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4207"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4615"]="+proj=longlat +ellps=intl +towgs84=-499,-249,314,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4182"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:2942"]="+proj=utm +zone=28 +ellps=intl +towgs84=-499,-249,314,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4184"]="+proj=longlat +ellps=intl +towgs84=-203,141,53,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4616"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:2943"]="+proj=utm +zone=28 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4663"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4664"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4665"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4666"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:3061"]="+proj=utm +zone=28 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:3062"]="+proj=utm +zone=26 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:3063"]="+proj=utm +zone=26 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4286"]="+proj=longlat +ellps=helmert +no_defs ";Proj4js.defs["EPSG:4285"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:28600"]="+proj=tmerc +lat_0=24.45 +lon_0=51.21666666666667 +k=0.99999 +x_0=200000 +y_0=300000 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4614"]="+proj=longlat +ellps=intl +towgs84=-119.425,-303.659,-11.0006,1.1643,0.174458,1.09626,3.65706 +no_defs ";Proj4js.defs["EPSG:2932"]="+proj=tmerc +lat_0=24.45 +lon_0=51.21666666666667 +k=0.99999 +x_0=200000 +y_0=300000 +ellps=intl +towgs84=-119.425,-303.659,-11.0006,1.1643,0.174458,1.09626,3.65706 +units=m +no_defs ";Proj4js.defs["EPSG:2099"]="+proj=cass +lat_0=25.38236111111111 +lon_0=50.76138888888889 +x_0=100000 +y_0=100000 +ellps=helmert +units=m +no_defs ";Proj4js.defs["EPSG:22234"]="+proj=utm +zone=34 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:22235"]="+proj=utm +zone=35 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:22236"]="+proj=utm +zone=36 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:4148"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4316"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:31600"]="+proj=sterea +lat_0=45.9 +lon_0=25.39246588888889 +k=0.9996667 +x_0=500000 +y_0=500000 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:20437"]="+proj=utm +zone=37 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:20438"]="+proj=utm +zone=38 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:20499"]="+proj=utm +zone=39 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:31265"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=1 +x_0=5500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31266"]="+proj=tmerc +lat_0=0 +lon_0=18 +k=1 +x_0=6500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31267"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=1 +x_0=7500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31268"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=1 +x_0=8500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:4312"]="+proj=longlat +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +no_defs ";Proj4js.defs["EPSG:4175"]="+proj=longlat +ellps=clrk80 +towgs84=-88,4,101,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2161"]="+proj=utm +zone=28 +ellps=clrk80 +towgs84=-88,4,101,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2162"]="+proj=utm +zone=29 +ellps=clrk80 +towgs84=-88,4,101,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24500"]="+proj=cass +lat_0=1.287646666666667 +lon_0=103.8530022222222 +x_0=30000 +y_0=30000 +a=6377304.063 +b=6356103.038993155 +towgs84=-11,851,5,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24547"]="+proj=utm +zone=47 +a=6377304.063 +b=6356103.038993155 +towgs84=-11,851,5,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24548"]="+proj=utm +zone=48 +a=6377304.063 +b=6356103.038993155 +towgs84=-11,851,5,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4245"]="+proj=longlat +a=6377304.063 +b=6356103.038993155 +towgs84=-11,851,5,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2065"]="+proj=krovak +lat_0=49.5 +lon_0=42.5 +alpha=30.28813972222222 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +pm=ferro +units=m +no_defs ";Proj4js.defs["EPSG:4156"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:31265"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=1 +x_0=5500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31266"]="+proj=tmerc +lat_0=0 +lon_0=18 +k=1 +x_0=6500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31267"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=1 +x_0=7500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31268"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=1 +x_0=8500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:4312"]="+proj=longlat +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +no_defs ";Proj4js.defs["EPSG:4205"]="+proj=longlat +ellps=krass +towgs84=-43,-163,45,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:20538"]="+proj=utm +zone=38 +ellps=krass +towgs84=-43,-163,45,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:20539"]="+proj=utm +zone=39 +ellps=krass +towgs84=-43,-163,45,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4728"]="+proj=longlat +ellps=intl +towgs84=-307,-92,127,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4244"]="+proj=longlat +a=6377276.345 +b=6356075.41314024 +towgs84=-97,787,86,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4201"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:20135"]="+proj=utm +zone=35 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:20136"]="+proj=utm +zone=36 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:20137"]="+proj=utm +zone=37 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:20138"]="+proj=utm +zone=38 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4620"]="+proj=longlat +ellps=clrk80 +towgs84=-106,-129,165,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:24821"]="+proj=utm +zone=21 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:29171"]="+proj=utm +zone=21 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:4311"]="+proj=longlat +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:31171"]="+proj=tmerc +lat_0=0 +lon_0=-55.68333333333333 +k=0.9999 +x_0=500000 +y_0=0 +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31170"]="+proj=tmerc +lat_0=0 +lon_0=-55.68333333333333 +k=0.9996 +x_0=500000 +y_0=0 +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31154"]="+proj=tmerc +lat_0=0 +lon_0=-54 +k=0.9996 +x_0=500000 +y_0=0 +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31121"]="+proj=utm +zone=21 +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3019"]="+proj=tmerc +lat_0=0 +lon_0=11.30827777777778 +k=1 +x_0=1500000 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3020"]="+proj=tmerc +lat_0=0 +lon_0=13.55827777777778 +k=1 +x_0=1500000 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3021"]="+proj=tmerc +lat_0=0 +lon_0=15.80827777777778 +k=1 +x_0=1500000 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3022"]="+proj=tmerc +lat_0=0 +lon_0=18.05827777777778 +k=1 +x_0=1500000 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3023"]="+proj=tmerc +lat_0=0 +lon_0=20.30827777777778 +k=1 +x_0=1500000 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:3024"]="+proj=tmerc +lat_0=0 +lon_0=22.55827777777778 +k=1 +x_0=1500000 +y_0=0 +ellps=bessel +units=m +no_defs ";Proj4js.defs["EPSG:4124"]="+proj=longlat +ellps=bessel +no_defs ";Proj4js.defs["EPSG:4619"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3006"]="+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3007"]="+proj=tmerc +lat_0=0 +lon_0=12 +k=1 +x_0=150000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3008"]="+proj=tmerc +lat_0=0 +lon_0=13.5 +k=1 +x_0=150000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3009"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=1 +x_0=150000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3010"]="+proj=tmerc +lat_0=0 +lon_0=16.5 +k=1 +x_0=150000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3011"]="+proj=tmerc +lat_0=0 +lon_0=18 +k=1 +x_0=150000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3012"]="+proj=tmerc +lat_0=0 +lon_0=14.25 +k=1 +x_0=150000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3013"]="+proj=tmerc +lat_0=0 +lon_0=15.75 +k=1 +x_0=150000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3014"]="+proj=tmerc +lat_0=0 +lon_0=17.25 +k=1 +x_0=150000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3015"]="+proj=tmerc +lat_0=0 +lon_0=18.75 +k=1 +x_0=150000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3016"]="+proj=tmerc +lat_0=0 +lon_0=20.25 +k=1 +x_0=150000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3017"]="+proj=tmerc +lat_0=0 +lon_0=21.75 +k=1 +x_0=150000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3018"]="+proj=tmerc +lat_0=0 +lon_0=23.25 +k=1 +x_0=150000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3152"]="+proj=tmerc +lat_0=0 +lon_0=18.05779 +k=0.99999425 +x_0=100178.1808 +y_0=-6500614.7836 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:21780"]="+proj=somerc +lat_0=46.95240555555556 +lon_0=0 +k_0=1 +x_0=0 +y_0=0 +ellps=bessel +pm=bern +units=m +no_defs ";Proj4js.defs["EPSG:4149"]="+proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4150"]="+proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2056"]="+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4151"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4149"]="+proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:21781"]="+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:21781"]="+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:22780"]="+proj=sterea +lat_0=34.2 +lon_0=39.15 +k=0.9995341 +x_0=0 +y_0=0 +a=6378249.2 +b=6356515 +units=m +no_defs ";Proj4js.defs["EPSG:4227"]="+proj=longlat +a=6378249.2 +b=6356515 +no_defs ";Proj4js.defs["EPSG:22770"]="+proj=lcc +lat_1=34.65 +lat_0=34.65 +lon_0=37.35 +k_0=0.9996256 +x_0=300000 +y_0=300000 +a=6378249.2 +b=6356515 +units=m +no_defs ";Proj4js.defs["EPSG:28412"]="+proj=tmerc +lat_0=0 +lon_0=69 +k=1 +x_0=12500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:4236"]="+proj=longlat +ellps=intl +towgs84=-637,-549,-203,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3821"]="+proj=longlat +ellps=aust_SA +no_defs ";Proj4js.defs["EPSG:3824"]="+proj=longlat +ellps=GRS80 +towgs84=0.0,0.0,0.0,0.0,0.0,0.0,0.0 +no_defs ";Proj4js.defs["EPSG:21035"]="+proj=utm +zone=35 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21036"]="+proj=utm +zone=36 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21037"]="+proj=utm +zone=37 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:2311"]="+proj=tmerc +lat_0=0 +lon_0=6 +k=0.9996 +x_0=500000 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:4158"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:2067"]="+proj=utm +zone=20 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4271"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:27120"]="+proj=utm +zone=20 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4302"]="+proj=longlat +a=6378293.645208759 +b=6356617.987679838 +no_defs ";Proj4js.defs["EPSG:30200"]="+proj=cass +lat_0=10.44166666666667 +lon_0=-61.33333333333334 +x_0=86501.46392051999 +y_0=65379.0134283 +a=6378293.645208759 +b=6356617.987679838 +to_meter=0.201166195164 +no_defs ";Proj4js.defs["EPSG:2314"]="+proj=cass +lat_0=10.44166666666667 +lon_0=-61.33333333333334 +x_0=86501.46392052001 +y_0=65379.0134283 +a=6378293.645208759 +b=6356617.987679838 +to_meter=0.3047972654 +no_defs ";Proj4js.defs["EPSG:4223"]="+proj=longlat +a=6378249.2 +b=6356515 +no_defs ";Proj4js.defs["EPSG:22391"]="+proj=lcc +lat_1=36 +lat_0=36 +lon_0=9.9 +k_0=0.999625544 +x_0=500000 +y_0=300000 +a=6378249.2 +b=6356515 +units=m +no_defs ";Proj4js.defs["EPSG:22392"]="+proj=lcc +lat_1=33.3 +lat_0=33.3 +lon_0=9.9 +k_0=0.999625769 +x_0=500000 +y_0=300000 +a=6378249.2 +b=6356515 +units=m +no_defs ";Proj4js.defs["EPSG:2088"]="+proj=tmerc +lat_0=0 +lon_0=11 +k=0.9996 +x_0=500000 +y_0=0 +a=6378249.2 +b=6356515 +units=m +no_defs ";Proj4js.defs["EPSG:22332"]="+proj=utm +zone=32 +a=6378249.2 +b=6356515 +units=m +no_defs ";Proj4js.defs["EPSG:32635"]="+proj=utm +zone=35 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32637"]="+proj=utm +zone=37 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32638"]="+proj=utm +zone=38 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:28409"]="+proj=tmerc +lat_0=0 +lon_0=51 +k=1 +x_0=9500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28410"]="+proj=tmerc +lat_0=0 +lon_0=57 +k=1 +x_0=10500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28411"]="+proj=tmerc +lat_0=0 +lon_0=63 +k=1 +x_0=11500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21095"]="+proj=utm +zone=35 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21035"]="+proj=utm +zone=35 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21096"]="+proj=utm +zone=36 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21036"]="+proj=utm +zone=36 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:28406"]="+proj=tmerc +lat_0=0 +lon_0=33 +k=1 +x_0=6500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28407"]="+proj=tmerc +lat_0=0 +lon_0=39 +k=1 +x_0=7500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:26729"]="+proj=tmerc +lat_0=30.5 +lon_0=-85.83333333333333 +k=0.99996 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26730"]="+proj=tmerc +lat_0=30 +lon_0=-87.5 +k=0.999933333 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26929"]="+proj=tmerc +lat_0=30.5 +lon_0=-85.83333333333333 +k=0.99996 +x_0=200000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26930"]="+proj=tmerc +lat_0=30 +lon_0=-87.5 +k=0.999933333 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2759"]="+proj=tmerc +lat_0=30.5 +lon_0=-85.83333333333333 +k=0.99996 +x_0=200000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2760"]="+proj=tmerc +lat_0=30 +lon_0=-87.5 +k=0.999933333 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26731"]="+proj=omerc +lat_0=57 +lonc=-133.6666666666667 +alpha=323.1301023611111 +k=0.9999 +x_0=5000000.001016002 +y_0=-5000000.001016002 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26732"]="+proj=tmerc +lat_0=54 +lon_0=-142 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26733"]="+proj=tmerc +lat_0=54 +lon_0=-146 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26734"]="+proj=tmerc +lat_0=54 +lon_0=-150 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26735"]="+proj=tmerc +lat_0=54 +lon_0=-154 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26736"]="+proj=tmerc +lat_0=54 +lon_0=-158 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26737"]="+proj=tmerc +lat_0=54 +lon_0=-162 +k=0.9999 +x_0=213360.4267208534 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26738"]="+proj=tmerc +lat_0=54 +lon_0=-166 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26739"]="+proj=tmerc +lat_0=54 +lon_0=-170 +k=0.9999 +x_0=182880.3657607315 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26740"]="+proj=lcc +lat_1=53.83333333333334 +lat_2=51.83333333333334 +lat_0=51 +lon_0=-176 +x_0=914401.8288036576 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26931"]="+proj=omerc +lat_0=57 +lonc=-133.6666666666667 +alpha=323.1301023611111 +k=0.9999 +x_0=5000000 +y_0=-5000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26932"]="+proj=tmerc +lat_0=54 +lon_0=-142 +k=0.9999 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26933"]="+proj=tmerc +lat_0=54 +lon_0=-146 +k=0.9999 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26934"]="+proj=tmerc +lat_0=54 +lon_0=-150 +k=0.9999 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26935"]="+proj=tmerc +lat_0=54 +lon_0=-154 +k=0.9999 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26936"]="+proj=tmerc +lat_0=54 +lon_0=-158 +k=0.9999 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26937"]="+proj=tmerc +lat_0=54 +lon_0=-162 +k=0.9999 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26938"]="+proj=tmerc +lat_0=54 +lon_0=-166 +k=0.9999 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26939"]="+proj=tmerc +lat_0=54 +lon_0=-170 +k=0.9999 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26940"]="+proj=lcc +lat_1=53.83333333333334 +lat_2=51.83333333333334 +lat_0=51 +lon_0=-176 +x_0=1000000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26749"]="+proj=tmerc +lat_0=31 +lon_0=-111.9166666666667 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26748"]="+proj=tmerc +lat_0=31 +lon_0=-110.1666666666667 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26750"]="+proj=tmerc +lat_0=31 +lon_0=-113.75 +k=0.999933333 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26949"]="+proj=tmerc +lat_0=31 +lon_0=-111.9166666666667 +k=0.9999 +x_0=213360 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2223"]="+proj=tmerc +lat_0=31 +lon_0=-111.9166666666667 +k=0.9999 +x_0=213360 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:26948"]="+proj=tmerc +lat_0=31 +lon_0=-110.1666666666667 +k=0.9999 +x_0=213360 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2222"]="+proj=tmerc +lat_0=31 +lon_0=-110.1666666666667 +k=0.9999 +x_0=213360 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:26950"]="+proj=tmerc +lat_0=31 +lon_0=-113.75 +k=0.999933333 +x_0=213360 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2224"]="+proj=tmerc +lat_0=31 +lon_0=-113.75 +k=0.999933333 +x_0=213360 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2762"]="+proj=tmerc +lat_0=31 +lon_0=-111.9166666666667 +k=0.9999 +x_0=213360 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2868"]="+proj=tmerc +lat_0=31 +lon_0=-111.9166666666667 +k=0.9999 +x_0=213360 +y_0=0 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2761"]="+proj=tmerc +lat_0=31 +lon_0=-110.1666666666667 +k=0.9999 +x_0=213360 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2867"]="+proj=tmerc +lat_0=31 +lon_0=-110.1666666666667 +k=0.9999 +x_0=213360 +y_0=0 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2763"]="+proj=tmerc +lat_0=31 +lon_0=-113.75 +k=0.999933333 +x_0=213360 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2869"]="+proj=tmerc +lat_0=31 +lon_0=-113.75 +k=0.999933333 +x_0=213360 +y_0=0 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:26751"]="+proj=lcc +lat_1=36.23333333333333 +lat_2=34.93333333333333 +lat_0=34.33333333333334 +lon_0=-92 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26752"]="+proj=lcc +lat_1=34.76666666666667 +lat_2=33.3 +lat_0=32.66666666666666 +lon_0=-92 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26951"]="+proj=lcc +lat_1=36.23333333333333 +lat_2=34.93333333333333 +lat_0=34.33333333333334 +lon_0=-92 +x_0=400000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3433"]="+proj=lcc +lat_1=36.23333333333333 +lat_2=34.93333333333333 +lat_0=34.33333333333334 +lon_0=-92 +x_0=399999.99998984 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26952"]="+proj=lcc +lat_1=34.76666666666667 +lat_2=33.3 +lat_0=32.66666666666666 +lon_0=-92 +x_0=400000 +y_0=400000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3434"]="+proj=lcc +lat_1=34.76666666666667 +lat_2=33.3 +lat_0=32.66666666666666 +lon_0=-92 +x_0=399999.99998984 +y_0=399999.99998984 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2764"]="+proj=lcc +lat_1=36.23333333333333 +lat_2=34.93333333333333 +lat_0=34.33333333333334 +lon_0=-92 +x_0=400000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3441"]="+proj=lcc +lat_1=36.23333333333333 +lat_2=34.93333333333333 +lat_0=34.33333333333334 +lon_0=-92 +x_0=399999.99998984 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2765"]="+proj=lcc +lat_1=34.76666666666667 +lat_2=33.3 +lat_0=32.66666666666666 +lon_0=-92 +x_0=400000 +y_0=400000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3442"]="+proj=lcc +lat_1=34.76666666666667 +lat_2=33.3 +lat_0=32.66666666666666 +lon_0=-92 +x_0=399999.99998984 +y_0=399999.99998984 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26741"]="+proj=lcc +lat_1=41.66666666666666 +lat_2=40 +lat_0=39.33333333333334 +lon_0=-122 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26742"]="+proj=lcc +lat_1=39.83333333333334 +lat_2=38.33333333333334 +lat_0=37.66666666666666 +lon_0=-122 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26743"]="+proj=lcc +lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26744"]="+proj=lcc +lat_1=37.25 +lat_2=36 +lat_0=35.33333333333334 +lon_0=-119 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26745"]="+proj=lcc +lat_1=35.46666666666667 +lat_2=34.03333333333333 +lat_0=33.5 +lon_0=-118 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26746"]="+proj=lcc +lat_1=33.88333333333333 +lat_2=32.78333333333333 +lat_0=32.16666666666666 +lon_0=-116.25 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26799"]="+proj=lcc +lat_1=34.41666666666666 +lat_2=33.86666666666667 +lat_0=34.13333333333333 +lon_0=-118.3333333333333 +x_0=1276106.450596901 +y_0=1268253.006858014 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26941"]="+proj=lcc +lat_1=41.66666666666666 +lat_2=40 +lat_0=39.33333333333334 +lon_0=-122 +x_0=2000000 +y_0=500000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2225"]="+proj=lcc +lat_1=41.66666666666666 +lat_2=40 +lat_0=39.33333333333334 +lon_0=-122 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26942"]="+proj=lcc +lat_1=39.83333333333334 +lat_2=38.33333333333334 +lat_0=37.66666666666666 +lon_0=-122 +x_0=2000000 +y_0=500000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2226"]="+proj=lcc +lat_1=39.83333333333334 +lat_2=38.33333333333334 +lat_0=37.66666666666666 +lon_0=-122 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26943"]="+proj=lcc +lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=2000000 +y_0=500000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2227"]="+proj=lcc +lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26944"]="+proj=lcc +lat_1=37.25 +lat_2=36 +lat_0=35.33333333333334 +lon_0=-119 +x_0=2000000 +y_0=500000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2228"]="+proj=lcc +lat_1=37.25 +lat_2=36 +lat_0=35.33333333333334 +lon_0=-119 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26945"]="+proj=lcc +lat_1=35.46666666666667 +lat_2=34.03333333333333 +lat_0=33.5 +lon_0=-118 +x_0=2000000 +y_0=500000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2229"]="+proj=lcc +lat_1=35.46666666666667 +lat_2=34.03333333333333 +lat_0=33.5 +lon_0=-118 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26946"]="+proj=lcc +lat_1=33.88333333333333 +lat_2=32.78333333333333 +lat_0=32.16666666666666 +lon_0=-116.25 +x_0=2000000 +y_0=500000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2230"]="+proj=lcc +lat_1=33.88333333333333 +lat_2=32.78333333333333 +lat_0=32.16666666666666 +lon_0=-116.25 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2766"]="+proj=lcc +lat_1=41.66666666666666 +lat_2=40 +lat_0=39.33333333333334 +lon_0=-122 +x_0=2000000 +y_0=500000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2870"]="+proj=lcc +lat_1=41.66666666666666 +lat_2=40 +lat_0=39.33333333333334 +lon_0=-122 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2767"]="+proj=lcc +lat_1=39.83333333333334 +lat_2=38.33333333333334 +lat_0=37.66666666666666 +lon_0=-122 +x_0=2000000 +y_0=500000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2871"]="+proj=lcc +lat_1=39.83333333333334 +lat_2=38.33333333333334 +lat_0=37.66666666666666 +lon_0=-122 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2768"]="+proj=lcc +lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=2000000 +y_0=500000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2872"]="+proj=lcc +lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2769"]="+proj=lcc +lat_1=37.25 +lat_2=36 +lat_0=35.33333333333334 +lon_0=-119 +x_0=2000000 +y_0=500000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2873"]="+proj=lcc +lat_1=37.25 +lat_2=36 +lat_0=35.33333333333334 +lon_0=-119 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2770"]="+proj=lcc +lat_1=35.46666666666667 +lat_2=34.03333333333333 +lat_0=33.5 +lon_0=-118 +x_0=2000000 +y_0=500000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2874"]="+proj=lcc +lat_1=35.46666666666667 +lat_2=34.03333333333333 +lat_0=33.5 +lon_0=-118 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2771"]="+proj=lcc +lat_1=33.88333333333333 +lat_2=32.78333333333333 +lat_0=32.16666666666666 +lon_0=-116.25 +x_0=2000000 +y_0=500000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2875"]="+proj=lcc +lat_1=33.88333333333333 +lat_2=32.78333333333333 +lat_0=32.16666666666666 +lon_0=-116.25 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3309"]="+proj=aea +lat_1=34 +lat_2=40.5 +lat_0=0 +lon_0=-120 +x_0=0 +y_0=-4000000 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:3310"]="+proj=aea +lat_1=34 +lat_2=40.5 +lat_0=0 +lon_0=-120 +x_0=0 +y_0=-4000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3311"]="+proj=aea +lat_1=34 +lat_2=40.5 +lat_0=0 +lon_0=-120 +x_0=0 +y_0=-4000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26754"]="+proj=lcc +lat_1=39.75 +lat_2=38.45 +lat_0=37.83333333333334 +lon_0=-105.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26753"]="+proj=lcc +lat_1=39.71666666666667 +lat_2=40.78333333333333 +lat_0=39.33333333333334 +lon_0=-105.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26755"]="+proj=lcc +lat_1=38.43333333333333 +lat_2=37.23333333333333 +lat_0=36.66666666666666 +lon_0=-105.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26954"]="+proj=lcc +lat_1=39.75 +lat_2=38.45 +lat_0=37.83333333333334 +lon_0=-105.5 +x_0=914401.8289 +y_0=304800.6096 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2232"]="+proj=lcc +lat_1=39.75 +lat_2=38.45 +lat_0=37.83333333333334 +lon_0=-105.5 +x_0=914401.8288036576 +y_0=304800.6096012192 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26953"]="+proj=lcc +lat_1=40.78333333333333 +lat_2=39.71666666666667 +lat_0=39.33333333333334 +lon_0=-105.5 +x_0=914401.8289 +y_0=304800.6096 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2231"]="+proj=lcc +lat_1=40.78333333333333 +lat_2=39.71666666666667 +lat_0=39.33333333333334 +lon_0=-105.5 +x_0=914401.8288036576 +y_0=304800.6096012192 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26955"]="+proj=lcc +lat_1=38.43333333333333 +lat_2=37.23333333333333 +lat_0=36.66666666666666 +lon_0=-105.5 +x_0=914401.8289 +y_0=304800.6096 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2233"]="+proj=lcc +lat_1=38.43333333333333 +lat_2=37.23333333333333 +lat_0=36.66666666666666 +lon_0=-105.5 +x_0=914401.8288036576 +y_0=304800.6096012192 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2773"]="+proj=lcc +lat_1=39.75 +lat_2=38.45 +lat_0=37.83333333333334 +lon_0=-105.5 +x_0=914401.8289 +y_0=304800.6096 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2877"]="+proj=lcc +lat_1=39.75 +lat_2=38.45 +lat_0=37.83333333333334 +lon_0=-105.5 +x_0=914401.8288036576 +y_0=304800.6096012192 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2772"]="+proj=lcc +lat_1=40.78333333333333 +lat_2=39.71666666666667 +lat_0=39.33333333333334 +lon_0=-105.5 +x_0=914401.8289 +y_0=304800.6096 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2876"]="+proj=lcc +lat_1=40.78333333333333 +lat_2=39.71666666666667 +lat_0=39.33333333333334 +lon_0=-105.5 +x_0=914401.8288036576 +y_0=304800.6096012192 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2774"]="+proj=lcc +lat_1=38.43333333333333 +lat_2=37.23333333333333 +lat_0=36.66666666666666 +lon_0=-105.5 +x_0=914401.8289 +y_0=304800.6096 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2878"]="+proj=lcc +lat_1=38.43333333333333 +lat_2=37.23333333333333 +lat_0=36.66666666666666 +lon_0=-105.5 +x_0=914401.8288036576 +y_0=304800.6096012192 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26756"]="+proj=lcc +lat_1=41.86666666666667 +lat_2=41.2 +lat_0=40.83333333333334 +lon_0=-72.75 +x_0=182880.3657607315 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26956"]="+proj=lcc +lat_1=41.86666666666667 +lat_2=41.2 +lat_0=40.83333333333334 +lon_0=-72.75 +x_0=304800.6096 +y_0=152400.3048 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2234"]="+proj=lcc +lat_1=41.86666666666667 +lat_2=41.2 +lat_0=40.83333333333334 +lon_0=-72.75 +x_0=304800.6096012192 +y_0=152400.3048006096 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2775"]="+proj=lcc +lat_1=41.86666666666667 +lat_2=41.2 +lat_0=40.83333333333334 +lon_0=-72.75 +x_0=304800.6096 +y_0=152400.3048 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2879"]="+proj=lcc +lat_1=41.86666666666667 +lat_2=41.2 +lat_0=40.83333333333334 +lon_0=-72.75 +x_0=304800.6096012192 +y_0=152400.3048006096 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26757"]="+proj=tmerc +lat_0=38 +lon_0=-75.41666666666667 +k=0.999995 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26957"]="+proj=tmerc +lat_0=38 +lon_0=-75.41666666666667 +k=0.999995 +x_0=200000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2235"]="+proj=tmerc +lat_0=38 +lon_0=-75.41666666666667 +k=0.999995 +x_0=200000.0001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2776"]="+proj=tmerc +lat_0=38 +lon_0=-75.41666666666667 +k=0.999995 +x_0=200000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2880"]="+proj=tmerc +lat_0=38 +lon_0=-75.41666666666667 +k=0.999995 +x_0=200000.0001016002 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26758"]="+proj=tmerc +lat_0=24.33333333333333 +lon_0=-81 +k=0.999941177 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26760"]="+proj=lcc +lat_1=30.75 +lat_2=29.58333333333333 +lat_0=29 +lon_0=-84.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26759"]="+proj=tmerc +lat_0=24.33333333333333 +lon_0=-82 +k=0.999941177 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26958"]="+proj=tmerc +lat_0=24.33333333333333 +lon_0=-81 +k=0.999941177 +x_0=200000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2236"]="+proj=tmerc +lat_0=24.33333333333333 +lon_0=-81 +k=0.999941177 +x_0=200000.0001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26960"]="+proj=lcc +lat_1=30.75 +lat_2=29.58333333333333 +lat_0=29 +lon_0=-84.5 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2238"]="+proj=lcc +lat_1=30.75 +lat_2=29.58333333333333 +lat_0=29 +lon_0=-84.5 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26959"]="+proj=tmerc +lat_0=24.33333333333333 +lon_0=-82 +k=0.999941177 +x_0=200000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2237"]="+proj=tmerc +lat_0=24.33333333333333 +lon_0=-82 +k=0.999941177 +x_0=200000.0001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2777"]="+proj=tmerc +lat_0=24.33333333333333 +lon_0=-81 +k=0.999941177 +x_0=200000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2881"]="+proj=tmerc +lat_0=24.33333333333333 +lon_0=-81 +k=0.999941177 +x_0=200000.0001016002 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2779"]="+proj=lcc +lat_1=30.75 +lat_2=29.58333333333333 +lat_0=29 +lon_0=-84.5 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2883"]="+proj=lcc +lat_1=30.75 +lat_2=29.58333333333333 +lat_0=29 +lon_0=-84.5 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2778"]="+proj=tmerc +lat_0=24.33333333333333 +lon_0=-82 +k=0.999941177 +x_0=200000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2882"]="+proj=tmerc +lat_0=24.33333333333333 +lon_0=-82 +k=0.999941177 +x_0=200000.0001016002 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:4717"]="+proj=longlat +ellps=clrk66 +towgs84=-2,151,181,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3086"]="+proj=aea +lat_1=24 +lat_2=31.5 +lat_0=24 +lon_0=-84 +x_0=400000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3087"]="+proj=aea +lat_1=24 +lat_2=31.5 +lat_0=24 +lon_0=-84 +x_0=400000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26766"]="+proj=tmerc +lat_0=30 +lon_0=-82.16666666666667 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26767"]="+proj=tmerc +lat_0=30 +lon_0=-84.16666666666667 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26966"]="+proj=tmerc +lat_0=30 +lon_0=-82.16666666666667 +k=0.9999 +x_0=200000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2239"]="+proj=tmerc +lat_0=30 +lon_0=-82.16666666666667 +k=0.9999 +x_0=200000.0001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26967"]="+proj=tmerc +lat_0=30 +lon_0=-84.16666666666667 +k=0.9999 +x_0=700000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2240"]="+proj=tmerc +lat_0=30 +lon_0=-84.16666666666667 +k=0.9999 +x_0=699999.9998983998 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2780"]="+proj=tmerc +lat_0=30 +lon_0=-82.16666666666667 +k=0.9999 +x_0=200000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2884"]="+proj=tmerc +lat_0=30 +lon_0=-82.16666666666667 +k=0.9999 +x_0=200000.0001016002 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2781"]="+proj=tmerc +lat_0=30 +lon_0=-84.16666666666667 +k=0.9999 +x_0=700000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2885"]="+proj=tmerc +lat_0=30 +lon_0=-84.16666666666667 +k=0.9999 +x_0=699999.9998983998 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32164"]="+proj=tmerc +lat_0=0 +lon_0=-99 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32165"]="+proj=tmerc +lat_0=0 +lon_0=-93 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32166"]="+proj=tmerc +lat_0=0 +lon_0=-87 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32167"]="+proj=tmerc +lat_0=0 +lon_0=-81 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32664"]="+proj=tmerc +lat_0=0 +lon_0=-99 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=WGS84 +datum=WGS84 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32665"]="+proj=tmerc +lat_0=0 +lon_0=-93 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=WGS84 +datum=WGS84 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32666"]="+proj=tmerc +lat_0=0 +lon_0=-87 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=WGS84 +datum=WGS84 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32667"]="+proj=tmerc +lat_0=0 +lon_0=-81 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=WGS84 +datum=WGS84 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26961"]="+proj=tmerc +lat_0=18.83333333333333 +lon_0=-155.5 +k=0.999966667 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26962"]="+proj=tmerc +lat_0=20.33333333333333 +lon_0=-156.6666666666667 +k=0.999966667 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26963"]="+proj=tmerc +lat_0=21.16666666666667 +lon_0=-158 +k=0.99999 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3759"]="+proj=tmerc +lat_0=21.16666666666667 +lon_0=-158 +k=0.99999 +x_0=500000.00001016 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26964"]="+proj=tmerc +lat_0=21.83333333333333 +lon_0=-159.5 +k=0.99999 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26965"]="+proj=tmerc +lat_0=21.66666666666667 +lon_0=-160.1666666666667 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2782"]="+proj=tmerc +lat_0=18.83333333333333 +lon_0=-155.5 +k=0.999966667 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2783"]="+proj=tmerc +lat_0=20.33333333333333 +lon_0=-156.6666666666667 +k=0.999966667 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2784"]="+proj=tmerc +lat_0=21.16666666666667 +lon_0=-158 +k=0.99999 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3760"]="+proj=tmerc +lat_0=21.16666666666667 +lon_0=-158 +k=0.99999 +x_0=500000.00001016 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2785"]="+proj=tmerc +lat_0=21.83333333333333 +lon_0=-159.5 +k=0.99999 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2786"]="+proj=tmerc +lat_0=21.66666666666667 +lon_0=-160.1666666666667 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:4135"]="+proj=longlat +ellps=clrk66 +no_defs ";Proj4js.defs["EPSG:3561"]="+proj=tmerc +lat_0=18.83333333333333 +lon_0=-155.5 +k=0.999966667 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3562"]="+proj=tmerc +lat_0=20.33333333333333 +lon_0=-156.6666666666667 +k=0.999966667 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3563"]="+proj=tmerc +lat_0=21.16666666666667 +lon_0=-158 +k=0.99999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3564"]="+proj=tmerc +lat_0=21.83333333333333 +lon_0=-159.5 +k=0.99999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3565"]="+proj=tmerc +lat_0=21.66666666666667 +lon_0=-160.1666666666667 +k=1 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26769"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-114 +k=0.9999473679999999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26768"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-112.1666666666667 +k=0.9999473679999999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26770"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-115.75 +k=0.999933333 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26969"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-114 +k=0.9999473679999999 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2242"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-114 +k=0.9999473679999999 +x_0=500000.0001016001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26968"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-112.1666666666667 +k=0.9999473679999999 +x_0=200000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2241"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-112.1666666666667 +k=0.9999473679999999 +x_0=200000.0001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26970"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-115.75 +k=0.999933333 +x_0=800000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2243"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-115.75 +k=0.999933333 +x_0=800000.0001016001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2788"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-114 +k=0.9999473679999999 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2887"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-114 +k=0.9999473679999999 +x_0=500000.0001016001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2787"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-112.1666666666667 +k=0.9999473679999999 +x_0=200000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2886"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-112.1666666666667 +k=0.9999473679999999 +x_0=200000.0001016002 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2789"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-115.75 +k=0.999933333 +x_0=800000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2888"]="+proj=tmerc +lat_0=41.66666666666666 +lon_0=-115.75 +k=0.999933333 +x_0=800000.0001016001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26771"]="+proj=tmerc +lat_0=36.66666666666666 +lon_0=-88.33333333333333 +k=0.9999749999999999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26772"]="+proj=tmerc +lat_0=36.66666666666666 +lon_0=-90.16666666666667 +k=0.999941177 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26971"]="+proj=tmerc +lat_0=36.66666666666666 +lon_0=-88.33333333333333 +k=0.9999749999999999 +x_0=300000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3435"]="+proj=tmerc +lat_0=36.66666666666666 +lon_0=-88.33333333333333 +k=0.9999749999999999 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26972"]="+proj=tmerc +lat_0=36.66666666666666 +lon_0=-90.16666666666667 +k=0.999941177 +x_0=700000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3436"]="+proj=tmerc +lat_0=36.66666666666666 +lon_0=-90.16666666666667 +k=0.999941177 +x_0=699999.9999898402 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2790"]="+proj=tmerc +lat_0=36.66666666666666 +lon_0=-88.33333333333333 +k=0.9999749999999999 +x_0=300000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3443"]="+proj=tmerc +lat_0=36.66666666666666 +lon_0=-88.33333333333333 +k=0.9999749999999999 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2791"]="+proj=tmerc +lat_0=36.66666666666666 +lon_0=-90.16666666666667 +k=0.999941177 +x_0=700000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3444"]="+proj=tmerc +lat_0=36.66666666666666 +lon_0=-90.16666666666667 +k=0.999941177 +x_0=699999.9999898402 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26773"]="+proj=tmerc +lat_0=37.5 +lon_0=-85.66666666666667 +k=0.999966667 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26774"]="+proj=tmerc +lat_0=37.5 +lon_0=-87.08333333333333 +k=0.999966667 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26973"]="+proj=tmerc +lat_0=37.5 +lon_0=-85.66666666666667 +k=0.999966667 +x_0=100000 +y_0=250000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2965"]="+proj=tmerc +lat_0=37.5 +lon_0=-85.66666666666667 +k=0.999966667 +x_0=99999.99989839978 +y_0=249999.9998983998 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26974"]="+proj=tmerc +lat_0=37.5 +lon_0=-87.08333333333333 +k=0.999966667 +x_0=900000 +y_0=250000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2966"]="+proj=tmerc +lat_0=37.5 +lon_0=-87.08333333333333 +k=0.999966667 +x_0=900000 +y_0=249999.9998983998 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2792"]="+proj=tmerc +lat_0=37.5 +lon_0=-85.66666666666667 +k=0.999966667 +x_0=100000 +y_0=250000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2967"]="+proj=tmerc +lat_0=37.5 +lon_0=-85.66666666666667 +k=0.999966667 +x_0=99999.99989839978 +y_0=249999.9998983998 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2793"]="+proj=tmerc +lat_0=37.5 +lon_0=-87.08333333333333 +k=0.999966667 +x_0=900000 +y_0=250000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2968"]="+proj=tmerc +lat_0=37.5 +lon_0=-87.08333333333333 +k=0.999966667 +x_0=900000 +y_0=249999.9998983998 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26775"]="+proj=lcc +lat_1=43.26666666666667 +lat_2=42.06666666666667 +lat_0=41.5 +lon_0=-93.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26776"]="+proj=lcc +lat_1=41.78333333333333 +lat_2=40.61666666666667 +lat_0=40 +lon_0=-93.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26975"]="+proj=lcc +lat_1=43.26666666666667 +lat_2=42.06666666666667 +lat_0=41.5 +lon_0=-93.5 +x_0=1500000 +y_0=1000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3417"]="+proj=lcc +lat_1=43.26666666666667 +lat_2=42.06666666666667 +lat_0=41.5 +lon_0=-93.5 +x_0=1500000 +y_0=999999.9999898402 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26976"]="+proj=lcc +lat_1=41.78333333333333 +lat_2=40.61666666666667 +lat_0=40 +lon_0=-93.5 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3418"]="+proj=lcc +lat_1=41.78333333333333 +lat_2=40.61666666666667 +lat_0=40 +lon_0=-93.5 +x_0=500000.00001016 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2794"]="+proj=lcc +lat_1=43.26666666666667 +lat_2=42.06666666666667 +lat_0=41.5 +lon_0=-93.5 +x_0=1500000 +y_0=1000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3425"]="+proj=lcc +lat_1=43.26666666666667 +lat_2=42.06666666666667 +lat_0=41.5 +lon_0=-93.5 +x_0=1500000 +y_0=999999.9999898402 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2795"]="+proj=lcc +lat_1=41.78333333333333 +lat_2=40.61666666666667 +lat_0=40 +lon_0=-93.5 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3426"]="+proj=lcc +lat_1=41.78333333333333 +lat_2=40.61666666666667 +lat_0=40 +lon_0=-93.5 +x_0=500000.00001016 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26777"]="+proj=lcc +lat_1=39.78333333333333 +lat_2=38.71666666666667 +lat_0=38.33333333333334 +lon_0=-98 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26778"]="+proj=lcc +lat_1=38.56666666666667 +lat_2=37.26666666666667 +lat_0=36.66666666666666 +lon_0=-98.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26977"]="+proj=lcc +lat_1=39.78333333333333 +lat_2=38.71666666666667 +lat_0=38.33333333333334 +lon_0=-98 +x_0=400000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3419"]="+proj=lcc +lat_1=39.78333333333333 +lat_2=38.71666666666667 +lat_0=38.33333333333334 +lon_0=-98 +x_0=399999.99998984 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26978"]="+proj=lcc +lat_1=38.56666666666667 +lat_2=37.26666666666667 +lat_0=36.66666666666666 +lon_0=-98.5 +x_0=400000 +y_0=400000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3420"]="+proj=lcc +lat_1=38.56666666666667 +lat_2=37.26666666666667 +lat_0=36.66666666666666 +lon_0=-98.5 +x_0=399999.99998984 +y_0=399999.99998984 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2796"]="+proj=lcc +lat_1=39.78333333333333 +lat_2=38.71666666666667 +lat_0=38.33333333333334 +lon_0=-98 +x_0=400000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3427"]="+proj=lcc +lat_1=39.78333333333333 +lat_2=38.71666666666667 +lat_0=38.33333333333334 +lon_0=-98 +x_0=399999.99998984 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2797"]="+proj=lcc +lat_1=38.56666666666667 +lat_2=37.26666666666667 +lat_0=36.66666666666666 +lon_0=-98.5 +x_0=400000 +y_0=400000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3428"]="+proj=lcc +lat_1=38.56666666666667 +lat_2=37.26666666666667 +lat_0=36.66666666666666 +lon_0=-98.5 +x_0=399999.99998984 +y_0=399999.99998984 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26779"]="+proj=lcc +lat_1=37.96666666666667 +lat_2=38.96666666666667 +lat_0=37.5 +lon_0=-84.25 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26780"]="+proj=lcc +lat_1=36.73333333333333 +lat_2=37.93333333333333 +lat_0=36.33333333333334 +lon_0=-85.75 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2205"]="+proj=lcc +lat_1=37.96666666666667 +lat_2=38.96666666666667 +lat_0=37.5 +lon_0=-84.25 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2246"]="+proj=lcc +lat_1=37.96666666666667 +lat_2=38.96666666666667 +lat_0=37.5 +lon_0=-84.25 +x_0=500000.0001016001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26980"]="+proj=lcc +lat_1=37.93333333333333 +lat_2=36.73333333333333 +lat_0=36.33333333333334 +lon_0=-85.75 +x_0=500000 +y_0=500000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2247"]="+proj=lcc +lat_1=37.93333333333333 +lat_2=36.73333333333333 +lat_0=36.33333333333334 +lon_0=-85.75 +x_0=500000.0001016001 +y_0=500000.0001016001 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2798"]="+proj=lcc +lat_1=37.96666666666667 +lat_2=38.96666666666667 +lat_0=37.5 +lon_0=-84.25 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2891"]="+proj=lcc +lat_1=37.96666666666667 +lat_2=38.96666666666667 +lat_0=37.5 +lon_0=-84.25 +x_0=500000.0001016001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2799"]="+proj=lcc +lat_1=37.93333333333333 +lat_2=36.73333333333333 +lat_0=36.33333333333334 +lon_0=-85.75 +x_0=500000 +y_0=500000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2892"]="+proj=lcc +lat_1=37.93333333333333 +lat_2=36.73333333333333 +lat_0=36.33333333333334 +lon_0=-85.75 +x_0=500000.0001016001 +y_0=500000.0001016001 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3088"]="+proj=lcc +lat_1=37.08333333333334 +lat_2=38.66666666666666 +lat_0=36.33333333333334 +lon_0=-85.75 +x_0=1500000 +y_0=1000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3089"]="+proj=lcc +lat_1=37.08333333333334 +lat_2=38.66666666666666 +lat_0=36.33333333333334 +lon_0=-85.75 +x_0=1500000 +y_0=999999.9998983998 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3090"]="+proj=lcc +lat_1=37.08333333333334 +lat_2=38.66666666666666 +lat_0=36.33333333333334 +lon_0=-85.75 +x_0=1500000 +y_0=1000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3091"]="+proj=lcc +lat_1=37.08333333333334 +lat_2=38.66666666666666 +lat_0=36.33333333333334 +lon_0=-85.75 +x_0=1500000 +y_0=999999.9998983998 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26781"]="+proj=lcc +lat_1=31.16666666666667 +lat_2=32.66666666666666 +lat_0=30.66666666666667 +lon_0=-92.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32099"]="+proj=lcc +lat_1=27.83333333333333 +lat_2=26.16666666666667 +lat_0=25.66666666666667 +lon_0=-91.33333333333333 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26981"]="+proj=lcc +lat_1=32.66666666666666 +lat_2=31.16666666666667 +lat_0=30.5 +lon_0=-92.5 +x_0=1000000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3451"]="+proj=lcc +lat_1=32.66666666666666 +lat_2=31.16666666666667 +lat_0=30.5 +lon_0=-92.5 +x_0=999999.9999898402 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32199"]="+proj=lcc +lat_1=27.83333333333333 +lat_2=26.16666666666667 +lat_0=25.5 +lon_0=-91.33333333333333 +x_0=1000000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3453"]="+proj=lcc +lat_1=27.83333333333333 +lat_2=26.16666666666667 +lat_0=25.5 +lon_0=-91.33333333333333 +x_0=999999.9999898402 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2800"]="+proj=lcc +lat_1=32.66666666666666 +lat_2=31.16666666666667 +lat_0=30.5 +lon_0=-92.5 +x_0=1000000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3456"]="+proj=lcc +lat_1=32.66666666666666 +lat_2=31.16666666666667 +lat_0=30.5 +lon_0=-92.5 +x_0=999999.9999898402 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2801"]="+proj=lcc +lat_1=30.7 +lat_2=29.3 +lat_0=28.5 +lon_0=-91.33333333333333 +x_0=1000000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3457"]="+proj=lcc +lat_1=30.7 +lat_2=29.3 +lat_0=28.5 +lon_0=-91.33333333333333 +x_0=999999.9999898402 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3452"]="+proj=lcc +lat_1=30.7 +lat_2=29.3 +lat_0=28.5 +lon_0=-91.33333333333333 +x_0=999999.9999898402 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26982"]="+proj=lcc +lat_1=30.7 +lat_2=29.3 +lat_0=28.5 +lon_0=-91.33333333333333 +x_0=1000000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26782"]="+proj=lcc +lat_1=29.3 +lat_2=30.7 +lat_0=28.66666666666667 +lon_0=-91.33333333333333 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26783"]="+proj=tmerc +lat_0=43.83333333333334 +lon_0=-68.5 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26784"]="+proj=tmerc +lat_0=42.83333333333334 +lon_0=-70.16666666666667 +k=0.999966667 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26983"]="+proj=tmerc +lat_0=43.66666666666666 +lon_0=-68.5 +k=0.9999 +x_0=300000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26847"]="+proj=tmerc +lat_0=43.66666666666666 +lon_0=-68.5 +k=0.9999 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26984"]="+proj=tmerc +lat_0=42.83333333333334 +lon_0=-70.16666666666667 +k=0.999966667 +x_0=900000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26848"]="+proj=tmerc +lat_0=42.83333333333334 +lon_0=-70.16666666666667 +k=0.999966667 +x_0=900000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2802"]="+proj=tmerc +lat_0=43.66666666666666 +lon_0=-68.5 +k=0.9999 +x_0=300000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26855"]="+proj=tmerc +lat_0=43.66666666666666 +lon_0=-68.5 +k=0.9999 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2803"]="+proj=tmerc +lat_0=42.83333333333334 +lon_0=-70.16666666666667 +k=0.999966667 +x_0=900000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26856"]="+proj=tmerc +lat_0=42.83333333333334 +lon_0=-70.16666666666667 +k=0.999966667 +x_0=900000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3463"]="+proj=tmerc +lat_0=43.5 +lon_0=-69.125 +k=0.99998 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3072"]="+proj=tmerc +lat_0=43.83333333333334 +lon_0=-67.875 +k=0.99998 +x_0=700000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3074"]="+proj=tmerc +lat_0=42.83333333333334 +lon_0=-70.375 +k=0.99998 +x_0=300000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3075"]="+proj=tmerc +lat_0=43.83333333333334 +lon_0=-67.875 +k=0.99998 +x_0=700000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3464"]="+proj=tmerc +lat_0=43.5 +lon_0=-69.125 +k=0.99998 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3077"]="+proj=tmerc +lat_0=42.83333333333334 +lon_0=-70.375 +k=0.99998 +x_0=300000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26785"]="+proj=lcc +lat_1=38.3 +lat_2=39.45 +lat_0=37.83333333333334 +lon_0=-77 +x_0=243840.4876809754 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26985"]="+proj=lcc +lat_1=39.45 +lat_2=38.3 +lat_0=37.66666666666666 +lon_0=-77 +x_0=400000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2248"]="+proj=lcc +lat_1=39.45 +lat_2=38.3 +lat_0=37.66666666666666 +lon_0=-77 +x_0=399999.9998983998 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2804"]="+proj=lcc +lat_1=39.45 +lat_2=38.3 +lat_0=37.66666666666666 +lon_0=-77 +x_0=400000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2893"]="+proj=lcc +lat_1=39.45 +lat_2=38.3 +lat_0=37.66666666666666 +lon_0=-77 +x_0=399999.9998983998 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26786"]="+proj=lcc +lat_1=41.71666666666667 +lat_2=42.68333333333333 +lat_0=41 +lon_0=-71.5 +x_0=182880.3657607315 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26986"]="+proj=lcc +lat_1=42.68333333333333 +lat_2=41.71666666666667 +lat_0=41 +lon_0=-71.5 +x_0=200000 +y_0=750000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2249"]="+proj=lcc +lat_1=42.68333333333333 +lat_2=41.71666666666667 +lat_0=41 +lon_0=-71.5 +x_0=200000.0001016002 +y_0=750000 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26987"]="+proj=lcc +lat_1=41.48333333333333 +lat_2=41.28333333333333 +lat_0=41 +lon_0=-70.5 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2250"]="+proj=lcc +lat_1=41.48333333333333 +lat_2=41.28333333333333 +lat_0=41 +lon_0=-70.5 +x_0=500000.0001016001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2805"]="+proj=lcc +lat_1=42.68333333333333 +lat_2=41.71666666666667 +lat_0=41 +lon_0=-71.5 +x_0=200000 +y_0=750000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2806"]="+proj=lcc +lat_1=41.48333333333333 +lat_2=41.28333333333333 +lat_0=41 +lon_0=-70.5 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2894"]="+proj=lcc +lat_1=42.68333333333333 +lat_2=41.71666666666667 +lat_0=41 +lon_0=-71.5 +x_0=200000.0001016002 +y_0=750000 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2895"]="+proj=lcc +lat_1=41.48333333333333 +lat_2=41.28333333333333 +lat_0=41 +lon_0=-70.5 +x_0=500000.0001016001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26787"]="+proj=lcc +lat_1=41.28333333333333 +lat_2=41.48333333333333 +lat_0=41 +lon_0=-70.5 +x_0=60960.12192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26812"]="+proj=lcc +lat_1=44.18333333333333 +lat_2=45.7 +lat_0=43.31666666666667 +lon_0=-84.33333333333333 +x_0=609601.2192024384 +y_0=0 +a=6378450.047548896 +b=6356826.621488444 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26811"]="+proj=lcc +lat_1=45.48333333333333 +lat_2=47.08333333333334 +lat_0=44.78333333333333 +lon_0=-87 +x_0=609601.2192024384 +y_0=0 +a=6378450.047548896 +b=6356826.621488444 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26813"]="+proj=lcc +lat_1=42.1 +lat_2=43.66666666666666 +lat_0=41.5 +lon_0=-84.33333333333333 +x_0=609601.2192024384 +y_0=0 +a=6378450.047548896 +b=6356826.621488444 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26989"]="+proj=lcc +lat_1=45.7 +lat_2=44.18333333333333 +lat_0=43.31666666666667 +lon_0=-84.36666666666666 +x_0=6000000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2252"]="+proj=lcc +lat_1=45.7 +lat_2=44.18333333333333 +lat_0=43.31666666666667 +lon_0=-84.36666666666666 +x_0=5999999.999976001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:26988"]="+proj=lcc +lat_1=47.08333333333334 +lat_2=45.48333333333333 +lat_0=44.78333333333333 +lon_0=-87 +x_0=8000000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2251"]="+proj=lcc +lat_1=47.08333333333334 +lat_2=45.48333333333333 +lat_0=44.78333333333333 +lon_0=-87 +x_0=7999999.999968001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:26990"]="+proj=lcc +lat_1=43.66666666666666 +lat_2=42.1 +lat_0=41.5 +lon_0=-84.36666666666666 +x_0=4000000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2253"]="+proj=lcc +lat_1=43.66666666666666 +lat_2=42.1 +lat_0=41.5 +lon_0=-84.36666666666666 +x_0=3999999.999984 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2808"]="+proj=lcc +lat_1=45.7 +lat_2=44.18333333333333 +lat_0=43.31666666666667 +lon_0=-84.36666666666666 +x_0=6000000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2897"]="+proj=lcc +lat_1=45.7 +lat_2=44.18333333333333 +lat_0=43.31666666666667 +lon_0=-84.36666666666666 +x_0=5999999.999976001 +y_0=0 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2807"]="+proj=lcc +lat_1=47.08333333333334 +lat_2=45.48333333333333 +lat_0=44.78333333333333 +lon_0=-87 +x_0=8000000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2896"]="+proj=lcc +lat_1=47.08333333333334 +lat_2=45.48333333333333 +lat_0=44.78333333333333 +lon_0=-87 +x_0=7999999.999968001 +y_0=0 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2809"]="+proj=lcc +lat_1=43.66666666666666 +lat_2=42.1 +lat_0=41.5 +lon_0=-84.36666666666666 +x_0=4000000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2898"]="+proj=lcc +lat_1=43.66666666666666 +lat_2=42.1 +lat_0=41.5 +lon_0=-84.36666666666666 +x_0=3999999.999984 +y_0=0 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:3078"]="+proj=omerc +lat_0=45.30916666666666 +lonc=-86 +alpha=337.25556 +k=0.9996 +x_0=2546731.496 +y_0=-4354009.816 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26801"]="+proj=tmerc +lat_0=41.5 +lon_0=-83.66666666666667 +k=0.999942857 +x_0=152400.3048006096 +y_0=0 +a=6378450.047548896 +b=6356826.621488444 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:4268"]="+proj=longlat +a=6378450.047548896 +b=6356826.621488444 +no_defs ";Proj4js.defs["EPSG:26802"]="+proj=tmerc +lat_0=41.5 +lon_0=-85.75 +k=0.999909091 +x_0=152400.3048006096 +y_0=0 +a=6378450.047548896 +b=6356826.621488444 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26803"]="+proj=tmerc +lat_0=41.5 +lon_0=-88.75 +k=0.999909091 +x_0=152400.3048006096 +y_0=0 +a=6378450.047548896 +b=6356826.621488444 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3079"]="+proj=omerc +lat_0=45.30916666666666 +lonc=-86 +alpha=337.25556 +k=0.9996 +x_0=2546731.496 +y_0=-4354009.816 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26792"]="+proj=lcc +lat_1=45.61666666666667 +lat_2=47.05 +lat_0=45 +lon_0=-94.25 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26791"]="+proj=lcc +lat_1=47.03333333333333 +lat_2=48.63333333333333 +lat_0=46.5 +lon_0=-93.09999999999999 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26793"]="+proj=lcc +lat_1=43.78333333333333 +lat_2=45.21666666666667 +lat_0=43 +lon_0=-94 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26992"]="+proj=lcc +lat_1=47.05 +lat_2=45.61666666666667 +lat_0=45 +lon_0=-94.25 +x_0=800000 +y_0=100000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26850"]="+proj=lcc +lat_1=47.05 +lat_2=45.61666666666667 +lat_0=45 +lon_0=-94.25 +x_0=800000.0000101599 +y_0=99999.99998983997 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26991"]="+proj=lcc +lat_1=48.63333333333333 +lat_2=47.03333333333333 +lat_0=46.5 +lon_0=-93.09999999999999 +x_0=800000 +y_0=100000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26849"]="+proj=lcc +lat_1=48.63333333333333 +lat_2=47.03333333333333 +lat_0=46.5 +lon_0=-93.09999999999999 +x_0=800000.0000101599 +y_0=99999.99998983997 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26993"]="+proj=lcc +lat_1=45.21666666666667 +lat_2=43.78333333333333 +lat_0=43 +lon_0=-94 +x_0=800000 +y_0=100000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26851"]="+proj=lcc +lat_1=45.21666666666667 +lat_2=43.78333333333333 +lat_0=43 +lon_0=-94 +x_0=800000.0000101599 +y_0=99999.99998983997 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2811"]="+proj=lcc +lat_1=47.05 +lat_2=45.61666666666667 +lat_0=45 +lon_0=-94.25 +x_0=800000 +y_0=100000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26858"]="+proj=lcc +lat_1=47.05 +lat_2=45.61666666666667 +lat_0=45 +lon_0=-94.25 +x_0=800000.0000101599 +y_0=99999.99998983997 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2810"]="+proj=lcc +lat_1=48.63333333333333 +lat_2=47.03333333333333 +lat_0=46.5 +lon_0=-93.09999999999999 +x_0=800000 +y_0=100000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26857"]="+proj=lcc +lat_1=48.63333333333333 +lat_2=47.03333333333333 +lat_0=46.5 +lon_0=-93.09999999999999 +x_0=800000.0000101599 +y_0=99999.99998983997 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2812"]="+proj=lcc +lat_1=45.21666666666667 +lat_2=43.78333333333333 +lat_0=43 +lon_0=-94 +x_0=800000 +y_0=100000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26859"]="+proj=lcc +lat_1=45.21666666666667 +lat_2=43.78333333333333 +lat_0=43 +lon_0=-94 +x_0=800000.0000101599 +y_0=99999.99998983997 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26794"]="+proj=tmerc +lat_0=29.66666666666667 +lon_0=-88.83333333333333 +k=0.99996 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26795"]="+proj=tmerc +lat_0=30.5 +lon_0=-90.33333333333333 +k=0.999941177 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26994"]="+proj=tmerc +lat_0=29.5 +lon_0=-88.83333333333333 +k=0.99995 +x_0=300000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2254"]="+proj=tmerc +lat_0=29.5 +lon_0=-88.83333333333333 +k=0.99995 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26995"]="+proj=tmerc +lat_0=29.5 +lon_0=-90.33333333333333 +k=0.99995 +x_0=700000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2255"]="+proj=tmerc +lat_0=29.5 +lon_0=-90.33333333333333 +k=0.99995 +x_0=699999.9998983998 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2813"]="+proj=tmerc +lat_0=29.5 +lon_0=-88.83333333333333 +k=0.99995 +x_0=300000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2899"]="+proj=tmerc +lat_0=29.5 +lon_0=-88.83333333333333 +k=0.99995 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2814"]="+proj=tmerc +lat_0=29.5 +lon_0=-90.33333333333333 +k=0.99995 +x_0=700000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2900"]="+proj=tmerc +lat_0=29.5 +lon_0=-90.33333333333333 +k=0.99995 +x_0=699999.9998983998 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26797"]="+proj=tmerc +lat_0=35.83333333333334 +lon_0=-92.5 +k=0.999933333 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26796"]="+proj=tmerc +lat_0=35.83333333333334 +lon_0=-90.5 +k=0.999933333 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26798"]="+proj=tmerc +lat_0=36.16666666666666 +lon_0=-94.5 +k=0.999941177 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26997"]="+proj=tmerc +lat_0=35.83333333333334 +lon_0=-92.5 +k=0.999933333 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26996"]="+proj=tmerc +lat_0=35.83333333333334 +lon_0=-90.5 +k=0.999933333 +x_0=250000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26998"]="+proj=tmerc +lat_0=36.16666666666666 +lon_0=-94.5 +k=0.999941177 +x_0=850000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2816"]="+proj=tmerc +lat_0=35.83333333333334 +lon_0=-92.5 +k=0.999933333 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2815"]="+proj=tmerc +lat_0=35.83333333333334 +lon_0=-90.5 +k=0.999933333 +x_0=250000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2817"]="+proj=tmerc +lat_0=36.16666666666666 +lon_0=-94.5 +k=0.999941177 +x_0=850000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:32002"]="+proj=lcc +lat_1=47.88333333333333 +lat_2=46.45 +lat_0=45.83333333333334 +lon_0=-109.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32001"]="+proj=lcc +lat_1=48.71666666666667 +lat_2=47.85 +lat_0=47 +lon_0=-109.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32003"]="+proj=lcc +lat_1=46.4 +lat_2=44.86666666666667 +lat_0=44 +lon_0=-109.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32100"]="+proj=lcc +lat_1=49 +lat_2=45 +lat_0=44.25 +lon_0=-109.5 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2256"]="+proj=lcc +lat_1=49 +lat_2=45 +lat_0=44.25 +lon_0=-109.5 +x_0=599999.9999976 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2818"]="+proj=lcc +lat_1=49 +lat_2=45 +lat_0=44.25 +lon_0=-109.5 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2901"]="+proj=lcc +lat_1=49 +lat_2=45 +lat_0=44.25 +lon_0=-109.5 +x_0=599999.9999976 +y_0=0 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:32005"]="+proj=lcc +lat_1=41.85 +lat_2=42.81666666666667 +lat_0=41.33333333333334 +lon_0=-100 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32006"]="+proj=lcc +lat_1=40.28333333333333 +lat_2=41.71666666666667 +lat_0=39.66666666666666 +lon_0=-99.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32104"]="+proj=lcc +lat_1=43 +lat_2=40 +lat_0=39.83333333333334 +lon_0=-100 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26852"]="+proj=lcc +lat_1=43 +lat_2=40 +lat_0=39.83333333333334 +lon_0=-100 +x_0=500000.00001016 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2819"]="+proj=lcc +lat_1=43 +lat_2=40 +lat_0=39.83333333333334 +lon_0=-100 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26860"]="+proj=lcc +lat_1=43 +lat_2=40 +lat_0=39.83333333333334 +lon_0=-100 +x_0=500000.00001016 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32008"]="+proj=tmerc +lat_0=34.75 +lon_0=-116.6666666666667 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32007"]="+proj=tmerc +lat_0=34.75 +lon_0=-115.5833333333333 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32009"]="+proj=tmerc +lat_0=34.75 +lon_0=-118.5833333333333 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32108"]="+proj=tmerc +lat_0=34.75 +lon_0=-116.6666666666667 +k=0.9999 +x_0=500000 +y_0=6000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3422"]="+proj=tmerc +lat_0=34.75 +lon_0=-116.6666666666667 +k=0.9999 +x_0=500000.00001016 +y_0=6000000 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32107"]="+proj=tmerc +lat_0=34.75 +lon_0=-115.5833333333333 +k=0.9999 +x_0=200000 +y_0=8000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3421"]="+proj=tmerc +lat_0=34.75 +lon_0=-115.5833333333333 +k=0.9999 +x_0=200000.00001016 +y_0=8000000.000010163 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32109"]="+proj=tmerc +lat_0=34.75 +lon_0=-118.5833333333333 +k=0.9999 +x_0=800000 +y_0=4000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3423"]="+proj=tmerc +lat_0=34.75 +lon_0=-118.5833333333333 +k=0.9999 +x_0=800000.0000101599 +y_0=3999999.99998984 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2821"]="+proj=tmerc +lat_0=34.75 +lon_0=-116.6666666666667 +k=0.9999 +x_0=500000 +y_0=6000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3430"]="+proj=tmerc +lat_0=34.75 +lon_0=-116.6666666666667 +k=0.9999 +x_0=500000.00001016 +y_0=6000000 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2820"]="+proj=tmerc +lat_0=34.75 +lon_0=-115.5833333333333 +k=0.9999 +x_0=200000 +y_0=8000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3429"]="+proj=tmerc +lat_0=34.75 +lon_0=-115.5833333333333 +k=0.9999 +x_0=200000.00001016 +y_0=8000000.000010163 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2822"]="+proj=tmerc +lat_0=34.75 +lon_0=-118.5833333333333 +k=0.9999 +x_0=800000 +y_0=4000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3431"]="+proj=tmerc +lat_0=34.75 +lon_0=-118.5833333333333 +k=0.9999 +x_0=800000.0000101599 +y_0=3999999.99998984 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32010"]="+proj=tmerc +lat_0=42.5 +lon_0=-71.66666666666667 +k=0.999966667 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32110"]="+proj=tmerc +lat_0=42.5 +lon_0=-71.66666666666667 +k=0.999966667 +x_0=300000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3437"]="+proj=tmerc +lat_0=42.5 +lon_0=-71.66666666666667 +k=0.999966667 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2823"]="+proj=tmerc +lat_0=42.5 +lon_0=-71.66666666666667 +k=0.999966667 +x_0=300000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3445"]="+proj=tmerc +lat_0=42.5 +lon_0=-71.66666666666667 +k=0.999966667 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32011"]="+proj=tmerc +lat_0=38.83333333333334 +lon_0=-74.66666666666667 +k=0.9999749999999999 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32111"]="+proj=tmerc +lat_0=38.83333333333334 +lon_0=-74.5 +k=0.9999 +x_0=150000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3424"]="+proj=tmerc +lat_0=38.83333333333334 +lon_0=-74.5 +k=0.9999 +x_0=150000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2824"]="+proj=tmerc +lat_0=38.83333333333334 +lon_0=-74.5 +k=0.9999 +x_0=150000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3432"]="+proj=tmerc +lat_0=38.83333333333334 +lon_0=-74.5 +k=0.9999 +x_0=150000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32013"]="+proj=tmerc +lat_0=31 +lon_0=-106.25 +k=0.9999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32012"]="+proj=tmerc +lat_0=31 +lon_0=-104.3333333333333 +k=0.999909091 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32014"]="+proj=tmerc +lat_0=31 +lon_0=-107.8333333333333 +k=0.999916667 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32113"]="+proj=tmerc +lat_0=31 +lon_0=-106.25 +k=0.9999 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2258"]="+proj=tmerc +lat_0=31 +lon_0=-106.25 +k=0.9999 +x_0=500000.0001016001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32112"]="+proj=tmerc +lat_0=31 +lon_0=-104.3333333333333 +k=0.999909091 +x_0=165000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2257"]="+proj=tmerc +lat_0=31 +lon_0=-104.3333333333333 +k=0.999909091 +x_0=165000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32114"]="+proj=tmerc +lat_0=31 +lon_0=-107.8333333333333 +k=0.999916667 +x_0=830000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2259"]="+proj=tmerc +lat_0=31 +lon_0=-107.8333333333333 +k=0.999916667 +x_0=830000.0001016001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2826"]="+proj=tmerc +lat_0=31 +lon_0=-106.25 +k=0.9999 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2903"]="+proj=tmerc +lat_0=31 +lon_0=-106.25 +k=0.9999 +x_0=500000.0001016001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2825"]="+proj=tmerc +lat_0=31 +lon_0=-104.3333333333333 +k=0.999909091 +x_0=165000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2902"]="+proj=tmerc +lat_0=31 +lon_0=-104.3333333333333 +k=0.999909091 +x_0=165000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2827"]="+proj=tmerc +lat_0=31 +lon_0=-107.8333333333333 +k=0.999916667 +x_0=830000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2904"]="+proj=tmerc +lat_0=31 +lon_0=-107.8333333333333 +k=0.999916667 +x_0=830000.0001016001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32016"]="+proj=tmerc +lat_0=40 +lon_0=-76.58333333333333 +k=0.9999375 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32015"]="+proj=tmerc +lat_0=40 +lon_0=-74.33333333333333 +k=0.999966667 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32017"]="+proj=tmerc +lat_0=40 +lon_0=-78.58333333333333 +k=0.9999375 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32116"]="+proj=tmerc +lat_0=40 +lon_0=-76.58333333333333 +k=0.9999375 +x_0=250000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2261"]="+proj=tmerc +lat_0=40 +lon_0=-76.58333333333333 +k=0.9999375 +x_0=249999.9998983998 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32115"]="+proj=tmerc +lat_0=38.83333333333334 +lon_0=-74.5 +k=0.9999 +x_0=150000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2260"]="+proj=tmerc +lat_0=38.83333333333334 +lon_0=-74.5 +k=0.9999 +x_0=150000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32118"]="+proj=lcc +lat_1=41.03333333333333 +lat_2=40.66666666666666 +lat_0=40.16666666666666 +lon_0=-74 +x_0=300000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2263"]="+proj=lcc +lat_1=41.03333333333333 +lat_2=40.66666666666666 +lat_0=40.16666666666666 +lon_0=-74 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32117"]="+proj=tmerc +lat_0=40 +lon_0=-78.58333333333333 +k=0.9999375 +x_0=350000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2262"]="+proj=tmerc +lat_0=40 +lon_0=-78.58333333333333 +k=0.9999375 +x_0=350000.0001016001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2829"]="+proj=tmerc +lat_0=40 +lon_0=-76.58333333333333 +k=0.9999375 +x_0=250000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2906"]="+proj=tmerc +lat_0=40 +lon_0=-76.58333333333333 +k=0.9999375 +x_0=249999.9998983998 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2828"]="+proj=tmerc +lat_0=38.83333333333334 +lon_0=-74.5 +k=0.9999 +x_0=150000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2905"]="+proj=tmerc +lat_0=38.83333333333334 +lon_0=-74.5 +k=0.9999 +x_0=150000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2831"]="+proj=lcc +lat_1=41.03333333333333 +lat_2=40.66666666666666 +lat_0=40.16666666666666 +lon_0=-74 +x_0=300000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2908"]="+proj=lcc +lat_1=41.03333333333333 +lat_2=40.66666666666666 +lat_0=40.16666666666666 +lon_0=-74 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2830"]="+proj=tmerc +lat_0=40 +lon_0=-78.58333333333333 +k=0.9999375 +x_0=350000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2907"]="+proj=tmerc +lat_0=40 +lon_0=-78.58333333333333 +k=0.9999375 +x_0=350000.0001016001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32019"]="+proj=lcc +lat_1=34.33333333333334 +lat_2=36.16666666666666 +lat_0=33.75 +lon_0=-79 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32119"]="+proj=lcc +lat_1=36.16666666666666 +lat_2=34.33333333333334 +lat_0=33.75 +lon_0=-79 +x_0=609601.22 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2264"]="+proj=lcc +lat_1=36.16666666666666 +lat_2=34.33333333333334 +lat_0=33.75 +lon_0=-79 +x_0=609601.2192024384 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3358"]="+proj=lcc +lat_1=36.16666666666666 +lat_2=34.33333333333334 +lat_0=33.75 +lon_0=-79 +x_0=609601.22 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3404"]="+proj=lcc +lat_1=36.16666666666666 +lat_2=34.33333333333334 +lat_0=33.75 +lon_0=-79 +x_0=609601.2192024384 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32020"]="+proj=lcc +lat_1=47.43333333333333 +lat_2=48.73333333333333 +lat_0=47 +lon_0=-100.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32021"]="+proj=lcc +lat_1=46.18333333333333 +lat_2=47.48333333333333 +lat_0=45.66666666666666 +lon_0=-100.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32120"]="+proj=lcc +lat_1=48.73333333333333 +lat_2=47.43333333333333 +lat_0=47 +lon_0=-100.5 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32121"]="+proj=lcc +lat_1=47.48333333333333 +lat_2=46.18333333333333 +lat_0=45.66666666666666 +lon_0=-100.5 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2832"]="+proj=lcc +lat_1=48.73333333333333 +lat_2=47.43333333333333 +lat_0=47 +lon_0=-100.5 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2833"]="+proj=lcc +lat_1=47.48333333333333 +lat_2=46.18333333333333 +lat_0=45.66666666666666 +lon_0=-100.5 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2265"]="+proj=lcc +lat_1=48.73333333333333 +lat_2=47.43333333333333 +lat_0=47 +lon_0=-100.5 +x_0=599999.9999976 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2266"]="+proj=lcc +lat_1=47.48333333333333 +lat_2=46.18333333333333 +lat_0=45.66666666666666 +lon_0=-100.5 +x_0=599999.9999976 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2909"]="+proj=lcc +lat_1=48.73333333333333 +lat_2=47.43333333333333 +lat_0=47 +lon_0=-100.5 +x_0=599999.9999976 +y_0=0 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2910"]="+proj=lcc +lat_1=47.48333333333333 +lat_2=46.18333333333333 +lat_0=45.66666666666666 +lon_0=-100.5 +x_0=599999.9999976 +y_0=0 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:32022"]="+proj=lcc +lat_1=40.43333333333333 +lat_2=41.7 +lat_0=39.66666666666666 +lon_0=-82.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32023"]="+proj=lcc +lat_1=38.73333333333333 +lat_2=40.03333333333333 +lat_0=38 +lon_0=-82.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32122"]="+proj=lcc +lat_1=41.7 +lat_2=40.43333333333333 +lat_0=39.66666666666666 +lon_0=-82.5 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3734"]="+proj=lcc +lat_1=41.7 +lat_2=40.43333333333333 +lat_0=39.66666666666666 +lon_0=-82.5 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32123"]="+proj=lcc +lat_1=40.03333333333333 +lat_2=38.73333333333333 +lat_0=38 +lon_0=-82.5 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3735"]="+proj=lcc +lat_1=40.03333333333333 +lat_2=38.73333333333333 +lat_0=38 +lon_0=-82.5 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2834"]="+proj=lcc +lat_1=41.7 +lat_2=40.43333333333333 +lat_0=39.66666666666666 +lon_0=-82.5 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3753"]="+proj=lcc +lat_1=41.7 +lat_2=40.43333333333333 +lat_0=39.66666666666666 +lon_0=-82.5 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2835"]="+proj=lcc +lat_1=40.03333333333333 +lat_2=38.73333333333333 +lat_0=38 +lon_0=-82.5 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3754"]="+proj=lcc +lat_1=40.03333333333333 +lat_2=38.73333333333333 +lat_0=38 +lon_0=-82.5 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32024"]="+proj=lcc +lat_1=35.56666666666667 +lat_2=36.76666666666667 +lat_0=35 +lon_0=-98 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32025"]="+proj=lcc +lat_1=33.93333333333333 +lat_2=35.23333333333333 +lat_0=33.33333333333334 +lon_0=-98 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32124"]="+proj=lcc +lat_1=36.76666666666667 +lat_2=35.56666666666667 +lat_0=35 +lon_0=-98 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2267"]="+proj=lcc +lat_1=36.76666666666667 +lat_2=35.56666666666667 +lat_0=35 +lon_0=-98 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32125"]="+proj=lcc +lat_1=35.23333333333333 +lat_2=33.93333333333333 +lat_0=33.33333333333334 +lon_0=-98 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2268"]="+proj=lcc +lat_1=35.23333333333333 +lat_2=33.93333333333333 +lat_0=33.33333333333334 +lon_0=-98 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2836"]="+proj=lcc +lat_1=36.76666666666667 +lat_2=35.56666666666667 +lat_0=35 +lon_0=-98 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2911"]="+proj=lcc +lat_1=36.76666666666667 +lat_2=35.56666666666667 +lat_0=35 +lon_0=-98 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2837"]="+proj=lcc +lat_1=35.23333333333333 +lat_2=33.93333333333333 +lat_0=33.33333333333334 +lon_0=-98 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2912"]="+proj=lcc +lat_1=35.23333333333333 +lat_2=33.93333333333333 +lat_0=33.33333333333334 +lon_0=-98 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32026"]="+proj=lcc +lat_1=44.33333333333334 +lat_2=46 +lat_0=43.66666666666666 +lon_0=-120.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32027"]="+proj=lcc +lat_1=42.33333333333334 +lat_2=44 +lat_0=41.66666666666666 +lon_0=-120.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32126"]="+proj=lcc +lat_1=46 +lat_2=44.33333333333334 +lat_0=43.66666666666666 +lon_0=-120.5 +x_0=2500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2269"]="+proj=lcc +lat_1=46 +lat_2=44.33333333333334 +lat_0=43.66666666666666 +lon_0=-120.5 +x_0=2500000.0001424 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:32127"]="+proj=lcc +lat_1=44 +lat_2=42.33333333333334 +lat_0=41.66666666666666 +lon_0=-120.5 +x_0=1500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2270"]="+proj=lcc +lat_1=44 +lat_2=42.33333333333334 +lat_0=41.66666666666666 +lon_0=-120.5 +x_0=1500000.0001464 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2838"]="+proj=lcc +lat_1=46 +lat_2=44.33333333333334 +lat_0=43.66666666666666 +lon_0=-120.5 +x_0=2500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2913"]="+proj=lcc +lat_1=46 +lat_2=44.33333333333334 +lat_0=43.66666666666666 +lon_0=-120.5 +x_0=2500000.0001424 +y_0=0 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2839"]="+proj=lcc +lat_1=44 +lat_2=42.33333333333334 +lat_0=41.66666666666666 +lon_0=-120.5 +x_0=1500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2914"]="+proj=lcc +lat_1=44 +lat_2=42.33333333333334 +lat_0=41.66666666666666 +lon_0=-120.5 +x_0=1500000.0001464 +y_0=0 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2992"]="+proj=lcc +lat_1=43 +lat_2=45.5 +lat_0=41.75 +lon_0=-120.5 +x_0=399999.9999984 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2993"]="+proj=lcc +lat_1=43 +lat_2=45.5 +lat_0=41.75 +lon_0=-120.5 +x_0=400000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2994"]="+proj=lcc +lat_1=43 +lat_2=45.5 +lat_0=41.75 +lon_0=-120.5 +x_0=399999.9999984 +y_0=0 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2991"]="+proj=lcc +lat_1=43 +lat_2=45.5 +lat_0=41.75 +lon_0=-120.5 +x_0=400000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32028"]="+proj=lcc +lat_1=40.88333333333333 +lat_2=41.95 +lat_0=40.16666666666666 +lon_0=-77.75 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32128"]="+proj=lcc +lat_1=41.95 +lat_2=40.88333333333333 +lat_0=40.16666666666666 +lon_0=-77.75 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2271"]="+proj=lcc +lat_1=41.95 +lat_2=40.88333333333333 +lat_0=40.16666666666666 +lon_0=-77.75 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32129"]="+proj=lcc +lat_1=40.96666666666667 +lat_2=39.93333333333333 +lat_0=39.33333333333334 +lon_0=-77.75 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2272"]="+proj=lcc +lat_1=40.96666666666667 +lat_2=39.93333333333333 +lat_0=39.33333333333334 +lon_0=-77.75 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3362"]="+proj=lcc +lat_1=41.95 +lat_2=40.88333333333333 +lat_0=40.16666666666666 +lon_0=-77.75 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3363"]="+proj=lcc +lat_1=41.95 +lat_2=40.88333333333333 +lat_0=40.16666666666666 +lon_0=-77.75 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3364"]="+proj=lcc +lat_1=40.96666666666667 +lat_2=39.93333333333333 +lat_0=39.33333333333334 +lon_0=-77.75 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3365"]="+proj=lcc +lat_1=40.96666666666667 +lat_2=39.93333333333333 +lat_0=39.33333333333334 +lon_0=-77.75 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32030"]="+proj=tmerc +lat_0=41.08333333333334 +lon_0=-71.5 +k=0.9999938 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32130"]="+proj=tmerc +lat_0=41.08333333333334 +lon_0=-71.5 +k=0.99999375 +x_0=100000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3438"]="+proj=tmerc +lat_0=41.08333333333334 +lon_0=-71.5 +k=0.99999375 +x_0=99999.99998983997 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2840"]="+proj=tmerc +lat_0=41.08333333333334 +lon_0=-71.5 +k=0.99999375 +x_0=100000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3446"]="+proj=tmerc +lat_0=41.08333333333334 +lon_0=-71.5 +k=0.99999375 +x_0=99999.99998983997 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32031"]="+proj=lcc +lat_1=33.76666666666667 +lat_2=34.96666666666667 +lat_0=33 +lon_0=-81 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32033"]="+proj=lcc +lat_1=32.33333333333334 +lat_2=33.66666666666666 +lat_0=31.83333333333333 +lon_0=-81 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32133"]="+proj=lcc +lat_1=34.83333333333334 +lat_2=32.5 +lat_0=31.83333333333333 +lon_0=-81 +x_0=609600 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2273"]="+proj=lcc +lat_1=34.83333333333334 +lat_2=32.5 +lat_0=31.83333333333333 +lon_0=-81 +x_0=609600 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:3360"]="+proj=lcc +lat_1=34.83333333333334 +lat_2=32.5 +lat_0=31.83333333333333 +lon_0=-81 +x_0=609600 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3361"]="+proj=lcc +lat_1=34.83333333333334 +lat_2=32.5 +lat_0=31.83333333333333 +lon_0=-81 +x_0=609600 +y_0=0 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:32034"]="+proj=lcc +lat_1=44.41666666666666 +lat_2=45.68333333333333 +lat_0=43.83333333333334 +lon_0=-100 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32035"]="+proj=lcc +lat_1=42.83333333333334 +lat_2=44.4 +lat_0=42.33333333333334 +lon_0=-100.3333333333333 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32134"]="+proj=lcc +lat_1=45.68333333333333 +lat_2=44.41666666666666 +lat_0=43.83333333333334 +lon_0=-100 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32135"]="+proj=lcc +lat_1=44.4 +lat_2=42.83333333333334 +lat_0=42.33333333333334 +lon_0=-100.3333333333333 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3455"]="+proj=lcc +lat_1=44.4 +lat_2=42.83333333333334 +lat_0=42.33333333333334 +lon_0=-100.3333333333333 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2841"]="+proj=lcc +lat_1=45.68333333333333 +lat_2=44.41666666666666 +lat_0=43.83333333333334 +lon_0=-100 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3458"]="+proj=lcc +lat_1=45.68333333333333 +lat_2=44.41666666666666 +lat_0=43.83333333333334 +lon_0=-100 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2842"]="+proj=lcc +lat_1=44.4 +lat_2=42.83333333333334 +lat_0=42.33333333333334 +lon_0=-100.3333333333333 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3459"]="+proj=lcc +lat_1=44.4 +lat_2=42.83333333333334 +lat_0=42.33333333333334 +lon_0=-100.3333333333333 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2204"]="+proj=lcc +lat_1=35.25 +lat_2=36.41666666666666 +lat_0=34.66666666666666 +lon_0=-86 +x_0=609601.2192024384 +y_0=30480.06096012192 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32136"]="+proj=lcc +lat_1=36.41666666666666 +lat_2=35.25 +lat_0=34.33333333333334 +lon_0=-86 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2274"]="+proj=lcc +lat_1=36.41666666666666 +lat_2=35.25 +lat_0=34.33333333333334 +lon_0=-86 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2843"]="+proj=lcc +lat_1=36.41666666666666 +lat_2=35.25 +lat_0=34.33333333333334 +lon_0=-86 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2915"]="+proj=lcc +lat_1=36.41666666666666 +lat_2=35.25 +lat_0=34.33333333333334 +lon_0=-86 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32039"]="+proj=lcc +lat_1=30.11666666666667 +lat_2=31.88333333333333 +lat_0=29.66666666666667 +lon_0=-100.3333333333333 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32037"]="+proj=lcc +lat_1=34.65 +lat_2=36.18333333333333 +lat_0=34 +lon_0=-101.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32038"]="+proj=lcc +lat_1=32.13333333333333 +lat_2=33.96666666666667 +lat_0=31.66666666666667 +lon_0=-97.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32041"]="+proj=lcc +lat_1=26.16666666666667 +lat_2=27.83333333333333 +lat_0=25.66666666666667 +lon_0=-98.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32040"]="+proj=lcc +lat_1=28.38333333333333 +lat_2=30.28333333333333 +lat_0=27.83333333333333 +lon_0=-99 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32139"]="+proj=lcc +lat_1=31.88333333333333 +lat_2=30.11666666666667 +lat_0=29.66666666666667 +lon_0=-100.3333333333333 +x_0=700000 +y_0=3000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2277"]="+proj=lcc +lat_1=31.88333333333333 +lat_2=30.11666666666667 +lat_0=29.66666666666667 +lon_0=-100.3333333333333 +x_0=699999.9998983998 +y_0=3000000 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32137"]="+proj=lcc +lat_1=36.18333333333333 +lat_2=34.65 +lat_0=34 +lon_0=-101.5 +x_0=200000 +y_0=1000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2275"]="+proj=lcc +lat_1=36.18333333333333 +lat_2=34.65 +lat_0=34 +lon_0=-101.5 +x_0=200000.0001016002 +y_0=999999.9998983998 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32138"]="+proj=lcc +lat_1=33.96666666666667 +lat_2=32.13333333333333 +lat_0=31.66666666666667 +lon_0=-98.5 +x_0=600000 +y_0=2000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2276"]="+proj=lcc +lat_1=33.96666666666667 +lat_2=32.13333333333333 +lat_0=31.66666666666667 +lon_0=-98.5 +x_0=600000 +y_0=2000000.0001016 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32141"]="+proj=lcc +lat_1=27.83333333333333 +lat_2=26.16666666666667 +lat_0=25.66666666666667 +lon_0=-98.5 +x_0=300000 +y_0=5000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2279"]="+proj=lcc +lat_1=27.83333333333333 +lat_2=26.16666666666667 +lat_0=25.66666666666667 +lon_0=-98.5 +x_0=300000.0000000001 +y_0=5000000.0001016 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32140"]="+proj=lcc +lat_1=30.28333333333333 +lat_2=28.38333333333333 +lat_0=27.83333333333333 +lon_0=-99 +x_0=600000 +y_0=4000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2278"]="+proj=lcc +lat_1=30.28333333333333 +lat_2=28.38333333333333 +lat_0=27.83333333333333 +lon_0=-99 +x_0=600000 +y_0=3999999.9998984 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2846"]="+proj=lcc +lat_1=31.88333333333333 +lat_2=30.11666666666667 +lat_0=29.66666666666667 +lon_0=-100.3333333333333 +x_0=700000 +y_0=3000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2918"]="+proj=lcc +lat_1=31.88333333333333 +lat_2=30.11666666666667 +lat_0=29.66666666666667 +lon_0=-100.3333333333333 +x_0=699999.9998983998 +y_0=3000000 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2844"]="+proj=lcc +lat_1=36.18333333333333 +lat_2=34.65 +lat_0=34 +lon_0=-101.5 +x_0=200000 +y_0=1000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2845"]="+proj=lcc +lat_1=33.96666666666667 +lat_2=32.13333333333333 +lat_0=31.66666666666667 +lon_0=-98.5 +x_0=600000 +y_0=2000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2917"]="+proj=lcc +lat_1=33.96666666666667 +lat_2=32.13333333333333 +lat_0=31.66666666666667 +lon_0=-98.5 +x_0=600000 +y_0=2000000.0001016 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2916"]="+proj=lcc +lat_1=36.18333333333333 +lat_2=34.65 +lat_0=34 +lon_0=-101.5 +x_0=200000.0001016002 +y_0=999999.9998983998 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2848"]="+proj=lcc +lat_1=27.83333333333333 +lat_2=26.16666666666667 +lat_0=25.66666666666667 +lon_0=-98.5 +x_0=300000 +y_0=5000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2847"]="+proj=lcc +lat_1=30.28333333333333 +lat_2=28.38333333333333 +lat_0=27.83333333333333 +lon_0=-99 +x_0=600000 +y_0=4000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2919"]="+proj=lcc +lat_1=30.28333333333333 +lat_2=28.38333333333333 +lat_0=27.83333333333333 +lon_0=-99 +x_0=600000 +y_0=3999999.9998984 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2920"]="+proj=lcc +lat_1=27.83333333333333 +lat_2=26.16666666666667 +lat_0=25.66666666666667 +lon_0=-98.5 +x_0=300000.0000000001 +y_0=5000000.0001016 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3080"]="+proj=lcc +lat_1=27.41666666666667 +lat_2=34.91666666666666 +lat_0=31.16666666666667 +lon_0=-100 +x_0=914400 +y_0=914400 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:3082"]="+proj=lcc +lat_1=27.5 +lat_2=35 +lat_0=18 +lon_0=-100 +x_0=1500000 +y_0=5000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3083"]="+proj=aea +lat_1=27.5 +lat_2=35 +lat_0=18 +lon_0=-100 +x_0=1500000 +y_0=6000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3084"]="+proj=lcc +lat_1=27.5 +lat_2=35 +lat_0=18 +lon_0=-100 +x_0=1500000 +y_0=5000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3085"]="+proj=aea +lat_1=27.5 +lat_2=35 +lat_0=18 +lon_0=-100 +x_0=1500000 +y_0=6000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:32043"]="+proj=lcc +lat_1=39.01666666666667 +lat_2=40.65 +lat_0=38.33333333333334 +lon_0=-111.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32042"]="+proj=lcc +lat_1=40.71666666666667 +lat_2=41.78333333333333 +lat_0=40.33333333333334 +lon_0=-111.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32044"]="+proj=lcc +lat_1=37.21666666666667 +lat_2=38.35 +lat_0=36.66666666666666 +lon_0=-111.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32143"]="+proj=lcc +lat_1=40.65 +lat_2=39.01666666666667 +lat_0=38.33333333333334 +lon_0=-111.5 +x_0=500000 +y_0=2000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3566"]="+proj=lcc +lat_1=40.65 +lat_2=39.01666666666667 +lat_0=38.33333333333334 +lon_0=-111.5 +x_0=500000.00001016 +y_0=2000000.00001016 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2281"]="+proj=lcc +lat_1=40.65 +lat_2=39.01666666666667 +lat_0=38.33333333333334 +lon_0=-111.5 +x_0=500000.0001504 +y_0=1999999.999992 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:32142"]="+proj=lcc +lat_1=41.78333333333333 +lat_2=40.71666666666667 +lat_0=40.33333333333334 +lon_0=-111.5 +x_0=500000 +y_0=1000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3560"]="+proj=lcc +lat_1=41.78333333333333 +lat_2=40.71666666666667 +lat_0=40.33333333333334 +lon_0=-111.5 +x_0=500000.00001016 +y_0=999999.9999898402 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2280"]="+proj=lcc +lat_1=41.78333333333333 +lat_2=40.71666666666667 +lat_0=40.33333333333334 +lon_0=-111.5 +x_0=500000.0001504 +y_0=999999.9999960001 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:32144"]="+proj=lcc +lat_1=38.35 +lat_2=37.21666666666667 +lat_0=36.66666666666666 +lon_0=-111.5 +x_0=500000 +y_0=3000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3567"]="+proj=lcc +lat_1=38.35 +lat_2=37.21666666666667 +lat_0=36.66666666666666 +lon_0=-111.5 +x_0=500000.00001016 +y_0=3000000 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2282"]="+proj=lcc +lat_1=38.35 +lat_2=37.21666666666667 +lat_0=36.66666666666666 +lon_0=-111.5 +x_0=500000.0001504 +y_0=2999999.999988 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2850"]="+proj=lcc +lat_1=40.65 +lat_2=39.01666666666667 +lat_0=38.33333333333334 +lon_0=-111.5 +x_0=500000 +y_0=2000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3569"]="+proj=lcc +lat_1=40.65 +lat_2=39.01666666666667 +lat_0=38.33333333333334 +lon_0=-111.5 +x_0=500000.00001016 +y_0=2000000.00001016 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2922"]="+proj=lcc +lat_1=40.65 +lat_2=39.01666666666667 +lat_0=38.33333333333334 +lon_0=-111.5 +x_0=500000.0001504 +y_0=1999999.999992 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2849"]="+proj=lcc +lat_1=41.78333333333333 +lat_2=40.71666666666667 +lat_0=40.33333333333334 +lon_0=-111.5 +x_0=500000 +y_0=1000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3568"]="+proj=lcc +lat_1=41.78333333333333 +lat_2=40.71666666666667 +lat_0=40.33333333333334 +lon_0=-111.5 +x_0=500000.00001016 +y_0=999999.9999898402 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2921"]="+proj=lcc +lat_1=41.78333333333333 +lat_2=40.71666666666667 +lat_0=40.33333333333334 +lon_0=-111.5 +x_0=500000.0001504 +y_0=999999.9999960001 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:2851"]="+proj=lcc +lat_1=38.35 +lat_2=37.21666666666667 +lat_0=36.66666666666666 +lon_0=-111.5 +x_0=500000 +y_0=3000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3570"]="+proj=lcc +lat_1=38.35 +lat_2=37.21666666666667 +lat_0=36.66666666666666 +lon_0=-111.5 +x_0=500000.00001016 +y_0=3000000 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2923"]="+proj=lcc +lat_1=38.35 +lat_2=37.21666666666667 +lat_0=36.66666666666666 +lon_0=-111.5 +x_0=500000.0001504 +y_0=2999999.999988 +ellps=GRS80 +to_meter=0.3048 +no_defs ";Proj4js.defs["EPSG:32045"]="+proj=tmerc +lat_0=42.5 +lon_0=-72.5 +k=0.999964286 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32145"]="+proj=tmerc +lat_0=42.5 +lon_0=-72.5 +k=0.999964286 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2852"]="+proj=tmerc +lat_0=42.5 +lon_0=-72.5 +k=0.999964286 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:32046"]="+proj=lcc +lat_1=38.03333333333333 +lat_2=39.2 +lat_0=37.66666666666666 +lon_0=-78.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32047"]="+proj=lcc +lat_1=36.76666666666667 +lat_2=37.96666666666667 +lat_0=36.33333333333334 +lon_0=-78.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32146"]="+proj=lcc +lat_1=39.2 +lat_2=38.03333333333333 +lat_0=37.66666666666666 +lon_0=-78.5 +x_0=3500000 +y_0=2000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2283"]="+proj=lcc +lat_1=39.2 +lat_2=38.03333333333333 +lat_0=37.66666666666666 +lon_0=-78.5 +x_0=3500000.0001016 +y_0=2000000.0001016 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32147"]="+proj=lcc +lat_1=37.96666666666667 +lat_2=36.76666666666667 +lat_0=36.33333333333334 +lon_0=-78.5 +x_0=3500000 +y_0=1000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2284"]="+proj=lcc +lat_1=37.96666666666667 +lat_2=36.76666666666667 +lat_0=36.33333333333334 +lon_0=-78.5 +x_0=3500000.0001016 +y_0=999999.9998983998 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2853"]="+proj=lcc +lat_1=39.2 +lat_2=38.03333333333333 +lat_0=37.66666666666666 +lon_0=-78.5 +x_0=3500000 +y_0=2000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2924"]="+proj=lcc +lat_1=39.2 +lat_2=38.03333333333333 +lat_0=37.66666666666666 +lon_0=-78.5 +x_0=3500000.0001016 +y_0=2000000.0001016 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2854"]="+proj=lcc +lat_1=37.96666666666667 +lat_2=36.76666666666667 +lat_0=36.33333333333334 +lon_0=-78.5 +x_0=3500000 +y_0=1000000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2925"]="+proj=lcc +lat_1=37.96666666666667 +lat_2=36.76666666666667 +lat_0=36.33333333333334 +lon_0=-78.5 +x_0=3500000.0001016 +y_0=999999.9998983998 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32048"]="+proj=lcc +lat_1=47.5 +lat_2=48.73333333333333 +lat_0=47 +lon_0=-120.8333333333333 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32049"]="+proj=lcc +lat_1=45.83333333333334 +lat_2=47.33333333333334 +lat_0=45.33333333333334 +lon_0=-120.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32148"]="+proj=lcc +lat_1=48.73333333333333 +lat_2=47.5 +lat_0=47 +lon_0=-120.8333333333333 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2285"]="+proj=lcc +lat_1=48.73333333333333 +lat_2=47.5 +lat_0=47 +lon_0=-120.8333333333333 +x_0=500000.0001016001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32149"]="+proj=lcc +lat_1=47.33333333333334 +lat_2=45.83333333333334 +lat_0=45.33333333333334 +lon_0=-120.5 +x_0=500000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2286"]="+proj=lcc +lat_1=47.33333333333334 +lat_2=45.83333333333334 +lat_0=45.33333333333334 +lon_0=-120.5 +x_0=500000.0001016001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2855"]="+proj=lcc +lat_1=48.73333333333333 +lat_2=47.5 +lat_0=47 +lon_0=-120.8333333333333 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2926"]="+proj=lcc +lat_1=48.73333333333333 +lat_2=47.5 +lat_0=47 +lon_0=-120.8333333333333 +x_0=500000.0001016001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2856"]="+proj=lcc +lat_1=47.33333333333334 +lat_2=45.83333333333334 +lat_0=45.33333333333334 +lon_0=-120.5 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2927"]="+proj=lcc +lat_1=47.33333333333334 +lat_2=45.83333333333334 +lat_0=45.33333333333334 +lon_0=-120.5 +x_0=500000.0001016001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32050"]="+proj=lcc +lat_1=39 +lat_2=40.25 +lat_0=38.5 +lon_0=-79.5 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32051"]="+proj=lcc +lat_1=37.48333333333333 +lat_2=38.88333333333333 +lat_0=37 +lon_0=-81 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32150"]="+proj=lcc +lat_1=40.25 +lat_2=39 +lat_0=38.5 +lon_0=-79.5 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26853"]="+proj=lcc +lat_1=40.25 +lat_2=39 +lat_0=38.5 +lon_0=-79.5 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32151"]="+proj=lcc +lat_1=38.88333333333333 +lat_2=37.48333333333333 +lat_0=37 +lon_0=-81 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26854"]="+proj=lcc +lat_1=38.88333333333333 +lat_2=37.48333333333333 +lat_0=37 +lon_0=-81 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2857"]="+proj=lcc +lat_1=40.25 +lat_2=39 +lat_0=38.5 +lon_0=-79.5 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26861"]="+proj=lcc +lat_1=40.25 +lat_2=39 +lat_0=38.5 +lon_0=-79.5 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2858"]="+proj=lcc +lat_1=38.88333333333333 +lat_2=37.48333333333333 +lat_0=37 +lon_0=-81 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26862"]="+proj=lcc +lat_1=38.88333333333333 +lat_2=37.48333333333333 +lat_0=37 +lon_0=-81 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3069"]="+proj=tmerc +lat_0=0 +lon_0=-90 +k=0.9996 +x_0=500000 +y_0=-4500000 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:3070"]="+proj=tmerc +lat_0=0 +lon_0=-90 +k=0.9996 +x_0=520000 +y_0=-4480000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32053"]="+proj=lcc +lat_1=44.25 +lat_2=45.5 +lat_0=43.83333333333334 +lon_0=-90 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32052"]="+proj=lcc +lat_1=45.56666666666667 +lat_2=46.76666666666667 +lat_0=45.16666666666666 +lon_0=-90 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32054"]="+proj=lcc +lat_1=42.73333333333333 +lat_2=44.06666666666667 +lat_0=42 +lon_0=-90 +x_0=609601.2192024384 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32153"]="+proj=lcc +lat_1=45.5 +lat_2=44.25 +lat_0=43.83333333333334 +lon_0=-90 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2288"]="+proj=lcc +lat_1=45.5 +lat_2=44.25 +lat_0=43.83333333333334 +lon_0=-90 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32152"]="+proj=lcc +lat_1=46.76666666666667 +lat_2=45.56666666666667 +lat_0=45.16666666666666 +lon_0=-90 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2287"]="+proj=lcc +lat_1=46.76666666666667 +lat_2=45.56666666666667 +lat_0=45.16666666666666 +lon_0=-90 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32154"]="+proj=lcc +lat_1=44.06666666666667 +lat_2=42.73333333333333 +lat_0=42 +lon_0=-90 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2289"]="+proj=lcc +lat_1=44.06666666666667 +lat_2=42.73333333333333 +lat_0=42 +lon_0=-90 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2860"]="+proj=lcc +lat_1=45.5 +lat_2=44.25 +lat_0=43.83333333333334 +lon_0=-90 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2929"]="+proj=lcc +lat_1=45.5 +lat_2=44.25 +lat_0=43.83333333333334 +lon_0=-90 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2859"]="+proj=lcc +lat_1=46.76666666666667 +lat_2=45.56666666666667 +lat_0=45.16666666666666 +lon_0=-90 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2928"]="+proj=lcc +lat_1=46.76666666666667 +lat_2=45.56666666666667 +lat_0=45.16666666666666 +lon_0=-90 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2861"]="+proj=lcc +lat_1=44.06666666666667 +lat_2=42.73333333333333 +lat_0=42 +lon_0=-90 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2930"]="+proj=lcc +lat_1=44.06666666666667 +lat_2=42.73333333333333 +lat_0=42 +lon_0=-90 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3071"]="+proj=tmerc +lat_0=0 +lon_0=-90 +k=0.9996 +x_0=520000 +y_0=-4480000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:32055"]="+proj=tmerc +lat_0=40.66666666666666 +lon_0=-105.1666666666667 +k=0.999941177 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32056"]="+proj=tmerc +lat_0=40.66666666666666 +lon_0=-107.3333333333333 +k=0.999941177 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32058"]="+proj=tmerc +lat_0=40.66666666666666 +lon_0=-110.0833333333333 +k=0.999941177 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32057"]="+proj=tmerc +lat_0=40.66666666666666 +lon_0=-108.75 +k=0.999941177 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32155"]="+proj=tmerc +lat_0=40.5 +lon_0=-105.1666666666667 +k=0.9999375 +x_0=200000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3736"]="+proj=tmerc +lat_0=40.5 +lon_0=-105.1666666666667 +k=0.9999375 +x_0=200000.00001016 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32156"]="+proj=tmerc +lat_0=40.5 +lon_0=-107.3333333333333 +k=0.9999375 +x_0=400000 +y_0=100000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3737"]="+proj=tmerc +lat_0=40.5 +lon_0=-107.3333333333333 +k=0.9999375 +x_0=399999.99998984 +y_0=99999.99998983997 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32158"]="+proj=tmerc +lat_0=40.5 +lon_0=-110.0833333333333 +k=0.9999375 +x_0=800000 +y_0=100000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3739"]="+proj=tmerc +lat_0=40.5 +lon_0=-110.0833333333333 +k=0.9999375 +x_0=800000.0000101599 +y_0=99999.99998983997 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32157"]="+proj=tmerc +lat_0=40.5 +lon_0=-108.75 +k=0.9999375 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:3738"]="+proj=tmerc +lat_0=40.5 +lon_0=-108.75 +k=0.9999375 +x_0=600000 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2862"]="+proj=tmerc +lat_0=40.5 +lon_0=-105.1666666666667 +k=0.9999375 +x_0=200000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2863"]="+proj=tmerc +lat_0=40.5 +lon_0=-107.3333333333333 +k=0.9999375 +x_0=400000 +y_0=100000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3756"]="+proj=tmerc +lat_0=40.5 +lon_0=-107.3333333333333 +k=0.9999375 +x_0=399999.99998984 +y_0=99999.99998983997 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3755"]="+proj=tmerc +lat_0=40.5 +lon_0=-105.1666666666667 +k=0.9999375 +x_0=200000.00001016 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2865"]="+proj=tmerc +lat_0=40.5 +lon_0=-110.0833333333333 +k=0.9999375 +x_0=800000 +y_0=100000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2864"]="+proj=tmerc +lat_0=40.5 +lon_0=-108.75 +k=0.9999375 +x_0=600000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3757"]="+proj=tmerc +lat_0=40.5 +lon_0=-108.75 +k=0.9999375 +x_0=600000 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3758"]="+proj=tmerc +lat_0=40.5 +lon_0=-110.0833333333333 +k=0.9999375 +x_0=800000.0000101599 +y_0=99999.99998983997 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32161"]="+proj=lcc +lat_1=18.43333333333333 +lat_2=18.03333333333333 +lat_0=17.83333333333333 +lon_0=-66.43333333333334 +x_0=200000 +y_0=200000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2866"]="+proj=lcc +lat_1=18.43333333333333 +lat_2=18.03333333333333 +lat_0=17.83333333333333 +lon_0=-66.43333333333334 +x_0=200000 +y_0=200000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2195"]="+proj=utm +zone=2 +south +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:4169"]="+proj=longlat +ellps=clrk66 +towgs84=-115,118,426,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4675"]="+proj=longlat +ellps=clrk66 +towgs84=-100,-248,259,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4725"]="+proj=longlat +ellps=intl +towgs84=189,-79,-202,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4727"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4139"]="+proj=longlat +ellps=clrk66 +towgs84=11,72,-101,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3991"]="+proj=lcc +lat_1=18.43333333333333 +lat_2=18.03333333333333 +lat_0=17.83333333333333 +lon_0=-66.43333333333334 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +towgs84=11,72,-101,0,0,0,0 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3992"]="+proj=lcc +lat_1=18.43333333333333 +lat_2=18.03333333333333 +lat_0=17.83333333333333 +lon_0=-66.43333333333334 +x_0=152400.3048006096 +y_0=30480.06096012192 +ellps=clrk66 +towgs84=11,72,-101,0,0,0,0 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3920"]="+proj=utm +zone=20 +ellps=clrk66 +towgs84=11,72,-101,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4735"]="+proj=longlat +ellps=intl +towgs84=647,1777,-1124,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4733"]="+proj=longlat +ellps=intl +towgs84=276,-57,149,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4707"]="+proj=longlat +ellps=intl +towgs84=114,-116,-333,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4732"]="+proj=longlat +a=6378270 +b=6356794.343434343 +towgs84=102,52,-38,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3102"]="+proj=lcc +lat_1=-14.26666666666667 +lat_0=-14.26666666666667 +lon_0=-170 +k_0=1 +x_0=152400.3048006096 +y_0=95169.31165862332 +ellps=clrk66 +towgs84=-115,118,426,0,0,0,0 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:4309"]="+proj=longlat +ellps=intl +towgs84=-155,171,37,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:28406"]="+proj=tmerc +lat_0=0 +lon_0=33 +k=1 +x_0=6500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28407"]="+proj=tmerc +lat_0=0 +lon_0=39 +k=1 +x_0=7500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28408"]="+proj=tmerc +lat_0=0 +lon_0=45 +k=1 +x_0=8500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28409"]="+proj=tmerc +lat_0=0 +lon_0=51 +k=1 +x_0=9500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28410"]="+proj=tmerc +lat_0=0 +lon_0=57 +k=1 +x_0=10500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28411"]="+proj=tmerc +lat_0=0 +lon_0=63 +k=1 +x_0=11500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28412"]="+proj=tmerc +lat_0=0 +lon_0=69 +k=1 +x_0=12500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28424"]="+proj=tmerc +lat_0=0 +lon_0=141 +k=1 +x_0=24500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28425"]="+proj=tmerc +lat_0=0 +lon_0=147 +k=1 +x_0=25500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28426"]="+proj=tmerc +lat_0=0 +lon_0=153 +k=1 +x_0=26500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28427"]="+proj=tmerc +lat_0=0 +lon_0=159 +k=1 +x_0=27500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28428"]="+proj=tmerc +lat_0=0 +lon_0=165 +k=1 +x_0=28500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28429"]="+proj=tmerc +lat_0=0 +lon_0=171 +k=1 +x_0=29500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28430"]="+proj=tmerc +lat_0=0 +lon_0=177 +k=1 +x_0=30500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28431"]="+proj=tmerc +lat_0=0 +lon_0=-177 +k=1 +x_0=31500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28432"]="+proj=tmerc +lat_0=0 +lon_0=-171 +k=1 +x_0=32500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:3388"]="+proj=merc +lon_0=51 +k=1 +x_0=0 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2935"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=41.53333333333333 +k=1 +x_0=1300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2936"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=44.53333333333333 +k=1 +x_0=2300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2937"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=47.53333333333333 +k=1 +x_0=3300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2938"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=50.53333333333333 +k=1 +x_0=4300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2939"]="+proj=tmerc +lat_0=0.1333333333333333 +lon_0=50.76666666666667 +k=1 +x_0=2300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2940"]="+proj=tmerc +lat_0=0.1333333333333333 +lon_0=53.76666666666667 +k=1 +x_0=3300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2941"]="+proj=tmerc +lat_0=0.1333333333333333 +lon_0=56.76666666666667 +k=1 +x_0=4300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2508"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2509"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2510"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2511"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2512"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2513"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2514"]="+proj=tmerc +lat_0=0 +lon_0=141 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2515"]="+proj=tmerc +lat_0=0 +lon_0=147 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2516"]="+proj=tmerc +lat_0=0 +lon_0=153 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2517"]="+proj=tmerc +lat_0=0 +lon_0=159 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2518"]="+proj=tmerc +lat_0=0 +lon_0=165 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2519"]="+proj=tmerc +lat_0=0 +lon_0=171 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2522"]="+proj=tmerc +lat_0=0 +lon_0=-171 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2520"]="+proj=tmerc +lat_0=0 +lon_0=177 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2521"]="+proj=tmerc +lat_0=0 +lon_0=-177 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2494"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2495"]="+proj=tmerc +lat_0=0 +lon_0=27 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2496"]="+proj=tmerc +lat_0=0 +lon_0=33 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2497"]="+proj=tmerc +lat_0=0 +lon_0=39 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2498"]="+proj=tmerc +lat_0=0 +lon_0=45 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2499"]="+proj=tmerc +lat_0=0 +lon_0=51 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2500"]="+proj=tmerc +lat_0=0 +lon_0=57 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2501"]="+proj=tmerc +lat_0=0 +lon_0=63 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2502"]="+proj=tmerc +lat_0=0 +lon_0=69 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2503"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2504"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2505"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2506"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2507"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2610"]="+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2611"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2612"]="+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2613"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2614"]="+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2615"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2616"]="+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2617"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2618"]="+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2619"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2620"]="+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2621"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2622"]="+proj=tmerc +lat_0=0 +lon_0=138 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2623"]="+proj=tmerc +lat_0=0 +lon_0=141 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2624"]="+proj=tmerc +lat_0=0 +lon_0=144 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2625"]="+proj=tmerc +lat_0=0 +lon_0=147 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2626"]="+proj=tmerc +lat_0=0 +lon_0=150 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2627"]="+proj=tmerc +lat_0=0 +lon_0=153 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2628"]="+proj=tmerc +lat_0=0 +lon_0=156 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2629"]="+proj=tmerc +lat_0=0 +lon_0=159 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2630"]="+proj=tmerc +lat_0=0 +lon_0=162 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2631"]="+proj=tmerc +lat_0=0 +lon_0=165 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2632"]="+proj=tmerc +lat_0=0 +lon_0=168 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2640"]="+proj=tmerc +lat_0=0 +lon_0=-168 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2633"]="+proj=tmerc +lat_0=0 +lon_0=171 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2639"]="+proj=tmerc +lat_0=0 +lon_0=-171 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2634"]="+proj=tmerc +lat_0=0 +lon_0=174 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2638"]="+proj=tmerc +lat_0=0 +lon_0=-174 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2635"]="+proj=tmerc +lat_0=0 +lon_0=177 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2637"]="+proj=tmerc +lat_0=0 +lon_0=-177 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2636"]="+proj=tmerc +lat_0=0 +lon_0=180 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2582"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2583"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2584"]="+proj=tmerc +lat_0=0 +lon_0=27 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2585"]="+proj=tmerc +lat_0=0 +lon_0=30 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2586"]="+proj=tmerc +lat_0=0 +lon_0=33 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2587"]="+proj=tmerc +lat_0=0 +lon_0=36 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2588"]="+proj=tmerc +lat_0=0 +lon_0=39 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2589"]="+proj=tmerc +lat_0=0 +lon_0=42 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2590"]="+proj=tmerc +lat_0=0 +lon_0=45 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2591"]="+proj=tmerc +lat_0=0 +lon_0=48 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2592"]="+proj=tmerc +lat_0=0 +lon_0=51 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2593"]="+proj=tmerc +lat_0=0 +lon_0=54 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2594"]="+proj=tmerc +lat_0=0 +lon_0=57 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2595"]="+proj=tmerc +lat_0=0 +lon_0=60 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2596"]="+proj=tmerc +lat_0=0 +lon_0=63 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2597"]="+proj=tmerc +lat_0=0 +lon_0=66 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2598"]="+proj=tmerc +lat_0=0 +lon_0=69 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2599"]="+proj=tmerc +lat_0=0 +lon_0=72 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2601"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2602"]="+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2603"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2604"]="+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2605"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2606"]="+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2607"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2608"]="+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2609"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2526"]="+proj=tmerc +lat_0=0 +lon_0=30 +k=1 +x_0=10500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2527"]="+proj=tmerc +lat_0=0 +lon_0=33 +k=1 +x_0=11500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2528"]="+proj=tmerc +lat_0=0 +lon_0=36 +k=1 +x_0=12500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2529"]="+proj=tmerc +lat_0=0 +lon_0=39 +k=1 +x_0=13500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2530"]="+proj=tmerc +lat_0=0 +lon_0=42 +k=1 +x_0=14500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2531"]="+proj=tmerc +lat_0=0 +lon_0=45 +k=1 +x_0=15500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2532"]="+proj=tmerc +lat_0=0 +lon_0=48 +k=1 +x_0=16500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2533"]="+proj=tmerc +lat_0=0 +lon_0=51 +k=1 +x_0=17500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2534"]="+proj=tmerc +lat_0=0 +lon_0=54 +k=1 +x_0=18500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2535"]="+proj=tmerc +lat_0=0 +lon_0=57 +k=1 +x_0=19500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2536"]="+proj=tmerc +lat_0=0 +lon_0=60 +k=1 +x_0=20500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2537"]="+proj=tmerc +lat_0=0 +lon_0=63 +k=1 +x_0=21500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2538"]="+proj=tmerc +lat_0=0 +lon_0=66 +k=1 +x_0=22500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2539"]="+proj=tmerc +lat_0=0 +lon_0=69 +k=1 +x_0=23500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2540"]="+proj=tmerc +lat_0=0 +lon_0=72 +k=1 +x_0=24500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2541"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=25500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2542"]="+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=26500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2543"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=27500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2544"]="+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=28500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2545"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=29500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2546"]="+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=30500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2547"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=31500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2548"]="+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=32500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2549"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=33500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2551"]="+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=34500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2552"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=35500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2553"]="+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=36500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2554"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=37500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2555"]="+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=38500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2556"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=39500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2557"]="+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=40500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2558"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=41500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2559"]="+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=42500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2560"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=43500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2561"]="+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=44500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2562"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=45500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2563"]="+proj=tmerc +lat_0=0 +lon_0=138 +k=1 +x_0=46500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2564"]="+proj=tmerc +lat_0=0 +lon_0=141 +k=1 +x_0=47500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2565"]="+proj=tmerc +lat_0=0 +lon_0=144 +k=1 +x_0=48500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2566"]="+proj=tmerc +lat_0=0 +lon_0=147 +k=1 +x_0=49500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2567"]="+proj=tmerc +lat_0=0 +lon_0=150 +k=1 +x_0=50500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2568"]="+proj=tmerc +lat_0=0 +lon_0=153 +k=1 +x_0=51500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2569"]="+proj=tmerc +lat_0=0 +lon_0=156 +k=1 +x_0=52500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2570"]="+proj=tmerc +lat_0=0 +lon_0=159 +k=1 +x_0=53500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2571"]="+proj=tmerc +lat_0=0 +lon_0=162 +k=1 +x_0=54500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2572"]="+proj=tmerc +lat_0=0 +lon_0=165 +k=1 +x_0=55500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2573"]="+proj=tmerc +lat_0=0 +lon_0=168 +k=1 +x_0=56500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2574"]="+proj=tmerc +lat_0=0 +lon_0=171 +k=1 +x_0=57500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2575"]="+proj=tmerc +lat_0=0 +lon_0=174 +k=1 +x_0=58500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2576"]="+proj=tmerc +lat_0=0 +lon_0=177 +k=1 +x_0=59500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:3389"]="+proj=tmerc +lat_0=0 +lon_0=180 +k=1 +x_0=60500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2578"]="+proj=tmerc +lat_0=0 +lon_0=-177 +k=1 +x_0=61500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2579"]="+proj=tmerc +lat_0=0 +lon_0=-174 +k=1 +x_0=62500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2580"]="+proj=tmerc +lat_0=0 +lon_0=-171 +k=1 +x_0=63500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2581"]="+proj=tmerc +lat_0=0 +lon_0=-168 +k=1 +x_0=64500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2523"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=1 +x_0=7500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2524"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=1 +x_0=8500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2525"]="+proj=tmerc +lat_0=0 +lon_0=27 +k=1 +x_0=9500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:4284"]="+proj=longlat +ellps=krass +no_defs ";Proj4js.defs["EPSG:4179"]="+proj=longlat +ellps=krass +towgs84=33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84 +no_defs ";Proj4js.defs["EPSG:4178"]="+proj=longlat +ellps=krass +towgs84=24,-123,-94,0.02,-0.25,-0.13,1.1 +no_defs ";Proj4js.defs["EPSG:2726"]="+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2727"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2728"]="+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2729"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2730"]="+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2731"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2732"]="+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2733"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2734"]="+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2735"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2738"]="+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2739"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2740"]="+proj=tmerc +lat_0=0 +lon_0=138 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2741"]="+proj=tmerc +lat_0=0 +lon_0=141 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2742"]="+proj=tmerc +lat_0=0 +lon_0=144 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2743"]="+proj=tmerc +lat_0=0 +lon_0=147 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2744"]="+proj=tmerc +lat_0=0 +lon_0=150 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2745"]="+proj=tmerc +lat_0=0 +lon_0=153 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2746"]="+proj=tmerc +lat_0=0 +lon_0=156 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2747"]="+proj=tmerc +lat_0=0 +lon_0=159 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2748"]="+proj=tmerc +lat_0=0 +lon_0=162 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2749"]="+proj=tmerc +lat_0=0 +lon_0=165 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2750"]="+proj=tmerc +lat_0=0 +lon_0=168 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2758"]="+proj=tmerc +lat_0=0 +lon_0=-168 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2751"]="+proj=tmerc +lat_0=0 +lon_0=171 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2757"]="+proj=tmerc +lat_0=0 +lon_0=-171 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2752"]="+proj=tmerc +lat_0=0 +lon_0=174 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2756"]="+proj=tmerc +lat_0=0 +lon_0=-174 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2753"]="+proj=tmerc +lat_0=0 +lon_0=177 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2755"]="+proj=tmerc +lat_0=0 +lon_0=-177 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2754"]="+proj=tmerc +lat_0=0 +lon_0=180 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2699"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2700"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2701"]="+proj=tmerc +lat_0=0 +lon_0=27 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2702"]="+proj=tmerc +lat_0=0 +lon_0=30 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2703"]="+proj=tmerc +lat_0=0 +lon_0=33 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2704"]="+proj=tmerc +lat_0=0 +lon_0=36 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2705"]="+proj=tmerc +lat_0=0 +lon_0=39 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2706"]="+proj=tmerc +lat_0=0 +lon_0=42 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2707"]="+proj=tmerc +lat_0=0 +lon_0=45 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2708"]="+proj=tmerc +lat_0=0 +lon_0=48 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2709"]="+proj=tmerc +lat_0=0 +lon_0=51 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2710"]="+proj=tmerc +lat_0=0 +lon_0=54 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2711"]="+proj=tmerc +lat_0=0 +lon_0=57 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2712"]="+proj=tmerc +lat_0=0 +lon_0=60 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2713"]="+proj=tmerc +lat_0=0 +lon_0=63 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2714"]="+proj=tmerc +lat_0=0 +lon_0=66 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2715"]="+proj=tmerc +lat_0=0 +lon_0=69 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2716"]="+proj=tmerc +lat_0=0 +lon_0=72 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2717"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2718"]="+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2719"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2720"]="+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2721"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2722"]="+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2723"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2724"]="+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2725"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2644"]="+proj=tmerc +lat_0=0 +lon_0=30 +k=1 +x_0=10500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2645"]="+proj=tmerc +lat_0=0 +lon_0=33 +k=1 +x_0=11500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2646"]="+proj=tmerc +lat_0=0 +lon_0=36 +k=1 +x_0=12500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2647"]="+proj=tmerc +lat_0=0 +lon_0=39 +k=1 +x_0=13500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2648"]="+proj=tmerc +lat_0=0 +lon_0=42 +k=1 +x_0=14500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2649"]="+proj=tmerc +lat_0=0 +lon_0=45 +k=1 +x_0=15500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2650"]="+proj=tmerc +lat_0=0 +lon_0=48 +k=1 +x_0=16500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2651"]="+proj=tmerc +lat_0=0 +lon_0=51 +k=1 +x_0=17500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2652"]="+proj=tmerc +lat_0=0 +lon_0=54 +k=1 +x_0=18500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2653"]="+proj=tmerc +lat_0=0 +lon_0=57 +k=1 +x_0=19500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2654"]="+proj=tmerc +lat_0=0 +lon_0=60 +k=1 +x_0=20500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2655"]="+proj=tmerc +lat_0=0 +lon_0=63 +k=1 +x_0=21500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2656"]="+proj=tmerc +lat_0=0 +lon_0=66 +k=1 +x_0=22500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2657"]="+proj=tmerc +lat_0=0 +lon_0=69 +k=1 +x_0=23500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2658"]="+proj=tmerc +lat_0=0 +lon_0=72 +k=1 +x_0=24500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2659"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=25500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2660"]="+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=26500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2661"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=27500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2662"]="+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=28500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2663"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=29500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2664"]="+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=30500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2665"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=31500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2666"]="+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=32500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2667"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=33500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2668"]="+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=34500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2669"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=35500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2670"]="+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=36500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2671"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=37500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2672"]="+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=38500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2673"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=39500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2674"]="+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=40500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2675"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=41500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2676"]="+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=42500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2677"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=43500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2678"]="+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=44500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2679"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=45500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2680"]="+proj=tmerc +lat_0=0 +lon_0=138 +k=1 +x_0=46500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2681"]="+proj=tmerc +lat_0=0 +lon_0=141 +k=1 +x_0=47500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2682"]="+proj=tmerc +lat_0=0 +lon_0=144 +k=1 +x_0=48500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2683"]="+proj=tmerc +lat_0=0 +lon_0=147 +k=1 +x_0=49500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2684"]="+proj=tmerc +lat_0=0 +lon_0=150 +k=1 +x_0=50500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2685"]="+proj=tmerc +lat_0=0 +lon_0=153 +k=1 +x_0=51500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2686"]="+proj=tmerc +lat_0=0 +lon_0=156 +k=1 +x_0=52500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2687"]="+proj=tmerc +lat_0=0 +lon_0=159 +k=1 +x_0=53500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2688"]="+proj=tmerc +lat_0=0 +lon_0=162 +k=1 +x_0=54500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2689"]="+proj=tmerc +lat_0=0 +lon_0=165 +k=1 +x_0=55500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2690"]="+proj=tmerc +lat_0=0 +lon_0=168 +k=1 +x_0=56500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2691"]="+proj=tmerc +lat_0=0 +lon_0=171 +k=1 +x_0=57500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2692"]="+proj=tmerc +lat_0=0 +lon_0=174 +k=1 +x_0=58500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2693"]="+proj=tmerc +lat_0=0 +lon_0=177 +k=1 +x_0=59500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:3390"]="+proj=tmerc +lat_0=0 +lon_0=180 +k=1 +x_0=60500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2695"]="+proj=tmerc +lat_0=0 +lon_0=-177 +k=1 +x_0=61500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2696"]="+proj=tmerc +lat_0=0 +lon_0=-174 +k=1 +x_0=62500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2697"]="+proj=tmerc +lat_0=0 +lon_0=-171 +k=1 +x_0=63500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2698"]="+proj=tmerc +lat_0=0 +lon_0=-168 +k=1 +x_0=64500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2641"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=1 +x_0=7500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2642"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=1 +x_0=8500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2643"]="+proj=tmerc +lat_0=0 +lon_0=27 +k=1 +x_0=9500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:3146"]="+proj=tmerc +lat_0=0 +lon_0=18 +k=1 +x_0=6500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:3147"]="+proj=tmerc +lat_0=0 +lon_0=18 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28410"]="+proj=tmerc +lat_0=0 +lon_0=57 +k=1 +x_0=10500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28411"]="+proj=tmerc +lat_0=0 +lon_0=63 +k=1 +x_0=11500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28412"]="+proj=tmerc +lat_0=0 +lon_0=69 +k=1 +x_0=12500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:4714"]="+proj=longlat +ellps=intl +towgs84=-127,-769,472,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:32618"]="+proj=utm +zone=18 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32619"]="+proj=utm +zone=19 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32620"]="+proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:24818"]="+proj=utm +zone=18 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24819"]="+proj=utm +zone=19 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24820"]="+proj=utm +zone=20 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:29168"]="+proj=utm +zone=18 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29169"]="+proj=utm +zone=19 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29170"]="+proj=utm +zone=20 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:4247"]="+proj=longlat +ellps=intl +towgs84=-273.5,110.6,-357.9,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:24718"]="+proj=utm +zone=18 +ellps=intl +towgs84=-273.5,110.6,-357.9,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24719"]="+proj=utm +zone=19 +ellps=intl +towgs84=-273.5,110.6,-357.9,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24720"]="+proj=utm +zone=20 +ellps=intl +towgs84=-273.5,110.6,-357.9,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2201"]="+proj=utm +zone=18 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4189"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2202"]="+proj=utm +zone=19 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2203"]="+proj=utm +zone=20 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2093"]="+proj=tmerc +lat_0=0 +lon_0=106 +k=1 +x_0=500000 +y_0=0 +ellps=krass +towgs84=-17.51,-108.32,-62.39,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2044"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=18500000 +y_0=0 +ellps=krass +towgs84=-17.51,-108.32,-62.39,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2045"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=19500000 +y_0=0 +ellps=krass +towgs84=-17.51,-108.32,-62.39,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4147"]="+proj=longlat +ellps=krass +towgs84=-17.51,-108.32,-62.39,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2001"]="+proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001 +x_0=400000 +y_0=0 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4601"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:2002"]="+proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001 +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=725,685,536,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4602"]="+proj=longlat +ellps=clrk80 +towgs84=725,685,536,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4625"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:2973"]="+proj=utm +zone=20 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4621"]="+proj=longlat +ellps=intl +towgs84=137,248,-430,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2969"]="+proj=utm +zone=20 +ellps=intl +towgs84=137,248,-430,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2003"]="+proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001 +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=72,213.7,93,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4603"]="+proj=longlat +ellps=clrk80 +towgs84=72,213.7,93,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2004"]="+proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001 +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4604"]="+proj=longlat +ellps=clrk80 +towgs84=174,359,365,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4158"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:2067"]="+proj=utm +zone=20 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4271"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:27120"]="+proj=utm +zone=20 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2970"]="+proj=utm +zone=20 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2005"]="+proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001 +x_0=400000 +y_0=0 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4605"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:2006"]="+proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001 +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=-149,128,296,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4606"]="+proj=longlat +ellps=clrk80 +towgs84=-149,128,296,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4212"]="+proj=longlat +ellps=clrk80 +towgs84=31.95,300.99,419.19,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4607"]="+proj=longlat +ellps=clrk80 +towgs84=195.671,332.517,274.607,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2007"]="+proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001 +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=195.671,332.517,274.607,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:21291"]="+proj=tmerc +lat_0=0 +lon_0=-62 +k=0.9995000000000001 +x_0=400000 +y_0=0 +ellps=clrk80 +towgs84=31.95,300.99,419.19,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:21292"]="+proj=tmerc +lat_0=13.17638888888889 +lon_0=-59.55972222222222 +k=0.9999986 +x_0=30000 +y_0=75000 +ellps=clrk80 +towgs84=31.95,300.99,419.19,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2395"]="+proj=tmerc +lat_0=0 +lon_0=45 +k=1 +x_0=8500000 +y_0=0 +ellps=krass +towgs84=-76,-138,67,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2396"]="+proj=tmerc +lat_0=0 +lon_0=51 +k=1 +x_0=9500000 +y_0=0 +ellps=krass +towgs84=-76,-138,67,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4164"]="+proj=longlat +ellps=krass +towgs84=-76,-138,67,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2089"]="+proj=utm +zone=38 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2090"]="+proj=utm +zone=39 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4163"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4318"]="+proj=longlat +ellps=WGS84 +towgs84=-3.2,-5.7,2.8,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:31838"]="+proj=utm +zone=38 +ellps=WGS84 +towgs84=-3.2,-5.7,2.8,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31839"]="+proj=utm +zone=39 +ellps=WGS84 +towgs84=-3.2,-5.7,2.8,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:20934"]="+proj=utm +zone=34 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:20935"]="+proj=utm +zone=35 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:20936"]="+proj=utm +zone=36 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:20935"]="+proj=utm +zone=35 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:20936"]="+proj=utm +zone=36 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:2136"]="+proj=tmerc +lat_0=4.666666666666667 +lon_0=-1 +k=0.99975 +x_0=274319.7391633579 +y_0=0 +a=6378300 +b=6356751.689189189 +towgs84=-199,32,322,0,0,0,0 +to_meter=0.3047997101815088 +no_defs ";Proj4js.defs["EPSG:4168"]="+proj=longlat +a=6378300 +b=6356751.689189189 +towgs84=-199,32,322,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2137"]="+proj=tmerc +lat_0=0 +lon_0=-1 +k=0.9996 +x_0=500000 +y_0=0 +a=6378300 +b=6356751.689189189 +towgs84=-199,32,322,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4143"]="+proj=longlat +ellps=clrk80 +towgs84=-124.76,53,466.79,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2165"]="+proj=tmerc +lat_0=0 +lon_0=-5 +k=0.9996 +x_0=500000 +y_0=0 +ellps=clrk80 +towgs84=-124.76,53,466.79,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2043"]="+proj=utm +zone=29 +ellps=clrk80 +towgs84=-124.76,53,466.79,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2041"]="+proj=utm +zone=30 +ellps=clrk80 +towgs84=-124.76,53,466.79,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4201"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:20135"]="+proj=utm +zone=35 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:20136"]="+proj=utm +zone=36 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:20137"]="+proj=utm +zone=37 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:20138"]="+proj=utm +zone=38 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4205"]="+proj=longlat +ellps=krass +towgs84=-43,-163,45,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:20538"]="+proj=utm +zone=38 +ellps=krass +towgs84=-43,-163,45,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:20539"]="+proj=utm +zone=39 +ellps=krass +towgs84=-43,-163,45,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4209"]="+proj=longlat +a=6378249.145 +b=6356514.966398753 +no_defs ";Proj4js.defs["EPSG:20934"]="+proj=utm +zone=34 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:20935"]="+proj=utm +zone=35 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:20936"]="+proj=utm +zone=36 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:4210"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:21095"]="+proj=utm +zone=35 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21035"]="+proj=utm +zone=35 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21096"]="+proj=utm +zone=36 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21036"]="+proj=utm +zone=36 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21097"]="+proj=utm +zone=37 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21037"]="+proj=utm +zone=37 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4220"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:22091"]="+proj=tmerc +lat_0=0 +lon_0=11.5 +k=0.9996 +x_0=500000 +y_0=10000000 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:22092"]="+proj=tmerc +lat_0=0 +lon_0=12 +k=0.9996 +x_0=500000 +y_0=10000000 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:22032"]="+proj=utm +zone=32 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:22033"]="+proj=utm +zone=33 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4222"]="+proj=longlat +a=6378249.145 +b=6356514.966398753 +no_defs ";Proj4js.defs["EPSG:22234"]="+proj=utm +zone=34 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:22235"]="+proj=utm +zone=35 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:22236"]="+proj=utm +zone=36 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:4155"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-83,37,124,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:3461"]="+proj=utm +zone=28 +a=6378249.2 +b=6356515 +towgs84=-83,37,124,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3462"]="+proj=utm +zone=29 +a=6378249.2 +b=6356515 +towgs84=-83,37,124,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2073"]="+proj=tmerc +lat_0=0 +lon_0=19 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2074"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2075"]="+proj=tmerc +lat_0=0 +lon_0=23 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2076"]="+proj=tmerc +lat_0=0 +lon_0=25 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2068"]="+proj=tmerc +lat_0=0 +lon_0=9 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2069"]="+proj=tmerc +lat_0=0 +lon_0=11 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2070"]="+proj=tmerc +lat_0=0 +lon_0=13 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2071"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2072"]="+proj=tmerc +lat_0=0 +lon_0=17 +k=0.9999 +x_0=200000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2087"]="+proj=tmerc +lat_0=0 +lon_0=12 +k=0.9996 +x_0=500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2077"]="+proj=utm +zone=32 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2078"]="+proj=utm +zone=33 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2079"]="+proj=utm +zone=34 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2080"]="+proj=utm +zone=35 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4148"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:25000"]="+proj=tmerc +lat_0=4.666666666666667 +lon_0=-1 +k=0.99975 +x_0=274319.51 +y_0=0 +ellps=clrk80 +towgs84=-130,29,364,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4250"]="+proj=longlat +ellps=clrk80 +towgs84=-130,29,364,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4251"]="+proj=longlat +ellps=clrk80 +towgs84=-90,40,88,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4142"]="+proj=longlat +ellps=clrk80 +towgs84=-125,53,467,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2164"]="+proj=tmerc +lat_0=0 +lon_0=-5 +k=0.9996 +x_0=500000 +y_0=0 +ellps=clrk80 +towgs84=-125,53,467,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2040"]="+proj=utm +zone=30 +ellps=clrk80 +towgs84=-125,53,467,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4259"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:25932"]="+proj=utm +zone=32 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4193"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-70.9,-151.8,-41.4,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2215"]="+proj=utm +zone=32 +a=6378249.2 +b=6356515 +towgs84=-70.9,-151.8,-41.4,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2042"]="+proj=utm +zone=29 +ellps=clrk80 +towgs84=-125,53,467,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4261"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=31,146,47,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4262"]="+proj=longlat +ellps=bessel +towgs84=639,405,60,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:26237"]="+proj=utm +zone=37 +ellps=bessel +towgs84=639,405,60,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:26191"]="+proj=lcc +lat_1=33.3 +lat_0=33.3 +lon_0=-5.4 +k_0=0.999625769 +x_0=500000 +y_0=300000 +a=6378249.2 +b=6356515 +towgs84=31,146,47,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:26194"]="+proj=lcc +lat_1=26.1 +lat_0=26.1 +lon_0=-5.4 +k_0=0.999616304 +x_0=1200000 +y_0=400000 +a=6378249.2 +b=6356515 +towgs84=31,146,47,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:26195"]="+proj=lcc +lat_1=22.5 +lat_0=22.5 +lon_0=-5.4 +k_0=0.999616437 +x_0=1500000 +y_0=400000 +a=6378249.2 +b=6356515 +towgs84=31,146,47,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:26192"]="+proj=lcc +lat_1=29.7 +lat_0=29.7 +lon_0=-5.4 +k_0=0.9996155960000001 +x_0=500000 +y_0=300000 +a=6378249.2 +b=6356515 +towgs84=31,146,47,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4264"]="+proj=longlat +ellps=intl +towgs84=-252.95,-4.11,-96.38,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:26432"]="+proj=utm +zone=32 +south +ellps=intl +towgs84=-252.95,-4.11,-96.38,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4263"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:26393"]="+proj=tmerc +lat_0=4 +lon_0=12.5 +k=0.99975 +x_0=1110369.7 +y_0=0 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:26392"]="+proj=tmerc +lat_0=4 +lon_0=8.5 +k=0.99975 +x_0=670553.98 +y_0=0 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:26391"]="+proj=tmerc +lat_0=4 +lon_0=4.5 +k=0.99975 +x_0=230738.26 +y_0=0 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:26331"]="+proj=utm +zone=31 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:26332"]="+proj=utm +zone=32 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4130"]="+proj=longlat +ellps=WGS84 +towgs84=0,0,0,-0,-0,-0,0 +no_defs ";Proj4js.defs["EPSG:3036"]="+proj=utm +zone=36 +south +ellps=WGS84 +towgs84=0,0,0,-0,-0,-0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3037"]="+proj=utm +zone=37 +south +ellps=WGS84 +towgs84=0,0,0,-0,-0,-0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4266"]="+proj=longlat +a=6378249.2 +b=6356515 +no_defs ";Proj4js.defs["EPSG:26632"]="+proj=utm +zone=32 +a=6378249.2 +b=6356515 +units=m +no_defs ";Proj4js.defs["EPSG:26692"]="+proj=utm +zone=32 +south +a=6378249.2 +b=6356515 +units=m +no_defs ";Proj4js.defs["EPSG:30791"]="+proj=lcc +lat_1=36 +lat_0=36 +lon_0=2.7 +k_0=0.999625544 +x_0=500135 +y_0=300090 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:4307"]="+proj=longlat +ellps=clrk80 +no_defs ";Proj4js.defs["EPSG:30792"]="+proj=lcc +lat_1=33.3 +lat_0=33.3 +lon_0=2.7 +k_0=0.999625769 +x_0=500135 +y_0=300090 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:30729"]="+proj=utm +zone=29 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:30730"]="+proj=utm +zone=30 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:30731"]="+proj=utm +zone=31 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:30732"]="+proj=utm +zone=32 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:22991"]="+proj=tmerc +lat_0=30 +lon_0=35 +k=1 +x_0=300000 +y_0=1100000 +ellps=helmert +units=m +no_defs ";Proj4js.defs["EPSG:22994"]="+proj=tmerc +lat_0=30 +lon_0=27 +k=1 +x_0=700000 +y_0=1200000 +ellps=helmert +units=m +no_defs ";Proj4js.defs["EPSG:4229"]="+proj=longlat +ellps=helmert +no_defs ";Proj4js.defs["EPSG:22993"]="+proj=tmerc +lat_0=30 +lon_0=27 +k=1 +x_0=700000 +y_0=200000 +ellps=helmert +units=m +no_defs ";Proj4js.defs["EPSG:22992"]="+proj=tmerc +lat_0=30 +lon_0=31 +k=1 +x_0=615000 +y_0=810000 +ellps=helmert +units=m +no_defs ";Proj4js.defs["EPSG:4282"]="+proj=longlat +a=6378249.2 +b=6356515 +no_defs ";Proj4js.defs["EPSG:4620"]="+proj=longlat +ellps=clrk80 +towgs84=-106,-129,165,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:28232"]="+proj=utm +zone=32 +south +a=6378249.2 +b=6356515 +units=m +no_defs ";Proj4js.defs["EPSG:4293"]="+proj=longlat +ellps=bess_nam +no_defs ";Proj4js.defs["EPSG:29333"]="+proj=utm +zone=33 +south +ellps=bess_nam +units=m +no_defs ";Proj4js.defs["EPSG:4175"]="+proj=longlat +ellps=clrk80 +towgs84=-88,4,101,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2161"]="+proj=utm +zone=28 +ellps=clrk80 +towgs84=-88,4,101,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2162"]="+proj=utm +zone=29 +ellps=clrk80 +towgs84=-88,4,101,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:29738"]="+proj=utm +zone=38 +south +ellps=intl +towgs84=-189,-242,-91,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:29739"]="+proj=utm +zone=39 +south +ellps=intl +towgs84=-189,-242,-91,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4297"]="+proj=longlat +ellps=intl +towgs84=-189,-242,-91,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2736"]="+proj=utm +zone=36 +south +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:4127"]="+proj=longlat +ellps=clrk66 +no_defs ";Proj4js.defs["EPSG:2737"]="+proj=utm +zone=37 +south +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:4304"]="+proj=longlat +a=6378249.2 +b=6356515 +towgs84=-73,-247,227,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:30491"]="+proj=lcc +lat_1=36 +lat_0=36 +lon_0=2.7 +k_0=0.999625544 +x_0=500000 +y_0=300000 +a=6378249.2 +b=6356515 +towgs84=-73,-247,227,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:30492"]="+proj=lcc +lat_1=33.3 +lat_0=33.3 +lon_0=2.7 +k_0=0.999625769 +x_0=500000 +y_0=300000 +a=6378249.2 +b=6356515 +towgs84=-73,-247,227,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2311"]="+proj=tmerc +lat_0=0 +lon_0=6 +k=0.9996 +x_0=500000 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32766"]="+proj=tmerc +lat_0=0 +lon_0=36 +k=0.9996 +x_0=500000 +y_0=10000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:4702"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4679"]="+proj=longlat +ellps=clrk80 +towgs84=-80.01,253.26,291.19,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4680"]="+proj=longlat +ellps=clrk80 +towgs84=124.5,-63.5,-281,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4707"]="+proj=longlat +ellps=intl +towgs84=114,-116,-333,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4230"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4258"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:2207"]="+proj=tmerc +lat_0=0 +lon_0=30 +k=1 +x_0=10500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2208"]="+proj=tmerc +lat_0=0 +lon_0=33 +k=1 +x_0=11500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2209"]="+proj=tmerc +lat_0=0 +lon_0=36 +k=1 +x_0=12500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2210"]="+proj=tmerc +lat_0=0 +lon_0=39 +k=1 +x_0=13500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2211"]="+proj=tmerc +lat_0=0 +lon_0=42 +k=1 +x_0=14500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2212"]="+proj=tmerc +lat_0=0 +lon_0=45 +k=1 +x_0=15500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2206"]="+proj=tmerc +lat_0=0 +lon_0=27 +k=1 +x_0=9500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2319"]="+proj=tmerc +lat_0=0 +lon_0=27 +k=1 +x_0=500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2320"]="+proj=tmerc +lat_0=0 +lon_0=30 +k=1 +x_0=500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2321"]="+proj=tmerc +lat_0=0 +lon_0=33 +k=1 +x_0=500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2322"]="+proj=tmerc +lat_0=0 +lon_0=36 +k=1 +x_0=500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2323"]="+proj=tmerc +lat_0=0 +lon_0=39 +k=1 +x_0=500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2324"]="+proj=tmerc +lat_0=0 +lon_0=42 +k=1 +x_0=500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2325"]="+proj=tmerc +lat_0=0 +lon_0=45 +k=1 +x_0=500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2058"]="+proj=utm +zone=38 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2059"]="+proj=utm +zone=39 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2060"]="+proj=utm +zone=40 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2061"]="+proj=utm +zone=41 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2198"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=1 +x_0=900000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2196"]="+proj=tmerc +lat_0=0 +lon_0=9.5 +k=0.99995 +x_0=200000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2197"]="+proj=tmerc +lat_0=0 +lon_0=12 +k=0.99995 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2176"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=0.999923 +x_0=5500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2177"]="+proj=tmerc +lat_0=0 +lon_0=18 +k=0.999923 +x_0=6500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2178"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=0.999923 +x_0=7500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2179"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=0.999923 +x_0=8500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2180"]="+proj=tmerc +lat_0=0 +lon_0=19 +k=0.9993 +x_0=500000 +y_0=-5300000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2213"]="+proj=tmerc +lat_0=0 +lon_0=30 +k=0.9996 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:25884"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=0.9996 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:25828"]="+proj=utm +zone=28 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:25829"]="+proj=utm +zone=29 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:25830"]="+proj=utm +zone=30 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:25831"]="+proj=utm +zone=31 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:25832"]="+proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:25833"]="+proj=utm +zone=33 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:25834"]="+proj=utm +zone=34 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:25835"]="+proj=utm +zone=35 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:25836"]="+proj=utm +zone=36 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:25837"]="+proj=utm +zone=37 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:25838"]="+proj=utm +zone=38 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:23090"]="+proj=tmerc +lat_0=0 +lon_0=0 +k=0.9996 +x_0=500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:23095"]="+proj=tmerc +lat_0=0 +lon_0=5 +k=0.9996 +x_0=500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4154"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4668"]="+proj=longlat +ellps=intl +towgs84=-86,-98,-119,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2397"]="+proj=tmerc +lat_0=0 +lon_0=9 +k=1 +x_0=3500000 +y_0=0 +ellps=krass +towgs84=24,-123,-94,0.02,-0.25,-0.13,1.1 +units=m +no_defs ";Proj4js.defs["EPSG:2398"]="+proj=tmerc +lat_0=0 +lon_0=12 +k=1 +x_0=4500000 +y_0=0 +ellps=krass +towgs84=24,-123,-94,0.02,-0.25,-0.13,1.1 +units=m +no_defs ";Proj4js.defs["EPSG:2399"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=1 +x_0=5500000 +y_0=0 +ellps=krass +towgs84=24,-123,-94,0.02,-0.25,-0.13,1.1 +units=m +no_defs ";Proj4js.defs["EPSG:23028"]="+proj=utm +zone=28 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:23029"]="+proj=utm +zone=29 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:23030"]="+proj=utm +zone=30 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:23031"]="+proj=utm +zone=31 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:23032"]="+proj=utm +zone=32 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:23033"]="+proj=utm +zone=33 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:23034"]="+proj=utm +zone=34 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:23035"]="+proj=utm +zone=35 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:23036"]="+proj=utm +zone=36 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:23037"]="+proj=utm +zone=37 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:23038"]="+proj=utm +zone=38 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4231"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:3034"]="+proj=lcc +lat_1=35 +lat_2=65 +lat_0=52 +lon_0=10 +x_0=4000000 +y_0=2800000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3035"]="+proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3038"]="+proj=utm +zone=26 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3039"]="+proj=utm +zone=27 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3040"]="+proj=utm +zone=28 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3041"]="+proj=utm +zone=29 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3042"]="+proj=utm +zone=30 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3043"]="+proj=utm +zone=31 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3044"]="+proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3045"]="+proj=utm +zone=33 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3046"]="+proj=utm +zone=34 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3047"]="+proj=utm +zone=35 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3048"]="+proj=utm +zone=36 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3049"]="+proj=utm +zone=37 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3050"]="+proj=utm +zone=38 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3051"]="+proj=utm +zone=39 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3108"]="+proj=tmerc +lat_0=49.5 +lon_0=-2.416666666666667 +k=0.999997 +x_0=47000 +y_0=50000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3109"]="+proj=tmerc +lat_0=49.225 +lon_0=-2.135 +k=0.9999999000000001 +x_0=40000 +y_0=70000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3067"]="+proj=utm +zone=35 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3126"]="+proj=tmerc +lat_0=0 +lon_0=19 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3127"]="+proj=tmerc +lat_0=0 +lon_0=20 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3128"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3129"]="+proj=tmerc +lat_0=0 +lon_0=22 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3130"]="+proj=tmerc +lat_0=0 +lon_0=23 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3131"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3132"]="+proj=tmerc +lat_0=0 +lon_0=25 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3133"]="+proj=tmerc +lat_0=0 +lon_0=26 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3134"]="+proj=tmerc +lat_0=0 +lon_0=27 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3135"]="+proj=tmerc +lat_0=0 +lon_0=28 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3136"]="+proj=tmerc +lat_0=0 +lon_0=29 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3137"]="+proj=tmerc +lat_0=0 +lon_0=30 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3138"]="+proj=tmerc +lat_0=0 +lon_0=31 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3064"]="+proj=utm +zone=32 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3065"]="+proj=utm +zone=33 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24817"]="+proj=utm +zone=17 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24818"]="+proj=utm +zone=18 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24819"]="+proj=utm +zone=19 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24820"]="+proj=utm +zone=20 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24821"]="+proj=utm +zone=21 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24877"]="+proj=utm +zone=17 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24878"]="+proj=utm +zone=18 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24879"]="+proj=utm +zone=19 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24880"]="+proj=utm +zone=20 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24881"]="+proj=utm +zone=21 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24882"]="+proj=utm +zone=22 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4623"]="+proj=longlat +ellps=intl +towgs84=-186,230,110,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2971"]="+proj=utm +zone=22 +ellps=intl +towgs84=-186,230,110,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4170"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:31986"]="+proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31992"]="+proj=utm +zone=17 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31987"]="+proj=utm +zone=18 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31993"]="+proj=utm +zone=18 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31988"]="+proj=utm +zone=19 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31994"]="+proj=utm +zone=19 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31989"]="+proj=utm +zone=20 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31995"]="+proj=utm +zone=20 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31990"]="+proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31996"]="+proj=utm +zone=21 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31991"]="+proj=utm +zone=22 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31997"]="+proj=utm +zone=22 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31998"]="+proj=utm +zone=23 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31999"]="+proj=utm +zone=24 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:32000"]="+proj=utm +zone=25 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2083"]="+proj=tmerc +lat_0=-90 +lon_0=-69 +k=1 +x_0=2500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2084"]="+proj=utm +zone=19 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4254"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:4190"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:2317"]="+proj=lcc +lat_1=9 +lat_2=3 +lat_0=6 +lon_0=-66 +x_0=1000000 +y_0=1000000 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24892"]="+proj=tmerc +lat_0=-9.5 +lon_0=-76 +k=0.99932994 +x_0=720000 +y_0=1039979.159 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24893"]="+proj=tmerc +lat_0=-9.5 +lon_0=-70.5 +k=0.99952992 +x_0=1324000 +y_0=1040084.558 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24891"]="+proj=tmerc +lat_0=-6 +lon_0=-80.5 +k=0.99983008 +x_0=222000 +y_0=1426834.743 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2201"]="+proj=utm +zone=18 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:4189"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:2202"]="+proj=utm +zone=19 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2203"]="+proj=utm +zone=20 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2972"]="+proj=utm +zone=22 +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:29101"]="+proj=poly +lat_0=0 +lon_0=-54 +x_0=5000000 +y_0=10000000 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29187"]="+proj=utm +zone=17 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29168"]="+proj=utm +zone=18 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29188"]="+proj=utm +zone=18 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29169"]="+proj=utm +zone=19 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29189"]="+proj=utm +zone=19 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29170"]="+proj=utm +zone=20 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29190"]="+proj=utm +zone=20 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29171"]="+proj=utm +zone=21 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29191"]="+proj=utm +zone=21 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29172"]="+proj=utm +zone=22 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29192"]="+proj=utm +zone=22 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29193"]="+proj=utm +zone=23 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29194"]="+proj=utm +zone=24 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29195"]="+proj=utm +zone=25 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:4309"]="+proj=longlat +ellps=intl +towgs84=-155,171,37,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4311"]="+proj=longlat +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:31171"]="+proj=tmerc +lat_0=0 +lon_0=-55.68333333333333 +k=0.9999 +x_0=500000 +y_0=0 +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31170"]="+proj=tmerc +lat_0=0 +lon_0=-55.68333333333333 +k=0.9996 +x_0=500000 +y_0=0 +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31154"]="+proj=tmerc +lat_0=0 +lon_0=-54 +k=0.9996 +x_0=500000 +y_0=0 +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31121"]="+proj=utm +zone=21 +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2309"]="+proj=tmerc +lat_0=0 +lon_0=116 +k=0.9996 +x_0=500000 +y_0=10000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:2310"]="+proj=tmerc +lat_0=0 +lon_0=132 +k=0.9996 +x_0=500000 +y_0=10000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:4674"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4686"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:31965"]="+proj=utm +zone=11 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31966"]="+proj=utm +zone=12 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31967"]="+proj=utm +zone=13 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31968"]="+proj=utm +zone=14 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31969"]="+proj=utm +zone=15 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31970"]="+proj=utm +zone=16 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31971"]="+proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31972"]="+proj=utm +zone=18 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31973"]="+proj=utm +zone=19 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31974"]="+proj=utm +zone=20 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31975"]="+proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31976"]="+proj=utm +zone=22 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31977"]="+proj=utm +zone=17 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31978"]="+proj=utm +zone=18 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31979"]="+proj=utm +zone=19 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31980"]="+proj=utm +zone=20 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31981"]="+proj=utm +zone=21 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31982"]="+proj=utm +zone=22 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31983"]="+proj=utm +zone=23 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31984"]="+proj=utm +zone=24 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31985"]="+proj=utm +zone=25 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:32210"]="+proj=utm +zone=10 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32310"]="+proj=utm +zone=10 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32211"]="+proj=utm +zone=11 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32311"]="+proj=utm +zone=11 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32212"]="+proj=utm +zone=12 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32312"]="+proj=utm +zone=12 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32213"]="+proj=utm +zone=13 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32313"]="+proj=utm +zone=13 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32214"]="+proj=utm +zone=14 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32314"]="+proj=utm +zone=14 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32215"]="+proj=utm +zone=15 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32315"]="+proj=utm +zone=15 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32216"]="+proj=utm +zone=16 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32316"]="+proj=utm +zone=16 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32217"]="+proj=utm +zone=17 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32317"]="+proj=utm +zone=17 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32218"]="+proj=utm +zone=18 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32318"]="+proj=utm +zone=18 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32219"]="+proj=utm +zone=19 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32319"]="+proj=utm +zone=19 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32201"]="+proj=utm +zone=1 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32301"]="+proj=utm +zone=1 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32220"]="+proj=utm +zone=20 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32320"]="+proj=utm +zone=20 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32221"]="+proj=utm +zone=21 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32321"]="+proj=utm +zone=21 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32222"]="+proj=utm +zone=22 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32322"]="+proj=utm +zone=22 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32223"]="+proj=utm +zone=23 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32323"]="+proj=utm +zone=23 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32224"]="+proj=utm +zone=24 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32324"]="+proj=utm +zone=24 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32225"]="+proj=utm +zone=25 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32325"]="+proj=utm +zone=25 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32226"]="+proj=utm +zone=26 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32326"]="+proj=utm +zone=26 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32227"]="+proj=utm +zone=27 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32327"]="+proj=utm +zone=27 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32228"]="+proj=utm +zone=28 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32328"]="+proj=utm +zone=28 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32229"]="+proj=utm +zone=29 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32329"]="+proj=utm +zone=29 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32202"]="+proj=utm +zone=2 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32302"]="+proj=utm +zone=2 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32230"]="+proj=utm +zone=30 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32330"]="+proj=utm +zone=30 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32231"]="+proj=utm +zone=31 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32331"]="+proj=utm +zone=31 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32232"]="+proj=utm +zone=32 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32332"]="+proj=utm +zone=32 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32233"]="+proj=utm +zone=33 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32333"]="+proj=utm +zone=33 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32234"]="+proj=utm +zone=34 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32334"]="+proj=utm +zone=34 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32235"]="+proj=utm +zone=35 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32335"]="+proj=utm +zone=35 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32236"]="+proj=utm +zone=36 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32336"]="+proj=utm +zone=36 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32237"]="+proj=utm +zone=37 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32337"]="+proj=utm +zone=37 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32238"]="+proj=utm +zone=38 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32338"]="+proj=utm +zone=38 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32239"]="+proj=utm +zone=39 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32339"]="+proj=utm +zone=39 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32203"]="+proj=utm +zone=3 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32303"]="+proj=utm +zone=3 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32240"]="+proj=utm +zone=40 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32340"]="+proj=utm +zone=40 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32241"]="+proj=utm +zone=41 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32341"]="+proj=utm +zone=41 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32242"]="+proj=utm +zone=42 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32342"]="+proj=utm +zone=42 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32243"]="+proj=utm +zone=43 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32343"]="+proj=utm +zone=43 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32244"]="+proj=utm +zone=44 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32344"]="+proj=utm +zone=44 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32245"]="+proj=utm +zone=45 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32345"]="+proj=utm +zone=45 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32246"]="+proj=utm +zone=46 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32346"]="+proj=utm +zone=46 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32247"]="+proj=utm +zone=47 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32347"]="+proj=utm +zone=47 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32248"]="+proj=utm +zone=48 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32348"]="+proj=utm +zone=48 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32249"]="+proj=utm +zone=49 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32349"]="+proj=utm +zone=49 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32204"]="+proj=utm +zone=4 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32304"]="+proj=utm +zone=4 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32250"]="+proj=utm +zone=50 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32350"]="+proj=utm +zone=50 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32251"]="+proj=utm +zone=51 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32351"]="+proj=utm +zone=51 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32252"]="+proj=utm +zone=52 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32352"]="+proj=utm +zone=52 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32253"]="+proj=utm +zone=53 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32353"]="+proj=utm +zone=53 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32254"]="+proj=utm +zone=54 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32354"]="+proj=utm +zone=54 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32255"]="+proj=utm +zone=55 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32355"]="+proj=utm +zone=55 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32256"]="+proj=utm +zone=56 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32356"]="+proj=utm +zone=56 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32257"]="+proj=utm +zone=57 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32357"]="+proj=utm +zone=57 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32258"]="+proj=utm +zone=58 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32358"]="+proj=utm +zone=58 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32259"]="+proj=utm +zone=59 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32359"]="+proj=utm +zone=59 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32205"]="+proj=utm +zone=5 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32305"]="+proj=utm +zone=5 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32260"]="+proj=utm +zone=60 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32360"]="+proj=utm +zone=60 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32206"]="+proj=utm +zone=6 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32306"]="+proj=utm +zone=6 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32207"]="+proj=utm +zone=7 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32307"]="+proj=utm +zone=7 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32208"]="+proj=utm +zone=8 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32308"]="+proj=utm +zone=8 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32209"]="+proj=utm +zone=9 +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:32309"]="+proj=utm +zone=9 +south +ellps=WGS72 +units=m +no_defs ";Proj4js.defs["EPSG:2094"]="+proj=tmerc +lat_0=0 +lon_0=106 +k=0.9996 +x_0=500000 +y_0=0 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32410"]="+proj=utm +zone=10 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32510"]="+proj=utm +zone=10 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32411"]="+proj=utm +zone=11 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32511"]="+proj=utm +zone=11 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32412"]="+proj=utm +zone=12 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32512"]="+proj=utm +zone=12 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32413"]="+proj=utm +zone=13 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32513"]="+proj=utm +zone=13 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32414"]="+proj=utm +zone=14 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32514"]="+proj=utm +zone=14 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32415"]="+proj=utm +zone=15 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32515"]="+proj=utm +zone=15 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32416"]="+proj=utm +zone=16 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32516"]="+proj=utm +zone=16 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32417"]="+proj=utm +zone=17 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32517"]="+proj=utm +zone=17 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32418"]="+proj=utm +zone=18 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32518"]="+proj=utm +zone=18 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32419"]="+proj=utm +zone=19 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32519"]="+proj=utm +zone=19 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32401"]="+proj=utm +zone=1 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32501"]="+proj=utm +zone=1 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32420"]="+proj=utm +zone=20 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32520"]="+proj=utm +zone=20 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32421"]="+proj=utm +zone=21 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32521"]="+proj=utm +zone=21 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32422"]="+proj=utm +zone=22 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32522"]="+proj=utm +zone=22 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32423"]="+proj=utm +zone=23 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32523"]="+proj=utm +zone=23 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32424"]="+proj=utm +zone=24 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32524"]="+proj=utm +zone=24 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32425"]="+proj=utm +zone=25 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32525"]="+proj=utm +zone=25 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32426"]="+proj=utm +zone=26 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32526"]="+proj=utm +zone=26 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32427"]="+proj=utm +zone=27 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32527"]="+proj=utm +zone=27 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32428"]="+proj=utm +zone=28 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32528"]="+proj=utm +zone=28 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32429"]="+proj=utm +zone=29 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32529"]="+proj=utm +zone=29 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32402"]="+proj=utm +zone=2 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32502"]="+proj=utm +zone=2 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32430"]="+proj=utm +zone=30 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32530"]="+proj=utm +zone=30 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32431"]="+proj=utm +zone=31 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32531"]="+proj=utm +zone=31 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32432"]="+proj=utm +zone=32 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32532"]="+proj=utm +zone=32 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32433"]="+proj=utm +zone=33 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32533"]="+proj=utm +zone=33 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32434"]="+proj=utm +zone=34 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32534"]="+proj=utm +zone=34 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32435"]="+proj=utm +zone=35 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32535"]="+proj=utm +zone=35 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32536"]="+proj=utm +zone=36 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32437"]="+proj=utm +zone=37 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32537"]="+proj=utm +zone=37 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32438"]="+proj=utm +zone=38 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32538"]="+proj=utm +zone=38 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32439"]="+proj=utm +zone=39 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32539"]="+proj=utm +zone=39 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32403"]="+proj=utm +zone=3 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32503"]="+proj=utm +zone=3 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32440"]="+proj=utm +zone=40 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32540"]="+proj=utm +zone=40 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32441"]="+proj=utm +zone=41 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32541"]="+proj=utm +zone=41 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32442"]="+proj=utm +zone=42 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32542"]="+proj=utm +zone=42 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32443"]="+proj=utm +zone=43 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32543"]="+proj=utm +zone=43 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32444"]="+proj=utm +zone=44 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32544"]="+proj=utm +zone=44 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32445"]="+proj=utm +zone=45 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32545"]="+proj=utm +zone=45 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32446"]="+proj=utm +zone=46 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32546"]="+proj=utm +zone=46 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32447"]="+proj=utm +zone=47 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32547"]="+proj=utm +zone=47 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32448"]="+proj=utm +zone=48 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32548"]="+proj=utm +zone=48 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32449"]="+proj=utm +zone=49 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32549"]="+proj=utm +zone=49 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32404"]="+proj=utm +zone=4 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32504"]="+proj=utm +zone=4 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32450"]="+proj=utm +zone=50 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32550"]="+proj=utm +zone=50 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32451"]="+proj=utm +zone=51 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32551"]="+proj=utm +zone=51 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32452"]="+proj=utm +zone=52 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32552"]="+proj=utm +zone=52 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32453"]="+proj=utm +zone=53 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32553"]="+proj=utm +zone=53 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32454"]="+proj=utm +zone=54 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32554"]="+proj=utm +zone=54 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32455"]="+proj=utm +zone=55 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32555"]="+proj=utm +zone=55 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32456"]="+proj=utm +zone=56 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32556"]="+proj=utm +zone=56 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32457"]="+proj=utm +zone=57 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32557"]="+proj=utm +zone=57 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32458"]="+proj=utm +zone=58 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32558"]="+proj=utm +zone=58 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32459"]="+proj=utm +zone=59 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32559"]="+proj=utm +zone=59 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32405"]="+proj=utm +zone=5 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32505"]="+proj=utm +zone=5 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32460"]="+proj=utm +zone=60 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32560"]="+proj=utm +zone=60 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32406"]="+proj=utm +zone=6 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32506"]="+proj=utm +zone=6 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32407"]="+proj=utm +zone=7 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32507"]="+proj=utm +zone=7 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32408"]="+proj=utm +zone=8 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32508"]="+proj=utm +zone=8 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32409"]="+proj=utm +zone=9 +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:32509"]="+proj=utm +zone=9 +south +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +units=m +no_defs ";Proj4js.defs["EPSG:4324"]="+proj=longlat +ellps=WGS72 +towgs84=0,0,1.9,0,0,0.814,-0.38 +no_defs ";Proj4js.defs["EPSG:32601"]="+proj=utm +zone=1 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32701"]="+proj=utm +zone=1 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32602"]="+proj=utm +zone=2 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32702"]="+proj=utm +zone=2 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32603"]="+proj=utm +zone=3 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32703"]="+proj=utm +zone=3 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32604"]="+proj=utm +zone=4 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32704"]="+proj=utm +zone=4 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32605"]="+proj=utm +zone=5 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32705"]="+proj=utm +zone=5 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32606"]="+proj=utm +zone=6 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32706"]="+proj=utm +zone=6 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32607"]="+proj=utm +zone=7 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32707"]="+proj=utm +zone=7 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32608"]="+proj=utm +zone=8 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32708"]="+proj=utm +zone=8 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32609"]="+proj=utm +zone=9 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32709"]="+proj=utm +zone=9 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32610"]="+proj=utm +zone=10 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32710"]="+proj=utm +zone=10 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32611"]="+proj=utm +zone=11 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32711"]="+proj=utm +zone=11 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32612"]="+proj=utm +zone=12 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32712"]="+proj=utm +zone=12 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32613"]="+proj=utm +zone=13 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32713"]="+proj=utm +zone=13 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32614"]="+proj=utm +zone=14 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32714"]="+proj=utm +zone=14 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32615"]="+proj=utm +zone=15 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32715"]="+proj=utm +zone=15 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32616"]="+proj=utm +zone=16 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32716"]="+proj=utm +zone=16 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32617"]="+proj=utm +zone=17 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32717"]="+proj=utm +zone=17 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32618"]="+proj=utm +zone=18 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32718"]="+proj=utm +zone=18 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32619"]="+proj=utm +zone=19 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32719"]="+proj=utm +zone=19 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32620"]="+proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32720"]="+proj=utm +zone=20 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32621"]="+proj=utm +zone=21 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32721"]="+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32622"]="+proj=utm +zone=22 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32722"]="+proj=utm +zone=22 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32623"]="+proj=utm +zone=23 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32723"]="+proj=utm +zone=23 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32624"]="+proj=utm +zone=24 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32724"]="+proj=utm +zone=24 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32625"]="+proj=utm +zone=25 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32725"]="+proj=utm +zone=25 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32626"]="+proj=utm +zone=26 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32726"]="+proj=utm +zone=26 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32627"]="+proj=utm +zone=27 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32727"]="+proj=utm +zone=27 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32628"]="+proj=utm +zone=28 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32728"]="+proj=utm +zone=28 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32629"]="+proj=utm +zone=29 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32729"]="+proj=utm +zone=29 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32630"]="+proj=utm +zone=30 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32730"]="+proj=utm +zone=30 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32631"]="+proj=utm +zone=31 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32731"]="+proj=utm +zone=31 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32632"]="+proj=utm +zone=32 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32732"]="+proj=utm +zone=32 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32633"]="+proj=utm +zone=33 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32733"]="+proj=utm +zone=33 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32634"]="+proj=utm +zone=34 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32734"]="+proj=utm +zone=34 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32635"]="+proj=utm +zone=35 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32735"]="+proj=utm +zone=35 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32636"]="+proj=utm +zone=36 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32736"]="+proj=utm +zone=36 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32637"]="+proj=utm +zone=37 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32737"]="+proj=utm +zone=37 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32638"]="+proj=utm +zone=38 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32738"]="+proj=utm +zone=38 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32639"]="+proj=utm +zone=39 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32739"]="+proj=utm +zone=39 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32640"]="+proj=utm +zone=40 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32740"]="+proj=utm +zone=40 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32641"]="+proj=utm +zone=41 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32741"]="+proj=utm +zone=41 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32642"]="+proj=utm +zone=42 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32742"]="+proj=utm +zone=42 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32643"]="+proj=utm +zone=43 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32743"]="+proj=utm +zone=43 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32644"]="+proj=utm +zone=44 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32744"]="+proj=utm +zone=44 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32645"]="+proj=utm +zone=45 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32745"]="+proj=utm +zone=45 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32646"]="+proj=utm +zone=46 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32746"]="+proj=utm +zone=46 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32647"]="+proj=utm +zone=47 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32747"]="+proj=utm +zone=47 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32648"]="+proj=utm +zone=48 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32748"]="+proj=utm +zone=48 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32649"]="+proj=utm +zone=49 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32749"]="+proj=utm +zone=49 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32650"]="+proj=utm +zone=50 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32750"]="+proj=utm +zone=50 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32651"]="+proj=utm +zone=51 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32751"]="+proj=utm +zone=51 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32652"]="+proj=utm +zone=52 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32752"]="+proj=utm +zone=52 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32653"]="+proj=utm +zone=53 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32753"]="+proj=utm +zone=53 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32654"]="+proj=utm +zone=54 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32754"]="+proj=utm +zone=54 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32655"]="+proj=utm +zone=55 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32755"]="+proj=utm +zone=55 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32656"]="+proj=utm +zone=56 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32756"]="+proj=utm +zone=56 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32657"]="+proj=utm +zone=57 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32757"]="+proj=utm +zone=57 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32658"]="+proj=utm +zone=58 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32758"]="+proj=utm +zone=58 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32659"]="+proj=utm +zone=59 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32759"]="+proj=utm +zone=59 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32660"]="+proj=utm +zone=60 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32760"]="+proj=utm +zone=60 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:26703"]="+proj=utm +zone=3 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26704"]="+proj=utm +zone=4 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26705"]="+proj=utm +zone=5 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26706"]="+proj=utm +zone=6 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26707"]="+proj=utm +zone=7 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26708"]="+proj=utm +zone=8 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26709"]="+proj=utm +zone=9 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26710"]="+proj=utm +zone=10 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26711"]="+proj=utm +zone=11 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26712"]="+proj=utm +zone=12 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26713"]="+proj=utm +zone=13 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26714"]="+proj=utm +zone=14 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26715"]="+proj=utm +zone=15 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26716"]="+proj=utm +zone=16 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26717"]="+proj=utm +zone=17 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26718"]="+proj=utm +zone=18 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26719"]="+proj=utm +zone=19 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26720"]="+proj=utm +zone=20 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26721"]="+proj=utm +zone=21 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26722"]="+proj=utm +zone=22 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:32064"]="+proj=tmerc +lat_0=0 +lon_0=-99 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32065"]="+proj=tmerc +lat_0=0 +lon_0=-93 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32066"]="+proj=tmerc +lat_0=0 +lon_0=-87 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32067"]="+proj=tmerc +lat_0=0 +lon_0=-81 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32081"]="+proj=tmerc +lat_0=0 +lon_0=-53 +k=0.9999 +x_0=304800 +y_0=0 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:32082"]="+proj=tmerc +lat_0=0 +lon_0=-56 +k=0.9999 +x_0=304800 +y_0=0 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26701"]="+proj=utm +zone=1 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26702"]="+proj=utm +zone=2 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26903"]="+proj=utm +zone=3 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26904"]="+proj=utm +zone=4 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26905"]="+proj=utm +zone=5 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26906"]="+proj=utm +zone=6 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26907"]="+proj=utm +zone=7 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26908"]="+proj=utm +zone=8 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26909"]="+proj=utm +zone=9 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26910"]="+proj=utm +zone=10 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26911"]="+proj=utm +zone=11 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26912"]="+proj=utm +zone=12 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26913"]="+proj=utm +zone=13 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26914"]="+proj=utm +zone=14 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26915"]="+proj=utm +zone=15 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26916"]="+proj=utm +zone=16 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26917"]="+proj=utm +zone=17 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26918"]="+proj=utm +zone=18 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26919"]="+proj=utm +zone=19 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26920"]="+proj=utm +zone=20 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26921"]="+proj=utm +zone=21 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26922"]="+proj=utm +zone=22 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:32180"]="+proj=tmerc +lat_0=0 +lon_0=-55.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26923"]="+proj=utm +zone=23 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2944"]="+proj=tmerc +lat_0=0 +lon_0=-55.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:26901"]="+proj=utm +zone=1 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26902"]="+proj=utm +zone=2 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2945"]="+proj=tmerc +lat_0=0 +lon_0=-58.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2946"]="+proj=tmerc +lat_0=0 +lon_0=-61.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2947"]="+proj=tmerc +lat_0=0 +lon_0=-64.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2948"]="+proj=tmerc +lat_0=0 +lon_0=-67.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2949"]="+proj=tmerc +lat_0=0 +lon_0=-70.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2950"]="+proj=tmerc +lat_0=0 +lon_0=-73.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2951"]="+proj=tmerc +lat_0=0 +lon_0=-76.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2952"]="+proj=tmerc +lat_0=0 +lon_0=-79.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2955"]="+proj=utm +zone=11 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2956"]="+proj=utm +zone=12 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2957"]="+proj=utm +zone=13 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2958"]="+proj=utm +zone=17 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2959"]="+proj=utm +zone=18 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2960"]="+proj=utm +zone=19 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2961"]="+proj=utm +zone=20 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2962"]="+proj=utm +zone=21 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:32164"]="+proj=tmerc +lat_0=0 +lon_0=-99 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32165"]="+proj=tmerc +lat_0=0 +lon_0=-93 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32166"]="+proj=tmerc +lat_0=0 +lon_0=-87 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32167"]="+proj=tmerc +lat_0=0 +lon_0=-81 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3740"]="+proj=utm +zone=10 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3741"]="+proj=utm +zone=11 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3742"]="+proj=utm +zone=12 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3743"]="+proj=utm +zone=13 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3744"]="+proj=utm +zone=14 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3745"]="+proj=utm +zone=15 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3746"]="+proj=utm +zone=16 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3747"]="+proj=utm +zone=17 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3748"]="+proj=utm +zone=18 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2195"]="+proj=utm +zone=2 +south +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3395"]="+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32661"]="+proj=stere +lat_0=90 +lat_ts=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32761"]="+proj=stere +lat_0=-90 +lat_ts=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:4248"]="+proj=longlat +ellps=intl +no_defs ";Proj4js.defs["EPSG:29189"]="+proj=utm +zone=19 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29903"]="+proj=tmerc +lat_0=53.5 +lon_0=-8 +k=1.000035 +x_0=200000 +y_0=250000 +a=6377340.189 +b=6356034.447938534 +units=m +no_defs ";Proj4js.defs["EPSG:4291"]="+proj=longlat +ellps=GRS67 +no_defs ";Proj4js.defs["EPSG:2982"]="+proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:4684"]="+proj=longlat +ellps=intl +towgs84=-133,-321,50,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4635"]="+proj=longlat +ellps=intl +towgs84=-122.383,-188.696,103.344,3.5107,-4.9668,-5.7047,4.4798 +no_defs ";Proj4js.defs["EPSG:4645"]="+proj=longlat +ellps=intl +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4731"]="+proj=longlat +ellps=clrk80 +towgs84=51,391,-36,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:28462"]="+proj=tmerc +lat_0=0 +lon_0=9 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:28463"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:32074"]="+proj=tmerc +lat_0=0 +lon_0=-99 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32075"]="+proj=tmerc +lat_0=0 +lon_0=-93 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32076"]="+proj=tmerc +lat_0=0 +lon_0=-87 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32077"]="+proj=tmerc +lat_0=0 +lon_0=-81 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:4659"]="+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:22191"]="+proj=tmerc +lat_0=-90 +lon_0=-72 +k=1 +x_0=1500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:22192"]="+proj=tmerc +lat_0=-90 +lon_0=-69 +k=1 +x_0=2500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:22193"]="+proj=tmerc +lat_0=-90 +lon_0=-66 +k=1 +x_0=3500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:22194"]="+proj=tmerc +lat_0=-90 +lon_0=-63 +k=1 +x_0=4500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:22195"]="+proj=tmerc +lat_0=-90 +lon_0=-60 +k=1 +x_0=5500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:22196"]="+proj=tmerc +lat_0=-90 +lon_0=-57 +k=1 +x_0=6500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:22197"]="+proj=tmerc +lat_0=-90 +lon_0=-54 +k=1 +x_0=7500000 +y_0=0 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:2935"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=41.53333333333333 +k=1 +x_0=1300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2936"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=44.53333333333333 +k=1 +x_0=2300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2937"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=47.53333333333333 +k=1 +x_0=3300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2938"]="+proj=tmerc +lat_0=0.1166666666666667 +lon_0=50.53333333333333 +k=1 +x_0=4300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:20499"]="+proj=utm +zone=39 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:20499"]="+proj=utm +zone=39 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:29189"]="+proj=utm +zone=19 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29190"]="+proj=utm +zone=20 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:20934"]="+proj=utm +zone=34 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:20935"]="+proj=utm +zone=35 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:29189"]="+proj=utm +zone=19 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29190"]="+proj=utm +zone=20 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29191"]="+proj=utm +zone=21 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29192"]="+proj=utm +zone=22 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29193"]="+proj=utm +zone=23 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29194"]="+proj=utm +zone=24 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29195"]="+proj=utm +zone=25 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:22523"]="+proj=utm +zone=23 +south +ellps=intl +towgs84=-206,172,-6,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:22524"]="+proj=utm +zone=24 +south +ellps=intl +towgs84=-206,172,-6,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:32081"]="+proj=tmerc +lat_0=0 +lon_0=-53 +k=0.9999 +x_0=304800 +y_0=0 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:32082"]="+proj=tmerc +lat_0=0 +lon_0=-56 +k=0.9999 +x_0=304800 +y_0=0 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:32182"]="+proj=tmerc +lat_0=0 +lon_0=-56 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2952"]="+proj=tmerc +lat_0=0 +lon_0=-79.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2945"]="+proj=tmerc +lat_0=0 +lon_0=-58.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2946"]="+proj=tmerc +lat_0=0 +lon_0=-61.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2948"]="+proj=tmerc +lat_0=0 +lon_0=-67.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2949"]="+proj=tmerc +lat_0=0 +lon_0=-70.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2950"]="+proj=tmerc +lat_0=0 +lon_0=-73.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2951"]="+proj=tmerc +lat_0=0 +lon_0=-76.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2944"]="+proj=tmerc +lat_0=0 +lon_0=-55.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2153"]="+proj=utm +zone=11 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2152"]="+proj=utm +zone=12 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2151"]="+proj=utm +zone=13 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2150"]="+proj=utm +zone=17 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2149"]="+proj=utm +zone=18 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2960"]="+proj=utm +zone=19 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2961"]="+proj=utm +zone=20 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2148"]="+proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2219"]="+proj=utm +zone=19 +a=6378135 +b=6356750.304921594 +units=m +no_defs ";Proj4js.defs["EPSG:2220"]="+proj=utm +zone=20 +a=6378135 +b=6356750.304921594 +units=m +no_defs ";Proj4js.defs["EPSG:32198"]="+proj=lcc +lat_1=60 +lat_2=46 +lat_0=44 +lon_0=-68.5 +x_0=0 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2947"]="+proj=tmerc +lat_0=0 +lon_0=-64.5 +k=0.9999 +x_0=304800 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:29187"]="+proj=utm +zone=17 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29188"]="+proj=utm +zone=18 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:21453"]="+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21454"]="+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21455"]="+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21456"]="+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21457"]="+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21458"]="+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21459"]="+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21460"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21461"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21462"]="+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21463"]="+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21896"]="+proj=tmerc +lat_0=4.599047222222222 +lon_0=-77.08091666666667 +k=1 +x_0=1000000 +y_0=1000000 +ellps=intl +towgs84=307,304,-318,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:21897"]="+proj=tmerc +lat_0=4.599047222222222 +lon_0=-74.08091666666667 +k=1 +x_0=1000000 +y_0=1000000 +ellps=intl +towgs84=307,304,-318,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:21898"]="+proj=tmerc +lat_0=4.599047222222222 +lon_0=-71.08091666666667 +k=1 +x_0=1000000 +y_0=1000000 +ellps=intl +towgs84=307,304,-318,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:21899"]="+proj=tmerc +lat_0=4.599047222222222 +lon_0=-68.08091666666667 +k=1 +x_0=1000000 +y_0=1000000 +ellps=intl +towgs84=307,304,-318,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:29168"]="+proj=utm +zone=18 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29902"]="+proj=tmerc +lat_0=53.5 +lon_0=-8 +k=1.000035 +x_0=200000 +y_0=250000 +a=6377340.189 +b=6356034.447938534 +units=m +no_defs ";Proj4js.defs["EPSG:26237"]="+proj=utm +zone=37 +ellps=bessel +towgs84=639,405,60,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:20137"]="+proj=utm +zone=37 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:20138"]="+proj=utm +zone=38 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:27700"]="+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +datum=OSGB36 +units=m +no_defs ";Proj4js.defs["EPSG:29170"]="+proj=utm +zone=20 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29171"]="+proj=utm +zone=21 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:32649"]="+proj=utm +zone=49 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32650"]="+proj=utm +zone=50 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3054"]="+proj=utm +zone=26 +ellps=intl +towgs84=-73,46,-86,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3055"]="+proj=utm +zone=27 +ellps=intl +towgs84=-73,46,-86,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3056"]="+proj=utm +zone=28 +ellps=intl +towgs84=-73,46,-86,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2939"]="+proj=tmerc +lat_0=0.1333333333333333 +lon_0=50.76666666666667 +k=1 +x_0=2300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2940"]="+proj=tmerc +lat_0=0.1333333333333333 +lon_0=53.76666666666667 +k=1 +x_0=3300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:2941"]="+proj=tmerc +lat_0=0.1333333333333333 +lon_0=56.76666666666667 +k=1 +x_0=4300000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:21097"]="+proj=utm +zone=37 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21096"]="+proj=utm +zone=36 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21037"]="+proj=utm +zone=37 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21036"]="+proj=utm +zone=36 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:20438"]="+proj=utm +zone=38 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:20936"]="+proj=utm +zone=36 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:24547"]="+proj=utm +zone=47 +a=6377304.063 +b=6356103.038993155 +towgs84=-11,851,5,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:24548"]="+proj=utm +zone=48 +a=6377304.063 +b=6356103.038993155 +towgs84=-11,851,5,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:26192"]="+proj=lcc +lat_1=29.7 +lat_0=29.7 +lon_0=-5.4 +k_0=0.9996155960000001 +x_0=500000 +y_0=300000 +a=6378249.2 +b=6356515 +towgs84=31,146,47,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:29333"]="+proj=utm +zone=33 +south +ellps=bess_nam +units=m +no_defs ";Proj4js.defs["EPSG:29169"]="+proj=utm +zone=19 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:2119"]="+proj=tmerc +lat_0=-42.68888888888888 +lon_0=173.01 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2132"]="+proj=tmerc +lat_0=-46.6 +lon_0=168.3427777777778 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2117"]="+proj=tmerc +lat_0=-41.81055555555555 +lon_0=171.5811111111111 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2114"]="+proj=tmerc +lat_0=-40.71472222222223 +lon_0=172.6719444444444 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2125"]="+proj=tmerc +lat_0=-43.74861111111111 +lon_0=171.3605555555555 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2118"]="+proj=tmerc +lat_0=-42.33361111111111 +lon_0=171.5497222222222 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2108"]="+proj=tmerc +lat_0=-39.65083333333333 +lon_0=176.6736111111111 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2121"]="+proj=tmerc +lat_0=-42.88611111111111 +lon_0=170.9797222222222 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2123"]="+proj=tmerc +lat_0=-43.97777777777778 +lon_0=168.6061111111111 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2116"]="+proj=tmerc +lat_0=-41.28972222222222 +lon_0=172.1088888888889 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2127"]="+proj=tmerc +lat_0=-44.735 +lon_0=169.4675 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2120"]="+proj=tmerc +lat_0=-41.54444444444444 +lon_0=173.8019444444444 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2105"]="+proj=tmerc +lat_0=-36.87972222222222 +lon_0=174.7641666666667 +k=0.9999 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2128"]="+proj=tmerc +lat_0=-45.13277777777778 +lon_0=168.3986111111111 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2124"]="+proj=tmerc +lat_0=-43.59055555555556 +lon_0=172.7269444444445 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2129"]="+proj=tmerc +lat_0=-45.56361111111111 +lon_0=167.7386111111111 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2115"]="+proj=tmerc +lat_0=-41.27444444444444 +lon_0=173.2991666666667 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2131"]="+proj=tmerc +lat_0=-45.86138888888889 +lon_0=170.2825 +k=0.99996 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2130"]="+proj=tmerc +lat_0=-45.81611111111111 +lon_0=170.6283333333333 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2122"]="+proj=tmerc +lat_0=-43.11 +lon_0=170.2608333333333 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2107"]="+proj=tmerc +lat_0=-38.62444444444444 +lon_0=177.8855555555556 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2126"]="+proj=tmerc +lat_0=-44.40194444444445 +lon_0=171.0572222222222 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2110"]="+proj=tmerc +lat_0=-39.51222222222222 +lon_0=175.64 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2112"]="+proj=tmerc +lat_0=-40.92527777777777 +lon_0=175.6472222222222 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2111"]="+proj=tmerc +lat_0=-40.24194444444444 +lon_0=175.4880555555555 +k=1 +x_0=400000 +y_0=800000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2193"]="+proj=tmerc +lat_0=0 +lon_0=173 +k=0.9996 +x_0=1600000 +y_0=10000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:26391"]="+proj=tmerc +lat_0=4 +lon_0=4.5 +k=0.99975 +x_0=230738.26 +y_0=0 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:26392"]="+proj=tmerc +lat_0=4 +lon_0=8.5 +k=0.99975 +x_0=670553.98 +y_0=0 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:26393"]="+proj=tmerc +lat_0=4 +lon_0=12.5 +k=0.99975 +x_0=1110369.7 +y_0=0 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:25391"]="+proj=tmerc +lat_0=0 +lon_0=117 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:25392"]="+proj=tmerc +lat_0=0 +lon_0=119 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:25393"]="+proj=tmerc +lat_0=0 +lon_0=121 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:25394"]="+proj=tmerc +lat_0=0 +lon_0=123 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:25395"]="+proj=tmerc +lat_0=0 +lon_0=125 +k=0.99995 +x_0=500000 +y_0=0 +ellps=clrk66 +units=m +no_defs ";Proj4js.defs["EPSG:3120"]="+proj=sterea +lat_0=50.625 +lon_0=21.08333333333333 +k=0.9998 +x_0=4637000 +y_0=5467000 +ellps=krass +towgs84=33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84 +units=m +no_defs ";Proj4js.defs["EPSG:2190"]="+proj=utm +zone=26 +ellps=intl +towgs84=-203,141,53,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:20437"]="+proj=utm +zone=37 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:20438"]="+proj=utm +zone=38 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:20499"]="+proj=utm +zone=39 +ellps=intl +units=m +no_defs ";Proj4js.defs["EPSG:24500"]="+proj=cass +lat_0=1.287646666666667 +lon_0=103.8530022222222 +x_0=30000 +y_0=30000 +a=6377304.063 +b=6356103.038993155 +towgs84=-11,851,5,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:20538"]="+proj=utm +zone=38 +ellps=krass +towgs84=-43,-163,45,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:20539"]="+proj=utm +zone=39 +ellps=krass +towgs84=-43,-163,45,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31121"]="+proj=utm +zone=21 +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31170"]="+proj=tmerc +lat_0=0 +lon_0=-55.68333333333333 +k=0.9996 +x_0=500000 +y_0=0 +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31171"]="+proj=tmerc +lat_0=0 +lon_0=-55.68333333333333 +k=0.9999 +x_0=500000 +y_0=0 +ellps=intl +towgs84=-265,120,-358,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:21035"]="+proj=utm +zone=35 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21036"]="+proj=utm +zone=36 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21037"]="+proj=utm +zone=37 +south +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:22332"]="+proj=utm +zone=32 +a=6378249.2 +b=6356515 +units=m +no_defs ";Proj4js.defs["EPSG:32635"]="+proj=utm +zone=35 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32637"]="+proj=utm +zone=37 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32638"]="+proj=utm +zone=38 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:21095"]="+proj=utm +zone=35 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:21096"]="+proj=utm +zone=36 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:3087"]="+proj=aea +lat_1=24 +lat_2=31.5 +lat_0=24 +lon_0=-84 +x_0=400000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:32164"]="+proj=tmerc +lat_0=0 +lon_0=-99 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32165"]="+proj=tmerc +lat_0=0 +lon_0=-93 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32166"]="+proj=tmerc +lat_0=0 +lon_0=-87 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:32167"]="+proj=tmerc +lat_0=0 +lon_0=-81 +k=0.9996 +x_0=500000.001016002 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2782"]="+proj=tmerc +lat_0=18.83333333333333 +lon_0=-155.5 +k=0.999966667 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2783"]="+proj=tmerc +lat_0=20.33333333333333 +lon_0=-156.6666666666667 +k=0.999966667 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2784"]="+proj=tmerc +lat_0=21.16666666666667 +lon_0=-158 +k=0.99999 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2785"]="+proj=tmerc +lat_0=21.83333333333333 +lon_0=-159.5 +k=0.99999 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2786"]="+proj=tmerc +lat_0=21.66666666666667 +lon_0=-160.1666666666667 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3089"]="+proj=lcc +lat_1=37.08333333333334 +lat_2=38.66666666666666 +lat_0=36.33333333333334 +lon_0=-85.75 +x_0=1500000 +y_0=999999.9998983998 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:3088"]="+proj=lcc +lat_1=37.08333333333334 +lat_2=38.66666666666666 +lat_0=36.33333333333334 +lon_0=-85.75 +x_0=1500000 +y_0=1000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:26802"]="+proj=tmerc +lat_0=41.5 +lon_0=-85.75 +k=0.999909091 +x_0=152400.3048006096 +y_0=0 +a=6378450.047548896 +b=6356826.621488444 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26801"]="+proj=tmerc +lat_0=41.5 +lon_0=-83.66666666666667 +k=0.999942857 +x_0=152400.3048006096 +y_0=0 +a=6378450.047548896 +b=6356826.621488444 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:26803"]="+proj=tmerc +lat_0=41.5 +lon_0=-88.75 +k=0.999909091 +x_0=152400.3048006096 +y_0=0 +a=6378450.047548896 +b=6356826.621488444 +to_meter=0.3048006096012192 +no_defs ";Proj4js.defs["EPSG:2991"]="+proj=lcc +lat_1=43 +lat_2=45.5 +lat_0=41.75 +lon_0=-120.5 +x_0=400000 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs ";Proj4js.defs["EPSG:2195"]="+proj=utm +zone=2 +south +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:2516"]="+proj=tmerc +lat_0=0 +lon_0=153 +k=1 +x_0=500000 +y_0=0 +ellps=krass +units=m +no_defs ";Proj4js.defs["EPSG:32618"]="+proj=utm +zone=18 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32619"]="+proj=utm +zone=19 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32620"]="+proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:20935"]="+proj=utm +zone=35 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:20936"]="+proj=utm +zone=36 +south +a=6378249.145 +b=6356514.966398753 +units=m +no_defs ";Proj4js.defs["EPSG:21097"]="+proj=utm +zone=37 +ellps=clrk80 +units=m +no_defs ";Proj4js.defs["EPSG:29172"]="+proj=utm +zone=22 +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29191"]="+proj=utm +zone=21 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29192"]="+proj=utm +zone=22 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29193"]="+proj=utm +zone=23 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29194"]="+proj=utm +zone=24 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:29195"]="+proj=utm +zone=25 +south +ellps=aust_SA +units=m +no_defs ";Proj4js.defs["EPSG:26701"]="+proj=utm +zone=1 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:26702"]="+proj=utm +zone=2 +ellps=clrk66 +datum=NAD27 +units=m +no_defs ";Proj4js.defs["EPSG:32661"]="+proj=stere +lat_0=90 +lat_ts=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32761"]="+proj=stere +lat_0=-90 +lat_ts=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:2989"]="+proj=utm +zone=20 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:31265"]="+proj=tmerc +lat_0=0 +lon_0=15 +k=1 +x_0=5500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31266"]="+proj=tmerc +lat_0=0 +lon_0=18 +k=1 +x_0=6500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31267"]="+proj=tmerc +lat_0=0 +lon_0=21 +k=1 +x_0=7500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Proj4js.defs["EPSG:31268"]="+proj=tmerc +lat_0=0 +lon_0=24 +k=1 +x_0=8500000 +y_0=0 +ellps=bessel +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232 +units=m +no_defs ";Fusion.Event.MAP_LAYER_ORDER_CHANGED=Fusion.Event.lastEventId++;Fusion.Layers.MapServer=OpenLayers.Class(Fusion.Layers,{arch:"MapServer",session:[null],sActiveLayer:null,selectionType:"INTERSECTS",bSelectionOn:false,oSelection:null,bLayersReversed:true,mapMetadataKeys:null,layerMetadataKeys:null,oMaptip:null,bMapTipFired:false,bRestoreMapState:false,oRestoredState:{},sMapFile:null,supports:{query:true,edit:true},initialize:function(E,C,B){Fusion.Layers.prototype.initialize.apply(this,arguments);this.registerEventID(Fusion.Event.MAP_SESSION_CREATED);this.sMapFile=C.extension.MapFile?C.extension.MapFile[0]:"";var F=Fusion.getQueryParam("theme");if(F!=""){this.sMapFile=F;Fusion.queryParams.theme=null}var D=Fusion.getQueryParam("restoreState");if(D!=""){this.oRestoredState.id=D;Fusion.queryParams.restoreState=null;this.bRestoreMapState=true}this.mapMetadataKeys=C.extension.MapMetadata?C.extension.MapMetadata[0]:null;this.layerMetadataKeys=C.extension.LayerMetadata?C.extension.LayerMetadata[0]:null;rootOpts={displayInLegend:this.bDisplayInLegend,expandInLegend:this.bExpandInLegend,legendLabel:this._sMapname,uniqueId:"layerRoot",groupName:"layerRoot",visible:true,actuallyVisible:true};this.layerRoot=new Fusion.Layers.Group(rootOpts,this);this.keepAliveInterval=parseInt(C.extension.KeepAliveInterval?C.extension.KeepAliveInterval[0]:300);this.noCache=true;if(C.sid){this.session[0]=C.sid;this.mapSessionCreated()}else{this.createSession()}},createSession:function(){if(!this.session[0]){this.session[0]=this;var B=Fusion.getScriptLanguage();var D="layers/"+this.arch+"/"+B+"/CreateSession."+B;var C={onSuccess:OpenLayers.Function.bind(this.createSessionCB,this)};Fusion.ajaxRequest(D,C)}if(this.session[0] instanceof Fusion.Layers.MapServer){this.session[0].registerForEvent(Fusion.Event.MAP_SESSION_CREATED,OpenLayers.Function.bind(this.mapSessionCreated,this))}else{this.mapSessionCreated()}},createSessionCB:function(r){if(r.status==200){var o;eval("o="+r.responseText);this.session[0]=o.sessionId;var acceptLang=o.acceptLanguage.split(",");for(var i=0;i<acceptLang.length;++i){var locale=acceptLang[i].split(";");Fusion.initializeLocale(locale[0]);break}if(this.bRestoreMapState==true){var that=this;var sl=Fusion.getScriptLanguage();var scriptURL="layers/"+this.arch+"/"+sl+"/RestoreState."+sl;var params={parameters:OpenLayers.Util.getParameterString({session:this.session[0],id:this.oRestoredState.id}),onComplete:function(xhr){var o;eval("o="+xhr.responseText);that.restoreStateCB(o)}};Fusion.ajaxRequest(scriptURL,params)}else{this.triggerEvent(Fusion.Event.MAP_SESSION_CREATED)}}},restoreStateCB:function(C){if(C.error){Fusion.reportError(new Fusion.Error(Fusion.Error.WARNING,"Error Restoring Map State - "+C.error))}else{this.oRestoredState=C;var B=this.oRestoredState.extents.split(",");this.mapWidget.mapGroup.initialView={minX:parseFloat(B[0]),minY:parseFloat(B[1]),maxX:parseFloat(B[2]),maxY:parseFloat(B[3])};if(this.oRestoredState.queryfile&&this.oRestoredState.queryfile.length>0){this.bSelectionOn=true;this._sQueryfile=this.oRestoredState.queryfile}}this.triggerEvent(Fusion.Event.MAP_SESSION_CREATED)},mapSessionCreated:function(){if(this.bRestoreMapState===true&&this.oRestoredState.loadmap){this.loadMap(this.oRestoredState.loadmap)}else{if(this.sMapFile!=""){this.loadMap(this.sMapFile)}}window.setInterval(OpenLayers.Function.bind(this.pingServer,this),this.keepAliveInterval*1000)},sessionReady:function(){return(typeof this.session[0]=="string")},getSessionID:function(){return this.session[0]},loadMap:function(F,D){while(this.mapWidget.isBusy()){this.mapWidget._removeWorker()}this.bMapLoaded=false;if(this._sMapFile==F){return }if(!this.sessionReady()){this.sMapFile=F;return }this.triggerEvent(Fusion.Event.LAYER_LOADING);this.mapWidget._addWorker();this._fScale=-1;this._nDpi=72;D=D||{};this.aVisibleLayers=D.showlayers||[];this.aVisibleGroups=D.showgroups||[];this.aLayers=[];this.oSelection=null;this.aSelectionCallbacks=[];this._bSelectionIsLoading=false;var B=Fusion.getScriptLanguage();var C="layers/"+this.arch+"/"+B+"/LoadMap."+B;var E={mapfile:F,session:this.getSessionID()};if(this.mapMetadataKeys){E.map_metadata=this.mapMetadataKeys}if(this.layerMetadataKeys){E.layer_metadata=this.layerMetadataKeys}var D={onSuccess:OpenLayers.Function.bind(this.mapLoaded,this),parameters:E};Fusion.ajaxRequest(C,D)},mapLoaded:function(r){if(r.status==200){var o;eval("o="+r.responseText);this._sMapFile=o.mapId;this._sMapname=o.mapName;this._sMapTitle=o.mapTitle;this._sImageType=o.imagetype;this.metadata=o.metadata;if(o.projString.length>0){var epsg=o.projString.indexOf("init=");if(epsg>=0){this.mapTag.layerOptions.projection=o.projString.substring(epsg+5).toUpperCase()}else{this.mapTag.layerOptions.projection=o.mapName.toUpperCase();Proj4js.defs[this.mapTag.layerOptions.projection]=o.projString}}this.mapTag.layerOptions.maxExtent=OpenLayers.Bounds.fromArray(o.extent);this.layerRoot.clear();this.layerRoot.legendLabel=this._sMapTitle;this.layerRoot.displayInLegend=true;this.layerRoot.expandInLegend=true;this.parseMapLayersAndGroups(o);var minScale=10000000000;var maxScale=0;for(var i=0;i<this.aLayers.length;i++){if(this.aLayers[i].visible){this.aVisibleLayers.push(this.aLayers[i].layerName)}minScale=Math.min(minScale,this.aLayers[i].minScale);maxScale=Math.max(maxScale,this.aLayers[i].maxScale)}if(minScale<=0){minScale=1}this.mapTag.layerOptions.units=Fusion.getClosestUnits(o.metersPerUnit);var layerOptions={singleTile:true,ratio:this.ratio,maxResolution:"auto",minScale:maxScale,maxScale:minScale};OpenLayers.Util.extend(layerOptions,this.mapTag.layerOptions);var params={layers:this.aVisibleLayers.join(" "),session:this.getSessionID(),map:this._sMapFile,map_imagetype:this._sImageType};if(this.hasSelection()){params.queryfile=this._sQueryfile}OpenLayers.Util.extend(params,this.mapTag.layerParams);if(this.oLayerOL){this.oLayerOL.events.unregister("loadstart",this,this.loadStart);this.oLayerOL.events.unregister("loadend",this,this.loadEnd);this.oLayerOL.events.unregister("loadcancel",this,this.loadEnd);this.oLayerOL.destroy()}var url=Fusion.getConfigurationItem("mapserver","cgi");this.oLayerOL=new OpenLayers.Layer.MapServer(o.mapName,url,params,layerOptions);this.oLayerOL.events.register("loadstart",this,this.loadStart);this.oLayerOL.events.register("loadend",this,this.loadEnd);this.oLayerOL.events.register("loadcancel",this,this.loadEnd);if(this.bIsMapWidgetLayer){this.mapWidget.addMap(this)}this.bMapLoaded=true}else{Fusion.reportError(new Fusion.Error(Fusion.Error.FATAL,"Failed to load requested map:\n"+r.responseText))}this.mapWidget._removeWorker();this.triggerEvent(Fusion.Event.LAYER_LOADED)},reloadMap:function(){this.mapWidget._addWorker();this.aVisibleLayers=[];this.aVisibleGroups=[];this.layerRoot.clear();this.aLayers=[];var B=Fusion.getScriptLanguage();var C="layers/"+this.arch+"/"+B+"/LoadMap."+B;var E={mapname:this._sMapname,session:this.getSessionID(),reload:true};if(this.mapMetadataKeys){E.map_metadata=this.mapMetadataKeys}if(this.layerMetadataKeys){E.layer_metadata=this.layerMetadataKeys}var D={onSuccess:OpenLayers.Function.bind(this.mapReloaded,this),parameters:E};Fusion.ajaxRequest(C,D)},loadScaleRanges:function(){var B=Fusion.getScriptLanguage();var C="layers/"+this.arch+"/"+B+"/LoadScaleRanges."+B;var E={mapname:this._sMapname,session:this.getSessionID()};var D={onSuccess:OpenLayers.Function.bind(this.scaleRangesLoaded,this),parameters:E};Fusion.ajaxRequest(C,D)},scaleRangesLoaded:function(r){if(r.status==200){var o;eval("o="+r.responseText);if(o.layers&&o.layers.length>0){var iconOpt={url:o.icons_url||null,width:o.icons_width||16,height:o.icons_height||16};for(var i=0;i<o.layers.length;i++){var oLayer=this.getLayerById(o.layers[i].uniqueId);if(oLayer){oLayer.scaleRanges=[];for(var j=0;j<o.layers[i].scaleRanges.length;j++){var scaleRange=new Fusion.Layers.ScaleRange(o.layers[i].scaleRanges[j],oLayer.layerType,iconOpt);oLayer.scaleRanges.push(scaleRange)}}}}this.mapWidget.triggerEvent(Fusion.Event.MAP_SCALE_RANGE_LOADED)}},mapReloaded:function(r){if(r.status==200){var o;eval("o="+r.responseText);this.parseMapLayersAndGroups(o);this.aVisibleLayers=[];for(var i=0;i<this.aLayers.length;i++){if(this.aLayers[i].visible){this.aVisibleLayers.push(this.aLayers[i].layerName)}}this.drawMap();this.mapWidget.triggerEvent(Fusion.Event.MAP_RELOADED)}else{Fusion.reportError(new Fusion.Error(Fusion.Error.FATAL,OpenLayers.i18n("mapLoadError",{error:r.responseText})))}this.mapWidget._removeWorker()},reorderLayers:function(E){var B=Fusion.getScriptLanguage();var C="layers/"+this.arch+"/"+B+"/SetLayers."+B;var F={mapname:this._sMapname,session:this.getSessionID(),layerindex:E.join()};var D={onSuccess:OpenLayers.Function.bind(this.mapLayersReset,this,E),parameters:F};Fusion.ajaxRequest(C,D)},mapLayersReset:function(aLayerIndex,r){var o;eval("o="+r.responseText);if(o.success){var layerCopy=$A(this.aLayers);var nLayers=layerCopy.length-1;this.aLayers=[];this.aVisibleLayers=[];for(var i=0;i<aLayerIndex.length;++i){this.aLayers.push(layerCopy[aLayerIndex[i]]);if(this.aLayers[i].visible){this.aVisibleLayers.push(this.aLayers[i].layerName)}}this.drawMap();this.triggerEvent(Fusion.Event.MAP_LAYER_ORDER_CHANGED)}},parseLayers:function(){for(var C=0;C<this.aLayers.length;C++){var B=this.aLayers[C];var D;if(B.parentGroup!=""){D=this.layerRoot.findGroup(B.parentGroup.name)}else{D=this.layerRoot}D.addLayer(B,this.bLayersReversed)}},parseMapLayersAndGroups:function(F){F.groups.sort(function(H,G){return H.depth-G.depth});for(var C=0;C<F.groups.length;C++){var E=new Fusion.Layers.Group(F.groups[C],this);var D;if(E.parentUniqueId!=""){D=this.layerRoot.findGroup(E.parentUniqueId)}else{D=this.layerRoot}D.addGroup(E,this.bLayersReversed)}for(var C=0;C<F.layers.length;C++){var B=new Fusion.Layers.Layer(F.layers[C],this);var D;if(B.parentGroup!=""){D=this.layerRoot.findGroup(B.parentGroup)}else{D=this.layerRoot}D.addLayer(B,this.bLayersReversed);this.aLayers.push(B)}},updateLayer:function(){if(this.hasSelection()){this.oLayerOL.addOptions({queryfile:this._sQueryfile})}},drawMap:function(){if(!this.bMapLoaded||this.deferredDraw){return }var D=[];for(var C=0;C<this.aLayers.length;C++){var B=this.aLayers[C];if(B.isVisible()){D.push(B.layerName)}}var E={layers:D.join(" "),ts:(new Date()).getTime()};if(this.hasSelection()){E.queryfile=this._sQueryfile}else{E.queryfile=""}this.oLayerOL.mergeNewParams(E)},showLayer:function(B){this.aVisibleLayers.push(B.layerName);this.drawMap()},hideLayer:function(C){for(var B=0;B<this.aLayers.length;B++){if(this.aVisibleLayers[B]==C.layerName){this.aVisibleLayers.splice(B,1);break}}this.drawMap()},showGroup:function(D,C){this.processGroupEvents(D,true);if(D.groupName=="layerRoot"){this.oLayerOL.setVisibility(true)}else{this.aVisibleGroups.push(D.uniqueId);this.deferredDraw=true;for(var B=0;B<D.groups.length;++B){if(D.groups[B].wasVisibleInGroup){this.showGroup(D.groups[B],true)}}for(var B=0;B<D.layers.length;++B){if(D.layers[B].wasVisibleInGroup){D.layers[B].show()}D.layers[B].wasVisibleInGroup=null}this.deferredDraw=false;this.drawMap()}},hideGroup:function(D,C){this.processGroupEvents(D,false);if(D.groupName=="layerRoot"){this.oLayerOL.setVisibility(false)}else{for(var B=0;B<this.aVisibleGroups.length;B++){if(this.aVisibleGroups[B]==D.uniqueId){this.aVisibleGroups.splice(B,1);break}}this.deferredDraw=true;for(var B=0;B<D.groups.length;++B){if(D.groups[B].visible){D.groups[B].wasVisibleInGroup=true;this.hideGroup(D.groups[B],true)}}for(var B=0;B<D.layers.length;++B){if(D.layers[B].visible){D.layers[B].wasVisibleInGroup=true;D.layers[B].hide()}}this.deferredDraw=false;this.drawMap()}},showGroupOLD:function(B){if(B=="layerRoot"){this.oLayerOL.setVisibility(true)}else{this.aVisibleGroups.push(B);var D=this.layerRoot.findGroup(B);this.deferredDraw=true;for(var C=0;C<D.layers.length;++C){D.layers[C].show()}this.deferredDraw=false;this.drawMap()}},hideGroupOLD:function(B){if(B=="layerRoot"){this.oLayerOL.setVisibility(false)}else{for(var C=0;C<this.aVisibleGroups.length;C++){if(this.aVisibleGroups[C]==B){this.aVisibleGroups.splice(C,1);break}}var D=this.layerRoot.findGroup(B);this.deferredDraw=true;for(var C=0;C<D.layers.length;++C){D.layers[C].hide()}this.deferredDraw=false;this.drawMap()}},refreshLayer:function(B){this.drawMap()},hasSelection:function(){return this.bSelectionOn},getSelectionCB:function(userFunc,r){if(r.status==200){var o;eval("o="+r.responseText);var oSelection=new Fusion.SelectionObject(o);userFunc(oSelection)}},newSelection:function(){this.bSelectionOn=true;this.drawMap();this.triggerEvent(Fusion.Event.MAP_SELECTION_ON)},getSelectedFeatureCount:function(){var C=0;for(var B=0;B<this.aLayers.length;++B){C+=this.aLayers[B].selectedFeatureCount}return C},getSelectedLayers:function(){var C=[];for(var B=0;B<this.aLayers.length;++B){if(this.aLayers[B].selectedFeatureCount>0){C.push(this.aLayers[B])}}return C},getSelectableLayers:function(){var C=[];for(var B=0;B<this.aLayers.length;++B){if(this.aLayers[B].selectable){C.push(this.aLayers[B])}}return C},getSelection:function(G,E,D){if(G){var C="layers/"+this.arch+"/"+Fusion.getScriptLanguage()+"/Selection."+Fusion.getScriptLanguage();var F={mapname:this._sMapname,session:this.getSessionID(),layers:E,startcount:D,queryfile:this._sQueryfile};var B={parameters:F,onSuccess:OpenLayers.Function.bind(this.getSelectionCB,this,G)};Fusion.ajaxRequest(C,B)}},clearSelection:function(){if(!this.aLayers){return }for(var B=0;B<this.aLayers.length;++B){this.aLayers[B].selectedFeatureCount=0}this.bSelectionOn=false;this._sQueryfile="";this.triggerEvent(Fusion.Event.MAP_SELECTION_OFF);this.drawMap();this.oSelection=null},processQueryResults:function(zoomTo,r){this.mapWidget._removeWorker();if(r.status==200){var o;eval("o="+r.responseText);if(!o.hasSelection){return }else{this._sQueryfile=o.queryFile;for(var i=0;i<o.layers.length;++i){var layerName=o.layers[i];for(var j=0;j<this.aLayers.length;++j){if(layerName==this.aLayers[j].layerName){this.aLayers[j].selectedFeatureCount=o[layerName].featureCount}}}this.newSelection();if(zoomTo){var ext=oNode.extents;var extents=new OpenLayers.Bounds(ext.minx,ext.miny,ext.maxx,ext.maxy);this.zoomToSelection(extents)}}}},query:function(J){this.mapWidget._addWorker();for(var F=0;F<this.aLayers.length;++F){this.aLayers[F].selectedFeatureCount=0}var I=J.persistent||true;var H=J.layers||"";if(H==""){}var G=J.zoomTo||false;var D=Fusion.getScriptLanguage();var C="layers/"+this.arch+"/"+D+"/Query."+D;var E={mapname:this._sMapname,session:this.getSessionID(),spatialfilter:J.geometry||"",maxfeatures:J.maxFeatures||-1,layers:H,variant:J.selectionType||this.selectionType};if(J.filter){E.filter=J.filter;E.filterItem=J.filterItem}if(J.extendSelection){E.extendselection=true}if(J.computedProperties){E.computed=true}var B={onSuccess:OpenLayers.Function.bind(this.processQueryResults,this,G),parameters:E};Fusion.ajaxRequest(C,B)},pingServer:function(){var B="layers/"+this.arch+"/"+Fusion.getScriptLanguage()+"/Common."+Fusion.getScriptLanguage();var C={};C.parameters={session:this.getSessionID()};Fusion.ajaxRequest(B,C)},getMetadata:function(F,C){if(C){var E=this.getLayerByName(C);if(E.metadata&&typeof E.metadata[F]!="undefined"){return E.metadata[F]}else{return""}}else{if(this.metadata&&typeof this.metadata[F]!="undefined"){return this.metadata[F]}else{var B="";var G="";for(var D=0;D<this.aLayers.length;D++){if(this.aLayers[D].metadata&&typeof this.aLayers[D].metadata[F]!="undefined"&&this.aLayers[D].metadata[F].length>0){B+=G+this.aLayers[D].legendLabel+":"+this.aLayers[D].metadata[F];G=" - "}}return B}}},getGroupInfoUrl:function(B){return null},getLayerInfoUrl:function(B){var E=this.getLayerByName(B);var D=null;if(E){var C=E.metadata;if(C&&C.LAYERINFOURL){D=C.LAYERINFOURL}}return D},getLayerByName:function(C){var B=null;for(var D=0;D<this.aLayers.length;D++){if(this.aLayers[D].layerName==C){B=this.aLayers[D];break}}return B},getLayerById:function(D){var B=null;for(var C=0;C<this.aLayers.length;C++){if(this.aLayers[C].uniqueId==D){B=this.aLayers[C];break}}return B},getLegendImageURL:function(D,E,F){var B=Fusion.getScriptLanguage();var C=Fusion.getFusionURL()+"/layers/"+this.arch+"/"+B+"/LegendIcon."+B;var G=this.getSessionID();var H="mapname="+this._sMapname+"&session="+G+"&layername="+E.resourceId+"&classindex="+F.index;return C+"?"+H},getLinkParams:function(){var B={};B.theme=this.sMapFile;return B},getMapTip:function(oMapTips){if(!this.aLayers||!this.aLayers.length||!this.aLayers[0].scaleRanges){return }if(this.bMapTipFired==false){var pos=this.mapWidget.pixToGeo(oMapTips.oCurrentPosition.x,oMapTips.oCurrentPosition.y);var dfGeoTolerance=this.mapWidget.pixToGeoMeasure(oMapTips.nTolerance);var minx=pos.x-dfGeoTolerance;var miny=pos.y-dfGeoTolerance;var maxx=pos.x+dfGeoTolerance;var maxy=pos.y+dfGeoTolerance;var geometry="POLYGON(("+minx+" "+miny+", "+minx+" "+maxy+", "+maxx+" "+maxy+", "+maxx+" "+miny+", "+minx+" "+miny+"))";var selectionType="INTERSECTS";var aVisLayers=[];for(var i=0;i<this.aLayers.length;i++){var iLayerMinScale=this.aLayers[i].scaleRanges[0].minScale;var iLayerMaxScale=this.aLayers[i].scaleRanges[0].maxScale;var iCurrentScale=this.mapWidget.getScale();if(iCurrentScale<iLayerMaxScale&&iCurrentScale>iLayerMinScale){if(this.aLayers[i].isVisible()===true){aVisLayers.push(this.aLayers[i].layerName)}}}var loadmapScript="/layers/"+this.arch+"/php/Maptip.php";var params={mapname:this._sMapname,session:this.getSessionID(),spatialfilter:geometry,maxfeatures:0,variant:selectionType,layer:oMapTips.aLayers||"",textfield:oMapTips.aTextFields||"",label:oMapTips.aLabels||"",customURL:oMapTips.aCustomURL||"",visLayers:aVisLayers};var parseMapTip=this.parseMapTip.bind(this);this.bMapTipFired=true;var ajaxOptions={onSuccess:function(response){eval("rjson="+response.responseText);parseMapTip(rjson)},parameters:params};Fusion.ajaxRequest(loadmapScript,ajaxOptions)}},parseMapTip:function(B){this.bMapTipFired=false;this.oMaptip={};this.oMaptip.t=B.maptips;this.oMaptip.h=B.url;this.oMaptip.l=B.label;this.mapWidget.triggerEvent(Fusion.Event.MAP_MAPTIP_REQ_FINISHED,this.oMaptip)}});var MSLAYER_POINT_TYPE=0;var MSLAYER_LINE_TYPE=1;var MSLAYER_POLYGON_TYPE=2;var MSLAYER_SOLID_TYPE=3;var MSLAYER_RASTER_TYPE=4;
