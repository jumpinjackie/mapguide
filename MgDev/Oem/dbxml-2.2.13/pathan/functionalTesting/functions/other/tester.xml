<?xml version="1.0" encoding="utf-8"?>
<test purpose="functions">
  <policies>
    <policy name="other"/>
    <default>
      <program>../../../samples/evaluator/eval</program>
      <addArg>test.xml</addArg>
      <addArg>-N</addArg>
      <addArg>err</addArg>
      <addArg>http://www.w3.org/2004/07/xqt-errors</addArg>
    </default>
  </policies>
  <base type="pass">
    <arg>error(xs:QName('err:myError'), 'Invalid argument')</arg>
    <output>User-requested error: Invalid argument [http://www.w3.org/2004/07/xqt-errors:myError]
</output>
  </base>
  <base type="pass">
    <arg>error()</arg>
    <output>User-requested error [err:FOER0000]
</output>
  </base>
  <base type="pass">
    <arg>trace((10*18), &quot;intermediate value:&quot;)+7</arg>
    <output>intermediate value: 180
187
</output>
  </base>
  <base type="pass">
    <arg>distinct-values((trace(//zvonimir[1], &quot;1st:&quot;), trace(//zvonimir[2], &quot;2nd:&quot;), trace(//zvonimir[3], &quot;3rd:&quot;), trace(//zvonimir[4], &quot;4th:&quot;), trace(//zvonimir[5], &quot;5th:&quot;),trace(//zvonimir[6], &quot;6th:&quot;), trace(//zvonimir[7], &quot;7th:&quot;), trace(//zvonimir[8], &quot;8th:&quot;)))</arg>
    <output>1st: &lt;zvonimir&gt;Some Text&lt;/zvonimir&gt;
2nd: &lt;zvonimir&gt;Some &lt;!--commented--&gt;Text&lt;/zvonimir&gt;
3rd: &lt;zvonimir&gt;Some Text&lt;!--with comments--&gt;&lt;/zvonimir&gt;
4th: &lt;zvonimir&gt;Some Text&lt;?with processing instructions?&gt;&lt;/zvonimir&gt;
5th: &lt;zvonimir&gt;Some Text&lt;irena/&gt;&lt;/zvonimir&gt;
6th: &lt;zvonimir&gt;Some &lt;!--commented--&gt;Text&lt;irena/&gt;&lt;/zvonimir&gt;
7th: &lt;zvonimir&gt;Some Text&lt;!--with comments--&gt;&lt;irena/&gt;&lt;/zvonimir&gt;
8th: &lt;zvonimir&gt;&lt;irena/&gt;Some Text&lt;/zvonimir&gt;
Some Text
</output>
  </base>
  <base type="pass">
    <arg>trace(2 * trace(2 * trace(2 * trace(2*trace(1, &quot;factorial 1:&quot;), &quot; * 2 =&quot;), &quot; * 2 =&quot;), &quot; * 2 =&quot;), &quot; * 2 =&quot;)</arg>
    <output>factorial 1: 1
 * 2 = 2
 * 2 = 4
 * 2 = 8
 * 2 = 16
16
</output>
  </base>
  <base type="pass">
  <arg>for $i in in-scope-prefixes(/testcase/namespace-stuff) return trace(namespace-uri-for-prefix($i, /testcase/namespace-stuff), concat($i, &quot; is bound to&quot;))</arg>
  <output>xml is bound to http://www.w3.org/XML/1998/namespace
ha is bound to http://sluggy.com
ho is bound to http://sluggy.com
hee is bound to http://theborg.org
xsi is bound to http://www.w3.org/2001/XMLSchema-instance
http://www.w3.org/XML/1998/namespace
http://sluggy.com
http://sluggy.com
http://theborg.org
http://www.w3.org/2001/XMLSchema-instance
</output>
</base>
</test>