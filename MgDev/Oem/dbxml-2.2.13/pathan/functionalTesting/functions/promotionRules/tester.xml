<?xml version="1.0" encoding="utf-8"?>
<test purpose="Sequence testing">
  <policies>
    <policy name="seq">
      <addArg>test.xml</addArg>
    </policy>
    <default>
      <program>../../../samples/evaluator/eval</program>
    </default>
  </policies>
  <base type="pass">
    <arg>max((data(/Catalogue/Book[1]/Price), data(/Catalogue/Book[2]/Price))) </arg>
    <output>89.99
</output>
  </base>
  <base type="pass">
    <arg>max((data(/Catalogue/Book[1]/Price), data(/Catalogue/Book[2]/Price), 50.5)) </arg>
    <output>89.99
</output>
  </base>
  <base type="pass">
    <arg>min((data(/Catalogue/Magazine[1]/SubscriptionPrice), data(/Catalogue/Magazine[2]/SubscriptionPrice))) </arg>
    <output>33.33
</output>
  </base>
  <base type="pass">
    <arg>min((data(/Catalogue/Book[1]/Price), data(/Catalogue/Book[2]/Price))) </arg>
    <output>14.99
</output>
  </base>
  <base type="pass">
    <arg>sum((data(/Catalogue/Book[1]/Price), data(/Catalogue/Book[2]/Price))) </arg>
    <output>104.98
</output>
  </base>
  <base type="pass">
    <arg>sum((data(/Catalogue/Book[1]/Price), data(/Catalogue/Book[2]/Price), xs:decimal(1))) </arg>
    <output>105.98
</output>
  </base>
  <base type="pass">
    <arg>sum((data(/Catalogue/Magazine[1]/SubscriptionPrice), data(/Catalogue/Magazine[2]/SubscriptionPrice))) </arg>
    <output>153.33
</output>
  </base>
  <base type="pass">
    <arg>avg((data(/Catalogue/Book[1]/Price), data(/Catalogue/Book[2]/Price))) </arg>
    <output>52.49
</output>
  </base>
  <base type="pass">
    <arg>avg((data(/Catalogue/Book[1]/Price), data(/Catalogue/Book[3]/Price), 14.99)) </arg>
    <output>14.993
</output>
  </base>
  <base type="pass">
    <arg>avg((data(/Catalogue/Magazine[1]/SubscriptionPrice), data(/Catalogue/Magazine[2]/SubscriptionPrice), data(/Catalogue/Magazine[2]/SubscriptionPrice))) </arg>
    <output>62.22
</output>
  </base>
  <base type="pass">
    <arg>data(/Catalogue/Book[2]/Price)</arg>
    <output>89.99
</output>
  </base>
<base type="pass"><arg>contains(document-uri(/), &quot;test.xml&quot;)</arg><output>true</output></base><base type="pass"><arg>abs(document-uri(/))</arg><output>Non-numeric argument in numeric function.</output></base><base type="pass"><arg>codepoints-to-string(document-uri(/))</arg><output>ItemType matching failed [err:XPTY0004]</output></base><base type="pass"><arg>starts-with(xs:anyURI(&quot;http://foo.com/bar&quot;), xs:anyURI(&quot;http://foo&quot;))</arg><output>true</output></base></test>