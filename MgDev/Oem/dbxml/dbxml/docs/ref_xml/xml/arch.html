<!--Copyright (c) 1997-2009 Oracle.  All rights reserved.-->
<!--See the file LICENSE for redistribution information.-->
<html>
<head>
<title>Berkeley DB XML Reference Guide: Architecture</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,Java,C,C++">
</head>
<body bgcolor=white>
<table width="100%"><tr valign=top>
<td><b><dl><dt>Berkeley DB XML Reference Guide:<dd>Berkeley DB XML</dl></b></td>
<td align=right><a href="../xml/intro.html"><img src="../../images/prev.gif" alt="Prev"></a><a href="../toc.html"><img src="../../images/ref.gif" alt="Ref"></a><a href="../xml_unix/intro.html"><img src="../../images/next.gif" alt="Next"></a>
</td></tr></table>
<p align=center><b>Architecture</b></p>
<p>Berkeley DB XML is implemented as C++ library on top of Berkeley DB. BDB XML is
distributed as a shared library that is embedded into the client
application. The BDB XML library exposes API's that enable C++ and Java
applications to interact with the XML data containers. Figure 1
illustrates the Berkeley DB XML system architecture. </p>
<p align=center><img src="xml_fig_1.gif" alt="xml_fig_1">
<p>BDB XML uses Berkeley DB for data storage and transaction management.  Client
applications can also store data directly to a Berkeley DB database.  Although
BDB XML hides much of the internal use of Berkeley DB, some understanding of
the underlying Berkeley DB API is required, as some BDB XML API methods accept
Berkeley DB object handles as parameters.  In particular, transactional applications
need to fully understand the Berkeley DB database management interfaces for operations
such as backup and restore, archiving, database recovery, etc.</p>
<p>The BDB XML library comprises several main components: document storage,
XML indexing and index management, query optimization, and query execution.</p>
<b>Document Storage</b>
<p>Within Berkeley DB XML, documents are stored in containers.  Containers are named
and are files that include a number of Berkeley DB databases for information
such as documents, indices and index statistics, data dictionary, and other
system metadata.  A container is the scope for indices, document names,
container type, and other container-specific information.
A client application can operate on
multiple containers concurrently, and controls the placement of
documents within containers.  The client application can also store data
to Berkeley DB databases. A client application can perform the following
actions against a container:</p>
<table border=1 align=center>
<tr><th>Action</th></tr>
<tr><td>Create or remove a container.</td></tr>
<tr><td>Add or drop an index in a container.</td></tr>
<tr><td>Open a container for use within the application.</td></tr>
<tr><td>Insert or delete a document in a container.</td></tr>
<tr><td>Retrieve a document from a container.</td></tr>
<tr><td>Update an existing document</td><td>entirely or in part.</td></tr>
<tr><td>Set</td><td>modify</td><td>or remove document metadata.</td></tr>
<tr><td>Query a container using an XQuery or XPath expression.</td></tr>
<tr><td>Close a container.</td></tr>
<tr><td>Rename documents and containers.</td></tr>
<tr><td>Dump a container to a text file.</td></tr>
<tr><td>Load a container from a text file that was generated by a container dump.</td></tr>
<tr><td>Verify that a container is internally consistent.</td></tr>
</table>
<p>For a complete description and examples of how to use the BDB XML API
to perform these tasks, see either the
<a href="../../gsg_xml/cxx/index.html">C++</a> or
<a href="../../gsg_xml/java/index.html">Java</a> version of the Berkeley DB XML
Getting Started Guide.</p>
<table width="100%"><tr><td><br></td><td align=right><a href="../xml/intro.html"><img src="../../images/prev.gif" alt="Prev"></a><a href="../toc.html"><img src="../../images/ref.gif" alt="Ref"></a><a href="../xml_unix/intro.html"><img src="../../images/next.gif" alt="Next"></a>
</td></tr></table>
<p><font size=1>Copyright (c) 1996-2009 Oracle.  All rights reserved.</font>
</body>
</html>
