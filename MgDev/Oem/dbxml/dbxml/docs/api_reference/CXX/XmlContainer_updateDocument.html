<!--Copyright (c) 1997-2009 Oracle.  All rights reserved.-->
<!--See the file LICENSE for redistribution information.-->
<html>
<head>
<title>Berkeley DB XML: XmlContainer::updateDocument</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,Java,C,C++">
</head>
<body bgcolor=white>
<table width="100%"><tr valign=top>
<td>
<b>XmlContainer::updateDocument</b>
</td>
<td align=right>
<a href="../../api_reference/CXX/api_xml.html"><img src="../../images/api.gif" alt="API"></a>
<a href="../../ref_xml/toc.html"><img src="../../images/ref.gif" alt="Ref"></a></td>
</tr></table>
<hr size=1 noshade>
<tt>
<b><pre>
#include &lt;DbXml.hpp&gt;
<p>
void XmlContainer::updateDocument(XmlDocument &document,
    XmlUpdateContext &context)
<p>
void XmlContainer::updateDocument(XmlTransaction &txn,
    XmlDocument &document, XmlUpdateContext &context)
</pre></b>
<hr size=1 noshade>
<b>Description: XmlContainer::updateDocument</b>
<p>Updates an <a href="../../api_reference/CXX/XmlDocument.html">XmlDocument</a> in the container. The document must have
been retrieved from the container using
<a href="../../api_reference/CXX/XmlContainer_getDocument.html">XmlContainer::getDocument</a>, <a href="../../api_reference/CXX/XmlManager_query.html">XmlManager::query</a>, or
<a href="../../api_reference/CXX/XmlQueryExpression_execute.html">XmlQueryExpression::execute</a>.  It is possible to use a
constructed XmlDocument object, if its name is set to a valid name in
the container.  The document must still exist within the container.  The
document content is indexed according to the container indexing
specification, with index keys being removed for the previous document
content, and added for the updated document content.</p>
<b>Parameters</b> <br>
 <b>txn</b><ul compact><li>If the operation is to be transaction-protected, the <b>txn</b>
parameter is an <a href="../../api_reference/CXX/XmlTransaction.html">XmlTransaction</a> handle returned from
<a href="../../api_reference/CXX/XmlManager_createTransaction.html">XmlManager::createTransaction</a>.</ul>
 <b>document</b><ul compact><li>The <a href="../../api_reference/CXX/XmlDocument.html">XmlDocument</a> to be updated in the XmlContainer.</ul>
 <b>context</b><ul compact><li>The update context to use for the document insertion.</ul>
<br>
<br><b>Errors</b>
<p>The XmlContainer::updateDocument method
may fail and throw
<a href="../../api_reference/CXX/XmlException.html">XmlException</a>,
encapsulating one of the following non-zero errors:</p>
<br>
<b>DATABASE_ERROR</b><ul compact><li>An error occurred in an underlying Berkeley DB database. The
<a href="../../api_reference/CXX/XmlException_getDbErrno.html">XmlException::getDbErrno</a> method will return the error code for the error.</ul>
<br>
<br>
<b>DOCUMENT_NOT_FOUND</b><ul compact><li>The specified document is not in the XmlContainer.</ul>
<br>
<br>
<b>INDEXER_PARSER_ERROR</b><ul compact><li>The XML Indexer could not parse the document.</ul>
<br>
</tt>
<table width="100%"><tr><td><br></td><td align=right>
<a href="../../api_reference/CXX/api_xml.html"><img src="../../images/api.gif" alt="API"></a><a href="../../ref_xml/toc.html"><img src="../../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<p><font size=1>Copyright (c) 1996-2009 Oracle.  All rights reserved.</font>
</body>
</html>
