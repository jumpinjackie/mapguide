#
# Lists files needed to install particular
# features in Windows.  Feature names must be
# listed in features.in .

# Note: columns below must be separated by tabs.

# feature	source file			targdir	shortname

CoreAPI		bin/libdb45.dll			/bin/
DCoreAPI	bin/debug/libdb45d.dll		/bin/debug/
DCoreAPI	bin/debug/db_dll.pdb		/bin/debug/
CoreAPI		lib/libdb45.lib			/lib/
DCoreAPI	lib/libdb45d.lib		/lib/
CoreAPI		dbxml/build_windows/Release/msvcr71.dll	/bin/
DCoreAPI	dbxml/build_windows/Debug/msvcr71d.dll	/bin/debug/
CoreAPI		dbxml/build_windows/Release/msvcp71.dll	/bin/
DCoreAPI	dbxml/build_windows/Debug/msvcp71d.dll	/bin/debug/

CoreAPI		bin/libdbxml23.dll		/bin/
DCoreAPI	bin/debug/libdbxml23d.dll	/bin/debug/
DCoreAPI	bin/debug/libdbxml23.pdb		/bin/debug/
CoreAPI		lib/libdbxml23.lib		/lib/
DCoreAPI	lib/libdbxml23d.lib		/lib/

CoreAPI		bin/xqilla10.dll		/bin/
DCoreAPI	bin/debug/xqilla10d.dll		/bin/debug/
DCoreAPI	bin/debug/xqilla10.pdb		/bin/debug/
CoreAPI		lib/xqilla10.lib		/lib/
DCoreAPI	lib/xqilla10d.lib		/lib/

CoreAPI		bin/xerces-c_2_7.dll		/bin/
DCoreAPI	bin/debug/xerces-c_2_7D.dll	/bin/debug/
DCoreAPI	bin/debug/xerces-c_2_7D.pdb	/bin/debug/
CoreAPI		lib/xerces-c_2.lib		/lib/
DCoreAPI	lib/xerces-c_2D.lib		/lib/

# This guarantees that we always have an include directory,
# even if the sources for dbxml are absent.
#
# TODO: possibly a better way: enforce that dbxml/include/dbxml/
# is always copied.  This would mean that some files
# would end up in two features, which is not currently allowed,
# we'd need to explore doing ComponentRefs across features.
#
CoreAPI		include/		/include/	

CoreAPI		${PRODUCT_SHARED_WINMSIDIR}/images/webicon.ico	/installutil/
CoreAPI		${PRODUCT_STAGE}/dbvars.bat		/

JavaAPI		jar/db.jar			/jar/
JavaAPI		jar/dbxml.jar			/jar/
# Don't copy .lib files for Java.  Nobody links against them;

JavaAPI		bin/libdb_java45.dll		/bin/
DJavaAPI	bin/debug/libdb_java45d.dll	/bin/debug/
DJavaAPI	bin/debug/db_java.pdb		/bin/debug/

JavaAPI		bin/libdbxml_java23.dll		/bin/
DJavaAPI	bin/debug/libdbxml_java23d.dll	/bin/debug/
DJavaAPI	bin/debug/libdbxml_java23.pdb	/bin/debug/

JavaEx		jar/dbexamples.jar		/jar/
JavaEx		jar/dbxmlexamples.jar		/jar/

JavaEx		${PRODUCT_STAGE}/Sources/dbxml/examples/java/	/dbxml/examples/java/
DJavaEx		${PRODUCT_STAGE}/Sources/dbxml/examples/java/	/dbxml/examples/java/

# Don't bother with Tcl.  If this is to change, need
# to update bdbxml_msi.sln to enable build of Tcl libs
#TclAPI		bin/libdbxml_tcl23.dll		/bin/
#DTclAPI		bin/debug/libdbxml_tcl23d.dll	/bin/debug/
#DTclAPI		bin/debug/libdbxml_tcl23.pdb		/bin/debug/
#TclAPI		lib/libdbxml_tcl23.lib		/lib/
#DTclAPI		lib/libdbxml_tcl23d.lib		/lib/
#
#TclAPI		bin/libdb_tcl45.dll		/bin/
#DTclAPI		bin/debug/libdb_tcl45d.dll	/bin/debug/
#DTclAPI		bin/debug/db_tcl.pdb		/bin/debug/
#TclAPI		lib/libdb_tcl45.lib		/lib/
#DTclAPI		lib/libdb_tcl45d.lib		/lib/

# These used to be CoreTools, but were moved to CoreAPI
CoreAPI		bin/db_archive.exe		/bin/	db_arc~1.exe
CoreAPI		bin/db_checkpoint.exe		/bin/	db_che~1.exe
CoreAPI		bin/db_deadlock.exe		/bin/	db_dea~1.exe
CoreAPI		bin/db_dump.exe			/bin/	db_dump.exe
CoreAPI		bin/db_hotbackup.exe		/bin/	db_hot~1.exe
CoreAPI		bin/db_load.exe			/bin/	db_load.exe
CoreAPI		bin/db_printlog.exe		/bin/	db_pri~1.exe
CoreAPI		bin/db_recover.exe		/bin/	db_rec~1.exe
CoreAPI		bin/db_stat.exe			/bin/	db_sta~1.exe
CoreAPI		bin/db_upgrade.exe		/bin/	db_upg~1.exe
CoreAPI		bin/db_verify.exe		/bin/	db_ver~1.exe
CoreAPI		bin/dbxml_dump.exe		/bin/	xml_dump.exe
CoreAPI		bin/dbxml_load.exe		/bin/	xml_load.exe
CoreAPI		bin/dbxml_load_container.exe	/bin/	load_~1.exe
CoreAPI		bin/dbxml.exe			/bin/	dbxml.exe
CoreAPI		bin/xqilla.exe			/bin/	xqilla.exe

DCoreAPI	bin/debug/dbxml.exe		/bin/debug/	dbxml.exe
DCoreAPI	bin/debug/dbxml_shell.pdb	/bin/debug/	dbxml.pdb
DCoreAPI	bin/debug/xqilla.exe		/bin/debug/	xqilla.exe
DCoreAPI	bin/debug/xqilla_cmd.pdb	/bin/debug/	xqilla~1.pdb

# The xmlData is moved to CoreAPI because it is useful for many components
CoreAPI		${PRODUCT_STAGE}/Sources/dbxml/examples/xmlData/	/dbxml/examples/xmlData/

# Python
Python		python/bsddb3-4.5.0.win32-py2.4.exe	/python/
Python		python/dbxml-2.3.10.win32-py2.4.exe	/python/

# Perl
#Perl	perl/	/perl/
#Perl	perl/	/perl/

# Examples needs a file to install to prevent selection choices in the UI.
Examples	${PRODUCT_STAGE}/dbvars.bat		/

CoreEx		bin/dbxml_ex*.exe		/bin/
CoreEx		bin/hello*.exe			/bin/
DCoreEx		bin/debug/dbxml_ex*.exe		/bin/debug/
CoreEx		bin/debug/hello*.exe		/bin/debug/
DCoreEx		bin/debug/dbxml_example_*.pdb	/bin/debug/

CoreEx		${PRODUCT_STAGE}/Sources/dbxml/examples/cxx/	/dbxml/examples/cxx/
DCoreEx		${PRODUCT_STAGE}/Sources/dbxml/examples/cxx/	/dbxml/examples/cxx/

# See s_winmsi. This script removes some files from build_windows that are
# not needed. This simplifies the copy to a single line
CoreEx		${PRODUCT_STAGE}/Sources/dbxml/build_windows/	/dbxml/build_windows/
DCoreEx		${PRODUCT_STAGE}/Sources/dbxml/build_windows/	/dbxml/build_windows/

Docs		${PRODUCT_STAGE}/docs/		/dbxml/docs/

Src		${PRODUCT_STAGE}/Sources/buildall.sh		/
SrcDbxml	${PRODUCT_STAGE}/Sources/dbxml/			/dbxml/
SrcDb		${PRODUCT_STAGE}/Sources/db-4.5.20/		/db-4.5.20/
SrcXerces	${PRODUCT_STAGE}/Sources/xerces-c-src/		/xerces-c-src/
SrcXqilla	${PRODUCT_STAGE}/Sources/xqilla/		/xqilla/

