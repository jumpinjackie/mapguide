Scriptaculous is used as is.  The included prototype is used with the following modifications:

version 1.5_pre1

line 672: change

|| Prototype.emptyFunction)(transport, json);

to

|| Prototype.emptyFunction)(transport, json,this);

line 722: change 

(this.options['on' + event] || Prototype.emptyFunction)(transport, json);

to

(this.options['on' + event] || Prototype.emptyFunction)(transport, json, this);


version 1.4.0

line 720: change

|| Prototype.emptyFunction)(transport, json);

to

|| Prototype.emptyFunction)(transport, json, this);


line 730: change

(this.options['on' + event] || Prototype.emptyFunction)(transport, json);

to

(this.options['on' + event] || Prototype.emptyFunction)(transport, json, this);
