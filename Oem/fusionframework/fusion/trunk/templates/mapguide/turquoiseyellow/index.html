<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>TurquoiseYellow</title>
<meta http-equiv="Content-type" content="text/html; charset=UTF-8">

<script type="text/javascript" src="../../../lib/fusion.js"></script>
<script type="text/javascript">

var tab1;
var tab2;
var tab3;
var tabbox1;

window.onload = function() {
    Fusion.initializeLocale();  //need to call this first if String.Translate is to be used in the onload

    var main = new Jx.Layout('AppContainer', {left: 0, right: 0, top: null, bottom: null});
    new Jx.Layout('FileMenu', {height: 20, left: 220, right: 10, top: 10, bottom: null});
    new Jx.Layout('SplitterArea', {left: 3, right: 3, top: 34, bottom: 24});
    new Jx.Layout('Toolbar', {height: 25, left: 0, right: 0, top: 0, bottom: null});
    new Jx.Layout('ToolbarVertical', {width: 25, left: 1, top: 29, bottom: 1});
    new Jx.Layout('StatusbarContainer', {height: 21, left: 0, right: 0, top: null, bottom: 0});
    new Jx.Layout('Statusbar', {height: 21, left: 0, right: 159, top: null, bottom: 0});
    new Jx.Layout('Map', {left: 0, right: 0, top: 28, bottom: 0});

    var splitter = new Jx.Splitter('SplitterArea',
                                   {splitInto:2,
                                   elements:[$('Left'),$('Main')],
                                   layout:'horizontal',
                                   containerOptions: [{width: 214}],
                                   snappers: [$('SidebarCollapse'),null]});

    var splitter2 = new Jx.Splitter('Left',
                                   {splitInto:2,
                                   elements:[$('Top'),$('Bottom')],
                                   layout:'vertical',
                                   containerOptions: [{},{height: 214}]});

    tabbox1 = new Jx.TabBox('Top');

    tab1 = new Jx.Tab(OpenLayers.String.translate('taskPaneTitle'));
    tab1.content.id = 'TaskPane';
    tab2 = new Jx.Tab(OpenLayers.String.translate('legendTitle'));
    tab2.content.id = 'LegendContainer';
    var l = document.createElement('div');
    l.id = 'Legend';
    tab2.content.appendChild(l);
    tab3 = new Jx.Tab(OpenLayers.String.translate('selectionPanelTitle'));
    tab3.content.id = 'SelectionPanel';

    tabbox1.add(tab1, tab2, tab3);

    var tabbox2 = new Jx.TabBox('Bottom');

    var tab4 = new Jx.Tab(OpenLayers.String.translate('ovmapTitle'));
    tab4.content.id = 'OverviewMap';

    tabbox2.add(tab4);
    
    /* this is needed to properly size the task pane right now */
    new Jx.Layout('TaskPane');
    
    main.resize();

    Fusion.registerForEvent(Fusion.Event.FUSION_INITIALIZED, fusionInitialized);
    Fusion.registerForEvent(Fusion.Event.FUSION_ERROR, fusionError);
    Fusion.initialize();
    

}

var fusionError = function(eventId, error) {
    alert('Fusion Error: \n' + error.toString());
    //console.log('Fusion Error: \n' + error.toString());
}

var fusionInitialized = function() {
    $('AppContainer').resize();
}

var showOverviewMap = function() {
}

var showTaskPane = function() {
  tabbox1.tabSet.setActiveTab(tab1);
}

var showLegend = function() {
  tabbox1.tabSet.setActiveTab(tab2);
}

var showSelectionPanel = function() {
  tabbox1.tabSet.setActiveTab(tab3);
}

</script>

<style type="text/css">
  @import url(css/jxskin-border.css);
  @import url(css/turquoiseyellow.css);

</style>

</head>

<body>

<!--
  Start App Container
  Wraps entire application
-->
<div id="AppContainer">

  <!-- FileMenu -->
  <div id="FileMenu"></div>
  <!-- /FileMenu -->
  <!-- Splitter Area -->
  <div id="SplitterArea">
    <!-- Left Sidebar -->
    <div id="Left">
      <div id="Top"></div>
      <div id="Bottom"></div>
    </div>
    <!-- /Left Sidebar -->

    <div id="Main">

      <div id="Toolbar"></div>

      <!-- Vertical Toolbars -->
      <div id="ToolbarVertical"></div>

      <!-- The Map -->
      <div id="Map">
        <div id="Navigator"></div>
      </div>

    </div>
    <!-- /Main -->
  </div>
  <!-- /Splitter Area -->

  
  <div id="StatusbarContainer">
    <div id="Statusbar"></div>
    <div id="pbmg"><img src="images/pbmg.gif" alt=""></div>
  </div>

</div>
<div id="Maptip"></div>


</body>
</html>
