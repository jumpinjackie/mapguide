BEGIN TRANSACTION;
CREATE TABLE HttpTestResults (Description TEXT, ParamSet INTEGER, ContentType TEXT, Result BLOB);
CREATE TABLE Params(ParamSet INTEGER, ParamName TEXT, ParamValue TEXT);
INSERT INTO "Params" VALUES(1003, 'OPERATION', 'SETRESOURCE');
INSERT INTO "Params" VALUES(1, 'OPERATION', 'GETMAPEXTENT');
INSERT INTO "Params" VALUES(2, 'OPERATION', 'GETCOORDINATESYSTEM');
INSERT INTO "Params" VALUES(3, 'OPERATION', 'GETMAPNAME');
INSERT INTO "Params" VALUES(4, 'OPERATION', 'GETLAYERS');
INSERT INTO "Params" VALUES(5, 'OPERATION', 'GETGROUPS');
INSERT INTO "Params" VALUES(6, 'OPERATION', 'GETLAYERVISIBILITY');
INSERT INTO "Params" VALUES(6, 'LAYERNAME', 'Countries');
INSERT INTO "Params" VALUES(7, 'OPERATION', 'GETDISPLAYINLEGEND');
INSERT INTO "Params" VALUES(7, 'LAYERNAME', 'Countries');
INSERT INTO "Params" VALUES(8, 'OPERATION', 'GETLAYERDEFINITION');
INSERT INTO "Params" VALUES(8, 'LAYERNAME', 'Countries');
INSERT INTO "Params" VALUES(9, 'OPERATION', 'ISLAYERVISIBLE');
INSERT INTO "Params" VALUES(9, 'LAYERNAME', 'Countries');
INSERT INTO "Params" VALUES(10, 'OPERATION', 'ADDLAYERGROUP');
INSERT INTO "Params" VALUES(10, 'GROUPNAME', 'Cities group');
INSERT INTO "Params" VALUES(10, 'PARENTGROUPNAME', 'Countries Top group');
INSERT INTO "Params" VALUES(11, 'OPERATION', 'ADDLAYER');
INSERT INTO "Params" VALUES(11, 'LAYERDEFINITION', 'Library://maplayertest/Cities.LayerDefinition');
INSERT INTO "Params" VALUES(11, 'GROUPNAME', 'Cities group');
INSERT INTO "Params" VALUES(12, 'OPERATION', 'HIDEGROUP');
INSERT INTO "Params" VALUES(12, 'GROUPNAME', 'Countries Top group');
INSERT INTO "Params" VALUES(13, 'OPERATION', 'ISLAYERVISIBLE');
INSERT INTO "Params" VALUES(13, 'LAYERNAME', 'Countries');
INSERT INTO "Params" VALUES(14, 'OPERATION', 'SHOWGROUP');
INSERT INTO "Params" VALUES(14, 'GROUPNAME', 'Countries Top group');
INSERT INTO "Params" VALUES(15, 'OPERATION', 'GETVIEWCENTER');
INSERT INTO "Params" VALUES(17, 'OPERATION', 'GETDATAEXTENT');
INSERT INTO "Params" VALUES(1003, 'CONTENT', '..\..\TestData\MapLayer\World.MapDefinition');
INSERT INTO "Params" VALUES(1003, 'RESOURCEID', 'Library://maplayertest/World.MapDefinition');
INSERT INTO "Params" VALUES(1000, 'OPERATION', 'DELETERESOURCE');
INSERT INTO "Params" VALUES(1000, 'RESOURCEID', 'Library://maplayertest/World.MapDefinition');
INSERT INTO "Params" VALUES(18, 'OPERATION', 'GETLEGENDLABEL');
INSERT INTO "Params" VALUES(18, 'LAYERNAME', 'Countries');
INSERT INTO "Params" VALUES(30, 'OPERATION', 'REMOVEGROUP');
INSERT INTO "Params" VALUES(30, 'GROUPNAME', 'Countries Top group');
INSERT INTO "Params" VALUES(31, 'OPERATION', 'LAYEREXISTS');
INSERT INTO "Params" VALUES(31, 'LAYERNAME', 'Countries');
INSERT INTO "Params" VALUES(1000, 'ALWAYSPASS', 'Clean up');
INSERT INTO "Params" VALUES(1001, 'OPERATION', 'DELETERESOURCE');
INSERT INTO "Params" VALUES(1001, 'RESOURCEID', 'Library://maplayertest/World countries.LayerDefinition');
INSERT INTO "Params" VALUES(1001, 'ALWAYSPASS', 'Clean up');
INSERT INTO "Params" VALUES(1002, 'OPERATION', 'DELETERESOURCE');
INSERT INTO "Params" VALUES(1002, 'RESOURCEID', 'Library://maplayertest/Cities.LayerDefinition');
INSERT INTO "Params" VALUES(1003, 'HEADER', '');
INSERT INTO "Params" VALUES(1002, 'ALWAYSPASS', 'Cleanup');
INSERT INTO "Params" VALUES(1004, 'OPERATION', 'SETRESOURCE');
INSERT INTO "Params" VALUES(1004, 'RESOURCEID', 'Library://maplayertest/World countries.LayerDefinition');
INSERT INTO "Params" VALUES(1004, 'CONTENT', '..\..\TestData\MapLayer\World countries.LayerDefinition');
INSERT INTO "Params" VALUES(1004, 'HEADER', '');
INSERT INTO "Params" VALUES(1005, 'OPERATION', 'SETRESOURCE');
INSERT INTO "Params" VALUES(1005, 'RESOURCEID', 'Library://maplayertest/Cities.LayerDefinition');
INSERT INTO "Params" VALUES(1005, 'CONTENT', '..\..\TestData\MapLayer\Cities.LayerDefinition');
INSERT INTO "Params" VALUES(1005, 'HEADER', '');
INSERT INTO "Params" VALUES(19, 'OPERATION', 'GETLAYERFEATURESOURCE');
INSERT INTO "Params" VALUES(19, 'LAYERNAME', 'Countries');
INSERT INTO "Params" VALUES(20, 'OPERATION', 'GETLAYERFEATURECLASS');
INSERT INTO "Params" VALUES(1007, 'LAYERNAME', 'Countries');
INSERT INTO "Params" VALUES(20, 'LAYERNAME', 'Countries');
CREATE TABLE CommonParams (ParamName text, ParamValue text);
INSERT INTO "CommonParams" VALUES('VERSION', '1.0.0');
INSERT INTO "CommonParams" VALUES('CREDENTIALS', 'qwerty');
INSERT INTO "CommonParams" VALUES('LOCALE', 'en');
CREATE TABLE ApiTestResults (Description TEXT, ParamSet INTEGER, ContentType TEXT, Result TEXT);
INSERT INTO "ApiTestResults" VALUES('Get map extent', 1, 'text/plain', '(-180:-90)-(180:90)');
INSERT INTO "ApiTestResults" VALUES('Get coordinate system', 2, 'text/plain', 'GEOGCS["LL84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.25722293287],TOWGS84[0,0,0,0,0,0,0]],PRIMEM["Greenwich",0],UNIT["Degrees",1]]');
INSERT INTO "ApiTestResults" VALUES('Get map name', 3, 'text/plain', 'World');
INSERT INTO "ApiTestResults" VALUES('Get layers', 4, 'text/plain', 'Countries');
INSERT INTO "ApiTestResults" VALUES('Get groups', 5, 'text/plain', 'Countries Top group/Countries Inner group');
INSERT INTO "ApiTestResults" VALUES('Get layer visibility', 6, 'text/plain', 'True');
INSERT INTO "ApiTestResults" VALUES('Get layer display in legend', 7, 'text/plain', 'True');
INSERT INTO "ApiTestResults" VALUES('Get layer definition', 8, 'text/plain', 'Library://maplayertest/World countries.LayerDefinition');
INSERT INTO "ApiTestResults" VALUES('Is layer visible', 9, 'text/plain', 'True');
INSERT INTO "ApiTestResults" VALUES('Add group', 10, 'text/plain', '3');
INSERT INTO "ApiTestResults" VALUES('Add layer', 11, 'text/plain', '2');
INSERT INTO "ApiTestResults" VALUES('Hide group', 12, 'text/plain', 'False');
INSERT INTO "ApiTestResults" VALUES('Is new layer visible', 13, 'text/plain', 'False');
INSERT INTO "ApiTestResults" VALUES('Show group', 14, 'text/plain', 'True');
INSERT INTO "ApiTestResults" VALUES('Is new layer visible', 13, 'text/plain', 'False');
INSERT INTO "ApiTestResults" VALUES('Get view center', 15, 'text/plain', '(0:0)');
INSERT INTO "ApiTestResults" VALUES('Get data extent', 17, 'text/plain', '');
INSERT INTO "ApiTestResults" VALUES('Get legend label', 18, 'text/plain', 'New Layer');
INSERT INTO "ApiTestResults" VALUES('Remove group', 30, 'text/plain', '');
INSERT INTO "ApiTestResults" VALUES('Check layer existence', 31, 'text/plain', 'False');
INSERT INTO "ApiTestResults" VALUES('', 1000, '', '');
INSERT INTO "ApiTestResults" VALUES('', 1001, '', '');
INSERT INTO "ApiTestResults" VALUES('Check feature source id', 19, 'text/plain', 'Library://data sources/world countries.FeatureSource');
INSERT INTO "ApiTestResults" VALUES('Check feature class name', 20, 'text/plain', X'5348505F536368656D613A576F726C645F436F756E7472696573');
CREATE TABLE TestCase (ExecuteSequence INTEGER, TestName TEXT, ParamSets TEXT, Description TEXT, TestType TEXT, Prerequisite TEXT);
INSERT INTO "TestCase" VALUES(1, 'MapLayer_LoadMapDefinition', '1000,1001,1002,1003,1004,1005', 'Load the map definition in the resource repository', 'Api', 'None');
INSERT INTO "TestCase" VALUES(2, 'MapLayer_AllTests', '1,2,3,4,5,6,7,8,18,9,10,11,12,13,14,15,19,20,30,31,', 'Runs all tests in Params table', 'Api', 'Run MapLayer:LoadMapDefinition test first');
COMMIT;
